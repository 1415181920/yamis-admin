import{e as hq,w as bq,R as kW,ah as yq,ai as vq,H as kq,h as QZ}from"./index-3c21212b.js";var eq={exports:{}};(function(es){(function(){var Do=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},So=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Ln=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},uo=function(e,n){return ho(function(o,r){return e.eq(n(o),n(r))})},ho=function(e){return{eq:e}},Fn=ho(function(e,n){return e===n}),nt=Fn,pn=function(e){return ho(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},vn=function(e,n){return uo(pn(e),function(o){return Ln(o,n)})},En=function(e){return ho(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!vn(nt).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var b=r[m];if(!e.eq(n[b],o[b]))return!1}return!0})},_o=ho(function(e,n){if(e===n)return!0;var o=Do(e),r=Do(n);return o!==r?!1:So(o)?e===n:o==="array"?pn(_o).eq(e,n):o==="object"?En(_o).eq(e,n):!1});const cn=Object.getPrototypeOf,jt=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},It=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&jt(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},tn=e=>n=>It(n)===e,ot=e=>n=>typeof n===e,Ot=e=>n=>e===n,xt=(e,n)=>dt(e)&&jt(e,n,(o,r)=>cn(o)===r),j=tn("string"),dt=tn("object"),Mo=e=>xt(e,Object),gt=tn("array"),U=Ot(null),at=ot("boolean"),bn=Ot(void 0),Zt=e=>e==null,Pe=e=>!Zt(e),ie=ot("function"),Ro=ot("number"),Ce=(e,n)=>{if(gt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Oe=()=>{},T=(e,n)=>(...o)=>e(n.apply(null,o)),un=(e,n)=>o=>e(n(o)),st=e=>()=>e,Bn=e=>e,Yt=(e,n)=>e===n;function Xe(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const fo=e=>n=>!e(n),Zo=e=>()=>{throw new Error(e)},wt=e=>e(),fn=e=>{e()},De=st(!1),lt=st(!0);class F{constructor(n,o){this.tag=n,this.value=o}static some(n){return new F(!0,n)}static none(){return F.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?F.some(n(this.value)):F.none()}bind(n){return this.tag?n(this.value):F.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:F.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Pe(n)?F.some(n):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const qo=Array.prototype.slice,Qn=Array.prototype.indexOf,ft=Array.prototype.push,mt=(e,n)=>Qn.call(e,n),on=(e,n)=>{const o=mt(e,n);return o===-1?F.none():F.some(o)},X=(e,n)=>mt(e,n)>-1,be=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},ve=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const u=e[c];r[c]=n(u,c)}return r},ae=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},Me=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Fe=(e,n)=>{const o=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(n(m,c)?o:r).push(m)}return{pass:o,fail:r}},qe=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];n(u,r)&&o.push(u)}return o},Ue=(e,n,o)=>(Me(e,(r,c)=>{o=n(o,r,c)}),o),Q=(e,n,o)=>(ae(e,(r,c)=>{o=n(o,r,c)}),o),Se=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(n(u,r))return F.some(u);if(o(u,r))break}return F.none()},Ie=(e,n)=>Se(e,n,De),zt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return F.some(o)}return F.none()},$n=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!gt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);ft.apply(n,e[o])}return n},Dn=(e,n)=>$n(ve(e,n)),Rn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},An=e=>{const n=qo.call(e,0);return n.reverse(),n},Po=(e,n)=>qe(e,o=>!X(n,o)),qn=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const u=e[r];o[String(u)]=n(u,r)}return o},Gn=(e,n)=>{const o=qo.call(e,0);return o.sort(n),o},to=(e,n)=>n>=0&&n<e.length?F.some(e[n]):F.none(),mn=e=>to(e,0),bo=e=>to(e,e.length-1),as=ie(Array.from)?Array.from:e=>qo.call(e),Rs=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return F.none()},Ts=(e,n)=>{const o=[],r=ie(n)?c=>be(o,u=>n(u,c)):c=>X(o,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||o.push(m)}return o},Yo=Object.keys,oa=Object.hasOwnProperty,Tt=(e,n)=>{const o=Yo(e);for(let r=0,c=o.length;r<c;r++){const u=o[r],m=e[u];n(m,u)}},Lo=(e,n)=>kr(e,(o,r)=>({k:r,v:n(o,r)})),kr=(e,n)=>{const o={};return Tt(e,(r,c)=>{const u=n(r,c);o[u.k]=u.v}),o},Vr=e=>(n,o)=>{e[o]=n},qr=(e,n,o,r)=>{Tt(e,(c,u)=>{(n(c,u)?o:r)(c,u)})},Xr=(e,n)=>{const o={},r={};return qr(e,n,Vr(o),Vr(r)),{t:o,f:r}},_s=(e,n)=>{const o={};return qr(e,n,Vr(o),Oe),o},ia=(e,n)=>{const o=[];return Tt(e,(r,c)=>{o.push(n(r,c))}),o},Ur=e=>ia(e,Bn),Cs=(e,n)=>Kn(e,n)?F.from(e[n]):F.none(),Kn=(e,n)=>oa.call(e,n),ar=(e,n)=>Kn(e,n)&&e[n]!==void 0&&e[n]!==null,Ee=(e,n,o=_o)=>En(o).eq(e,n),Ge=e=>{const n={};return ae(e,o=>{n[o]={}}),Yo(n)},Wt=e=>e.length!==void 0,kn=Array.isArray,Eo=e=>{if(kn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Xo=(e,n,o)=>{if(!e)return!1;if(o=o||e,Wt(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Kn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},wr=(e,n)=>{const o=[];return Xo(e,(r,c)=>{o.push(n(r,c,e))}),o},Gs=(e,n)=>{const o=[];return Xo(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},cr=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},de=(e,n,o,r)=>{let c=bn(o)?e[0]:o;for(let u=0;u<e.length;u++)c=n.call(r,c,e[u],u);return c},re=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},We=e=>e[e.length-1],Ye=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Sn=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),b=m||r("(pointer:coarse)"),k=c||!u&&m&&r("(min-device-width:768px)"),E=u||m&&!k,D=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,N=!E&&!k&&!D;return{isiPad:st(c),isiPhone:st(u),isTablet:st(k),isPhone:st(E),isTouch:st(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:st(D),isDesktop:st(N)}},Yn=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},xo=(e,n)=>{const o=Yn(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return mo(r(1),r(2))},Ks=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?ke():xo(e,o)},ke=()=>mo(0,0),mo=(e,n)=>({major:e,minor:n}),fe={nu:mo,detect:Ks,unknown:ke},ge=(e,n)=>Rs(n.brands,o=>{const r=o.brand.toLowerCase();return Ie(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:fe.nu(parseInt(o.version,10),0)}))}),yt=(e,n)=>{const o=String(n).toLowerCase();return Ie(e,r=>r.search(o))},_t=(e,n)=>yt(e,n).map(o=>{const r=fe.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Xt=(e,n)=>yt(e,n).map(o=>{const r=fe.detect(o.versionRegexes,n);return{current:o.name,version:r}}),xn=(e,n)=>e.substring(n),_n=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,wn=(e,n)=>no(e,n)?xn(e,n.length):e,On=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?bn(r)?!0:c+n.length<=r:!1},no=(e,n)=>_n(e,n,0),ds=(e,n)=>_n(e,n,e.length-n.length),Hs=e=>n=>n.replace(e,""),va=Hs(/^\s+|\s+$/g),Gr=Hs(/^\s+/g),oc=Hs(/\s+$/g),yo=e=>e.length>0,os=e=>!yo(e),Us=(e,n)=>n<=0?"":new Array(n+1).join(e),ka=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?F.none():F.some(o)},la=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Jr=e=>n=>On(n,e),js=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>On(e,"edge/")&&On(e,"chrome")&&On(e,"safari")&&On(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,la],search:e=>On(e,"chrome")&&!On(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>On(e,"msie")||On(e,"trident")},{name:"Opera",versionRegexes:[la,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Jr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Jr("firefox")},{name:"Safari",versionRegexes:[la,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(On(e,"safari")||On(e,"mobile/"))&&On(e,"applewebkit")}],du=[{name:"Windows",search:Jr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>On(e,"iphone")||On(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Jr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Jr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Jr("linux"),versionRegexes:[]},{name:"Solaris",search:Jr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Jr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Jr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],mi={browsers:st(js),oses:st(du)},fs="Edge",Oa="Chromium",za="IE",Mr="Opera",Ki="Firefox",sc="Safari",Da=()=>Sc({current:void 0,version:fe.unknown()}),Sc=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(fs),isChromium:r(Oa),isIE:r(za),isOpera:r(Mr),isFirefox:r(Ki),isSafari:r(sc)}},xc={unknown:Da,nu:Sc,edge:st(fs),chromium:st(Oa),ie:st(za),opera:st(Mr),firefox:st(Ki),safari:st(sc)},Ic="Windows",Ni="iOS",Yi="Android",qa="Linux",Kc="macOS",gi="Solaris",Xi="FreeBSD",pi="ChromeOS",Z=()=>pe({current:void 0,version:fe.unknown()}),pe=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r(Ic),isiOS:r(Ni),isAndroid:r(Yi),isMacOS:r(Kc),isLinux:r(qa),isSolaris:r(gi),isFreeBSD:r(Xi),isChromeOS:r(pi)}},Ae={unknown:Z,nu:pe,windows:st(Ic),ios:st(Ni),android:st(Yi),linux:st(qa),macos:st(Kc),solaris:st(gi),freebsd:st(Xi),chromeos:st(pi)},Rt={detect:(e,n,o)=>{const r=mi.browsers(),c=mi.oses(),u=n.bind(k=>ge(r,k)).orThunk(()=>_t(r,e)).fold(xc.unknown,xc.nu),m=Xt(c,e).fold(Ae.unknown,Ae.nu),b=Sn(m,u,e,o);return{browser:u,os:m,deviceType:b}}},eo=e=>window.matchMedia(e).matches;let ps=Ye(()=>Rt.detect(navigator.userAgent,F.from(navigator.userAgentData),eo));const Ys=()=>ps(),$s=navigator.userAgent,hr=Ys(),cs=hr.browser,_r=hr.os,Yc=hr.deviceType,hi=$s.indexOf("Windows Phone")!==-1,nn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:cs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!cs.isIE(),windowsPhone:hi,browser:{current:cs.current,version:cs.version,isChromium:cs.isChromium,isEdge:cs.isEdge,isFirefox:cs.isFirefox,isIE:cs.isIE,isOpera:cs.isOpera,isSafari:cs.isSafari},os:{current:_r.current,version:_r.version,isAndroid:_r.isAndroid,isChromeOS:_r.isChromeOS,isFreeBSD:_r.isFreeBSD,isiOS:_r.isiOS,isLinux:_r.isLinux,isMacOS:_r.isMacOS,isSolaris:_r.isSolaris,isWindows:_r.isWindows},deviceType:{isDesktop:Yc.isDesktop,isiPad:Yc.isiPad,isiPhone:Yc.isiPhone,isPhone:Yc.isPhone,isTablet:Yc.isTablet,isTouch:Yc.isTouch,isWebView:Yc.isWebView}},fu=/^\s*|\s*$/g,br=e=>Zt(e)?"":(""+e).replace(fu,""),B=(e,n)=>n?n==="array"&&kn(e)?!0:typeof e===n:e!==void 0,Y=(e,n,o={})=>{const r=j(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},se=Kn,Ke=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(Kn(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},en=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Xo(e,(c,u)=>n.call(r,c,u,o)===!1?!1:(en(c,n,o,r),!0)))},Et={trim:br,isArray:kn,is:B,toArray:Eo,makeMap:Y,each:Xo,map:wr,grep:Gs,inArray:cr,hasOwn:se,extend:Ke,walk:en,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>gt(e)?e:e===""?[]:wr(e.split(n||","),br),_addCacheSuffix:e=>{const n=nn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ws=(e,n,o=Yt)=>e.exists(r=>o(r,n)),Ga=(e,n,o=Yt)=>sa(e,n,o).getOr(e.isNone()&&n.isNone()),zr=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},sa=(e,n,o)=>e.isSome()&&n.isSome()?F.some(o(e.getOrDie(),n.getOrDie())):F.none(),Mi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?F.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):F.none(),q=(e,n)=>e?F.some(n):F.none(),ue=typeof window<"u"?window:Function("return this;")(),Be=(e,n)=>{let o=n??ue;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},ht=(e,n)=>{const o=e.split(".");return Be(o,n)},ln=(e,n)=>ht(e,n),Jo=(e,n)=>{const o=ln(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Cr=Object.getPrototypeOf,wa=e=>Jo("HTMLElement",e),ts=e=>{const n=ht("ownerDocument.defaultView",e);return dt(e)&&(wa(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Cr(e).constructor.name))},Kr=8,Br=9,ra=11,Ka=1,$l=3,Xs=e=>e.dom.nodeName.toLowerCase(),or=e=>e.dom.nodeType,Ra=e=>n=>or(n)===e,ep=e=>or(e)===Kr||Xs(e)==="#comment",Pr=e=>rc(e)&&ts(e.dom),rc=Ra(Ka),Ya=Ra($l),tp=Ra(Br),Vm=Ra(ra),Ji=e=>n=>rc(n)&&Xs(n)===e,md=(e,n,o)=>{if(j(o)||at(o)||Ro(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},ir=(e,n,o)=>{md(e.dom,n,o)},bi=(e,n)=>{const o=e.dom;Tt(n,(r,c)=>{md(o,c,r)})},Fa=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},hl=(e,n)=>F.from(Fa(e,n)),aa=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Yr=(e,n)=>{e.dom.removeAttribute(n)},Bi=e=>{const n=e.dom.attributes;return n==null||n.length===0},gd=e=>Q(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Pi=(e,n)=>{const o=Fa(e,n);return o===void 0||o===""?[]:o.split(" ")},mu=(e,n,o)=>{const c=Pi(e,n).concat([o]);return ir(e,n,c.join(" ")),!0},Il=(e,n,o)=>{const r=qe(Pi(e,n),c=>c!==o);return r.length>0?ir(e,n,r.join(" ")):Yr(e,n),!1},Na=e=>e.dom.classList!==void 0,tf=e=>Pi(e,"class"),bc=(e,n)=>mu(e,"class",n),bl=(e,n)=>Il(e,"class",n),yl=(e,n)=>X(tf(e),n)?bl(e,n):bc(e,n),Lu=(e,n)=>{Na(e)?e.dom.classList.add(n):bc(e,n)},gu=e=>{(Na(e)?e.dom.classList:tf(e)).length===0&&Yr(e,"class")},Ll=(e,n)=>{Na(e)?e.dom.classList.remove(n):bl(e,n),gu(e)},Um=(e,n)=>{const o=Na(e)?e.dom.classList.toggle(n):yl(e,n);return gu(e),o},Hl=(e,n)=>Na(e)&&e.dom.classList.contains(n),jm=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Hu(r.childNodes[0])},nf=(e,n)=>{const r=(n||document).createElement(e);return Hu(r)},Wm=(e,n)=>{const r=(n||document).createTextNode(e);return Hu(r)},Hu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},le={fromHtml:jm,fromTag:nf,fromText:Wm,fromDom:Hu,fromPoint:(e,n,o)=>F.from(e.dom.elementFromPoint(n,o)).map(Hu)},pu=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let c=n(e);do c=c.bind(r);while(c.isSome());return o},Fi=(e,n)=>{const o=e.dom;if(o.nodeType!==Ka)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},em=e=>e.nodeType!==Ka&&e.nodeType!==Br&&e.nodeType!==ra||e.childElementCount===0,yy=(e,n)=>{const o=n===void 0?document:n.dom;return em(o)?[]:ve(o.querySelectorAll(e),le.fromDom)},op=(e,n)=>{const o=n===void 0?document:n.dom;return em(o)?F.none():F.from(o.querySelector(e)).map(le.fromDom)},Ns=(e,n)=>e.dom===n.dom,$a=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Qi=e=>le.fromDom(e.dom.ownerDocument),yi=e=>tp(e)?e:Qi(e),tm=e=>le.fromDom(yi(e).dom.documentElement),hu=e=>le.fromDom(yi(e).dom.defaultView),Lc=e=>F.from(e.dom.parentNode).map(le.fromDom),pd=e=>F.from(e.dom.parentElement).map(le.fromDom),Zm=(e,n)=>{const o=ie(n)?n:De;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=le.fromDom(u);if(c.push(m),o(m)===!0)break;r=u}return c},qm=e=>{const n=o=>qe(o,r=>!Ns(e,r));return Lc(e).map(Ia).map(n).getOr([])},vi=e=>F.from(e.dom.previousSibling).map(le.fromDom),of=e=>F.from(e.dom.nextSibling).map(le.fromDom),Gm=e=>An(pu(e,vi)),Xc=e=>pu(e,of),Ia=e=>ve(e.dom.childNodes,le.fromDom),bu=(e,n)=>{const o=e.dom.childNodes;return F.from(o[n]).map(le.fromDom)},hd=e=>bu(e,0),ki=e=>bu(e,e.dom.childNodes.length-1),Hc=e=>e.dom.childNodes.length,sf=e=>e.dom.hasChildNodes(),sp=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return le.fromDom(n)},rf=e=>Vm(e)&&Pe(e.dom.host),Km=ie(Element.prototype.attachShadow)&&ie(Node.prototype.getRootNode),af=st(Km),$i=Km?e=>le.fromDom(e.dom.getRootNode()):yi,rp=e=>rf(e)?e:sp(yi(e)),vy=e=>rf(e)?e:le.fromDom(yi(e).dom.body),ap=e=>{const n=$i(e);return rf(n)?F.some(n):F.none()},Ym=e=>le.fromDom(e.dom.host),cf=e=>{if(af()&&Pe(e.target)){const n=le.fromDom(e.target);if(rc(n)&&nm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return mn(o)}}return F.from(e.target)},nm=e=>Pe(e.dom.shadowRoot),bd=e=>{const n=Ya(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return ap(le.fromDom(n)).fold(()=>o.body.contains(n),un(bd,Ym))};var yr=(e,n,o,r,c)=>e(o,r)?F.some(o):ie(c)&&c(o)?F.none():n(o,r,c);const Fr=(e,n,o)=>{let r=e.dom;const c=ie(o)?o:De;for(;r.parentNode;){r=r.parentNode;const u=le.fromDom(r);if(n(u))return F.some(u);if(c(u))break}return F.none()},Vc=(e,n,o)=>yr((c,u)=>u(c),Fr,e,n,o),Xm=(e,n)=>{const o=e.dom;return o.parentNode?Jm(le.fromDom(o.parentNode),r=>!Ns(e,r)&&n(r)):F.none()},Jm=(e,n)=>{const o=c=>n(le.fromDom(c));return Ie(e.dom.childNodes,o).map(le.fromDom)},Xa=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const u=le.fromDom(r.childNodes[c]);if(n(u))return F.some(u);const m=o(r.childNodes[c]);if(m.isSome())return m}return F.none()};return o(e.dom)},Vu=(e,n,o)=>Fr(e,r=>Fi(r,n),o),Tc=(e,n)=>op(n,e),vl=(e,n,o)=>yr((c,u)=>Fi(c,u),Vu,e,n,o),om=e=>vl(e,"[contenteditable]"),Fo=(e,n=!1)=>bd(e)?e.dom.isContentEditable:om(e).fold(st(n),o=>Uc(o)==="true"),Uc=e=>e.dom.contentEditable,yu=e=>e.style!==void 0&&ie(e.style.getPropertyValue),yd=(e,n,o)=>{if(!j(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);yu(e)&&e.style.setProperty(n,o)},Qm=(e,n)=>{yu(e)&&e.style.removeProperty(n)},x=(e,n,o)=>{const r=e.dom;yd(r,n,o)},R=(e,n)=>{const o=e.dom;Tt(n,(r,c)=>{yd(o,c,r)})},H=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!bd(e)?ce(o,n):c},ce=(e,n)=>yu(e)?e.style.getPropertyValue(n):"",me=(e,n)=>{const o=e.dom,r=ce(o,n);return F.from(r).filter(c=>c.length>0)},Dt=e=>{const n={},o=e.dom;if(yu(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},co=(e,n)=>{const o=e.dom;Qm(o,n),Ws(hl(e,"style").map(va),"")&&Yr(e,"style")},Nn=e=>e.dom.offsetWidth,Xn=(e,n)=>{Lc(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},io=(e,n)=>{of(e).fold(()=>{Lc(e).each(c=>{Vs(c,n)})},r=>{Xn(r,n)})},Sr=(e,n)=>{hd(e).fold(()=>{Vs(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Vs=(e,n)=>{e.dom.appendChild(n.dom)},Ii=(e,n)=>{Xn(e,n),Vs(n,e)},vd=(e,n)=>{ae(n,(o,r)=>{const c=r===0?e:n[r-1];io(c,o)})},sr=(e,n)=>{ae(n,o=>{Vs(e,o)})},vu=e=>{e.dom.textContent="",ae(Ia(e),n=>{Es(n)})},Es=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Jc=e=>{const n=Ia(e);n.length>0&&vd(e,n),Es(e)},lf=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ia(le.fromDom(r))},kd=e=>ve(e,le.fromDom),Qo=e=>e.dom.innerHTML,uf=(e,n)=>{const r=Qi(e).dom,c=le.fromDom(r.createDocumentFragment()),u=lf(n,r);sr(c,u),vu(e),Vs(e,c)},xh=e=>{const n=le.fromTag("div"),o=le.fromDom(e.dom.cloneNode(!0));return Vs(n,o),Qo(n)},Th=(e,n,o,r,c,u,m)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:u,raw:m}),y_=e=>{const n=le.fromDom(cf(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=T(r,o);return Th(n,e.clientX,e.clientY,o,r,c,e)},ky=(e,n)=>o=>{e(o)&&n(y_(o))},cp=(e,n,o,r,c)=>{const u=ky(o,r);return e.dom.addEventListener(n,u,c),{unbind:Xe(eg,e,n,u,c)}},Eh=(e,n,o,r)=>cp(e,n,o,r,!1),eg=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},df=(e,n)=>({left:e,top:n,translate:(r,c)=>df(e+r,n+c)}),sm=df,wy=e=>{const n=e.getBoundingClientRect();return sm(n.left,n.top)},kl=(e,n)=>e!==void 0?e:n!==void 0?n:0,Hv=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return sm(o.offsetLeft,o.offsetTop);const u=kl(r==null?void 0:r.pageYOffset,c.scrollTop),m=kl(r==null?void 0:r.pageXOffset,c.scrollLeft),b=kl(c.clientTop,o.clientTop),k=kl(c.clientLeft,o.clientLeft);return rm(e).translate(m-k,u-b)},rm=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?sm(r.offsetLeft,r.offsetTop):bd(e)?wy(n):sm(0,0)},el=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return sm(o,r)},Ah=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Oh=(e,n)=>{Ys().browser.isSafari()&&ie(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},zh=e=>{const n=e===void 0?window:e;return Ys().browser.isFirefox()?F.none():F.from(n.visualViewport)},ip=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Dh=e=>{const n=e===void 0?window:e,o=n.document,r=el(le.fromDom(o));return zh(n).fold(()=>{const c=n.document.documentElement,u=c.clientWidth,m=c.clientHeight;return ip(r.left,r.top,u,m)},c=>ip(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},Rh=(e,n)=>qe(Ia(e),n),Nh=(e,n)=>{let o=[];return ae(Ia(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Nh(r,n))}),o},La=(e,n)=>yy(n,e),Vv=(e,n,o)=>Vu(e,n,o).isSome();class vr{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Jn=e=>n=>!!n&&n.nodeType===e,ku=e=>!!e&&!Object.getPrototypeOf(e),gn=Jn(1),ff=e=>{const n=e.toLowerCase();return o=>Pe(o)&&o.nodeName.toLowerCase()===n},wl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return X(n,r)}return!1}},Uu=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(gn(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<o.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},Qc=e=>n=>gn(n)&&n.hasAttribute(e),am=(e,n)=>o=>gn(o)&&o.getAttribute(e)===n,wu=e=>gn(e)&&e.hasAttribute("data-mce-bogus"),Ja=e=>gn(e)&&e.getAttribute("data-mce-bogus")==="all",tl=e=>gn(e)&&e.tagName==="TABLE",tg=e=>n=>!!(gn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),lp=wl(["textarea","input"]),Bt=Jn(3),Mh=Jn(4),mf=Jn(7),ju=Jn(8),_l=Jn(9),up=Jn(11),Qr=ff("br"),jr=ff("img"),Qa=tg("true"),As=tg("false"),_u=wl(["td","th"]),ac=wl(["td","th","caption"]),Cl=wl(["video","audio","object","embed"]),cc=ff("li"),yc=ff("details"),dp=ff("summary"),vt="\uFEFF",fr=" ",Bh=e=>e===vt,ua=e=>e.replace(/\uFEFF/g,""),fp=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?F.from(u.dom.nodeValue):F.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(Ya,"text"),wi=e=>fp.get(e),_y=e=>fp.getOption(e),Wu=(e,n)=>fp.set(e,n),Cy=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Li=["td","th"],Is=["thead","tbody","tfoot"],Cu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],gf=["h1","h2","h3","h4","h5","h6"],vc=["li","dd","dt"],Ph=["ul","ol","dl"],pf=["pre","script","textarea","style"],Sy=["pre"].concat(gf),_a=e=>{let n;return o=>(n=n||qn(e,lt),Kn(n,Xs(o)))},Hi=_a(Cy),$e=e=>Xs(e)==="table",jc=e=>rc(e)&&!Hi(e),_i=e=>rc(e)&&Xs(e)==="br",Vi=_a(Cu),Ui=_a(Ph),Ca=_a(vc),Ha=_a(Is),cm=_a(Li),Ci=_a(pf),Fh=_a(Sy),po=e=>Fh(e)||jc(e),w=e=>{const n=[];let o=e.dom;for(;o;)n.push(le.fromDom(o)),o=o.lastChild;return n},S=e=>{const n=La(e,"br"),o=qe(w(e).slice(-1),_i);n.length===o.length&&ae(o,Es)},L=()=>{const e=le.fromTag("br");return ir(e,"data-mce-bogus","1"),e},G=e=>{vu(e),Vs(e,L())},we=e=>{ki(e).each(n=>{vi(n).each(o=>{Hi(e)&&_i(n)&&Hi(o)&&Es(n)})})},Qe=vt,Pt=Bh,qt=ua,vo=gn,Ao=Bt,xr=e=>(Ao(e)&&(e=e.parentNode),vo(e)&&e.hasAttribute("data-mce-caret")),ks=e=>Ao(e)&&Pt(e.data),Ps=e=>xr(e)||ks(e),ei=e=>e.firstChild!==e.lastChild||!Qr(e.firstChild),nl=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Qe),u=e.parentNode;if(n){const m=e.previousSibling;if(Ao(m)){if(Ps(m))return m;if(_d(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(Ao(m)){if(Ps(m))return m;if(hf(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},Sl=e=>{const n=e.container();return Bt(n)?n.data.charAt(e.offset())===Qe||e.isAtStart()&&ks(n.previousSibling):!1},Su=e=>{const n=e.container();return Bt(n)?n.data.charAt(e.offset()-1)===Qe||e.isAtEnd()&&ks(n.nextSibling):!1},Zu=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(L().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},hf=e=>Ao(e)&&e.data[0]===Qe,_d=e=>Ao(e)&&e.data[e.data.length-1]===Qe,bf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];wu(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},yf=e=>e&&e.hasAttribute("data-mce-caret")?(bf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,da=e=>xr(e.startContainer),ji=Qa,ng=As,vf=Qr,Ms=Bt,Zs=wl(["script","style","textarea"]),Va=wl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ti=wl(["table"]),$h=Ps,ic=e=>$h(e)?!1:Ms(e)?!Zs(e.parentNode):Va(e)||vf(e)||ti(e)||Cd(e),Ec=e=>gn(e)&&e.getAttribute("unselectable")==="true",Cd=e=>!Ec(e)&&ng(e),xu=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Cd(o))return!1;if(ji(o))return!0}return!0},hT=e=>Cd(e)?!Q(as(e.getElementsByTagName("*")),(n,o)=>n||ji(o),!1):!1,og=e=>Va(e)||hT(e),sg=(e,n)=>ic(e)&&xu(e,n),im=/^[ \t\r\n]*$/,lm=e=>im.test(e),mp=e=>{for(const n of e)if(!Bh(n))return!1;return!0},Uv=e=>" \f	\v".indexOf(e)!==-1,jv=e=>e===`
`||e==="\r",fa=(e,n)=>n<e.length&&n>=0?jv(e[n]):!1,xy=(e,n=4,o=!0,r=!0)=>{const c=Us(" ",n),u=e.replace(/\t/g,c);return Q(u,(b,k)=>Uv(k)||k===fr?b.pcIsSpace||b.str===""&&o||b.str.length===u.length-1&&r||fa(u,b.str.length+1)?{pcIsSpace:!1,str:b.str+fr}:{pcIsSpace:!0,str:b.str+" "}:{pcIsSpace:jv(k),str:b.str+k},{pcIsSpace:!1,str:""}).str},qu=(e,n)=>{const o=le.fromDom(n),r=le.fromDom(e);return Vv(r,"pre,code",Xe(Ns,o))},um=(e,n)=>Bt(e)&&lm(e.data)&&!qu(e,n),rg=e=>gn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Sd=(e,n)=>ic(e)&&!um(e,n)||rg(e)||ol(e),ol=Qc("data-mce-bookmark"),Ih=Qc("data-mce-bogus"),Lh=am("data-mce-bogus","all"),bT=(e,n)=>{let o=0;if(Sd(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const c=new vr(r,e);do{if(n){if(Lh(r)){r=c.next(!0);continue}if(Ih(r)){r=c.next();continue}}if(Qr(r)){o++,r=c.next();continue}if(Sd(r,e))return!1;r=c.next()}while(r);return o<=1}},ma=(e,n=!0)=>bT(e.dom,n),ag="data-mce-block",dm=e=>qe(Yo(e),n=>!/[A-Z]/.test(n)),Ty=e=>dm(e).join(","),Hh=(e,n)=>Pe(n.querySelector(e))?(n.setAttribute(ag,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(ag),!1),kf=(e,n)=>{const o=Ty(e.getTransparentElements()),r=Ty(e.getBlockElements());return qe(n.querySelectorAll(o),c=>Hh(r,c))},Gu=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let c=e[r];c;c=c[r])if(ma(le.fromDom(c))){(o=c.parentNode)===null||o===void 0||o.removeChild(c);return}},Vl=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const c=o.extractContents();Gu(c,!0),o.setStartAfter(n),o.setEndAfter(e);const u=o.extractContents();Gu(u,!1),ma(le.fromDom(c))||r.insertBefore(c,e),ma(le.fromDom(n))||r.insertBefore(n,e),ma(le.fromDom(u))||r.insertBefore(u,e),r.removeChild(e)}},cg=(e,n,o)=>{const r=e.getBlockElements(),c=le.fromDom(n),u=b=>Xs(b)in r,m=b=>Ns(b,c);ae(kd(o),b=>{Fr(b,u,m).each(k=>{const E=Rh(b,D=>u(D)&&!e.isValidChild(Xs(k),Xs(D)));if(E.length>0){const D=pd(k);ae(E,N=>{Fr(N,u,m).each(I=>{Vl(I.dom,N.dom)})}),D.each(N=>kf(e,N.dom))}})})},fm=(e,n,o)=>{ae([...o,...mm(e,n)?[n]:[]],r=>ae(La(le.fromDom(r),r.nodeName.toLowerCase()),c=>{Zv(e,c.dom)&&Jc(c)}))},Ey=(e,n)=>{const o=kf(e,n);cg(e,n,o),fm(e,n,o)},Ay=(e,n)=>{if(zy(e,n)){const o=Ty(e.getBlockElements());Hh(o,n)}},Wv=(e,n,o)=>{const r=u=>Ns(u,le.fromDom(n)),c=Zm(le.fromDom(o),r);to(c,c.length-2).filter(rc).fold(()=>Ey(e,n),u=>Ey(e,u.dom))},gp=e=>e.hasAttribute(ag),Oy=(e,n)=>Kn(e.getTransparentElements(),n),zy=(e,n)=>gn(n)&&Oy(e,n.nodeName),mm=(e,n)=>zy(e,n)&&gp(n),Zv=(e,n)=>zy(e,n)&&!gp(n),Ds=(e,n)=>n.type===1&&Oy(e,n.name)&&j(n.attr(ag)),oo=Ys().browser,gm=e=>Ie(e,rc),Dy=e=>oo.isFirefox()&&Xs(e)==="table"?gm(Ia(e)).filter(n=>Xs(n)==="caption").bind(n=>gm(Xc(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,Vh=(e,n)=>e.children&&X(e.children,n),yT=(e,n,o)=>{let r=0,c=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&H(le.fromDom(e),"position")==="static"){const b=n.getBoundingClientRect();return r=b.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=b.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=n;for(;m&&m!==o&&m.nodeType&&!Vh(m,o);){const b=m;r+=b.offsetLeft||0,c+=b.offsetTop||0,m=b.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!Vh(m,o);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=Dy(le.fromDom(n))}return{x:r,y:c}},qv=(e,n={})=>{let o=0;const r={},c=le.fromDom(e),u=yi(c),m=K=>{n.referrerPolicy=K},b=K=>{n.contentCssCors=K},k=K=>{Vs(rp(c),K)},E=K=>{const ne=rp(c);Tc(ne,"#"+K).each(Es)},D=K=>Cs(r,K).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),N=K=>new Promise((ne,Te)=>{let ze;const Re=Et._addCacheSuffix(K),Ve=D(Re);r[Re]=Ve,Ve.count++;const St=(tt,Nt)=>{ae(tt,fn),Ve.status=Nt,Ve.passed=[],Ve.failed=[],ze&&(ze.onload=null,ze.onerror=null,ze=null)},Kt=()=>St(Ve.passed,2),rn=()=>St(Ve.failed,3);if(ne&&Ve.passed.push(ne),Te&&Ve.failed.push(Te),Ve.status===1)return;if(Ve.status===2){Kt();return}if(Ve.status===3){rn();return}Ve.status=1;const et=le.fromTag("link",u.dom);bi(et,{rel:"stylesheet",type:"text/css",id:Ve.id}),n.contentCssCors&&ir(et,"crossOrigin","anonymous"),n.referrerPolicy&&ir(et,"referrerpolicy",n.referrerPolicy),ze=et.dom,ze.onload=Kt,ze.onerror=rn,k(et),ir(et,"href",Re)}),I=K=>Promise.allSettled(ve(K,Te=>N(Te).then(st(Te)))).then(Te=>{const ze=Fe(Te,Re=>Re.status==="fulfilled");return ze.fail.length>0?Promise.reject(ve(ze.fail,Re=>Re.reason)):ve(ze.pass,Re=>Re.value)}),ee=K=>{const ne=Et._addCacheSuffix(K);Cs(r,ne).each(Te=>{--Te.count===0&&(delete r[ne],E(Te.id))})};return{load:N,loadAll:I,unload:ee,unloadAll:K=>{ae(K,ne=>{ee(ne)})},_setReferrerPolicy:m,_setContentCssCors:b}},Gv=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=$i(o).dom;return F.from(e.get(u)).getOrThunk(()=>{const m=qv(u,r);return e.set(u,m),m})}}})(),Ry=e=>e.nodeName.toLowerCase()==="span",Kv=(e,n)=>Pe(e)&&(Sd(e,n)||jc(le.fromDom(e))),kt=(e,n)=>{const o=new vr(e,n).prev(!1),r=new vr(e,n).next(!1),c=bn(o)||Kv(o,n),u=bn(r)||Kv(r,n);return c&&u},Ny=e=>Ry(e)&&e.getAttribute("data-mce-type")==="bookmark",vT=(e,n)=>Bt(e)&&e.data.length>0&&kt(e,n),My=e=>gn(e)?e.childNodes.length>0:!1,kT=e=>up(e)||_l(e),pm=(e,n,o)=>{var r;const c=o||n;if(gn(n)&&Ny(n))return n;const u=n.childNodes;for(let m=u.length-1;m>=0;m--)pm(e,u[m],c);if(gn(n)){const m=n.childNodes;m.length===1&&Ny(m[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(m[0],n))}return!kT(n)&&!Sd(n,c)&&!My(n)&&!vT(n,c)&&e.remove(n),n},Yv=Et.makeMap,xd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,By=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ig=/[<>&\"\']/g,Or=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Td={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},wf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Xv=e=>{const n=le.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Py=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],n));if(!wf[u]){const m="&"+r[c+1]+";";o[u]=m,o[m]=u}}return o}else return},_f=Py("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),v_=(e,n)=>e.replace(n?xd:By,o=>wf[o]||o),wT=e=>(""+e).replace(ig,n=>wf[n]||n),Jv=(e,n)=>e.replace(n?xd:By,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":wf[o]||"&#"+o.charCodeAt(0)+";"),Qv=(e,n,o)=>{const r=o||_f;return e.replace(n?xd:By,c=>wf[c]||r[c]||c)},bm={encodeRaw:v_,encodeAllRaw:wT,encodeNumeric:Jv,encodeNamed:Qv,getEncodeFunc:(e,n)=>{const o=Py(n)||_f,r=(m,b)=>m.replace(b?xd:By,k=>wf[k]!==void 0?wf[k]:o[k]!==void 0?o[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),c=(m,b)=>Qv(m,b,o),u=Yv(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?c:Qv:u.numeric?Jv:v_},decode:e=>e.replace(Or,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Td[o]||String.fromCharCode(o)):Tu[n]||_f[n]||Xv(n))},lc=(e,n)=>(e=Et.trim(e),e?e.split(n||" "):[]),e0=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Tn=e=>{const n=/^(~)?(.+)$/;return Dn(lc(e,","),o=>{const r=n.exec(o);if(r){const c=r[1]==="~",u=c?"span":"div",m=r[2];return[{inline:c,cloneName:u,name:m}]}else return[]})},t0=e=>{let n,o,r,c;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const u="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+u,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),c=[o,r].join(" ")),c=c||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:c}},_T=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=t0(e),c={},u=(b,k="",E="")=>{const D=lc(E),N=lc(b);let I=N.length;for(;I--;){const ee=lc([n,k].join(" "));c[N[I]]={attributes:qn(ee,st({})),attributesOrder:ee,children:qn(D,st({}))}}},m=(b,k)=>{const E=lc(b),D=lc(k);let N=E.length;for(;N--;){const I=c[E[N]];for(let ee=0,oe=D.length;ee<oe;ee++)I.attributes[D[ee]]={},I.attributesOrder.push(D[ee])}};return e!=="html5-strict"&&(ae(lc("acronym applet basefont big font strike tt"),E=>{u(E,"",o)}),ae(lc("center dir isindex noframes"),E=>{u(E,"",r)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("dd div","",r),u("address dt caption","",e==="html4"?o:r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?o:r),u("q","cite",o),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",o),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),e!=="html4"&&(u("wbr"),u("ruby","",[o,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp summary bdi","",o),u("canvas","width height",r),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[o,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",o),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",o),u("progress","value max",o),u("meter","value min max low high optimum",o),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(m("script","language xml:space"),m("style","xml:space"),m("object","declare classid code codebase codetype archive standby align border hspace vspace"),m("embed","align name hspace vspace"),m("param","valuetype type"),m("a","charset name rev shape coords"),m("br","clear"),m("applet","codebase archive code object alt name width height align hspace vspace"),m("img","name longdesc align border hspace vspace"),m("iframe","longdesc frameborder marginwidth marginheight scrolling align"),m("font basefont","size color face"),m("input","usemap align"),m("select"),m("textarea"),m("h1 h2 h3 h4 h5 h6 div p legend caption","align"),m("ul","type compact"),m("li","type"),m("ol dl menu dir","compact"),m("pre","width xml:space"),m("hr","align noshade size width"),m("isindex","prompt"),m("table","summary width frame rules cellspacing cellpadding align bgcolor"),m("col","width align char charoff valign"),m("colgroup","width align char charoff valign"),m("thead","align char charoff valign"),m("tr","align char charoff valign bgcolor"),m("th","axis align char charoff valign nowrap bgcolor width height"),m("form","accept"),m("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),m("tfoot","align char charoff valign"),m("tbody","align char charoff valign"),m("area","nohref"),m("body","background bgcolor text link vlink alink")),e!=="html4"&&(m("input button select textarea","autofocus"),m("input textarea","placeholder"),m("a","download"),m("link script img","crossorigin"),m("img","loading"),m("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ae([c.video,c.audio],b=>{delete b.children.audio,delete b.children.video}),ae(lc("a form meter progress dfn"),b=>{c[b]&&delete c[b].children[b]}),delete c.caption.children.table,delete c.script,c},n0=e=>e==="-"?"remove":"add",k_=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Dn(lc(e,","),o=>{const r=n.exec(o);if(r){const c=r[1],u=c?n0(c):"replace",m=r[2],b=lc(r[3],"|");return[{operation:u,name:m,validChildren:b}]}else return[]})},CT=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:u}=n;return ae(lc(e,"|"),m=>{const b=o.exec(m);if(b){const k={},E=b[1],D=b[2].replace(/[\\:]:/g,":"),N=b[3],I=b[4];if(E==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(D),k.required=!0),E==="-"){delete c[D],u.splice(Et.inArray(u,D),1);return}if(N&&(N==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:D,value:I}),k.defaultValue=I):N==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:D,value:I}),k.forcedValue=I):N==="<"&&(k.validValues=Et.makeMap(I,"?"))),r.test(D)){const ee=k;n.attributePatterns=n.attributePatterns||[],ee.pattern=e0(D),n.attributePatterns.push(ee)}else c[D]||u.push(D),c[D]=k}})},Cf=(e,n)=>{Tt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},ym=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Dn(lc(n,","),r=>{const c=o.exec(r);if(c){const u=c[1],m=c[2],b=c[3],k=c[4],E=c[5],D={attributes:{},attributesOrder:[]};if(e.each(N=>Cf(N,D)),u==="#"?D.paddEmpty=!0:u==="-"&&(D.removeEmpty=!0),k==="!"&&(D.removeEmptyAttrs=!0),E&&CT(E,D),b&&(D.outputName=m),m==="@")if(e.isNone())e=F.some(D);else return[];return[b?{name:m,element:D,aliasName:b}:{name:m,element:D}]}else return[]})},Sf={},Uh=Et.makeMap,xl=Et.each,Fy=Et.extend,w_=Et.explode,pp=(e,n={})=>{const o=Uh(e," ",Uh(e.toUpperCase()," "));return Fy(o,n)},Ul=e=>pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),o0=(e,n)=>{if(e){const o={};return j(e)&&(e={"*":e}),xl(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Uh(r,/[, ]/):w_(r,/[, ]/)}),o}else return},Ku=(e={})=>{var n;const o={},r={};let c=[];const u={},m={},b=(Mn,ss,ur)=>{const Nr=e[Mn];if(Nr)return Uh(Nr,/[, ]/,Uh(Nr.toUpperCase(),/[, ]/));{let gr=Sf[Mn];return gr||(gr=pp(ss,ur),Sf[Mn]=gr),gr}},k=(n=e.schema)!==null&&n!==void 0?n:"html5",E=_T(k);e.verify_html===!1&&(e.valid_elements="*[*]");const D=o0(e.valid_styles),N=o0(e.invalid_styles,"map"),I=o0(e.valid_classes,"map"),ee=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),oe=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),K=b("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ne=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Te="td th iframe video audio object script code",ze=b("non_empty_elements",Te+" pre",K),Re=b("move_caret_before_on_enter_elements",Te+" table",K),Ve=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),St=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ve),Kt=b("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),rn=b("transparent_elements","a ins del canvas map");xl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Mn=>{m[Mn]=new RegExp("</"+Mn+"[^>]*>","gi")});const et=Mn=>{const ss=F.from(o["@"]),ur=/[*?+]/;ae(ym(ss,Mn??""),({name:Nr,element:gr,aliasName:Pc})=>{if(Pc&&(o[Pc]=gr),ur.test(Nr)){const fd=gr;fd.pattern=e0(Nr),c.push(fd)}else o[Nr]=gr})},tt=Mn=>{c=[],ae(Yo(o),ss=>{delete o[ss]}),et(Mn)},Nt=Mn=>{delete Sf.text_block_elements,delete Sf.block_elements,ae(Tn(Mn??""),({inline:ss,name:ur,cloneName:Nr})=>{if(r[ur]=r[Nr],u[ur]=Nr,ze[ur.toUpperCase()]={},ze[ur]={},ss||(St[ur.toUpperCase()]={},St[ur]={}),!o[ur]){let gr=o[Nr];gr=Fy({},gr),delete gr.removeEmptyAttrs,delete gr.removeEmpty,o[ur]=gr}Tt(r,(gr,Pc)=>{gr[Nr]&&(r[Pc]=gr=Fy({},r[Pc]),gr[ur]=gr[Nr])})})},jn=Mn=>{ae(k_(Mn??""),({operation:ss,name:ur,validChildren:Nr})=>{const gr=ss==="replace"?{"#comment":{}}:r[ur];ae(Nr,Pc=>{ss==="remove"?delete gr[Pc]:gr[Pc]={}}),r[ur]=gr})},ro=Mn=>{const ss=o[Mn];if(ss)return ss;let ur=c.length;for(;ur--;){const Nr=c[ur];if(Nr.pattern.test(Mn))return Nr}};e.valid_elements?(tt(e.valid_elements),xl(E,(Mn,ss)=>{r[ss]=Mn.children})):(xl(E,(Mn,ss)=>{o[ss]={attributes:Mn.attributes,attributesOrder:Mn.attributesOrder},r[ss]=Mn.children}),xl(lc("strong/b em/i"),Mn=>{const ss=lc(Mn,"/");o[ss[1]].outputName=ss[0]}),xl(Kt,(Mn,ss)=>{o[ss]&&(e.padd_empty_block_inline_children&&(o[ss].paddInEmptyBlock=!0),o[ss].removeEmpty=!0)}),xl(lc("ol ul blockquote a table tbody"),Mn=>{o[Mn]&&(o[Mn].removeEmpty=!0)}),xl(lc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Mn=>{o[Mn]&&(o[Mn].paddEmpty=!0)}),xl(lc("span"),Mn=>{o[Mn].removeEmptyAttrs=!0})),Nt(e.custom_elements),jn(e.valid_children),et(e.extended_valid_elements),jn("+ol[ul|ol],+ul[ul|ol]"),xl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Mn,ss)=>{o[ss]&&(o[ss].parentsRequired=lc(Mn))}),e.invalid_elements&&xl(w_(e.invalid_elements),Mn=>{o[Mn]&&delete o[Mn]}),ro("span")||et("span[!data-mce-type|*]");const Uo=st(D),ls=st(N),tr=st(I),Ss=st(ne),ca=st(St),fi=st(Ve),hc=st(Kt),Lt=st(Object.seal(K)),Hn=st(oe),Bs=st(ze),Os=st(Re),Vn=st(ee),Wn=st(rn),Vt=st(Object.seal(m)),Co=(Mn,ss)=>{const ur=r[Mn.toLowerCase()];return!!(ur&&ur[ss.toLowerCase()])},ms=(Mn,ss)=>{const ur=ro(Mn);if(ur)if(ss){if(ur.attributes[ss])return!0;const Nr=ur.attributePatterns;if(Nr){let gr=Nr.length;for(;gr--;)if(Nr[gr].pattern.test(ss))return!0}}else return!0;return!1},nr=st(u);return{type:k,children:r,elements:o,getValidStyles:Uo,getValidClasses:tr,getBlockElements:ca,getInvalidStyles:ls,getVoidElements:Lt,getTextBlockElements:fi,getTextInlineElements:hc,getBoolAttrs:Ss,getElementRule:ro,getSelfClosingElements:Hn,getNonEmptyElements:Bs,getMoveCaretBeforeOnEnterElements:Os,getWhitespaceElements:Vn,getTransparentElements:Wn,getSpecialElements:Vt,isValidChild:Co,isValid:ms,getCustomElements:nr,addValidElements:et,setValidElements:tt,addCustomElements:Nt,addValidChildren:jn}},$y=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,b;const k=vt;n&&(m=n.getValidStyles(),b=n.getInvalidStyles());const E=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let N=0;N<E.length;N++)u[E[N]]=k+N,u[k+N]=E[N];const D={parse:N=>{const I={};let ee=!1;const oe=e.url_converter,K=e.url_converter_scope||D,ne=(et,tt,Nt)=>{const jn=I[et+"-top"+tt];if(!jn)return;const ro=I[et+"-right"+tt];if(!ro)return;const Uo=I[et+"-bottom"+tt];if(!Uo)return;const ls=I[et+"-left"+tt];if(!ls)return;const tr=[jn,ro,Uo,ls];let Ss=tr.length-1;for(;Ss--&&tr[Ss]===tr[Ss+1];);Ss>-1&&Nt||(I[et+tt]=Ss===-1?tr[0]:tr.join(" "),delete I[et+"-top"+tt],delete I[et+"-right"+tt],delete I[et+"-bottom"+tt],delete I[et+"-left"+tt])},Te=et=>{const tt=I[et];if(!tt)return;const Nt=tt.indexOf(",")>-1?[tt]:tt.split(" ");let jn=Nt.length;for(;jn--;)if(Nt[jn]!==Nt[0])return!1;return I[et]=Nt[0],!0},ze=(et,tt,Nt,jn)=>{Te(tt)&&Te(Nt)&&Te(jn)&&(I[et]=I[tt]+" "+I[Nt]+" "+I[jn],delete I[tt],delete I[Nt],delete I[jn])},Re=et=>(ee=!0,u[et]),Ve=(et,tt)=>(ee&&(et=et.replace(/\uFEFF[0-9]/g,Nt=>u[Nt])),tt||(et=et.replace(/\\([\'\";:])/g,"$1")),et),St=et=>String.fromCharCode(parseInt(et.slice(1),16)),Kt=et=>et.replace(/\\[0-9a-f]+/gi,St),rn=(et,tt,Nt,jn,ro,Uo)=>{if(ro=ro||Uo,ro)return ro=Ve(ro),"'"+ro.replace(/\'/g,"\\'")+"'";if(tt=Ve(tt||Nt||jn||""),!e.allow_script_urls){const ls=tt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ls)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ls))return""}return oe&&(tt=oe.call(K,tt,"style")),"url('"+tt.replace(/\'/g,"\\'")+"')"};if(N){N=N.replace(/[\u0000-\u001F]/g,""),N=N.replace(/\\[\"\';:\uFEFF]/g,Re).replace(/\"[^\"]+\"|\'[^\']+\'/g,tt=>tt.replace(/[;:]/g,Re));let et;for(;et=r.exec(N);){r.lastIndex=et.index+et[0].length;let tt=et[1].replace(c,"").toLowerCase(),Nt=et[2].replace(c,"");if(tt&&Nt){if(tt=Kt(tt),Nt=Kt(Nt),tt.indexOf(k)!==-1||tt.indexOf('"')!==-1||!e.allow_script_urls&&(tt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Nt)))continue;tt==="font-weight"&&Nt==="700"?Nt="bold":(tt==="color"||tt==="background-color")&&(Nt=Nt.toLowerCase()),Nt=Nt.replace(o,rn),I[tt]=ee?Ve(Nt,!0):Nt}}ne("border","",!0),ne("border","-width"),ne("border","-color"),ne("border","-style"),ne("padding",""),ne("margin",""),ze("border","border-width","border-style","border-color"),I.border==="medium none"&&delete I.border,I["border-image"]==="none"&&delete I["border-image"]}return I},serialize:(N,I)=>{let ee="";const oe=(ne,Te)=>{const ze=Te[ne];if(ze)for(let Re=0,Ve=ze.length;Re<Ve;Re++){const St=ze[Re],Kt=N[St];Kt&&(ee+=(ee.length>0?" ":"")+St+": "+Kt+";")}},K=(ne,Te)=>{if(!b||!Te)return!0;let ze=b["*"];return ze&&ze[ne]?!1:(ze=b[Te],!(ze&&ze[ne]))};return I&&m?(oe("*",m),oe(I,m)):Tt(N,(ne,Te)=>{ne&&K(Te,I)&&(ee+=(ee.length>0?" ":"")+Te+": "+ne+";")}),ee}};return D},ST={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},__=e=>e instanceof Event||ie(e.initEvent),vm=e=>e.isDefaultPrevented===lt||e.isDefaultPrevented===De,Eu=e=>Zt(e.preventDefault)||__(e),Wi=(e,n)=>{const o=n??{};for(const r in e)Kn(ST,r)||(o[r]=e[r]);return Pe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Pe(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),o},Iy=(e,n,o,r)=>{var c;const u=Wi(n,r);return u.type=e,Zt(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:o),Eu(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=lt,ie(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=lt,ie(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=lt,u.stopPropagation()},vm(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?lt:De,u.isPropagationStopped=u.cancelBubble===!0?lt:De,u.isImmediatePropagationStopped=De)),u},xT="mce-data-",TT=/^(?:mouse|contextmenu)|click/,Ly=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},sl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},Hy=e=>Pe(e)&&TT.test(e.type),hp=(e,n)=>{const o=Iy(e.type,e,document,n);if(Hy(e)&&bn(e.pageX)&&!bn(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return o},C_=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{sl(e,"DOMContentLoaded",m),sl(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};u()?m():Ly(e,"DOMContentLoaded",m),o.domLoaded||Ly(e,"load",m)};class Ed{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=xT+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const u=this;let m;const b=window,k=I=>{u.executeHandlers(hp(I||b.event),E)};if(!n||Bt(n)||ju(n))return r;let E;n[u.expando]?E=n[u.expando]:(E=u.count++,n[u.expando]=E,u.events[E]={}),c=c||n;const D=o.split(" ");let N=D.length;for(;N--;){let I=D[N],ee=k,oe=!1,K=!1;if(I==="DOMContentLoaded"&&(I="ready"),u.domLoaded&&I==="ready"&&n.readyState==="complete"){r.call(c,hp({type:I}));continue}!u.hasFocusIn&&(I==="focusin"||I==="focusout")&&(oe=!0,K=I==="focusin"?"focus":"blur",ee=ne=>{const Te=hp(ne||b.event);Te.type=Te.type==="focus"?"focusin":"focusout",u.executeHandlers(Te,E)}),m=u.events[E][I],m?I==="ready"&&u.domLoaded?r(hp({type:I})):m.push({func:r,scope:c}):(u.events[E][I]=m=[{func:r,scope:c}],m.fakeName=K,m.capture=oe,m.nativeHandler=ee,I==="ready"?C_(n,ee,u):Ly(n,K||I,ee,oe))}return n=m=null,r}unbind(n,o,r){if(!n||Bt(n)||ju(n))return this;const c=n[this.expando];if(c){let u=this.events[c];if(o){const m=o.split(" ");let b=m.length;for(;b--;){const k=m[b],E=u[k];if(E){if(r){let D=E.length;for(;D--;)if(E[D].func===r){const N=E.nativeHandler,I=E.fakeName,ee=E.capture,oe=E.slice(0,D).concat(E.slice(D+1));oe.nativeHandler=N,oe.fakeName=I,oe.capture=ee,u[k]=oe}}(!r||E.length===0)&&(delete u[k],sl(n,E.fakeName||k,E.nativeHandler,E.capture))}}}else Tt(u,(m,b)=>{sl(n,m.fakeName||b,m.nativeHandler,m.capture)}),u={};for(const m in u)if(Kn(u,m))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Bt(n)||ju(n))return this;const c=hp({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||Bt(n)||ju(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let u=0,m=c.length;u<m;u++){const b=c[u];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Ed.Event=new Ed;const s0=Et.each,S_=Et.grep,lg="data-mce-style",r0=Et.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),km=(e,n,o)=>{Zt(o)||o===""?Yr(e,n):ir(e,n,o)},jh=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),bp=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;n&&Bt(c)&&(u===r||!c.data.length)||(o++,r=u)}return o},a0=(e,n)=>{const o=Fa(n,"style"),r=e.serialize(e.parse(o),Xs(n));km(n,lg,r)},c0=(e,n)=>Ro(e)?Kn(r0,n)?e+"":e+"px":e,x_=(e,n,o)=>{const r=jh(n);Zt(o)||o===""?co(e,r):x(e,r,c0(o,r))},ET=(e,n,o)=>{const r=n.keep_values,c={set:(m,b,k)=>{const E=le.fromDom(m);ie(n.url_converter)&&Pe(b)&&(b=n.url_converter.call(n.url_converter_scope||o(),String(b),k,m));const D="data-mce-"+k;km(E,D,b),km(E,k,b)},get:(m,b)=>{const k=le.fromDom(m);return Fa(k,"data-mce-"+b)||Fa(k,b)}},u={style:{set:(m,b)=>{const k=le.fromDom(m);r&&km(k,lg,b),Yr(k,"style"),j(b)&&R(k,e.parse(b))},get:m=>{const b=le.fromDom(m),k=Fa(b,lg)||Fa(b,"style");return e.serialize(e.parse(k),Xs(b))}}};return r&&(u.href=u.src=c),u},qs=(e,n={})=>{const o={},r=window,c={};let u=0;const m=!0,b=!0,k=Gv.forElement(le.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),E=[],D=n.schema?n.schema:Ku({}),N=$y({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),I=n.ownEvents?new Ed:Ed.Event,ee=D.getBlockElements(),oe=je=>j(je)?Kn(ee,je):gn(je)&&(Kn(ee,je.nodeName)||mm(D,je)),K=je=>je&&e&&j(je)?e.getElementById(je):je,ne=je=>{const Ze=K(je);return Pe(Ze)?le.fromDom(Ze):null},Te=(je,Ze,Ht="")=>{let Ft;const ao=ne(je);if(Pe(ao)&&rc(ao)){const zs=gy[Ze];zs&&zs.get?Ft=zs.get(ao.dom,Ze):Ft=Fa(ao,Ze)}return Pe(Ft)?Ft:Ht},ze=je=>{const Ze=K(je);return Zt(Ze)?[]:Ze.attributes},Re=(je,Ze,Ht)=>{Hn(je,Ft=>{if(gn(Ft)){const ao=le.fromDom(Ft),zs=Ht===""?null:Ht,Hr=Fa(ao,Ze),Fc=gy[Ze];Fc&&Fc.set?Fc.set(ao.dom,zs,Ze):km(ao,Ze,zs),Hr!==zs&&n.onSetAttrib&&n.onSetAttrib({attrElm:ao.dom,attrName:Ze,attrValue:zs})}})},Ve=(je,Ze)=>je.cloneNode(Ze),St=()=>n.root_element||e.body,Kt=je=>{const Ze=Dh(je);return{x:Ze.x,y:Ze.y,w:Ze.width,h:Ze.height}},rn=(je,Ze)=>yT(e.body,K(je),Ze),et=(je,Ze,Ht)=>{Hn(je,Ft=>{const ao=le.fromDom(Ft);x_(ao,Ze,Ht),n.update_styles&&a0(N,ao)})},tt=(je,Ze)=>{Hn(je,Ht=>{const Ft=le.fromDom(Ht);Tt(Ze,(ao,zs)=>{x_(Ft,zs,ao)}),n.update_styles&&a0(N,Ft)})},Nt=(je,Ze,Ht)=>{const Ft=K(je);if(!(Zt(Ft)||!gn(Ft)))return Ht?H(le.fromDom(Ft),jh(Ze)):(Ze=Ze.replace(/-(\D)/g,(ao,zs)=>zs.toUpperCase()),Ze==="float"&&(Ze="cssFloat"),Ft.style?Ft.style[Ze]:void 0)},jn=je=>{const Ze=K(je);if(!Ze)return{w:0,h:0};let Ht=Nt(Ze,"width"),Ft=Nt(Ze,"height");return(!Ht||Ht.indexOf("px")===-1)&&(Ht="0"),(!Ft||Ft.indexOf("px")===-1)&&(Ft="0"),{w:parseInt(Ht,10)||Ze.offsetWidth||Ze.clientWidth,h:parseInt(Ft,10)||Ze.offsetHeight||Ze.clientHeight}},ro=je=>{const Ze=K(je),Ht=rn(Ze),Ft=jn(Ze);return{x:Ht.x,y:Ht.y,w:Ft.w,h:Ft.h}},Uo=(je,Ze)=>{if(!je)return!1;const Ht=gt(je)?je:[je];return be(Ht,Ft=>Fi(le.fromDom(Ft),Ze))},ls=(je,Ze,Ht,Ft)=>{const ao=[];let zs=K(je);Ft=Ft===void 0;const Hr=Ht||(St().nodeName!=="BODY"?St().parentNode:null);if(j(Ze))if(Ze==="*")Ze=gn;else{const Fc=Ze;Ze=$c=>Uo($c,Fc)}for(;zs&&!(zs===Hr||Zt(zs.nodeType)||_l(zs)||up(zs));){if(!Ze||Ze(zs))if(Ft)ao.push(zs);else return[zs];zs=zs.parentNode}return Ft?ao:null},tr=(je,Ze,Ht)=>{const Ft=ls(je,Ze,Ht,!1);return Ft&&Ft.length>0?Ft[0]:null},Ss=(je,Ze,Ht)=>{let Ft=Ze;if(je){j(Ze)&&(Ft=ao=>Uo(ao,Ze));for(let ao=je[Ht];ao;ao=ao[Ht])if(ie(Ft)&&Ft(ao))return ao}return null},ca=(je,Ze)=>Ss(je,Ze,"nextSibling"),fi=(je,Ze)=>Ss(je,Ze,"previousSibling"),hc=je=>ie(je.querySelectorAll),Lt=(je,Ze)=>{var Ht,Ft;const ao=(Ft=(Ht=K(Ze))!==null&&Ht!==void 0?Ht:n.root_element)!==null&&Ft!==void 0?Ft:e;return hc(ao)?as(ao.querySelectorAll(je)):[]},Hn=function(je,Ze,Ht){const Ft=Ht??this;if(gt(je)){const ao=[];return s0(je,(zs,Hr)=>{const Fc=K(zs);Fc&&ao.push(Ze.call(Ft,Fc,Hr))}),ao}else{const ao=K(je);return ao?Ze.call(Ft,ao):!1}},Bs=(je,Ze)=>{Hn(je,Ht=>{Tt(Ze,(Ft,ao)=>{Re(Ht,ao,Ft)})})},Os=(je,Ze)=>{Hn(je,Ht=>{const Ft=le.fromDom(Ht);uf(Ft,Ze)})},Vn=(je,Ze,Ht,Ft,ao)=>Hn(je,zs=>{const Hr=j(Ze)?e.createElement(Ze):Ze;return Pe(Ht)&&Bs(Hr,Ht),Ft&&(!j(Ft)&&Ft.nodeType?Hr.appendChild(Ft):j(Ft)&&Os(Hr,Ft)),ao?Hr:zs.appendChild(Hr)}),Wn=(je,Ze,Ht)=>Vn(e.createElement(je),je,Ze,Ht,!0),Vt=bm.decode,Co=bm.encodeAllRaw,ms=(je,Ze,Ht="")=>{let Ft="<"+je;for(const ao in Ze)ar(Ze,ao)&&(Ft+=" "+ao+'="'+Co(Ze[ao])+'"');return os(Ht)&&Kn(D.getVoidElements(),je)?Ft+" />":Ft+">"+Ht+"</"+je+">"},nr=je=>{const Ze=e.createElement("div"),Ht=e.createDocumentFragment();Ht.appendChild(Ze),je&&(Ze.innerHTML=je);let Ft;for(;Ft=Ze.firstChild;)Ht.appendChild(Ft);return Ht.removeChild(Ze),Ht},Mn=(je,Ze)=>Hn(je,Ht=>{const Ft=le.fromDom(Ht);return Ze&&ae(Ia(Ft),ao=>{Ya(ao)&&ao.dom.length===0?Es(ao):Xn(Ft,ao)}),Es(Ft),Ft.dom}),ss=je=>Hn(je,Ze=>{const Ht=Ze.attributes;for(let Ft=Ht.length-1;Ft>=0;Ft--)Ze.removeAttributeNode(Ht.item(Ft))}),ur=je=>N.parse(je),Nr=(je,Ze)=>N.serialize(je,Ze),gr=je=>{if(Jd!==qs.DOM&&e===document){if(o[je])return;o[je]=!0}let Ze=e.getElementById("mceDefaultStyles");if(!Ze){Ze=e.createElement("style"),Ze.id="mceDefaultStyles",Ze.type="text/css";const Ht=e.head;Ht.firstChild?Ht.insertBefore(Ze,Ht.firstChild):Ht.appendChild(Ze)}Ze.styleSheet?Ze.styleSheet.cssText+=je:Ze.appendChild(e.createTextNode(je))},Pc=je=>{je||(je=""),ae(je.split(","),Ze=>{c[Ze]=!0,k.load(Ze).catch(Oe)})},fd=(je,Ze,Ht)=>{Hn(je,Ft=>{if(gn(Ft)){const ao=le.fromDom(Ft),zs=Ze.split(" ");ae(zs,Hr=>{Pe(Ht)?(Ht?Lu:Ll)(ao,Hr):Um(ao,Hr)})}})},iu=(je,Ze)=>{fd(je,Ze,!0)},Yd=(je,Ze)=>{fd(je,Ze,!1)},Jf=(je,Ze)=>{const Ht=ne(je),Ft=Ze.split(" ");return Pe(Ht)&&Rn(Ft,ao=>Hl(Ht,ao))},Kg=je=>{Hn(je,Ze=>co(le.fromDom(Ze),"display"))},kh=je=>{Hn(je,Ze=>x(le.fromDom(Ze),"display","none"))},Yg=je=>{const Ze=ne(je);return Pe(Ze)&&Ws(me(Ze,"display"),"none")},a_=je=>(je||"mce_")+u++,iT=je=>{const Ze=ne(je);return Pe(Ze)?gn(Ze.dom)?Ze.dom.outerHTML:xh(Ze):""},c_=(je,Ze)=>{Hn(je,Ht=>{gn(Ht)&&(Ht.outerHTML=Ze)})},i_=(je,Ze)=>{const Ht=K(Ze);return Hn(je,Ft=>{const ao=Ht==null?void 0:Ht.parentNode,zs=Ht==null?void 0:Ht.nextSibling;return ao&&(zs?ao.insertBefore(Ft,zs):ao.appendChild(Ft)),Ft})},l_=(je,Ze,Ht)=>Hn(Ze,Ft=>{var ao;const zs=gt(Ze)?je.cloneNode(!0):je;return Ht&&s0(S_(Ft.childNodes),Hr=>{zs.appendChild(Hr)}),(ao=Ft.parentNode)===null||ao===void 0||ao.replaceChild(zs,Ft),Ft}),u_=(je,Ze)=>{if(je.nodeName!==Ze.toUpperCase()){const Ht=Wn(Ze);return s0(ze(je),Ft=>{Re(Ht,Ft.nodeName,Te(je,Ft.nodeName))}),l_(Ht,je,!0),Ht}else return je},d_=(je,Ze)=>{let Ht=je;for(;Ht;){let Ft=Ze;for(;Ft&&Ht!==Ft;)Ft=Ft.parentNode;if(Ht===Ft)break;Ht=Ht.parentNode}return!Ht&&je.ownerDocument?je.ownerDocument.documentElement:Ht},Xd=je=>{if(gn(je)){const Ze=je.nodeName.toLowerCase()==="a"&&!Te(je,"href")&&Te(je,"id");if(Te(je,"name")||Te(je,"data-mce-bookmark")||Ze)return!0}return!1},my=(je,Ze,Ht)=>{let Ft=0;if(Xd(je))return!1;const ao=je.firstChild;if(ao){const zs=new vr(ao,je),Hr=D?D.getWhitespaceElements():{},Fc=Ze||(D?D.getNonEmptyElements():null);let $c=ao;do{if(gn($c)){const p_=$c.getAttribute("data-mce-bogus");if(p_){$c=zs.next(p_==="all");continue}const $v=$c.nodeName.toLowerCase();if(Fc&&Fc[$v]){if($v==="br"){Ft++,$c=zs.next();continue}return!1}if(Xd($c))return!1}if(ju($c)||Bt($c)&&!lm($c.data)&&(!(Ht!=null&&Ht.includeZwsp)||!mp($c.data))||Bt($c)&&$c.parentNode&&Hr[$c.parentNode.nodeName]&&lm($c.data))return!1;$c=zs.next()}while($c)}return Ft<=1},wh=()=>e.createRange(),Xg=(je,Ze,Ht)=>{let Ft=wh(),ao,zs;if(je&&Ze&&je.parentNode&&Ze.parentNode){const Hr=je.parentNode;return Ft.setStart(Hr,bp(je)),Ft.setEnd(Ze.parentNode,bp(Ze)),ao=Ft.extractContents(),Ft=wh(),Ft.setStart(Ze.parentNode,bp(Ze)+1),Ft.setEnd(Hr,bp(je)+1),zs=Ft.extractContents(),Hr.insertBefore(pm(Jd,ao),je),Ht?Hr.insertBefore(Ht,je):Hr.insertBefore(Ze,je),Hr.insertBefore(pm(Jd,zs),je),Mn(je),Ht||Ze}else return},f_=(je,Ze,Ht,Ft)=>{if(gt(je)){let ao=je.length;const zs=[];for(;ao--;)zs[ao]=f_(je[ao],Ze,Ht,Ft);return zs}else return n.collect&&(je===e||je===r)&&E.push([je,Ze,Ht,Ft]),I.bind(je,Ze,Ht,Ft||Jd)},m_=(je,Ze,Ht)=>{if(gt(je)){let Ft=je.length;const ao=[];for(;Ft--;)ao[Ft]=m_(je[Ft],Ze,Ht);return ao}else{if(E.length>0&&(je===e||je===r)){let Ft=E.length;for(;Ft--;){const[ao,zs,Hr]=E[Ft];je===ao&&(!Ze||Ze===zs)&&(!Ht||Ht===Hr)&&I.unbind(ao,zs,Hr)}}return I.unbind(je,Ze,Ht)}},Qf=(je,Ze,Ht)=>I.dispatch(je,Ze,Ht),Jg=(je,Ze,Ht)=>I.dispatch(je,Ze,Ht),g_=je=>{if(je&&gn(je)){const Ze=je.getAttribute("data-mce-contenteditable");return Ze&&Ze!=="inherit"?Ze:je.contentEditable!=="inherit"?je.contentEditable:null}else return null},Jd={doc:e,settings:n,win:r,files:c,stdMode:m,boxModel:b,styleSheetLoader:k,boundEvents:E,styles:N,schema:D,events:I,isBlock:oe,root:null,clone:Ve,getRoot:St,getViewPort:Kt,getRect:ro,getSize:jn,getParent:tr,getParents:ls,get:K,getNext:ca,getPrev:fi,select:Lt,is:Uo,add:Vn,create:Wn,createHTML:ms,createFragment:nr,remove:Mn,setStyle:et,getStyle:Nt,setStyles:tt,removeAllAttribs:ss,setAttrib:Re,setAttribs:Bs,getAttrib:Te,getPos:rn,parseStyle:ur,serializeStyle:Nr,addStyle:gr,loadCSS:Pc,addClass:iu,removeClass:Yd,hasClass:Jf,toggleClass:fd,show:Kg,hide:kh,isHidden:Yg,uniqueId:a_,setHTML:Os,getOuterHTML:iT,setOuterHTML:c_,decode:Vt,encode:Co,insertAfter:i_,replace:l_,rename:u_,findCommonAncestor:d_,run:Hn,getAttribs:ze,isEmpty:my,createRng:wh,nodeIndex:bp,split:Xg,bind:f_,unbind:m_,fire:Jg,dispatch:Qf,getContentEditable:g_,getContentEditableParent:je=>{const Ze=St();let Ht=null;for(let Ft=je;Ft&&Ft!==Ze&&(Ht=g_(Ft),Ht===null);Ft=Ft.parentNode);return Ht},isEditable:je=>{if(Pe(je)){const Ze=gn(je)?je:je.parentElement;return Pe(Ze)&&Fo(le.fromDom(Ze))}else return!1},destroy:()=>{if(E.length>0){let je=E.length;for(;je--;){const[Ze,Ht,Ft]=E[je];I.unbind(Ze,Ht,Ft)}}Tt(c,(je,Ze)=>{k.unload(Ze),delete c[Ze]})},isChildOf:(je,Ze)=>je===Ze||Ze.contains(je),dumpRng:je=>"startContainer: "+je.startContainer.nodeName+", startOffset: "+je.startOffset+", endContainer: "+je.endContainer.nodeName+", endOffset: "+je.endOffset},gy=ET(N,n,st(Jd));return Jd};qs.DOM=qs(document),qs.nodeIndex=bp;const i0=qs.DOM,T_=0,E_=1,Wh=2,AT=3;class Ad{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const c=i0;let u;const m=()=>{c.remove(E),u&&(u.onerror=u.onload=u=null)},b=()=>{m(),o()},k=()=>{m(),r("Failed to load script: "+n)},E=c.uniqueId();u=document.createElement("script"),u.id=E,u.type="text/javascript",u.src=Et._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=b,u.onerror=k,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===Wh}markDone(n){this.states[n]=Wh}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=T_),new Promise((c,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(k,E)=>{Cs(o.scriptLoadedCallbacks,E).each(D=>{ae(D,N=>N[k](E))}),delete o.scriptLoadedCallbacks[E]},c=k=>{const E=qe(k,D=>D.status==="rejected");return E.length>0?Promise.reject(Dn(E,({reason:D})=>gt(D)?D:[D])):Promise.resolve()},u=k=>Promise.allSettled(ve(k,E=>o.states[E]===Wh?(r("resolve",E),Promise.resolve()):o.states[E]===AT?(r("reject",E),Promise.reject(E)):(o.states[E]=E_,o.loadScript(E).then(()=>{o.states[E]=Wh,r("resolve",E);const D=o.queue;return D.length>0?(o.queue=[],u(D).then(c)):Promise.resolve()},()=>(o.states[E]=AT,r("reject",E),Promise.reject(E)))))),m=k=>(o.loading=!0,u(k).then(E=>{o.loading=!1;const D=o.queueLoadedCallbacks.shift();return F.from(D).each(fn),c(E)})),b=Ge(n);return o.loading?new Promise((k,E)=>{o.queueLoadedCallbacks.push(()=>{m(b).then(k,E)})}):m(b)}}Ad.ScriptLoader=new Ad;const Ma=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},Zh=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},yp=e=>dt(e)&&Kn(e,"raw"),A_=e=>gt(e)&&e.length>1,qh={},l0=Ma("en"),ga=()=>Cs(qh,l0.get()),jl={getData:()=>Lo(qh,e=>({...e})),setCode:e=>{e&&l0.set(e)},getCode:()=>l0.get(),add:(e,n)=>{let o=qh[e];o||(qh[e]=o={});const r=ve(Yo(n),c=>c.toLowerCase());Tt(n,(c,u)=>{const m=u.toLowerCase();m!==u&&Zh(r,m)?(Kn(n,m)||(o[m]=c),o[u]=c):o[m]=c})},translate:e=>{const n=ga().getOr({}),o=m=>ie(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const b=o(m);return Kn(n,b)?o(n[b]):Cs(n,b.toLowerCase()).map(o).getOr(b)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(yp(e))return o(e.raw);if(A_(e)){const m=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,(k,E)=>Kn(m,E)?o(m[E]):k);return u(b)}return u(c(e))},isRtl:()=>ga().bind(e=>Cs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Kn(qh,e)},pa=()=>{const e=[],n={},o={},r=[],c=(K,ne)=>{const Te=qe(r,ze=>ze.name===K&&ze.state===ne);ae(Te,ze=>ze.resolve())},u=K=>Kn(n,K),m=K=>Kn(o,K),b=K=>{if(o[K])return o[K].instance},k=(K,ne)=>{const Te=jl.getCode(),ze=","+(ne||"")+",";!Te||ne&&ze.indexOf(","+Te+",")===-1||Ad.ScriptLoader.add(n[K]+"/langs/"+Te+".js")},E=(K,ne)=>{pa.languageLoad!==!1&&(u(K)?k(K,ne):oe(K,"loaded").then(()=>k(K,ne)))},D=(K,ne)=>(e.push(ne),o[K]={instance:ne},c(K,"added"),ne),N=K=>{delete n[K],delete o[K]},I=(K,ne)=>j(ne)?j(K)?{prefix:"",resource:ne,suffix:""}:{prefix:K.prefix,resource:ne,suffix:K.suffix}:ne,ee=(K,ne)=>{if(n[K])return Promise.resolve();let Te=j(ne)?ne:ne.prefix+ne.resource+ne.suffix;Te.indexOf("/")!==0&&Te.indexOf("://")===-1&&(Te=pa.baseURL+"/"+Te),n[K]=Te.substring(0,Te.lastIndexOf("/"));const ze=()=>(c(K,"loaded"),Promise.resolve());return o[K]?ze():Ad.ScriptLoader.add(Te).then(ze)},oe=(K,ne="added")=>ne==="added"&&m(K)||ne==="loaded"&&u(K)?Promise.resolve():new Promise(Te=>{r.push({name:K,state:ne,resolve:Te})});return{items:e,urls:n,lookup:o,get:b,requireLangPack:E,add:D,remove:N,createUrl:I,load:ee,waitFor:oe}};pa.languageLoad=!0,pa.baseURL="",pa.PluginManager=pa(),pa.ThemeManager=pa(),pa.ModelManager=pa();const Sa=e=>{const n=Ma(F.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(F.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(F.some(b))}}},zT=e=>{const n=Ma(F.none()),o=()=>n.get().each(b=>clearInterval(b));return{clear:()=>{o(),n.set(F.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(F.some(setInterval(b,e)))}}},Yu=()=>{const e=Sa(Oe);return{...e,on:o=>e.get().each(o)}},Gh=(e,n)=>{let o=null;return{cancel:()=>{U(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{U(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},Vy=(e,n)=>{let o=null;const r=()=>{U(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},Wl=st("mce-annotation"),al=st("data-mce-annotation"),ug=st("data-mce-annotation-uid"),vp=st("data-mce-annotation-active"),Kh=st("data-mce-annotation-classes"),Yh=st("data-mce-annotation-attrs"),O_=e=>n=>Ns(n,e),d0=(e,n)=>{const o=e.selection.getRng(),r=le.fromDom(o.startContainer),c=le.fromDom(e.getBody()),u=n.fold(()=>"."+Wl(),k=>`[${al()}="${k}"]`),m=bu(r,o.startOffset).getOr(r);return vl(m,u,O_(c)).bind(k=>hl(k,`${ug()}`).bind(E=>hl(k,`${al()}`).map(D=>{const N=D_(e,E);return{uid:E,name:D,elements:N}})))},DT=e=>rc(e)&&Hl(e,Wl()),z_=(e,n)=>aa(e,"data-mce-bogus")||Vv(e,'[data-mce-bogus="all"]',O_(n)),D_=(e,n)=>{const o=le.fromDom(e.getBody()),r=La(o,`[${ug()}="${n}"]`);return qe(r,c=>!z_(c,o))},f0=(e,n)=>{const o=le.fromDom(e.getBody()),r=La(o,`[${al()}="${n}"]`),c={};return ae(r,u=>{if(!z_(u,o)){const m=Fa(u,ug()),b=Cs(c,m).getOr([]);c[m]=b.concat([u])}}),c},R_=(e,n)=>{const o=Ma({}),r=()=>({listeners:[],previous:Yu()}),c=(N,I)=>{u(N,ee=>(I(ee),ee))},u=(N,I)=>{const ee=o.get(),oe=Cs(ee,N).getOrThunk(r),K=I(oe);ee[N]=K,o.set(ee)},m=(N,I,ee)=>{c(N,oe=>{ae(oe.listeners,K=>K(!0,N,{uid:I,nodes:ve(ee,ne=>ne.dom)}))})},b=N=>{c(N,I=>{ae(I.listeners,ee=>ee(!1,N))})},k=(N,I)=>{ae(D_(e,N),ee=>{I?ir(ee,vp(),"true"):Yr(ee,vp())})},E=Vy(()=>{const N=Gn(n.getNames());ae(N,I=>{u(I,ee=>{const oe=ee.previous.get();return d0(e,F.some(I)).fold(()=>{oe.each(K=>{b(I),ee.previous.clear(),k(K,!1)})},({uid:K,name:ne,elements:Te})=>{Ws(oe,K)||(oe.each(ze=>k(ze,!1)),m(ne,K,Te),ee.previous.set(K),k(K,!0))}),{previous:ee.previous,listeners:ee.listeners}})})},30);return e.on("remove",()=>{E.cancel()}),e.on("NodeChange",()=>{E.throttle()}),{addListener:(N,I)=>{u(N,ee=>({previous:ee.previous,listeners:ee.listeners.concat([I])}))}}},FO=(e,n)=>{const o=al(),r=u=>F.from(u.attr(o)).bind(n.lookup),c=u=>{var m,b;u.attr(ug(),null),u.attr(al(),null),u.attr(vp(),null);const k=F.from(u.attr(Yh())).map(I=>I.split(",")).getOr([]),E=F.from(u.attr(Kh())).map(I=>I.split(",")).getOr([]);ae(k,I=>u.attr(I,null));const D=(b=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&b!==void 0?b:[],N=Po(D,[Wl()].concat(E));u.attr("class",N.length>0?N.join(" "):null),u.attr(Kh(),null),u.attr(Yh(),null)};e.serializer.addTempAttr(vp()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(b=>{b.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},Uy=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>Cs(e,c).map(u=>u.settings),getNames:()=>Yo(e)}};let N_=0;const $r=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return N_++,e+"_"+r+N_+String(o)},m0=(e,n)=>{ae(n,o=>{Lu(e,o)})},g0=(e,n)=>{ae(n,o=>{Ll(e,o)})},M_=(e,n)=>le.fromDom(e.dom.cloneNode(n)),Tf=e=>M_(e,!1),Ac=e=>M_(e,!0),xi=(e,n)=>{const o=le.fromTag(n),r=gd(e);return bi(o,r),o},B_=(e,n)=>{const o=xi(e,n);io(e,o);const r=Ia(e);return sr(o,r),Es(e),o},p0=(e,n,o=De)=>{const r=new vr(e,n),c=u=>{let m;do m=r[u]();while(m&&!Bt(m)&&!o(m));return F.from(m).filter(Bt)};return{current:()=>F.from(r.current()).filter(Bt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},wm=(e,n)=>{const o=n||(m=>e.isBlock(m)||Qr(m)||As(m)),r=(m,b,k,E)=>{if(Bt(m)){const D=E(m,b,m.data);if(D!==-1)return F.some({container:m,offset:D})}return k().bind(D=>r(D.container,D.offset,k,E))};return{backwards:(m,b,k,E)=>{const D=p0(m,E??e.getRoot(),o);return r(m,b,()=>D.prev().map(N=>({container:N,offset:N.length})),k).getOrNull()},forwards:(m,b,k,E)=>{const D=p0(m,E??e.getRoot(),o);return r(m,b,()=>D.next().map(N=>({container:N,offset:0})),k).getOrNull()}}},dg=Math.round,fg=e=>e?{left:dg(e.left),top:dg(e.top),bottom:dg(e.bottom),right:dg(e.right),width:dg(e.width),height:dg(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},jy=(e,n)=>(e=fg(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Ef=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Wy=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,Wr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Wy(n.top-e.bottom,e,n)},cl=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Wy(n.bottom-e.top,e,n),kp=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,RT=e=>Q(e,(n,o)=>n.fold(()=>F.some(o),r=>{const c=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),b=Math.max(o.bottom,r.bottom);return F.some({top:u,right:m,bottom:b,left:c,width:m-c,height:b-u})}),F.none()),h0=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},NT=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),mg=(e,n,o)=>Math.min(Math.max(e,n),o),wp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Zl=(e,n)=>{if(gn(e)&&e.hasChildNodes()){const o=e.childNodes,r=mg(n,0,o.length-1);return o[r]}else return e},b0=(e,n)=>{if(!(n<0&&gn(e)&&e.hasChildNodes()))return Zl(e,n)},P_=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),F_=e=>j(e)&&e.charCodeAt(0)>=768&&P_.test(e),MT=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},$_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Zy=gn,qy=ic,I_=Uu("display","block table"),y0=Uu("float","left right"),gg=$_(Zy,qy,fo(y0)),L_=fo(Uu("white-space","pre pre-line pre-wrap")),Gy=Bt,Af=Qr,Ky=qs.nodeIndex,il=b0,_p=e=>e?e.createRange():qs.DOM.createRng(),hs=e=>j(e)&&/[\r\n\t ]/.test(e),Ti=e=>!!e.setStart&&!!e.setEnd,Of=e=>{const n=e.startContainer,o=e.startOffset;if(hs(e.toString())&&L_(n.parentNode)&&Bt(n)){const r=n.data;if(hs(r[o-1])||hs(r[o+1]))return!0}return!1},v0=e=>{const n=e.ownerDocument,o=_p(n),r=n.createTextNode(fr),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=fg(o.getBoundingClientRect());return c.removeChild(r),u},Dr=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&Bt(o)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(o),zf(u)}else return null},k0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,zf=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=fg(r[0]):o=fg(e.getBoundingClientRect()),!Ti(e)&&Af(e)&&k0(o)?v0(e):k0(o)&&Ti(e)&&(n=Dr(e))!==null&&n!==void 0?n:o},xa=(e,n)=>{const o=jy(e,n);return o.width=1,o.right=o.left+1,o},Od=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&Ef(m,n[n.length-1])||n.push(m))},r=(m,b)=>{const k=_p(m.ownerDocument);if(b<m.data.length){if(F_(m.data[b]))return;if(F_(m.data[b-1])&&(k.setStart(m,b),k.setEnd(m,b+1),!Of(k))){o(xa(zf(k),!1));return}}b>0&&(k.setStart(m,b-1),k.setEnd(m,b),Of(k)||o(xa(zf(k),!1))),b<m.data.length&&(k.setStart(m,b),k.setEnd(m,b+1),Of(k)||o(xa(zf(k),!0)))},c=e.container(),u=e.offset();if(Gy(c))return r(c,u),n;if(Zy(c))if(e.isAtEnd()){const m=il(c,u);Gy(m)&&r(m,m.data.length),gg(m)&&!Af(m)&&o(xa(zf(m),!1))}else{const m=il(c,u);if(Gy(m)&&r(m,0),gg(m)&&e.isAtEnd())return o(xa(zf(m),!1)),n;const b=il(e.container(),e.offset()-1);gg(b)&&!Af(b)&&(I_(b)||I_(m)||!gg(m))&&o(xa(zf(b),!1)),gg(m)&&o(xa(zf(m),!0))}return n},ct=(e,n,o)=>{const r=()=>(Gy(e),n===0),c=()=>Gy(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const D=_p(e.ownerDocument);return D.setStart(e,n),D.setEnd(e,n),D},m=()=>(o||(o=Od(ct(e,n))),o),b=()=>m().length>0,k=D=>D&&e===D.container()&&n===D.offset(),E=D=>il(e,D?n-1:n);return{container:st(e),offset:st(n),toRange:u,getClientRects:m,isVisible:b,isAtStart:r,isAtEnd:c,isEqual:k,getNode:E}};ct.fromRangeStart=e=>ct(e.startContainer,e.startOffset),ct.fromRangeEnd=e=>ct(e.endContainer,e.endOffset),ct.after=e=>ct(e.parentNode,Ky(e)+1),ct.before=e=>ct(e.parentNode,Ky(e)),ct.isAbove=(e,n)=>sa(mn(n.getClientRects()),bo(e.getClientRects()),Wr).getOr(!1),ct.isBelow=(e,n)=>sa(bo(n.getClientRects()),mn(e.getClientRects()),cl).getOr(!1),ct.isAtStart=e=>e?e.isAtStart():!1,ct.isAtEnd=e=>e?e.isAtEnd():!1,ct.isTextPosition=e=>e?Bt(e.container()):!1,ct.isElementPosition=e=>!ct.isTextPosition(e);const Yy=(e,n)=>{Bt(n)&&n.data.length===0&&e.remove(n)},BT=(e,n,o)=>{n.insertNode(o),Yy(e,o.previousSibling),Yy(e,o.nextSibling)},Xy=(e,n,o)=>{const r=F.from(o.firstChild),c=F.from(o.lastChild);n.insertNode(o),r.each(u=>Yy(e,u.previousSibling)),c.each(u=>Yy(e,u.nextSibling))},zd=(e,n,o)=>{up(o)?Xy(e,n,o):BT(e,n,o)},Tl=Bt,Xh=wu,Jy=qs.nodeIndex,w0=e=>{const n=e.parentNode;return Xh(n)?w0(n):n},Qy=e=>e?de(e.childNodes,(n,o)=>(Xh(o)&&o.nodeName!=="BR"?n=n.concat(Qy(o)):n.push(o),n),[]):[],H_=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Tl(o);)n+=o.data.length;return n},_m=e=>n=>e===n,ql=e=>{let n,o;n=Qy(w0(e)),o=re(n,_m(e),e),n=n.slice(0,o+1);const r=de(n,(c,u,m)=>(Tl(u)&&Tl(n[m-1])&&c++,c),0);return n=Gs(n,wl([e.nodeName])),o=re(n,_m(e),e),o-r},Zi=e=>(Tl(e)?"text()":e.nodeName.toLowerCase())+"["+ql(e)+"]",Oc=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e&&!(o&&o(c));c=c.parentNode)r.push(c);return r},V_=(e,n)=>{let o=[],r=n.container(),c=n.offset(),u;if(Tl(r))u=H_(r,c);else{const b=r.childNodes;c>=b.length?(u="after",c=b.length-1):u="before",r=b[c]}o.push(Zi(r));let m=Oc(e,r);return m=Gs(m,fo(wu)),o=o.concat(wr(m,b=>Zi(b))),o.reverse().join("/")+","+u},Cm=(e,n,o)=>{let r=Qy(e);return r=Gs(r,(c,u)=>!Tl(c)||!Tl(r[u-1])),r=Gs(r,wl([n])),r[o]},U_=(e,n)=>{let o=e,r=0;for(;Tl(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!Tl(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return Tl(e)&&n>e.data.length&&(n=e.data.length),ct(e,n)},Jh=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",u=de(r,(m,b)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return k?(k[1]==="text()"&&(k[1]="#text"),Cm(m,k[1],parseInt(k[2],10))):null},e);if(!u)return null;if(!Tl(u)&&u.parentNode){let m;return c==="after"?m=Jy(u)+1:m=Jy(u),ct(u.parentNode,m)}return U_(u,parseInt(c,10))},pg=As,_0=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&Bt(c);c=c.previousSibling)r+=e(c.data).length;return r},e1=(e,n,o,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const b=[],k=e.getRoot();if(Bt(u))b.push(o?_0(n,u,m):m);else{let E=0;const D=u.childNodes;m>=D.length&&D.length&&(E=1,m=Math.max(0,D.length-1)),b.push(e.nodeIndex(D[m],o)+E)}for(let E=u;E&&E!==k;E=E.parentNode)b.push(e.nodeIndex(E,o));return b},j_=(e,n,o,r)=>{const c=n.dom,u=e1(c,e,o,r,!0),m=n.isForward(),b=da(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:u,forward:m,...b};{const k=e1(c,e,o,r,!1);return{start:u,end:k,forward:m,...b}}},t1=(e,n,o)=>{let r=0;return Et.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},C0=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(gn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},Ua=e=>(C0(e,!0),C0(e,!1),e),kc=(e,n)=>{if(gn(e)&&(e=Zl(e,n),pg(e)))return e;if(Ps(e)){Bt(e)&&xr(e)&&(e=e.parentNode);let o=e.previousSibling;if(pg(o)||(o=e.nextSibling,pg(o)))return o}},qi=e=>kc(e.startContainer,e.startOffset)||kc(e.endContainer,e.endOffset),Ir=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||pg(r)){const m=r.nodeName;return{name:m,index:t1(o.dom,m,r)}}const u=qi(c);if(u){const m=u.tagName;return{name:m,index:t1(o.dom,m,u)}}return j_(e,o,n,c)},wc=e=>{const n=e.getRng();return{start:V_(e.dom.getRoot(),ct.fromRangeStart(n)),end:V_(e.dom.getRoot(),ct.fromRangeEnd(n)),forward:e.isForward()}},uc=e=>({rng:e.getRng(),forward:e.isForward()}),n1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},o1=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),b=m.nodeName,k=e.isForward();if(b==="IMG")return{name:b,index:t1(o,b,m)};const E=Ua(r.cloneRange());if(!u){E.collapse(!1);const N=n1(o,c+"_end",n);zd(o,E,N)}r=Ua(r),r.collapse(!0);const D=n1(o,c+"_start",n);return zd(o,r,D),e.moveToBookmark({id:c,keep:!0,forward:k}),{id:c,forward:k}},W_=(e,n,o=!1)=>n===2?Ir(qt,o,e):n===3?wc(e):n?uc(e):o1(e,!1),s1=Xe(Ir,Bn,!0),S0=e=>{const n=u=>u(e),o=st(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:lt,isError:De,map:u=>zc.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>F.some(e)};return c},x0=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:De,isError:lt,map:n,mapError:r=>zc.error(r(e)),bind:n,exists:De,forall:lt,getOr:Bn,or:Bn,getOrThunk:wt,orThunk:wt,getOrDie:Zo(String(e)),each:Oe,toOptional:F.none};return o},zc={value:S0,error:x0,fromOption:(e,n)=>e.fold(()=>x0(n),S0)},Df={generate:e=>{if(!gt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return ae(e,(r,c)=>{const u=Yo(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],b=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!gt(b))throw new Error("case arguments must be an array");n.push(m),o[m]=(...k)=>{const E=k.length;if(E!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+E);return{fold:(...N)=>{if(N.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+N.length);return N[c].apply(null,k)},match:N=>{const I=Yo(N);if(n.length!==I.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+I.join(","));if(!Rn(n,oe=>X(I,oe)))throw new Error("Not all branches were specified when using match. Specified: "+I.join(", ")+`
Required: `+n.join(", "));return N[m].apply(null,k)},log:N=>{console.log(N,{constructors:n,constructor:m,params:k})}}}}),o}};Df.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const PT=e=>{const n=[],o=[];return ae(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},FT=e=>e.type==="inline-command"||e.type==="inline-format",$T=e=>e.type==="block-command"||e.type==="block-format",T0=e=>{const n=r=>zc.error({message:r,pattern:e}),o=(r,c,u)=>{if(e.format!==void 0){let m;if(gt(e.format)){if(!Rn(e.format,j))return n(r+" pattern has non-string items in the `format` array");m=e.format}else if(j(e.format))m=[e.format];else return n(r+" pattern has non-string `format` parameter");return zc.value(c(m))}else return e.cmd!==void 0?j(e.cmd)?zc.value(u(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!dt(e))return n("Raw pattern is not an object");if(!j(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!j(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",u=>({type:"inline-format",start:r,end:c,format:u}),(u,m)=>({type:"inline-command",start:r,end:c,cmd:u,value:m}))}else return e.replacement!==void 0?j(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):zc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,c)=>({type:"block-command",start:e.start,cmd:r,value:c}))},q_=e=>qe(e,$T),G_=e=>qe(e,FT),r1=(e,n)=>({inlinePatterns:G_(e),blockPatterns:q_(e),dynamicPatternsLookup:n}),K_=e=>{const n=PT(ve(e,T0));return ae(n.errors,o=>console.error(o.message,o.pattern)),n.values},Y_=e=>n=>{const o=e(n);return K_(o)},$t=Ys().deviceType,IT=$t.isTouch(),_c=qs.DOM,LT=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Q(n,(o,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return o[va(u)]=va(m),o},{})},E0=e=>xt(e,RegExp),yn=e=>n=>n.options.get(e),Wc=e=>j(e)||dt(e),X_=(e,n="")=>o=>{const r=j(o);if(r)if(o.indexOf("=")!==-1){const c=LT(o);return{value:Cs(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},J_=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:X_(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:X_(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=j(o)&&yo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=X(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>at(o)?{valid:!0,value:o}:j(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||j(o)||Ce(o,j);return r?j(o)?{value:ve(o.split(","),va),valid:r}:gt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:u2(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=j(o)||Ce(o,j);return r?{value:gt(o)?o:ve(o.split(","),va),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=at(o)||j(o);return r?o===!1||$t.isiPhone()||$t.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!IT}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||j(o)||ie(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||j(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Wc}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Wc}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Wc}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>j(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Ce(o,dt)||o===!1?{value:K_(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ie(o)?{value:Y_(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Ce(o,E0)?{value:o,valid:!0}:E0(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=X(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=X(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:jl.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:_c.getAttrib(e.getElement(),"placeholder")})})},Gl=yn("iframe_attrs"),a1=yn("doctype"),Cp=yn("document_base_url"),Xu=yn("body_id"),Kl=yn("body_class"),hg=yn("content_security_policy"),Au=yn("br_in_pre"),ni=yn("forced_root_block"),Sp=yn("forced_root_block_attrs"),A0=yn("newline_behavior"),Q_=yn("br_newline_selector"),e2=yn("no_newline_selector"),O0=yn("keep_styles"),HT=yn("end_container_on_empty_block"),z0=yn("automatic_uploads"),t2=yn("images_reuse_filename"),VT=yn("images_replace_blob_uris"),n2=yn("icons"),UT=yn("icons_url"),jT=yn("images_upload_url"),D0=yn("images_upload_base_path"),WT=yn("images_upload_credentials"),o2=yn("images_upload_handler"),ZT=yn("content_css_cors"),xp=yn("referrer_policy"),s2=yn("language"),qT=yn("language_url"),r2=yn("indent_use_margin"),GT=yn("indentation"),a2=yn("content_css"),c1=yn("content_style"),Sm=yn("font_css"),Tp=yn("directionality"),Rr=yn("inline_boundaries_selector"),R0=yn("object_resizing"),Ei=yn("resize_img_proportional"),Ep=yn("placeholder"),ec=yn("event_root"),c2=yn("service_message"),Dd=yn("theme"),KT=yn("theme_url"),i1=yn("model"),i2=yn("model_url"),Qh=yn("inline_boundaries"),YT=yn("formats"),XT=yn("preview_styles"),JT=yn("format_empty_lines"),eb=yn("format_noneditable_selector"),l2=yn("custom_ui_selector"),u2=yn("inline"),bg=yn("hidden_input"),QT=yn("submit_patch"),eE=yn("add_form_submit_trigger"),tE=yn("add_unload_trigger"),d2=yn("custom_undo_redo_levels"),N0=yn("disable_nodechange"),Rf=yn("readonly"),f2=yn("editable_root"),m2=yn("content_css_cors"),l1=yn("plugins"),nE=yn("external_plugins"),Nf=yn("block_unsupported_drop"),u1=yn("visual"),d1=yn("visual_table_class"),tb=yn("visual_anchor_class"),g2=yn("iframe_aria_text"),Rd=yn("setup"),f1=yn("init_instance_callback"),p2=yn("urlconverter_callback"),Ju=yn("auto_focus"),xm=yn("browser_spellcheck"),M0=yn("protect"),h2=yn("paste_block_drop"),m1=yn("paste_data_images"),oE=yn("paste_preprocess"),b2=yn("paste_postprocess"),sE=yn("newdocument_content"),rE=yn("paste_webkit_styles"),y2=yn("paste_remove_styles_if_webkit"),v2=yn("paste_merge_formats"),k2=yn("smart_paste"),aE=yn("paste_as_text"),cE=yn("paste_tab_spaces"),iE=yn("allow_html_data_urls"),w2=yn("text_patterns"),B0=yn("text_patterns_lookup"),P0=yn("noneditable_class"),lE=yn("editable_class"),uE=yn("noneditable_regexp"),g1=yn("preserve_cdata"),_2=yn("highlight_on_focus"),p1=yn("xss_sanitization"),nb=yn("init_content_sync"),h1=e=>e.options.isSet("text_patterns_lookup"),F0=e=>Et.explode(e.options.get("font_size_style_values")),C2=e=>Et.explode(e.options.get("font_size_classes")),S2=e=>e.options.get("encoding")==="xml",$0=e=>Et.explode(e.options.get("images_file_types")),dE=yn("table_tab_navigation"),x2=yn("details_initial_state"),ob=yn("details_serialized_state"),fE=gn,b1=Bt,T2=e=>{const n=e.parentNode;n&&n.removeChild(e)},E2=e=>{const n=qt(e);return{count:e.length-n.length,text:n}},A2=e=>{let n;for(;(n=e.data.lastIndexOf(Qe))!==-1;)e.deleteData(n,1)},y1=(e,n)=>(ja(e),n),mE=(e,n)=>{const o=E2(e.data.substr(0,n.offset())),r=E2(e.data.substr(n.offset()));return(o.text+r.text).length>0?(A2(e),ct(e,n.offset()-o.count)):n},sb=(e,n)=>{const o=n.container(),r=on(as(o.childNodes),e).map(c=>c<n.offset()?ct(o,n.offset()-1):n).getOr(n);return ja(e),r},gE=(e,n)=>b1(e)&&n.container()===e?mE(e,n):y1(e,n),pE=(e,n)=>n.container()===e.parentNode?sb(e,n):y1(e,n),O2=(e,n)=>ct.isTextPosition(n)?gE(e,n):pE(e,n),ja=e=>{fE(e)&&Ps(e)&&(ei(e)?e.removeAttribute("data-mce-caret"):T2(e)),b1(e)&&(A2(e),e.data.length===0&&T2(e))},hE=As,Ap=Cl,bE=_u,rb="*[contentEditable=false],video,audio,embed,object",I0=(e,n,o)=>{const r=jy(n.getBoundingClientRect(),o);let c,u;if(e.tagName==="BODY"){const b=e.ownerDocument.documentElement;c=e.scrollLeft||b.scrollLeft,u=e.scrollTop||b.scrollTop}else{const b=e.getBoundingClientRect();c=e.scrollLeft-b.left,u=e.scrollTop-b.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},yE=e=>{var n,o;const r=La(le.fromDom(e),rb);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if(_d(m)){const b=m.data;b.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(b.length-1,1)}m=u.nextSibling,hf(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},vE=(e,n,o,r)=>{const c=Yu();let u,m;const b=ni(e),k=e.dom,E=(K,ne)=>{let Te;if(D(),bE(ne))return null;if(o(ne)){const ze=Zu(b,ne,K),Re=I0(n,ne,K);k.setStyle(ze,"top",Re.top),m=ze;const Ve=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(Ve,{...Re}),k.add(n,Ve),c.set({caret:Ve,element:ne,before:K}),K&&k.addClass(Ve,"mce-visual-caret-before"),N(),Te=ne.ownerDocument.createRange(),Te.setStart(ze,0),Te.setEnd(ze,0)}else return m=nl(ne,K),Te=ne.ownerDocument.createRange(),Tm(m.nextSibling)?(Te.setStart(m,0),Te.setEnd(m,0)):(Te.setStart(m,1),Te.setEnd(m,1)),Te;return Te},D=()=>{yE(n),m&&(ja(m),m=null),c.on(K=>{k.remove(K.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},N=()=>{u=setInterval(()=>{c.on(K=>{r()?k.toggleClass(K.caret,"mce-visual-caret-hidden"):k.addClass(K.caret,"mce-visual-caret-hidden")})},500)};return{show:E,hide:D,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(K=>{const ne=I0(n,K.element,K.before);k.setStyles(K.caret,{...ne})})},destroy:()=>clearInterval(u)}},L0=()=>nn.browser.isFirefox(),Tm=e=>hE(e)||Ap(e),Op=e=>(Tm(e)||tl(e)&&L0())&&pd(le.fromDom(e)).exists(Fo),Ai=Qa,yg=As,z2=Cl,D2=Uu("display","block table table-cell table-caption list-item"),H0=Ps,V0=xr,U0=gn,kE=Bt,ab=ic,v1=e=>e>0,Em=e=>e<0,cb=(e,n)=>{let o;for(;o=e(n);)if(!V0(o))return o;return null},Qu=(e,n,o,r,c)=>{const u=new vr(e,r),m=yg(e)||V0(e);let b;if(Em(n)){if(m&&(b=cb(u.prev.bind(u),!0),o(b)))return b;for(;b=cb(u.prev.bind(u),c);)if(o(b))return b}if(v1(n)){if(m&&(b=cb(u.next.bind(u),!0),o(b)))return b;for(;b=cb(u.next.bind(u),c);)if(o(b))return b}return null},wE=(e,n)=>{const o=c=>Ai(c.dom),r=c=>c.dom===n;return Fr(le.fromDom(e),o,r).map(c=>c.dom).getOr(n)},Nd=(e,n)=>{for(;e&&e!==n;){if(D2(e))return e;e=e.parentNode}return null},Ou=(e,n,o)=>Nd(e.container(),o)===Nd(n.container(),o),zp=(e,n)=>{if(!n)return F.none();const o=n.container(),r=n.offset();return U0(o)?F.from(o.childNodes[r+e]):F.none()},j0=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},Dp=(e,n,o)=>Nd(n,e)===Nd(o,e),Mf=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let u=c[r];if(u&&H0(u)&&(u=u[r]),yg(u)||z2(u)){if(Dp(n,u,c))return u;break}if(ab(u))break;c=c.parentNode}return null},Rp=Xe(j0,!0),vg=Xe(j0,!1),W0=(e,n,o)=>{let r;const c=Xe(Mf,!0,n),u=Xe(Mf,!1,n),m=o.startContainer,b=o.startOffset;if(xr(m)){const k=kE(m)?m.parentNode:m,E=k.getAttribute("data-mce-caret");if(E==="before"&&(r=k.nextSibling,Op(r)))return Rp(r);if(E==="after"&&(r=k.previousSibling,Op(r)))return vg(r)}if(!o.collapsed)return o;if(Bt(m)){if(H0(m)){if(e===1){if(r=u(m),r)return Rp(r);if(r=c(m),r)return vg(r)}if(e===-1){if(r=c(m),r)return vg(r);if(r=u(m),r)return Rp(r)}return o}if(_d(m)&&b>=m.data.length-1)return e===1&&(r=u(m),r)?Rp(r):o;if(hf(m)&&b<=1)return e===-1&&(r=c(m),r)?vg(r):o;if(b===m.data.length)return r=u(m),r?Rp(r):o;if(b===0)return r=c(m),r?vg(r):o}return o},R2=(e,n)=>zp(e?0:-1,n).filter(yg),kg=(e,n,o)=>{const r=W0(e,n,o);return e===-1?ct.fromRangeStart(r):ct.fromRangeEnd(r)},wg=e=>F.from(e.getNode()).map(le.fromDom),N2=e=>F.from(e.getNode(!0)).map(le.fromDom),k1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Np=(e,n)=>{const o=Ou(e,n);return!o&&Qr(e.getNode())?!0:o};var dc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(dc||(dc={}));const _E=As,ed=Bt,Z0=gn,Mp=Qr,_g=ic,q0=og,w1=sg,CE=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},M2=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,ib=(e,n)=>{if(v1(e)){if(_g(n.previousSibling)&&!ed(n.previousSibling))return ct.before(n);if(ed(n))return ct(n,0)}if(Em(e)){if(_g(n.nextSibling)&&!ed(n.nextSibling))return ct.after(n);if(ed(n))return ct(n,n.data.length)}return Em(e)?Mp(n)?ct.before(n):ct.after(n):ct.before(n)},B2=(e,n)=>{const o=n.nextSibling;return o&&_g(o)?ed(o)?ct(o,0):ct.before(o):P2(dc.Forwards,ct.after(n),e)},P2=(e,n,o)=>{let r,c,u,m;if(!Z0(o)||!n)return null;if(n.isEqual(ct.after(o))&&o.lastChild){if(m=ct.after(o.lastChild),Em(e)&&_g(o.lastChild)&&Z0(o.lastChild))return Mp(o.lastChild)?ct.before(o.lastChild):m}else m=n;const b=m.container();let k=m.offset();if(ed(b)){if(Em(e)&&k>0)return ct(b,--k);if(v1(e)&&k<b.length)return ct(b,++k);r=b}else{if(Em(e)&&k>0&&(c=M2(b,k-1),_g(c)))return!q0(c)&&(u=Qu(c,e,w1,c),u)?ed(u)?ct(u,u.data.length):ct.after(u):ed(c)?ct(c,c.data.length):ct.before(c);if(v1(e)&&k<b.childNodes.length&&(c=M2(b,k),_g(c)))return Mp(c)?B2(o,c):!q0(c)&&(u=Qu(c,e,w1,c),u)?ed(u)?ct(u,0):ct.before(u):ed(c)?ct(c,0):ct.after(c);r=c||m.getNode()}if(r&&(v1(e)&&m.isAtEnd()||Em(e)&&m.isAtStart())&&(r=Qu(r,e,lt,o,!0),w1(r,o)))return ib(e,r);c=r&&Qu(r,e,w1,o);const E=We(qe(CE(b,o),_E));return E&&(!c||!E.contains(c))?(v1(e)?m=ct.after(E):m=ct.before(E),m):c?ib(e,c):null},Am=e=>({next:n=>P2(dc.Forwards,n,e),prev:n=>P2(dc.Backwards,n,e)}),IO=(e,n,o)=>{const r=e?ct.before(o):ct.after(o);return El(e,n,r)},lb=e=>Qr(e)?ct.before(e):ct.after(e),F2=e=>ct.isTextPosition(e)?e.offset()===0:ic(e.getNode()),Zc=e=>{if(ct.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return ic(e.getNode(!0))},_1=(e,n)=>!ct.isTextPosition(e)&&!ct.isTextPosition(n)&&e.getNode()===n.getNode(!0),Cg=e=>!ct.isTextPosition(e)&&Qr(e.getNode()),Sg=(e,n,o)=>e?!_1(n,o)&&!Cg(n)&&Zc(n)&&F2(o):!_1(o,n)&&F2(n)&&Zc(o),El=(e,n,o)=>{const r=Am(n);return F.from(e?r.next(o):r.prev(o))},Om=(e,n,o)=>El(e,n,o).bind(r=>Ou(o,r,n)&&Sg(e,o,r)?El(e,n,r):F.some(r)),G0=(e,n,o,r)=>Om(e,n,o).bind(c=>r(c)?G0(e,n,c,r):F.some(c)),Bp=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Bt(o)?F.some(ct(o,e?0:o.data.length)):o?ic(o)?F.some(e?ct.before(o):lb(o)):IO(e,n,o):F.none()},Gi=Xe(El,!0),oi=Xe(El,!1),ha=Xe(Bp,!0),Al=Xe(Bp,!1),C1="_mce_caret",Dc=e=>gn(e)&&e.id===C1,zm=(e,n)=>{let o=n;for(;o&&o!==e;){if(Dc(o))return o;o=o.parentNode}return null},Pp=e=>j(e.start),ub=e=>Kn(e,"rng"),K0=e=>Kn(e,"id"),Y0=e=>Kn(e,"name"),Bf=e=>Et.isArray(e.start),db=e=>!Y0(e)&&at(e.forward)?e.forward:!0,td=(e,n)=>(gn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),SE=(e,n)=>{const o=F.from(Jh(e.getRoot(),n.start)),r=F.from(Jh(e.getRoot(),n.end));return sa(o,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:db(n)}})},X0=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Qe);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},$2=e=>!e.hasChildNodes(),LO=(e,n)=>Al(e).fold(De,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),I2=(e,n,o)=>$2(n)&&zm(e,n)?(X0(n,o),!0):!1,L2=(e,n,o,r)=>{const c=o[n?"start":"end"],u=e.getRoot();if(c){let m=u,b=c[0];for(let k=c.length-1;m&&k>=1;k--){const E=m.childNodes;if(I2(u,m,r))return!0;if(c[k]>E.length-1)return I2(u,m,r)?!0:LO(m,r);m=E[c[k]]}Bt(m)&&(b=Math.min(c[0],m.data.length)),gn(m)&&(b=Math.min(c[0],m.childNodes.length)),n?r.setStart(m,b):r.setEnd(m,b)}return!0},J0=e=>Bt(e)&&e.data.length>0,Q0=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,u=o.keep;if(r&&c){let m,b;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,b=1):J0(r.nextSibling)?(m=r.nextSibling,b=0):J0(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)+1):(m=c,b=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,b=1):J0(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)):(m=c,b=e.nodeIndex(r)),!u){const k=r.previousSibling,E=r.nextSibling;Et.each(Et.grep(r.childNodes),N=>{Bt(N)&&(N.data=N.data.replace(/\uFEFF/g,""))});let D;for(;D=e.get(o.id+"_"+n);)e.remove(D,!0);if(Bt(E)&&Bt(k)&&!nn.browser.isOpera()){const N=k.data.length;k.appendData(E.data),e.remove(E),m=k,b=N}}return F.some(ct(m,b))}else return F.none()},ek=(e,n)=>{const o=e.createRng();return L2(e,!0,n,o)&&L2(e,!1,n,o)?F.some({range:o,forward:db(n)}):F.none()},H2=(e,n)=>{const o=Q0(e,"start",n),r=Q0(e,"end",n);return sa(o,r.or(o),(c,u)=>{const m=e.createRng();return m.setStart(td(e,c.container()),c.offset()),m.setEnd(td(e,u.container()),u.offset()),{range:m,forward:db(n)}})},V2=(e,n)=>F.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),U2=(e,n)=>{const o=e.dom;if(n){if(Bf(n))return ek(o,n);if(Pp(n))return SE(o,n);if(K0(n))return H2(o,n);if(Y0(n))return V2(o,n);if(ub(n))return F.some({range:n.rng,forward:db(n)})}return F.none()},xE=(e,n,o)=>W_(e,n,o),TE=(e,n)=>{U2(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Ol=e=>gn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",is=(e=>n=>e===n)(fr),Yl=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Dm=e=>!Yl(e)&&!is(e)&&!Bh(e),tk=e=>({value:j2(e)}),j2=e=>wn(e,"#").toUpperCase(),Fp=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},AE=e=>{const n=Fp(e.red)+Fp(e.green)+Fp(e.blue);return tk(n)},nk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,S1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,fb=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),OE=(e,n,o,r)=>{const c=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),b=parseFloat(r);return fb(c,u,m,b)},ok=e=>{if(e==="transparent")return F.some(fb(0,0,0,0));const n=nk.exec(e);if(n!==null)return F.some(OE(n[1],n[2],n[3],"1"));const o=S1.exec(e);return o!==null?F.some(OE(o[1],o[2],o[3],o[4])):F.none()},x1=e=>ok(e).map(AE).map(n=>"#"+n.value).getOr(e),sk=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},HO=e=>Dn(e,n=>{const o=wp(n);return o?[le.fromDom(o)]:[]}),W2=e=>sk(e).length>1,rk=e=>qe(HO(e),cm),$p=e=>La(e,"td[data-mce-selected],th[data-mce-selected]"),mb=(e,n)=>{const o=$p(n);return o.length>0?o:rk(e)},Rm=e=>mb(sk(e.selection.getSel()),le.fromDom(e.getBody())),Md=(e,n)=>Vu(e,"table",n),Z2=e=>{const n=e.startContainer,o=e.startOffset;return Bt(n)?o===0?F.some(le.fromDom(n)):F.none():F.from(n.childNodes[o]).map(le.fromDom)},zE=e=>{const n=e.endContainer,o=e.endOffset;return Bt(n)?o===n.data.length?F.some(le.fromDom(n)):F.none():F.from(n.childNodes[o-1]).map(le.fromDom)},q2=e=>hd(e).fold(st([e]),n=>[e].concat(q2(n))),ak=e=>ki(e).fold(st([e]),n=>Xs(n)==="br"?vi(n).map(o=>[e].concat(ak(o))).getOr([]):[e].concat(ak(n))),Ip=(e,n)=>sa(Z2(n),zE(n),(o,r)=>{const c=Ie(q2(e),Xe(Ns,o)),u=Ie(ak(e),Xe(Ns,r));return c.isSome()&&u.isSome()}).getOr(!1),ck=(e,n,o,r)=>{const c=o,u=new vr(o,c),m=_s(e.schema.getMoveCaretBeforeOnEnterElements(),(k,E)=>!X(["td","th","table"],E.toLowerCase()));let b=o;do{if(Bt(b)&&Et.trim(b.data).length!==0){r?n.setStart(b,0):n.setEnd(b,b.data.length);return}if(m[b.nodeName]){r?n.setStartBefore(b):b.nodeName==="BR"?n.setEndBefore(b):n.setEndAfter(b);return}}while(b=r?u.next():u.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},T1=e=>{const n=e.selection.getSel();return Pe(n)&&n.rangeCount>0},ik=(e,n)=>{const o=Rm(e);o.length>0?ae(o,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),n(u,!0)}):n(e.selection.getRng(),!1)},G2=(e,n,o)=>{const r=o1(e,n);o(r),e.moveToBookmark(r)},gb=e=>Ro(e==null?void 0:e.nodeType),lk=e=>gn(e)&&!Ol(e)&&!Dc(e)&&!wu(e),DE=(e,n)=>{if(lk(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},zu=e=>e.isContentEditable===!0,K2=(e,n,o)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=As(u);G2(r,!0,()=>{n()}),m&&As(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&RE(c,r)},RE=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:u,startOffset:m}=c,b=n.getNode();if(!DE(e,b)&&gn(u)){const k=u.childNodes,E=e.getRoot();let D;if(m<k.length){const N=k[m];D=new vr(N,(o=e.getParent(N,e.isBlock))!==null&&o!==void 0?o:E)}else{const N=k[k.length-1];D=new vr(N,(r=e.getParent(N,e.isBlock))!==null&&r!==void 0?r:E),D.next(!0)}for(let N=D.current();N;N=D.next()){if(e.getContentEditable(N)==="false")return;if(Bt(N)&&!tc(N)){c.setStart(N,0),n.setRng(c);return}}}},dn=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(gn(e)||!tc(e))return e}},Wa=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||mm(e,n),Du=(e,n,o)=>e.schema.isValidChild(n,o),tc=(e,n=!1)=>{if(Pe(e)&&Bt(e)){const o=n?e.data.replace(/ /g," "):e.data;return lm(o)}else return!1},Ru=e=>Pe(e)&&Bt(e)&&e.length===0,Y2=(e,n)=>{const o="[data-mce-cef-wrappable]",r=eb(e),c=os(r)?o:`${o},${r}`;return Fi(le.fromDom(n),c)},pb=(e,n)=>{const o=e.dom;return lk(n)&&o.getContentEditable(n)==="false"&&Y2(e,n)&&o.select('[contenteditable="true"]',n).length===0},Xl=(e,n)=>ie(e)?e(n):(Pe(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),E1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),hb=(e,n)=>{if(Zt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=x1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},bb=(e,n,o)=>{const r=e.getStyle(n,o);return hb(r,o)},uk=(e,n)=>{let o;return e.getParent(n,r=>gn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},yb=(e,n,o)=>e.getParents(n,o,e.getRoot()),A1=(e,n,o)=>{const r=e.formatter.get(n);return Pe(r)&&be(r,o)},dk=(e,n)=>A1(e,n,r=>{const c=u=>ie(u)||u.length>1&&u.charAt(0)==="%";return be(["styles","attributes"],u=>Cs(r,u).exists(m=>{const b=gt(m)?m:Ur(m);return be(b,c)}))}),NE=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>_s(u,(m,b)=>be(r,k=>k===b));return A1(e,n,u=>{const m=c(u);return A1(e,o,b=>{const k=c(b);return Ee(m,k)})})},Nu=e=>ar(e,"block"),O1=e=>Nu(e)&&e.wrapper===!0,vb=e=>Nu(e)&&e.wrapper!==!0,ll=e=>ar(e,"selector"),Ba=e=>ar(e,"inline"),fk=e=>ll(e)&&Ba(e)&&Ws(Cs(e,"mixed"),!0),kb=e=>ll(e)&&e.expand!==!1&&!Ba(e),zl=Ol,wb=yb,mk=tc,gk=Wa,ME=e=>Qr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,X2=(e,n)=>{let o=n;for(;o;){if(gn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},_b=(e,n,o,r)=>{const c=n.data;if(e){for(let u=o;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=o;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},J2=(e,n,o)=>_b(e,n,o,r=>is(r)||Yl(r)),BE=(e,n,o)=>_b(e,n,o,Dm),Nm=(e,n,o,r,c,u)=>{let m;const b=e.getParent(o,e.isBlock)||n,k=(D,N,I)=>{const ee=wm(e),oe=c?ee.backwards:ee.forwards;return F.from(oe(D,N,(K,ne)=>zl(K.parentNode)?-1:(m=K,I(c,K,ne)),b))};return k(o,r,J2).bind(D=>u?k(D.container,D.offset+(c?-1:0),BE):F.some(D)).orThunk(()=>m?F.some({container:m,offset:c?0:m.length}):F.none())},Rc=(e,n,o,r,c)=>{const u=r[c];Bt(r)&&os(r.data)&&u&&(r=u);const m=wb(e,r);for(let b=0;b<m.length;b++)for(let k=0;k<n.length;k++){const E=n[k];if(!(Pe(E.collapsed)&&E.collapsed!==o.collapsed)&&ll(E)&&e.is(m[b],E.selector))return m[b]}return r},Jl=(e,n,o,r)=>{var c;let u=o;const m=e.getRoot(),b=n[0];if(Nu(b)&&(u=b.wrapper?null:e.getParent(o,b.block,m)),!u){const k=(c=e.getParent(o,"LI,TD,TH"))!==null&&c!==void 0?c:m;u=e.getParent(Bt(o)?o.parentNode:o,E=>E!==m&&gk(e.schema,E),k)}if(u&&Nu(b)&&b.wrapper&&(u=wb(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!E1(u,"br")););return u||o},Dl=(e,n,o,r)=>{const c=o.parentNode;return Pe(o[r])?!1:c===n||Zt(c)||e.isBlock(c)?!0:Dl(e,n,c,r)},ul=(e,n,o,r,c)=>{let u=o;const m=c?"previousSibling":"nextSibling",b=e.getRoot();if(Bt(o)&&!mk(o)&&(c?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let k=u[m];k;k=k[m]){const E=Bt(k)&&!Dl(e,b,k,m);if(!zl(k)&&!ME(k)&&!mk(k,E))return u}if(u===b||u.parentNode===b){o=u;break}u=u.parentNode}return o},z1=e=>zl(e.parentNode)||zl(e),xg=(e,n,o,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:b}=n;const k=o[0];return gn(c)&&c.hasChildNodes()&&(c=Zl(c,u),Bt(c)&&(u=0)),gn(m)&&m.hasChildNodes()&&(m=Zl(m,n.collapsed?b:b-1),Bt(m)&&(b=m.data.length)),c=X2(e,c),m=X2(e,m),z1(c)&&(c=zl(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Bt(c)&&(u=n.collapsed?c.length:0)),z1(m)&&(m=zl(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,Bt(m)&&(b=n.collapsed?0:m.length)),n.collapsed&&(Nm(e,e.getRoot(),c,u,!0,r).each(({container:N,offset:I})=>{c=N,u=I}),Nm(e,e.getRoot(),m,b,!1,r).each(({container:N,offset:I})=>{m=N,b=I})),(Ba(k)||k.block_expand)&&((!Ba(k)||!Bt(c)||u===0)&&(c=ul(e,o,c,u,!0)),(!Ba(k)||!Bt(m)||b===m.data.length)&&(m=ul(e,o,m,b,!1))),kb(k)&&(c=Rc(e,o,n,c,"previousSibling"),m=Rc(e,o,n,m,"nextSibling")),(Nu(k)||ll(k))&&(c=Jl(e,o,c,"previousSibling"),m=Jl(e,o,m,"nextSibling"),Nu(k)&&(e.isBlock(c)||(c=ul(e,o,c,u,!0)),e.isBlock(m)||(m=ul(e,o,m,b,!1)))),gn(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),gn(m)&&m.parentNode&&(b=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:b}},Pf=(e,n,o)=>{var r;const c=n.startOffset,u=Zl(n.startContainer,c),m=n.endOffset,b=Zl(n.endContainer,m-1),k=ne=>{const Te=ne[0];Bt(Te)&&Te===u&&c>=Te.data.length&&ne.splice(0,1);const ze=ne[ne.length-1];return m===0&&ne.length>0&&ze===b&&Bt(ze)&&ne.splice(ne.length-1,1),ne},E=(ne,Te,ze)=>{const Re=[];for(;ne&&ne!==ze;ne=ne[Te])Re.push(ne);return Re},D=(ne,Te)=>e.getParent(ne,ze=>ze.parentNode===Te,Te),N=(ne,Te,ze)=>{const Re=ze?"nextSibling":"previousSibling";for(let Ve=ne,St=Ve.parentNode;Ve&&Ve!==Te;Ve=St){St=Ve.parentNode;const Kt=E(Ve===ne?Ve:Ve[Re],Re);Kt.length&&(ze||Kt.reverse(),o(k(Kt)))}};if(u===b)return o(k([u]));const I=(r=e.findCommonAncestor(u,b))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,b))return N(u,I,!0);if(e.isChildOf(b,u))return N(b,I);const ee=D(u,I)||u,oe=D(b,I)||b;N(u,ee,!0);const K=E(ee===u?ee:ee.nextSibling,"nextSibling",oe===b?oe.nextSibling:oe);K.length&&o(k(K)),N(b,oe)},PE=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],pk=e=>Ya(e)&&wi(e)===Qe,FE=(e,n,o,r)=>Lc(n).fold(()=>"skipping",c=>r==="br"||pk(n)?"valid":DT(n)?"existing":Dc(n.dom)?"caret":be(PE,u=>Fi(n,u))?"valid-block":!Du(e,o,r)||!Du(e,Xs(c),o)?"invalid-child":"valid"),Q2=(e,n)=>{const o=xg(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},eC=(e,n,o,r,c,u)=>{const{uid:m=n,...b}=o;Lu(e,Wl()),ir(e,`${ug()}`,m),ir(e,`${al()}`,r);const{attributes:k={},classes:E=[]}=c(m,b);if(bi(e,k),m0(e,E),u){E.length>0&&ir(e,`${Kh()}`,E.join(","));const D=Yo(k);D.length>0&&ir(e,`${Yh()}`,D.join(","))}},tC=e=>{Ll(e,Wl()),Yr(e,`${ug()}`),Yr(e,`${al()}`),Yr(e,`${vp()}`);const n=hl(e,`${Yh()}`).map(r=>r.split(",")).getOr([]),o=hl(e,`${Kh()}`).map(r=>r.split(",")).getOr([]);ae(n,r=>Yr(e,r)),g0(e,o),Yr(e,`${Kh()}`),Yr(e,`${Yh()}`)},D1=(e,n,o,r,c)=>{const u=le.fromTag("span",e);return eC(u,n,o,r,c,!1),u},hk=(e,n,o,r,c,u)=>{const m=[],b=D1(e.getDoc(),o,u,r,c),k=Yu(),E=()=>{k.clear()},D=()=>k.get().getOrThunk(()=>{const oe=Tf(b);return m.push(oe),k.set(oe),oe}),N=oe=>{ae(oe,I)},I=oe=>{switch(FE(e,oe,"span",Xs(oe))){case"invalid-child":{E();const ne=Ia(oe);N(ne),E();break}case"valid-block":{E(),eC(oe,o,u,r,c,!0);break}case"valid":{const ne=D();Ii(oe,ne);break}}},ee=oe=>{const K=ve(oe,le.fromDom);N(K)};return Pf(e.dom,n,oe=>{E(),ee(oe)}),m},mr=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=Rm(e).length>0,b=$r("mce-annotation");if(u.collapsed&&!m&&Q2(e,u),c.getRng().collapsed&&!m){const k=D1(e.getDoc(),b,r,n,o.decorate);uf(k,fr),c.getRng().insertNode(k.dom),c.select(k.dom)}else G2(c,!1,()=>{ik(e,k=>{hk(e,k,b,n,o.decorate,r)})})})},Ff=e=>{const n=Uy();FO(e,n);const o=R_(e,n),r=Ji("span"),c=u=>{ae(u,m=>{r(m)?Jc(m):tC(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(b=>{mr(e,u,b,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{d0(e,F.some(u)).each(({elements:m})=>{const b=e.selection.getBookmark();c(m),e.selection.moveToBookmark(b)})},removeAll:u=>{const m=e.selection.getBookmark();Tt(f0(e,u),(b,k)=>{c(b)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=f0(e,u);return Lo(m,b=>ve(b,k=>k.dom))}}},Lp=e=>({getBookmark:Xe(xE,e),moveToBookmark:Xe(TE,e)});Lp.isBookmarkNode=Ol;const bk=(e,n,o)=>o.collapsed?!1:be(o.getClientRects(),r=>kp(r,e,n)),nC=(e,n)=>e.dispatch("PreProcess",n),yk=(e,n)=>e.dispatch("PostProcess",n),oC=e=>{e.dispatch("remove")},R1=e=>{e.dispatch("detach")},$E=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},IE=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},sC=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},LE=e=>{e.dispatch("PreInit")},vk=e=>{e.dispatch("PostRender")},Hp=e=>{e.dispatch("Init")},Vp=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},N1=(e,n,o)=>{e.dispatch(n,o)},rC=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},Ql=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Nc=(e,n)=>e.dispatch("BeforeSetContent",n),qc=(e,n)=>e.dispatch("SetContent",n),Bd=(e,n)=>e.dispatch("BeforeGetContent",n),HE=(e,n)=>e.dispatch("GetContent",n),VE=(e,n)=>{e.dispatch("AutocompleterStart",n)},UE=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},bs=e=>{e.dispatch("AutocompleterEnd")},jE=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),aC=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),M1=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),WE=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),hn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||hn.metaKeyPressed(e),metaKeyPressed:e=>nn.os.isMacOS()||nn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Tg="data-mce-selected",ZE="table,img,figure.image,hr,video,span.mce-preview-object,details",cC=Math.abs,B1=Math.round,Cb={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},kk=e=>e.type==="longpress"||e.type.indexOf("touch")===0,wk=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,u=n.getBody();let m,b,k,E,D,N,I,ee,oe,K,ne,Te,ze,Re,Ve,St,Kt;const rn=Vt=>Pe(Vt)&&(jr(Vt)||o.is(Vt,"figure.image")),et=Vt=>Cl(Vt)||o.hasClass(Vt,"mce-preview-object"),tt=(Vt,Co)=>{if(kk(Vt)){const ms=Vt.touches[0];return rn(Vt.target)&&!bk(ms.clientX,ms.clientY,Co)}else return rn(Vt.target)&&!bk(Vt.clientX,Vt.clientY,Co)},Nt=Vt=>{const Co=Vt.target;tt(Vt,n.selection.getRng())&&!Vt.isDefaultPrevented()&&n.selection.select(Co)},jn=Vt=>o.hasClass(Vt,"mce-preview-object")&&Pe(Vt.firstElementChild)?[Vt,Vt.firstElementChild]:o.is(Vt,"figure.image")?[Vt.querySelector("img")]:[Vt],ro=Vt=>{const Co=R0(n);return!Co||Vt.getAttribute("data-mce-resize")==="false"||Vt===n.getBody()?!1:o.hasClass(Vt,"mce-preview-object")&&Pe(Vt.firstElementChild)?Fi(le.fromDom(Vt.firstElementChild),Co):Fi(le.fromDom(Vt),Co)},Uo=Vt=>et(Vt)?o.create("img",{src:nn.transparentSrc}):Vt.cloneNode(!0),ls=(Vt,Co,ms)=>{if(Pe(ms)){const nr=jn(Vt);ae(nr,Mn=>{Mn.style[Co]||!n.schema.isValid(Mn.nodeName.toLowerCase(),Co)?o.setStyle(Mn,Co,ms):o.setAttrib(Mn,Co,""+ms)})}},tr=(Vt,Co,ms)=>{ls(Vt,"width",Co),ls(Vt,"height",ms)},Ss=Vt=>{let Co,ms,nr,Mn,ss;Co=Vt.screenX-N,ms=Vt.screenY-I,Re=Co*E[2]+K,Ve=ms*E[3]+ne,Re=Re<5?5:Re,Ve=Ve<5?5:Ve,(rn(m)||et(m))&&Ei(n)!==!1?nr=!hn.modifierPressed(Vt):nr=hn.modifierPressed(Vt),nr&&(cC(Co)>cC(ms)?(Ve=B1(Re*Te),Re=B1(Ve/Te)):(Re=B1(Ve/Te),Ve=B1(Re*Te))),tr(b,Re,Ve),Mn=E.startPos.x+Co,ss=E.startPos.y+ms,Mn=Mn>0?Mn:0,ss=ss>0?ss:0,o.setStyles(k,{left:Mn,top:ss,display:"block"}),k.innerHTML=Re+" &times; "+Ve,E[2]<0&&b.clientWidth<=Re&&o.setStyle(b,"left",ee+(K-Re)),E[3]<0&&b.clientHeight<=Ve&&o.setStyle(b,"top",oe+(ne-Ve)),Co=u.scrollWidth-St,ms=u.scrollHeight-Kt,Co+ms!==0&&o.setStyles(k,{left:Mn-Co,top:ss-ms}),ze||(IE(n,m,K,ne,"corner-"+E.name),ze=!0)},ca=()=>{const Vt=ze;ze=!1,Vt&&(ls(m,"width",Re),ls(m,"height",Ve)),o.unbind(r,"mousemove",Ss),o.unbind(r,"mouseup",ca),c!==r&&(o.unbind(c,"mousemove",Ss),o.unbind(c,"mouseup",ca)),o.remove(b),o.remove(k),o.remove(D),fi(m),Vt&&(sC(n,m,Re,Ve,"corner-"+E.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},fi=Vt=>{Os();const Co=o.getPos(Vt,u),ms=Co.x,nr=Co.y,Mn=Vt.getBoundingClientRect(),ss=Mn.width||Mn.right-Mn.left,ur=Mn.height||Mn.bottom-Mn.top;m!==Vt&&(Lt(),m=Vt,Re=Ve=0);const Nr=n.dispatch("ObjectSelected",{target:Vt});ro(Vt)&&!Nr.isDefaultPrevented()?Tt(Cb,(gr,Pc)=>{const fd=Yd=>{const Jf=jn(m)[0];N=Yd.screenX,I=Yd.screenY,K=Jf.clientWidth,ne=Jf.clientHeight,Te=ne/K,E=gr,E.name=Pc,E.startPos={x:ss*gr[0]+ms,y:ur*gr[1]+nr},St=u.scrollWidth,Kt=u.scrollHeight,D=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(D,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),b=Uo(m),o.addClass(b,"mce-clonedresizable"),o.setAttrib(b,"data-mce-bogus","all"),b.contentEditable="false",o.setStyles(b,{left:ms,top:nr,margin:0}),tr(b,ss,ur),b.removeAttribute(Tg),u.appendChild(b),o.bind(r,"mousemove",Ss),o.bind(r,"mouseup",ca),c!==r&&(o.bind(c,"mousemove",Ss),o.bind(c,"mouseup",ca)),k=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},K+" &times; "+ne)};let iu=o.get("mceResizeHandle"+Pc);iu&&o.remove(iu),iu=o.add(u,"div",{id:"mceResizeHandle"+Pc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Pc+"-resize; margin:0; padding:0"}),o.bind(iu,"mousedown",Yd=>{Yd.stopImmediatePropagation(),Yd.preventDefault(),fd(Yd)}),gr.elm=iu,o.setStyles(iu,{left:ss*gr[0]+ms-iu.offsetWidth/2,top:ur*gr[1]+nr-iu.offsetHeight/2})}):Lt(!1)},hc=Gh(fi,0),Lt=(Vt=!0)=>{hc.cancel(),Os(),m&&Vt&&m.removeAttribute(Tg),Tt(Cb,(Co,ms)=>{const nr=o.get("mceResizeHandle"+ms);nr&&(o.unbind(nr),o.remove(nr))})},Hn=(Vt,Co)=>o.isChildOf(Vt,Co),Bs=Vt=>{if(ze||n.removed||n.composing)return;const Co=Vt.type==="mousedown"?Vt.target:e.getNode(),ms=vl(le.fromDom(Co),ZE).map(Mn=>Mn.dom).filter(Mn=>o.isEditable(Mn.parentElement)).getOrUndefined(),nr=Pe(ms)?o.getAttrib(ms,Tg,"1"):"1";if(ae(o.select(`img[${Tg}],hr[${Tg}]`),Mn=>{Mn.removeAttribute(Tg)}),Pe(ms)&&Hn(ms,u)&&n.hasFocus()){Vn();const Mn=e.getStart(!0);if(Hn(Mn,ms)&&Hn(e.getEnd(!0),ms)){o.setAttrib(ms,Tg,nr),hc.throttle(ms);return}}Lt()},Os=()=>{Tt(Cb,Vt=>{Vt.elm&&(o.unbind(Vt.elm),delete Vt.elm)})},Vn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Vn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Bs),n.on("keyup compositionend",Vt=>{m&&m.nodeName==="TABLE"&&Bs(Vt)}),n.on("hide blur",Lt),n.on("contextmenu longpress",Nt,!0)}),n.on("remove",Os),{isResizable:ro,showResizeRect:fi,hideResizeRect:Lt,updateResizeRect:Bs,destroy:()=>{hc.cancel(),m=b=D=null}}},qE=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},VO=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},iC=(e,n,o)=>{const r=e.document.createRange();return qE(r,n),VO(r,o),r},lC=(e,n,o,r,c)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,c),u},P1=Df.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),GE=(e,n,o)=>n(le.fromDom(o.startContainer),o.startOffset,le.fromDom(o.endContainer),o.endOffset),ko=(e,n)=>n.match({domRange:o=>({ltr:st(o),rtl:F.none}),relative:(o,r)=>({ltr:Ye(()=>iC(e,o,r)),rtl:Ye(()=>F.some(iC(e,r,o)))}),exact:(o,r,c,u)=>({ltr:Ye(()=>lC(e,o,r,c,u)),rtl:Ye(()=>F.some(lC(e,c,u,o,r)))})}),KE=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>P1.rtl(le.fromDom(c.endContainer),c.endOffset,le.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>GE(e,P1.ltr,o)):GE(e,P1.ltr,o)},YE=(e,n)=>{const o=ko(e,n);return KE(e,o)};P1.ltr,P1.rtl;const Sb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},F1=(e,n,o)=>{var r,c;return F.from((c=(r=e.dom).caretPositionFromPoint)===null||c===void 0?void 0:c.call(r,n,o)).bind(u=>{if(u.offsetNode===null)return F.none();const m=e.dom.createRange();return m.setStart(u.offsetNode,u.offset),m.collapse(),F.some(m)})},XE=(e,n,o)=>{var r,c;return F.from((c=(r=e.dom).caretRangeFromPoint)===null||c===void 0?void 0:c.call(r,n,o))},JE=(()=>document.caretPositionFromPoint?F1:document.caretRangeFromPoint?XE:F.none)(),QE=(e,n,o)=>{const r=le.fromDom(e.document);return JE(r,n,o).map(c=>Sb.create(le.fromDom(c.startContainer),c.startOffset,le.fromDom(c.endContainer),c.endOffset))},xb=Df.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_k=(e,n,o,r)=>e.fold(n,o,r),uC=e=>e.fold(Bn,Bn,Bn),Ck=xb.before,Sk=xb.on,dC=xb.after,$f={before:Ck,on:Sk,after:dC,cata:_k,getStart:uC},Up=Df.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),xk=e=>Up.exact(e.start,e.soffset,e.finish,e.foffset),e3=e=>e.match({domRange:n=>le.fromDom(n.startContainer),relative:(n,o)=>$f.getStart(n),exact:(n,o,r,c)=>n}),t3=Up.domRange,Fs=Up.relative,Tk=Up.exact,Pd=e=>{const n=e3(e);return hu(n)},Fd=Sb.create,If={domRange:t3,relative:Fs,exact:Tk,exactFromRange:xk,getWin:Pd,range:Fd},si=(e,n)=>{const o=Xs(e);return o==="input"?$f.after(e):X(["br","img"],o)?n===0?$f.before(e):$f.after(e):$f.on(e,n)},$1=(e,n)=>{const o=e.fold($f.before,si,$f.after),r=n.fold($f.before,si,$f.after);return If.relative(o,r)},jp=(e,n,o,r)=>{const c=si(e,n),u=si(o,r);return If.relative(c,u)},I1=e=>e.match({domRange:n=>{const o=le.fromDom(n.startContainer),r=le.fromDom(n.endContainer);return jp(o,n.startOffset,r,n.endOffset)},relative:$1,exact:jp}),Eg=(e,n)=>{const r=(n||document).createDocumentFragment();return ae(e,c=>{r.appendChild(c.dom)}),le.fromDom(r)},n3=e=>{const n=If.getWin(e).dom,o=(c,u,m,b)=>lC(n,c,u,m,b),r=I1(e);return YE(n,r).match({ltr:o,rtl:o})},jO=(e,n,o)=>QE(e,n,o),o3=(e,n,o)=>{const r=hu(le.fromDom(o));return jO(r.dom,e,n).map(c=>{const u=o.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},fC=(e,n)=>Pe(e)&&Pe(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,ys=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Mu=(e,n,o)=>ys(e,n,o)!==null,Wp=(e,n,o)=>Mu(e,n,r=>r.nodeName===o),s3=(e,n)=>Ps(e)&&!Mu(e,n,Dc),Ag=(e,n,o)=>{const r=n.parentNode;if(r){const c=new vr(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[o?"prev":"next"]();)if(Qr(u))return!0}return!1},ws=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},r3=(e,n)=>{let o=n;for(;o&&o!==e;){if(As(o))return!0;o=o.parentNode}return!1},L1=(e,n,o,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),b=c.parentNode;let k,E;if(!b)return F.none();const D=e.getParent(b,e.isBlock)||u;if(r&&Qr(c)&&n&&e.isEmpty(D))return F.some(ct(b,e.nodeIndex(c)));const N=new vr(c,D);for(;E=N[r?"prev":"next"]();){if(e.getContentEditableParent(E)==="false"||s3(E,u))return F.none();if(Bt(E)&&E.data.length>0)return Wp(E,u,"A")?F.none():F.some(ct(E,r?E.data.length:0));if(e.isBlock(E)||m[E.nodeName.toLowerCase()])return F.none();k=E}return ju(k)?F.none():o&&k?F.some(ct(k,0)):F.none()},H1=(e,n,o,r)=>{const c=e.getRoot();let u,m=!1,b=o?r.startContainer:r.endContainer,k=o?r.startOffset:r.endOffset;const E=gn(b)&&k===b.childNodes.length,D=e.schema.getNonEmptyElements();let N=o;if(Ps(b))return F.none();if(gn(b)&&k>b.childNodes.length-1&&(N=!1),_l(b)&&(b=c,k=0),b===c){if(N&&(u=b.childNodes[k>0?k-1:0],u&&(Ps(u)||D[u.nodeName]||tl(u))))return F.none();if(b.hasChildNodes()){if(k=Math.min(!N&&k>0?k-1:k,b.childNodes.length-1),b=b.childNodes[k],k=Bt(b)&&E?b.data.length:0,!n&&b===c.lastChild&&tl(b)||r3(c,b)||Ps(b))return F.none();if(b.hasChildNodes()&&!tl(b)){u=b;const I=new vr(b,c);do{if(As(u)||Ps(u)){m=!1;break}if(Bt(u)&&u.data.length>0){k=N?0:u.data.length,b=u,m=!0;break}if(D[u.nodeName.toLowerCase()]&&!ac(u)){k=e.nodeIndex(u),b=u.parentNode,N||k++,m=!0;break}}while(u=N?I.next():I.prev())}}}return n&&(Bt(b)&&k===0&&L1(e,E,n,!0,b).each(I=>{b=I.container(),k=I.offset(),m=!0}),gn(b)&&(u=b.childNodes[k],u||(u=b.childNodes[k-1]),u&&Qr(u)&&!ws(u,"A")&&!Ag(e,u,!1)&&!Ag(e,u,!0)&&L1(e,E,n,!0,u).each(I=>{b=I.container(),k=I.offset(),m=!0}))),N&&!n&&Bt(b)&&k===b.data.length&&L1(e,E,n,!1,b).each(I=>{b=I.container(),k=I.offset(),m=!0}),m&&b?F.some(ct(b,k)):F.none()},V1=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=ct.fromRangeStart(n);return H1(e,o,!0,r).each(u=>{(!o||!ct.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),o||H1(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),fC(n,r)?F.none():F.some(r)},Lf=(e,n)=>e.splitText(n),$d=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&Bt(n)){if(o>0&&o<n.data.length)if(r=Lf(n,o),n=r.previousSibling,c>o){c=c-o;const u=Lf(r,c).previousSibling;n=r=u,c=u.data.length,o=0}else c=0}else if(Bt(n)&&o>0&&o<n.data.length&&(n=Lf(n,o),o=0),Bt(r)&&c>0&&c<r.data.length){const u=Lf(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},l=e=>({walk:(u,m)=>Pf(e,u,m),split:$d,expand:(u,m={type:"word"})=>{if(m.type==="word"){const b=xg(e,u,[{inline:"span"}]),k=e.createRng();return k.setStart(b.startContainer,b.startOffset),k.setEnd(b.endContainer,b.endOffset),k}return u},normalize:u=>V1(e,u).fold(De,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});l.compareRanges=fC,l.getCaretRangeFromPoint=o3,l.getSelectedNode=wp,l.getNode=Zl;const p=((e,n)=>{const o=(b,k)=>{if(!Ro(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const E=b.dom;yu(E)&&(E.style[e]=k+"px")},r=b=>{const k=n(b);if(k<=0||k===null){const E=H(b,e);return parseFloat(E)||0}return k},c=r,u=(b,k)=>Q(k,(E,D)=>{const N=H(b,D),I=N===void 0?0:parseInt(N,10);return isNaN(I)?E:E+I},0);return{set:o,get:r,getOuter:c,aggregate:u,max:(b,k,E)=>{const D=u(b,E);return k>D?k-D:0}}})("height",e=>{const n=e.dom;return bd(e)?n.getBoundingClientRect().height:n.offsetHeight}),y=e=>p.get(e),C=()=>le.fromDom(document),O=(e,n)=>e.view(n).fold(st([]),r=>{const c=e.owner(r),u=O(e,c);return[r].concat(u)}),$=(e,n)=>{const o=n.owner(e);return O(n,o)};var he=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?F.none():F.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(le.fromDom)},owner:e=>yi(e)});const Ne=e=>{const n=C(),o=el(n),r=$(e,he),c=rm(e),u=Ue(r,(m,b)=>{const k=rm(b);return{left:m.left+k.left,top:m.top+k.top}},{left:0,top:0});return sm(u.left+c.left+o.left,u.top+c.top+o.top)},Ct=e=>Xs(e)==="textarea",sn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Jt=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},bt=(e,n)=>{const o=Ia(e);if(o.length===0||Ct(e))return{element:e,offset:n};if(n<o.length&&!Ct(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return Ct(r)?{element:e,offset:n}:Xs(r)==="img"?{element:r,offset:1}:Ya(r)?{element:r,offset:wi(r).length}:{element:r,offset:Ia(r).length}}},Qt=(e,n)=>{const o=Hv(e),r=y(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},pt=(e,n)=>{const o=bt(e,n),r=le.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Qe+"</span>");return Xn(o.element,r),Qt(r,()=>Es(r))},zn=e=>Qt(le.fromDom(e),Oe),Oo=(e,n,o,r)=>{Ta(e,(c,u)=>Lr(e,n,o,r),o)},Go=(e,n,o,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(sn(e,u))return;const m=el(n).top;o(e,n,m,r,c),Jt(e,u)},Lr=(e,n,o,r)=>{const c=le.fromDom(e.getBody()),u=le.fromDom(e.getDoc());Nn(c);const m=pt(le.fromDom(o.startContainer),o.startOffset);Go(e,u,n,m,r),m.cleanup()},Pa=(e,n,o,r)=>{const c=le.fromDom(e.getDoc());Go(e,c,o,zn(n),r)},Ta=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,u=o.endContainer,m=o.endOffset;n(le.fromDom(r),le.fromDom(u));const b=e.dom.createRng();b.setStart(r,c),b.setEnd(u,m),e.selection.setRng(o)},ri=(e,n,o,r,c)=>{const u=n.pos;if(r)Ah(u.left,u.top,c);else{const m=u.top-o+n.height;Ah(-e.getBody().getBoundingClientRect().left,m,c)}},Og=(e,n,o,r,c,u)=>{const m=r+o,b=c.pos.top,k=c.bottom,E=k-b>=r;b<o?ri(e,c,r,u!==!1,n):b>m?ri(e,c,r,E?u!==!1:u===!0,n):k>m&&!E&&ri(e,c,r,u===!0,n)},Tb=(e,n,o,r,c)=>{const u=hu(n).dom.innerHeight;Og(e,n,o,u,r,c)},U1=(e,n,o,r,c)=>{const u=hu(n).dom.innerHeight;Og(e,n,o,u,r,c);const m=Ne(r.element),b=Dh(window);m.top<b.y?Oh(r.element,c!==!1):m.top>b.bottom&&Oh(r.element,c===!0)},j1=(e,n,o)=>Oo(e,Tb,n,o),lr=(e,n,o)=>Pa(e,n,Tb,o),ai=(e,n,o)=>Oo(e,U1,n,o),Oi=(e,n,o)=>Pa(e,n,U1,o),Bu=(e,n,o)=>{(e.inline?lr:Oi)(e,n,o)},zi=(e,n,o)=>{(e.inline?j1:ai)(e,n,o)},zg=e=>e.dom.focus(),ci=e=>{const n=$i(e).dom;return e.dom===n.activeElement},Eb=(e=C())=>F.from(e.dom.activeElement).map(le.fromDom),Ab=e=>Eb($i(e)).filter(n=>e.dom.contains(n.dom)),nd=(e,n)=>{const o=Ya(n)?wi(n).length:Ia(n).length+1;return e>o?o:e<0?0:e},fc=e=>If.range(e.start,nd(e.soffset,e.start),e.finish,nd(e.foffset,e.finish)),Ek=(e,n)=>!ku(n.dom)&&($a(e,n)||Ns(e,n)),mC=e=>n=>Ek(e,n.start)&&Ek(e,n.finish),gC=e=>e.inline||nn.browser.isFirefox(),pC=e=>If.range(le.fromDom(e.startContainer),e.startOffset,le.fromDom(e.endContainer),e.endOffset),a3=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?F.none():F.from(n.getRangeAt(0))).map(pC)},Ak=e=>{const n=hu(e);return a3(n.dom).filter(mC(e))},c3=(e,n)=>F.from(n).filter(mC(e)).map(fc),Ob=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),F.some(n)}catch{return F.none()}},i3=e=>{const n=gC(e)?Ak(le.fromDom(e.getBody())):F.none();e.bookmark=n.isSome()?n:e.bookmark},hC=e=>(e.bookmark?e.bookmark:F.none()).bind(o=>c3(le.fromDom(e.getBody()),o)).bind(Ob),WO=e=>{hC(e).each(n=>e.selection.setRng(n))},ZO={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},BB=(e,n)=>(Ro(n)||(n=0),setTimeout(e,n)),u3=(e,n)=>(Ro(n)||(n=0),setInterval(e,n)),od={setEditorTimeout:(e,n,o)=>BB(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=u3(()=>{e.removed?clearInterval(r):n()},o);return r}},qO=e=>e.type==="nodechange"&&e.selectionChange,GO=(e,n)=>{const o=()=>{n.throttle()};qs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{qs.DOM.unbind(document,"mouseup",o)})},KO=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},PB=(e,n)=>{KO(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{qO(o)||i3(e)})},FB=e=>{const n=Gh(()=>{i3(e)},0);e.on("init",()=>{e.inline&&GO(e,n),PB(e,n)}),e.on("remove",()=>{n.cancel()})};let W1;const d3=qs.DOM,bC=e=>gn(e)&&ZO.isEditorUIElement(e),yC=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Ok=(e,n)=>{const o=l2(e);return d3.getParent(n,c=>bC(c)||(o?e.dom.is(c,o):!1))!==null},vC=e=>{try{const n=$i(le.fromDom(e.getElement()));return Eb(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},YO=(e,n)=>{const o=n.editor;FB(o);const r=(c,u)=>{if(_2(c)&&c.inline!==!0){const m=le.fromDom(c.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;yC(vC(o))&&r(o,Lu),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{od.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!yC(vC(o))||c!==o)&&r(o,Ll),!Ok(o,vC(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),W1||(W1=c=>{const u=e.activeEditor;u&&cf(c).each(m=>{const b=m;b.ownerDocument===document&&b!==document.body&&!Ok(u,b)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},d3.bind(document,"focusin",W1))},$B=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&W1&&(d3.unbind(document,"focusin",W1),W1=null)},IB=e=>{e.on("AddEditor",Xe(YO,e)),e.on("RemoveEditor",Xe($B,e))},LB=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),HB=e=>e.collapsed?F.from(Zl(e.startContainer,e.startOffset)).map(le.fromDom):F.none(),VB=(e,n)=>HB(n).bind(o=>Ha(o)?F.some(o):$a(e,o)?F.none():F.some(e)),XO=(e,n)=>{VB(le.fromDom(e.getBody()),n).bind(o=>ha(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},f3=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},UB=e=>ci(e)||Ab(e).isSome(),jB=e=>Pe(e.iframeElement)&&ci(le.fromDom(e.iframeElement)),WB=e=>{const n=e.getBody();return n&&UB(le.fromDom(n))},ZB=e=>{const n=$i(le.fromDom(e.getElement()));return Eb(n).filter(o=>!yC(o.dom)&&Ok(e,o.dom)).isSome()},zb=e=>e.inline?WB(e):jB(e),kC=e=>zb(e)||ZB(e),JO=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),Pe(e.bookmark)&&!zb(e)&&hC(e).each(u=>{e.selection.setRng(u),r=u});const c=LB(e,n.getNode());if(c&&e.dom.isChildOf(c,o)){f3(c),XO(e,r),wC(e);return}e.inline||(nn.browser.isOpera()||f3(o),e.getWin().focus()),(nn.browser.isFirefox()||e.inline)&&(f3(o),XO(e,r)),wC(e)},wC=e=>e.editorManager.setActive(e),qB=(e,n)=>{e.removed||(n?wC(e):JO(e))},QO=(e,n,o,r,c)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return F.from(u).map(le.fromDom).map(b=>!r||!n.collapsed?bu(b,c(b,m)).getOr(b):b).bind(b=>rc(b)?F.some(b):Lc(b).filter(rc)).map(b=>b.dom).getOr(e)},ez=(e,n,o=!1)=>QO(e,n,!0,o,(r,c)=>Math.min(Hc(r),c)),tz=(e,n,o=!1)=>QO(e,n,!1,o,(r,c)=>c>0?c-1:c),nz=(e,n)=>{const o=e;for(;e&&Bt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},GB=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-c<2&&o.hasChildNodes()&&(m=o.childNodes[c]),Bt(o)&&Bt(r)&&(o.length===c?o=nz(o.nextSibling,!0):o=o.parentNode,u===0?r=nz(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const b=Bt(m)?m.parentNode:m;return gn(b)?b:e},oz=(e,n,o,r)=>{const c=[],u=e.getRoot(),m=e.getParent(o||ez(u,n,n.collapsed),e.isBlock),b=e.getParent(r||tz(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&b&&m!==b){let k;const E=new vr(m,u);for(;(k=E.next())&&k!==b;)e.isBlock(k)&&c.push(k)}return b&&m!==b&&b!==u&&c.push(b),c},KB=(e,n,o)=>F.from(n).bind(r=>F.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),o&&(ck(e,m,r,!0),ck(e,m,r,!1)),m})),_C=(e,n)=>ve(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),sz=e=>Xs(e)==="img"?1:_y(e).fold(()=>Ia(e).length,n=>n.length),YB=e=>_y(e).filter(n=>n.trim().length!==0||n.indexOf(fr)>-1).isSome(),XB=e=>Pr(e)&&Fa(e,"contenteditable")==="false",JB=["img","br"],rz=e=>YB(e)||X(JB,Xs(e))||XB(e),QB=e=>Xa(e,rz),eP=e=>tP(e,rz),tP=(e,n)=>{const o=r=>{const c=Ia(r);for(let u=c.length-1;u>=0;u--){const m=c[u];if(n(m))return F.some(m);const b=o(m);if(b.isSome())return b}return F.none()};return o(e)},az="[data-mce-autocompleter]",nP=(e,n)=>{if(cz(le.fromDom(e.getBody())).isNone()){const o=le.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Vs(o,le.fromDom(n.extractContents())),n.insertNode(o.dom),Lc(o).each(r=>r.dom.normalize()),eP(o).map(r=>{e.selection.setCursorLocation(r.dom,sz(r))})}},oP=e=>vl(e,az),cz=e=>Tc(e,az),sP=(e,n)=>cz(n).each(o=>{const r=e.selection.getBookmark();Jc(o),e.selection.moveToBookmark(r)}),rP={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},CC=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[c],u)return u}},aP=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!lm(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},iz=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Rl{static create(n,o){const r=new Rl(n,rP[n]||1);return o&&Tt(o,(c,u)=>{r.attr(u,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!j(n))return Pe(n)&&Tt(n,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let u=c.length;for(;u--;)if(c[u].name===n)return c.splice(u,1),r}return r}if(n in c.map){let u=c.length;for(;u--;)if(c[u].name===n){c[u].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new Rl(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const b=r[u];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=CC(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=CC(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const u=this;let m=u.firstChild;if(iz(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||iz(m))return!1}if(m.type===8||m.type===3&&!aP(m)||m.type===3&&m.parent&&o[m.parent.name]&&lm((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=CC(m,u));return!0}walk(n){return CC(this,null,n)}}const lz=e=>`${e.length===0?"":`${ve(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,cP=(e,n)=>e.querySelectorAll(lz(n)),so=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,null),uz=e=>so(e).nextNode()!==null,m3=(e,n)=>e.querySelector(lz(n))!==null,dz=(e,n)=>{ae(cP(e,n),o=>{const r=le.fromDom(o);Fa(r,"data-mce-bogus")==="all"?Es(r):ae(n,c=>{aa(r,c)&&Yr(r,c)})})},g3=e=>{const n=so(e);let o=n.nextNode();for(;o!==null;){const r=n.currentNode;o=n.nextNode(),j(r.nodeValue)&&r.nodeValue.includes(Qe)&&Es(le.fromDom(r))}},fz=e=>e.cloneNode(!0),mz=(e,n)=>{let o=e;return uz(e)?(o=fz(e),g3(o),m3(o,n)&&dz(o,n)):m3(e,n)&&(o=fz(e),dz(o,n)),o},gz=e=>{const n=La(e,"[data-mce-bogus]");ae(n,o=>{Fa(o,"data-mce-bogus")==="all"?Es(o):_i(o)?(Xn(o,le.fromText(vt)),Es(o)):Jc(o)})},pz=e=>{const n=La(e,"input");ae(n,o=>{Yr(o,"name")})},iP=(e,n)=>{const o=ni(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},SC=(e,n)=>{const o=e.getDoc(),r=$i(le.fromDom(e.getBody())),c=le.fromTag("div",o);ir(c,"data-mce-bogus","all"),R(c,{position:"fixed",left:"-9999999px",top:"0"}),uf(c,n.innerHTML),gz(c),pz(c);const u=vy(r);Vs(u,c);const m=qt(c.dom.innerText);return Es(c),m},hz=(e,n,o)=>{let r;return n.format==="raw"?r=Et.trim(qt(mz(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=SC(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=iP(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Ci(le.fromDom(o))&&j(r)?Et.trim(r):r},wW=(e,n)=>F.from(e.getBody()).fold(st(n.format==="tree"?new Rl("body",11):""),o=>hz(e,n,o)),bz=Et.makeMap,Bo=e=>{const n=[];e=e||{};const o=e.indent,r=bz(e.indent_before||""),c=bz(e.indent_after||""),u=bm.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(b,k,E)=>{if(o&&r[b]&&n.length>0){const D=n[n.length-1];D.length>0&&D!==`
`&&n.push(`
`)}if(n.push("<",b),k)for(let D=0,N=k.length;D<N;D++){const I=k[D];n.push(" ",I.name,'="',u(I.value,!0),'"')}if(!E||m?n[n.length]=">":n[n.length]=" />",E&&o&&c[b]&&n.length>0){const D=n[n.length-1];D.length>0&&D!==`
`&&n.push(`
`)}},end:b=>{let k;n.push("</",b,">"),o&&c[b]&&n.length>0&&(k=n[n.length-1],k.length>0&&k!==`
`&&n.push(`
`))},text:(b,k)=>{b.length>0&&(n[n.length]=k?b:u(b))},cdata:b=>{n.push("<![CDATA[",b,"]]>")},comment:b=>{n.push("<!--",b,"-->")},pi:(b,k)=>{k?n.push("<?",b," ",u(k),"?>"):n.push("<?",b,"?>"),o&&n.push(`
`)},doctype:b=>{n.push("<!DOCTYPE",b,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Zp=(e={},n=Ku())=>{const o=Bo(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:k=>{var E;o.text((E=k.value)!==null&&E!==void 0?E:"",k.raw)},8:k=>{var E;o.comment((E=k.value)!==null&&E!==void 0?E:"")},7:k=>{o.pi(k.name,k.value)},10:k=>{var E;o.doctype((E=k.value)!==null&&E!==void 0?E:"")},4:k=>{var E;o.cdata((E=k.value)!==null&&E!==void 0?E:"")},11:k=>{let E=k;if(E=E.firstChild)do b(E);while(E=E.next)}};o.reset();const b=k=>{var E;const D=m[k.type];if(D)D(k);else{const N=k.name,I=N in n.getVoidElements();let ee=k.attributes;if(u&&ee&&ee.length>1){const oe=[];oe.map={};const K=n.getElementRule(k.name);if(K){for(let ne=0,Te=K.attributesOrder.length;ne<Te;ne++){const ze=K.attributesOrder[ne];if(ze in ee.map){const Re=ee.map[ze];oe.map[ze]=Re,oe.push({name:ze,value:Re})}}for(let ne=0,Te=ee.length;ne<Te;ne++){const ze=ee[ne].name;if(!(ze in oe.map)){const Re=ee.map[ze];oe.map[ze]=Re,oe.push({name:ze,value:Re})}}ee=oe}}if(o.start(N,ee,I),!I){let oe=k.firstChild;if(oe){(N==="pre"||N==="textarea")&&oe.type===3&&((E=oe.value)===null||E===void 0?void 0:E[0])===`
`&&o.text(`
`,!0);do b(oe);while(oe=oe.next)}o.end(N)}}};return c.type===1&&!e.inner?b(c):c.type===3?m[3](c):m[11](c),o.getContent()}}},Vo=new Set;ae(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{Vo.add(n)});const p3=["font","text-decoration","text-emphasis"],yz=(e,n)=>Yo(e.parseStyle(e.getAttrib(n,"style"))),_W=e=>Vo.has(e),lP=(e,n)=>Rn(yz(e,n),o=>!_W(o)),CW=e=>qe(e,n=>be(p3,o=>no(n,o))),SW=(e,n,o)=>{const r=yz(e,n),c=yz(e,o),u=m=>{var b,k;const E=(b=e.getStyle(n,m))!==null&&b!==void 0?b:"",D=(k=e.getStyle(o,m))!==null&&k!==void 0?k:"";return yo(E)&&yo(D)&&E!==D};return be(r,m=>{const b=k=>be(k,E=>E===m);if(!b(c)&&b(p3)){const k=CW(c);return be(k,u)}else return u(m)})},vz=(e,n,o)=>F.from(o.container()).filter(Bt).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),h3=Xe(vz,!0,Yl),wo=Xe(vz,!1,Yl),uP=e=>{const n=e.container();return Bt(n)&&(n.data.length===0||Pt(n.data)&&Lp.isBookmarkNode(n.parentNode))},qp=(e,n)=>o=>zp(e?0:-1,o).filter(n).isSome(),kz=e=>jr(e)&&H(le.fromDom(e),"display")==="block",Z1=e=>As(e)&&!Ja(e),wz=qp(!0,kz),dP=qp(!1,kz),zk=qp(!0,Cl),Dk=qp(!1,Cl),b3=qp(!0,tl),_z=qp(!1,tl),Db=qp(!0,Z1),Rb=qp(!1,Z1),fP=e=>e.slice(0,-1),mP=(e,n,o)=>$a(n,e)?fP(Zm(e,r=>o(r)||Ns(r,n))):[],Cz=(e,n)=>mP(e,n,De),Dg=(e,n)=>[e].concat(Cz(e,n)),xC=(e,n,o)=>G0(e,n,o,uP),Sz=(e,n)=>Ie(Dg(le.fromDom(n.container()),e),Hi),Ko=(e,n,o)=>xC(e,n.dom,o).forall(r=>Sz(n,o).fold(()=>!Ou(r,o,n.dom),c=>!Ou(r,o,n.dom)&&$a(c,le.fromDom(r.container())))),y3=(e,n,o)=>Sz(n,o).fold(()=>xC(e,n.dom,o).forall(r=>!Ou(r,o,n.dom)),r=>xC(e,r.dom,o).isNone()),q1=Xe(y3,!1),v3=Xe(y3,!0),xz=Xe(Ko,!1),Tz=Xe(Ko,!0),Ez=e=>wg(e).exists(_i),Rk=(e,n,o)=>{const r=qe(Dg(le.fromDom(o.container()),n),Hi),c=mn(r).getOr(n);return El(e,c.dom,o).filter(Ez)},k3=(e,n)=>wg(n).exists(_i)||Rk(!0,e,n).isSome(),TC=(e,n)=>N2(n).exists(_i)||Rk(!1,e,n).isSome(),gP=Xe(Rk,!1),pP=Xe(Rk,!0),Az=e=>ct.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Oz=(e,n)=>{const o=qe(Dg(le.fromDom(n.container()),e),Hi);return mn(o).getOr(e)},zz=(e,n)=>Az(n)?wo(n):wo(n)||oi(Oz(e,n).dom,n).exists(wo),Dz=(e,n)=>Az(n)?h3(n):h3(n)||Gi(Oz(e,n).dom,n).exists(h3),hP=e=>X(["pre","pre-wrap"],e),w3=e=>wg(e).bind(n=>Vc(n,rc)).exists(n=>hP(H(n,"white-space"))),_3=(e,n)=>oi(e.dom,n).isNone(),C3=(e,n)=>Gi(e.dom,n).isNone(),bP=(e,n)=>_3(e,n)||C3(e,n)||q1(e,n)||v3(e,n)||TC(e,n)||k3(e,n),yP=e=>Pe(e)&&As(e)&&D2(e),Rz=(e,n)=>o=>yP(new vr(o,e)[n]()),vP=(e,n)=>{const o=Gi(e.dom,n).getOr(n),r=Rz(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},kP=(e,n)=>{const o=oi(e.dom,n).getOr(n),r=Rz(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},Nz=(e,n)=>w3(n)?!1:bP(e,n)||zz(e,n)||Dz(e,n),Nk=(e,n)=>w3(n)?!1:q1(e,n)||xz(e,n)||TC(e,n)||zz(e,n)||kP(e,n),wP=e=>{const n=e.container(),o=e.offset();return Bt(n)&&o<n.data.length?ct(n,o+1):e},G1=(e,n)=>w3(n)?!1:v3(e,n)||Tz(e,n)||k3(e,n)||Dz(e,n)||vP(e,n),S3=(e,n)=>Nk(e,n)||G1(e,wP(n)),Mz=(e,n)=>is(e.charAt(n)),Gp=(e,n)=>Yl(e.charAt(n)),_P=e=>{const n=e.container();return Bt(n)&&On(n.data,fr)},Bz=e=>{const n=e.split("");return ve(n,(o,r)=>is(o)&&r>0&&r<n.length-1&&Dm(n[r-1])&&Dm(n[r+1])?" ":o).join("")},Pz=(e,n,o)=>{const r=n.data,c=ct(n,0);return!o&&Mz(r,0)&&!S3(e,c)?(n.data=" "+r.slice(1),!0):o&&Gp(r,0)&&Nk(e,c)?(n.data=fr+r.slice(1),!0):!1},CP=e=>{const n=e.data,o=Bz(n);return o!==n?(e.data=o,!0):!1},x3=(e,n,o)=>{const r=n.data,c=ct(n,r.length-1);return!o&&Mz(r,r.length-1)&&!S3(e,c)?(n.data=r.slice(0,-1)+" ",!0):o&&Gp(r,r.length-1)&&G1(e,c)?(n.data=r.slice(0,-1)+fr,!0):!1},Fz=(e,n)=>{const o=n.container();if(!Bt(o))return F.none();if(_P(n)){const r=Pz(e,o,!1)||CP(o)||x3(e,o,!1);return q(r,n)}else if(S3(e,n)){const r=Pz(e,o,!0)||x3(e,o,!0);return q(r,n)}else return F.none()},$z=e=>{const n=le.fromDom(e.getBody());e.selection.isCollapsed()&&Fz(n,ct.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},T3=(e,n,o)=>{if(o===0)return;const r=le.fromDom(e),c=Fr(r,Hi).getOr(r),u=e.data.slice(n,n+o),m=n+o>=e.data.length&&G1(c,ct(e,e.data.length)),b=n===0&&Nk(c,ct(e,0));e.replaceData(n,o,xy(u,4,b,m))},ii=(e,n)=>{const o=e.data.slice(n),r=o.length-Gr(o).length;T3(e,n,r)},E3=(e,n)=>{const o=e.data.slice(0,n),r=o.length-oc(o).length;T3(e,n-r,r)},A3=(e,n,o,r=!0)=>{const c=oc(e.data).length,u=r?e:n,m=r?n:e;return r?u.appendData(m.data):u.insertData(0,m.data),Es(le.fromDom(m)),o&&ii(u,c),u},SP=(e,n)=>{const o=e.container(),r=e.offset();return!ct.isTextPosition(e)&&o===n.parentNode&&r>ct.before(n).offset()},xP=(e,n)=>SP(n,e)?ct(n.container(),n.offset()-1):n,TP=e=>Bt(e)?ct(e,0):ct.before(e),Nb=e=>Bt(e)?ct(e,e.data.length):ct.after(e),Iz=e=>ic(e.previousSibling)?F.some(Nb(e.previousSibling)):e.previousSibling?Al(e.previousSibling):F.none(),Lz=e=>ic(e.nextSibling)?F.some(TP(e.nextSibling)):e.nextSibling?ha(e.nextSibling):F.none(),ta=(e,n)=>F.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>oi(e,ct.before(o))).orThunk(()=>Gi(e,ct.after(n))),EC=(e,n)=>Gi(e,ct.after(n)).orThunk(()=>oi(e,ct.before(n))),xW=(e,n)=>Iz(n).orThunk(()=>Lz(n)).orThunk(()=>ta(e,n)),Gc=(e,n)=>Lz(n).orThunk(()=>Iz(n)).orThunk(()=>EC(e,n)),EP=(e,n,o)=>e?Gc(n,o):xW(n,o),AP=(e,n,o)=>EP(e,n,o).map(Xe(xP,o)),Mm=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},Js=e=>n=>n.dom===e,Mb=(e,n)=>n&&Kn(e.schema.getBlockElements(),Xs(n)),O3=e=>{if(ma(e)){const n=le.fromHtml('<br data-mce-bogus="1">');return vu(e),Vs(e,n),F.some(ct.before(n.dom))}else return F.none()},OP=(e,n,o)=>{const r=vi(e).filter(Ya),c=of(e).filter(Ya);return Es(e),Mi(r,c,n,(u,m,b)=>{const k=u.dom,E=m.dom,D=k.data.length;return A3(k,E,o),b.container()===E?ct(k,D):b}).orThunk(()=>(o&&(r.each(u=>E3(u.dom,u.dom.length)),c.each(u=>ii(u.dom,0))),n))},AC=(e,n)=>Kn(e.schema.getTextInlineElements(),Xs(n)),dl=(e,n,o,r=!0)=>{const c=AP(n,e.getBody(),o.dom),u=Fr(o,Xe(Mb,e),Js(e.getBody())),m=OP(o,c,AC(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(O3).fold(()=>{r&&Mm(e,n,m)},b=>{r&&Mm(e,n,F.some(b))})},zP=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,DP=e=>zP.test(e),Bb=(e,n)=>Fi(le.fromDom(n),Rr(e))&&!mm(e.schema,n)&&e.dom.isEditable(n),OC=e=>{var n;return qs.DOM.getStyle(e,"direction",!0)==="rtl"||DP((n=e.textContent)!==null&&n!==void 0?n:"")},RP=(e,n,o)=>qe(qs.DOM.getParents(o.container(),"*",n),e),Kp=(e,n,o)=>{const r=RP(e,n,o);return F.from(r[r.length-1])},Hz=(e,n,o)=>{const r=Nd(n,e),c=Nd(o,e);return Pe(r)&&r===c},NP=e=>Sl(e)||Su(e),sd=(e,n)=>{const o=n.container(),r=n.offset();return e?ks(o)?Bt(o.nextSibling)?ct(o.nextSibling,0):ct.after(o):Sl(n)?ct(o,r+1):n:ks(o)?Bt(o.previousSibling)?ct(o.previousSibling,o.previousSibling.data.length):ct.before(o):Su(n)?ct(o,r-1):n},Vz=Xe(sd,!0),Nl=Xe(sd,!1),Hf=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},MP=e=>{e.execCommand("delete")},zC=e=>Hf(e,"Delete"),DC=e=>Hf(e,"ForwardDelete"),z3=e=>n=>Ws(Lc(n),e,Ns),BP=e=>Vi(e)||Ca(e),RC=(e,n)=>$a(e,n)?Vc(n,BP,z3(e)):F.none(),Pb=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},Mk=(e,n,o)=>sa(ha(o),Al(o),(r,c)=>{const u=sd(!0,r),m=sd(!1,c),b=sd(!1,n);return e?Gi(o,b).exists(k=>k.isEqual(m)&&n.isEqual(u)):oi(o,b).exists(k=>k.isEqual(u)&&n.isEqual(m))}).getOr(!0),Uz=e=>(ep(e)?vi(e):ki(e)).bind(Uz).orThunk(()=>F.some(e)),Rg=(e,n,o,r=!0)=>{var c;n.deleteContents();const u=Uz(o).getOr(o),m=le.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(m.dom===e.getBody()?Pb(e,r):ma(m)&&(G(m),r&&e.selection.setCursorLocation(m.dom,0)),!Ns(o,m)){const b=Ws(Lc(m),o)?[]:qm(m);ae(b.concat(Ia(o)),k=>{!Ns(k,m)&&!$a(k,m)&&ma(k)&&Es(k)})}},PP=e=>n=>Ns(e,n),D3=e=>La(e,"td,th"),eu=(e,n)=>{const o=E=>Md(le.fromDom(E),n),r=o(e.startContainer),c=o(e.endContainer),u=r.isSome(),m=c.isSome(),b=sa(r,c,Ns).getOr(!1);return{startTable:r,endTable:c,isStartInTable:u,isEndInTable:m,isSameTable:b,isMultiTable:!b&&u&&m}},Bk=(e,n)=>({start:e,end:n}),Vf=(e,n,o)=>({rng:e,table:n,cells:o}),Pk=Df.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),rr=(e,n)=>vl(le.fromDom(e),"td,th",n),Yp=e=>!Ns(e.start,e.end),Fk=(e,n)=>Md(e.start,n).bind(o=>Md(e.end,n).bind(r=>q(Ns(o,r),o))),jz=(e,n)=>!Yp(e)&&Fk(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),R3=(e,n)=>{const o=rr(e.startContainer,n),r=rr(e.endContainer,n);return sa(o,r,Bk)},N3=e=>n=>Md(n,e).bind(o=>bo(D3(o)).map(r=>Bk(n,r))),FP=e=>n=>Md(n,e).bind(o=>mn(D3(o)).map(r=>Bk(r,n))),$k=e=>n=>Fk(n,e).map(o=>Vf(n,o,D3(o))),Wz=(e,n,o,r)=>{if(o.collapsed||!e.forall(Yp))return F.none();if(n.isSameTable){const c=e.bind($k(r));return F.some({start:c,end:c})}else{const c=rr(o.startContainer,r),u=rr(o.endContainer,r),m=c.bind(N3(r)).bind($k(r)),b=u.bind(FP(r)).bind($k(r));return F.some({start:m,end:b})}},M3=(e,n)=>zt(e,o=>Ns(o,n)),NC=e=>sa(M3(e.cells,e.rng.start),M3(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),B3=(e,n,o)=>e.exists(r=>jz(r,o)&&Ip(r.start,n)),P3=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},MC=(e,n,o,r)=>Wz(e,n,o,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=n,m=NC(c).getOr([]);if(u&&c.cells.length===m.length)return F.some(Pk.fullTable(c.table));if(m.length>0){if(u)return F.some(Pk.partialTable(m,F.none()));{const b=P3(o,n);return F.some(Pk.partialTable(m,F.some({...n,rng:b})))}}else return F.none()}),$P=(e,n,o,r)=>Wz(e,n,o,r).bind(({start:c,end:u})=>{const m=c.bind(NC).getOr([]),b=u.bind(NC).getOr([]);if(m.length>0&&b.length>0){const k=P3(o,n);return F.some(Pk.multiTable(m,b,k))}else return F.none()}),IP=(e,n)=>{const o=PP(e),r=R3(n,o),c=eu(n,o);return B3(r,n,o)?r.map(u=>Pk.singleCellTable(n,u.start)):c.isMultiTable?$P(r,c,n,o):MC(r,c,n,o)},Zz=e=>ae(e,n=>{Yr(n,"contenteditable"),G(n)}),LP=(e,n)=>F.from(e.dom.getParent(n,e.dom.isBlock)).map(le.fromDom),HP=(e,n,o)=>{o.each(r=>{n?Es(r):(G(r),e.selection.setCursorLocation(r.dom,0))})},F3=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),$3(e,c,n,!1).each(u=>u())},qz=e=>{const n=Rm(e),o=le.fromDom(e.selection.getNode());_u(o.dom)&&ma(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&be(n,r=>Ns(r,o))&&ir(o,"data-mce-selected","1")},Gz=(e,n,o)=>F.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:u,isStartInTable:m})=>{const b=LP(e,m?u.endContainer:u.startContainer);u.deleteContents(),HP(e,m,b.filter(ma));const k=m?n[0]:n[n.length-1];return F3(e,k,r,m),ma(k)?F.none():F.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);Zz(c),qz(e)}),VP=(e,n,o,r)=>F.some(()=>{const c=e.selection.getRng(),u=n[0],m=o[o.length-1];F3(e,u,c,!0),F3(e,m,c,!1);const b=ma(u)?n:n.slice(1),k=ma(m)?o:o.slice(0,-1);Zz(b.concat(k)),r.deleteContents(),qz(e)}),$3=(e,n,o,r=!0)=>F.some(()=>{Rg(e,n,o,r)}),Kz=(e,n)=>F.some(()=>dl(e,!1,n)),UP=(e,n,o)=>IP(n,o).bind(r=>r.fold(Xe($3,e),Xe(Kz,e),Xe(Gz,e),Xe(VP,e))),Yz=(e,n)=>Lk(e,n),Pu=(e,n,o,r)=>Ik(n,r).fold(()=>UP(e,n,o),c=>Yz(e,c)),jP=(e,n,o)=>{const r=le.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?Gz(e,o,F.none()):Pu(e,r,c,n)},I3=(e,n)=>Ie(Dg(n,e),cm),Ik=(e,n)=>Ie(Dg(n,e),Ji("caption")),L3=(e,n,o,r,c)=>Om(o,e.getBody(),c).bind(u=>I3(n,le.fromDom(u.getNode())).bind(m=>Ns(m,r)?F.none():F.some(Oe))),Lk=(e,n)=>F.some(()=>{G(n),e.selection.setCursorLocation(n.dom,0)}),Xz=(e,n,o,r)=>ha(e.dom).bind(c=>Al(e.dom).map(u=>n?o.isEqual(c)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(c))).getOr(!0),WP=(e,n)=>Lk(e,n),ZP=(e,n,o)=>Ik(e,le.fromDom(o.getNode())).fold(()=>F.some(Oe),r=>q(!Ns(r,n),Oe)),H3=(e,n,o,r,c)=>Om(o,e.getBody(),c).fold(()=>F.some(Oe),u=>Xz(r,o,c,u)?WP(e,r):ZP(n,r,u)),Jz=(e,n,o,r)=>{const c=ct.fromRangeStart(e.selection.getRng());return I3(o,r).bind(u=>ma(u)?Lk(e,u):L3(e,o,n,u,c))},Id=(e,n,o,r)=>{const c=ct.fromRangeStart(e.selection.getRng());return ma(r)?Lk(e,r):H3(e,o,n,r,c)},Qz=(e,n)=>e?b3(n):_z(n),qP=(e,n)=>{const o=ct.fromRangeStart(e.selection.getRng());return Qz(n,o)||El(n,e.getBody(),o).exists(r=>Qz(n,r))},TW=(e,n,o)=>{const r=le.fromDom(e.getBody());return Ik(r,o).fold(()=>Jz(e,n,r,o).orThunk(()=>q(qP(e,n),Oe)),c=>Id(e,n,r,c))},Hk=(e,n)=>{const o=le.fromDom(e.selection.getStart(!0)),r=Rm(e);return e.selection.isCollapsed()&&r.length===0?TW(e,n,o):jP(e,o,r)},Fb=(e,n)=>{let o=n;for(;o&&o!==e;){if(Qa(o)||As(o))return o;o=o.parentNode}return null},Vk=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],GP=Et.each,Xp=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const b=E=>{const D={};return GP(n.getAttribs(E),N=>{const I=N.nodeName.toLowerCase();I!=="style"&&!c(I)&&(D[I]=n.getAttrib(E,I))}),D},k=(E,D)=>{for(const N in E)if(Kn(E,N)){const I=D[N];if(bn(I)||E[N]!==I)return!1;delete D[N]}for(const N in D)if(Kn(D,N))return!1;return!0};return gn(u)&&gn(m)&&(!k(b(u),b(m))||!k(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!Ol(u)&&!Ol(m)},c=u=>be(Vk,m=>no(u,m))||o.has(u);return{compare:r,isAttributeInternal:c}},rd=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},K1=(e,n,o,r)=>{const c=o.name;for(let u=0,m=e.length;u<m;u++){const b=e[u];if(b.name===c){const k=r.nodes[c];k?k.nodes.push(o):r.nodes[c]={filter:b,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const b=n[u],k=b.name;if(k in o.attributes.map){const E=r.attributes[k];E?E.nodes.push(o):r.attributes[k]={filter:b,nodes:[o]}}}},Er=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&rd(o,c=>{K1(e,n,c,r)}),r},Y1=(e,n)=>{const o=(r,c)=>{Tt(r,u=>{const m=as(u.nodes);ae(u.filter.callbacks,b=>{for(let k=m.length-1;k>=0;k--){const E=m[k];(!(c?E.attr(u.filter.name)!==void 0:E.name===u.filter.name)||Zt(E.parent))&&m.splice(k,1)}m.length>0&&b(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},V3=(e,n,o,r={})=>{const c=Er(e,n,o);Y1(c,r)},BC=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new Rl("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new Rl("#text",3)).value=fr},U3=e=>{var n;return PC(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===fr},PC=(e,n)=>{const o=e==null?void 0:e.firstChild;return Pe(o)&&o===e.lastChild&&o.name===n},j3=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},$b=(e,n,o,r)=>r.isEmpty(n,o,c=>j3(e,c)),FC=(e,n)=>Pe(e)&&(n(e)||e.name==="br"),W3=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return F.from(n)},$C=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&$C(c,n,o);e.unwrap()}},IC=(e,n,o,r=Oe)=>{const c=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=Et.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,E=D=>D!==o&&!b[D.name];for(let D=0;D<e.length;D++){const N=e[D];let I,ee,oe;if(!N.parent||k.has(N))continue;if(c[N.name]&&N.parent.name==="li"){let ne=N.next;for(;ne&&c[ne.name];){ne.name="li",k.add(ne),N.parent.insert(ne,N.parent);ne=ne.next}N.unwrap();continue}const K=[N];for(I=N.parent;I&&!n.isValidChild(I.name,N.name)&&E(I);I=I.parent)K.push(I);if(I&&K.length>1)if(n.isValidChild(I.name,N.name)){K.reverse(),ee=K[0].clone(),r(ee);let ne=ee;for(let Te=0;Te<K.length-1;Te++){n.isValidChild(ne.name,K[Te].name)&&Te>0?(oe=K[Te].clone(),r(oe),ne.append(oe)):oe=ne;for(let ze=K[Te].firstChild;ze&&ze!==K[Te+1];){const Re=ze.next;oe.append(ze),ze=Re}ne=oe}$b(n,u,m,ee)?I.insert(N,K[0],!0):(I.insert(ee,K[0],!0),I.insert(N,ee)),I=K[0],($b(n,u,m,I)||PC(I,"br"))&&I.empty().remove()}else $C(N,n);else if(N.parent){if(N.name==="li"){let ne=N.prev;if(ne&&(ne.name==="ul"||ne.name==="ol")){ne.append(N);continue}if(ne=N.next,ne&&(ne.name==="ul"||ne.name==="ol")&&ne.firstChild){ne.insert(N,ne.firstChild,!0);continue}const Te=new Rl("ul",1);r(Te),N.wrap(Te);continue}if(n.isValidChild(N.parent.name,"div")&&n.isValidChild("div",N.name)){const ne=new Rl("div",1);r(ne),N.wrap(ne)}else $C(N,n)}}},eD=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},Z3=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&eD(o,"a")),tD=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},X1=e=>{const n=ct.fromRangeStart(e),o=ct.fromRangeEnd(e),r=e.commonAncestorContainer;return El(!1,r,o).map(c=>!Ou(n,o,r)&&Ou(n,c,r)?tD(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},LC=e=>e.collapsed?e:X1(e),q3=e=>Pe(e.firstChild)&&e.firstChild===e.lastChild,KP=e=>e.name==="br"||e.value===fr,YP=(e,n)=>e.getBlockElements()[n.name]&&q3(n)&&KP(n.firstChild),nD=(e,n)=>{const o=e.getNonEmptyElements();return Pe(n)&&(n.isEmpty(o)||YP(e,n))},oD=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),nD(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},sD=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},HC=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return sD(c)},rD=e=>{var n;return qe((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},aD=e=>e.data===fr||Qr(e),cD=e=>Pe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&aD(e.firstChild),iD=e=>!e.firstChild||cD(e),lD=e=>e.length>0&&iD(e[e.length-1])?e.slice(0,-1):e,VC=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},uD=(e,n)=>!!VC(e,n),dD=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},fD=(e,n)=>{const o=ct.before(e),c=Am(n).next(o);return c?c.toRange():null},G3=(e,n)=>{const o=ct.after(e),c=Am(n).prev(o);return c?c.toRange():null},K3=(e,n,o,r)=>{const c=dD(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),Et.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),G3(n[n.length-1],o)},mD=(e,n,o)=>{const r=e.parentNode;return r&&Et.each(n,c=>{r.insertBefore(c,e)}),fD(e,o)},gD=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),G3(n[0],o)),pD=(e,n,o,r)=>{const c=HC(n,e,r),u=VC(n,o.startContainer),m=lD(rD(c.firstChild)),b=1,k=2,E=n.getRoot(),D=N=>{const I=ct.fromRangeStart(o),ee=Am(n.getRoot()),oe=N===b?ee.prev(I):ee.next(I),K=oe==null?void 0:oe.getNode();return K?VC(n,K)!==u:!0};return u?D(b)?mD(u,m,E):D(k)?gD(u,m,E,n):K3(u,m,E,o):null},hD=["pre"],bD=(e,n,o,r)=>{var c;const u=n.firstChild,m=n.lastChild,b=m.attr("data-mce-type")==="bookmark"?m.prev:m,k=u===b,E=X(hD,u.name);if(k&&E){const D=u.attr("contenteditable")!=="false",N=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,I=F.from(Fb(r,o)).forall(Qa);return D&&N&&I}else return!1},Uk=_u,UC=(e,n,o)=>{if(Pe(o)){const r=e.getParent(n.endContainer,Uk);return o===r&&Ip(le.fromDom(o),n)}else return!1},yD=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,u=o.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},vD=(e,n)=>{F.from(e.getParent(n,"td,th")).map(le.fromDom).each(we)},jC=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),u=Xp(e);Et.each(r.select("*[data-mce-fragment]"),m=>{if(Pe(o[m.nodeName.toLowerCase()])&&lP(r,m)){for(let k=m.parentElement;Pe(k)&&k!==c&&!SW(r,m,k);k=k.parentElement)if(u.compare(k,m)){r.remove(m,!0);break}}})}},Y3=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},jk=e=>{Et.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},X3=e=>!!e.getAttribute("data-mce-fragment"),kD=(e,n)=>Pe(n)&&!e.schema.getVoidElements()[n.nodeName],J1=(e,n)=>{var o,r,c;let u;const m=e.dom,b=e.selection;if(!n)return;b.scrollIntoView(n);const k=Fb(e.getBody(),n);if(k&&m.getContentEditable(k)==="false"){m.remove(n),b.select(k);return}let E=m.createRng();const D=n.previousSibling;if(Bt(D)){E.setStart(D,(r=(o=D.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const ee=n.nextSibling;Bt(ee)&&(D.appendData(ee.data),(c=ee.parentNode)===null||c===void 0||c.removeChild(ee))}else E.setStartBefore(n),E.setEndBefore(n);const N=ee=>{let oe=ct.fromRangeStart(ee);return oe=Am(e.getBody()).next(oe),oe==null?void 0:oe.toRange()},I=m.getParent(n,m.isBlock);if(m.remove(n),I&&m.isEmpty(I)){const ee=Uk(I);vu(le.fromDom(I)),E.setStart(I,0),E.setEnd(I,0),!ee&&!X3(I)&&(u=N(E))?(E=u,m.remove(I)):m.add(I,m.create("br",ee?{}:{"data-mce-bogus":"1"}))}b.setRng(E)},J3=e=>{const n=e.dom,o=LC(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,Uk);UC(n,o,r)?$3(e,o,le.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Bt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},Q3=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return F.some(n);return F.none()},Wk=(e,n,o)=>{var r,c;const u=e.selection,m=e.dom,b=e.parser,k=o.merge,E=Zp({validate:!0},e.schema),D='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,D);let N=u.getRng();const I=N.startContainer,ee=e.getBody();I===ee&&u.isCollapsed()&&m.isBlock(ee.firstChild)&&kD(e,ee.firstChild)&&m.isEmpty(ee.firstChild)&&(N=m.createRng(),N.setStart(ee.firstChild,0),N.setEnd(ee.firstChild,0),u.setRng(N)),u.isCollapsed()||J3(e);const oe=u.getNode(),K={context:oe.nodeName.toLowerCase(),data:o.data,insert:!0},ne=b.parse(n,K);if(o.paste===!0&&oD(e.schema,ne)&&uD(m,oe))return N=pD(E,m,u.getRng(),ne),N&&u.setRng(N),n;o.paste===!0&&bD(m,ne,oe,e.getBody())&&((r=ne.firstChild)===null||r===void 0||r.unwrap()),Y3(ne);let Te=ne.lastChild;if(Te&&Te.attr("id")==="mce_marker"){const ze=Te;for(Te=Te.prev;Te;Te=Te.walk(!0))if(Te.type===3||!m.isBlock(Te.name)){Te.parent&&e.schema.isValidChild(Te.parent.name,"span")&&Te.parent.insert(ze,Te,Te.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(oe),!K.invalid)n=E.serialize(ne),yD(e,n,oe);else{e.selection.setContent(D);let ze=u.getNode(),Re;const Ve=e.getBody();for(_l(ze)?ze=Re=Ve:Re=ze;Re&&Re!==Ve;)ze=Re,Re=Re.parentNode;n=ze===Ve?Ve.innerHTML:m.getOuterHTML(ze);const St=b.parse(n),Kt=Q3(St),rn=Kt.bind(W3).getOr(St);Kt.each(jn=>jn.replace(ne));const et=ne.children(),tt=(c=ne.parent)!==null&&c!==void 0?c:St;ne.unwrap();const Nt=qe(et,jn=>Z3(e.schema,jn,tt));IC(Nt,e.schema,rn),V3(b.getNodeFilters(),b.getAttributeFilters(),St),n=E.serialize(St),ze===Ve?m.setHTML(Ve,n):m.setOuterHTML(ze,n)}return jC(e,k),J1(e,m.get("mce_marker")),jk(e.getBody()),vD(m,u.getStart()),Wv(e.schema,e.getBody(),u.getStart()),n},Uf=e=>e instanceof Rl,wD=e=>{zb(e)&&ha(e.getBody()).each(n=>{const o=n.getNode(),r=tl(o)?ha(o).getOr(n):n;e.selection.setRng(r.toRange())})},e4=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&wD(e)},_D=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const u=ni(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=c,o=e.dom.createHTML(u,Sp(e),o)):o||(o=c),e4(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Zp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Ci(le.fromDom(n))?o:Et.trim(o);return e4(e,c,r.no_selection),{content:c,html:c}}},CD=(e,n,o,r)=>{V3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Zp({validate:!1},e.schema).serialize(o),u=Ci(le.fromDom(n))?c:Et.trim(c);return e4(e,u,r.no_selection),{content:o,html:u}},XP=(e,n,o)=>F.from(e.getBody()).map(r=>Uf(n)?CD(e,r,n,o):_D(e,r,n,o)).getOr({content:n,html:Uf(o.content)?"":o.content}),EW=(e,n,o)=>Fr(e,n,o).isSome(),JP=(e,n)=>Xm(e,n).isSome(),WC=e=>ie(e)?e:De,jf=(e,n,o)=>{let r=e.dom;const c=WC(o);for(;r.parentNode;){r=r.parentNode;const u=le.fromDom(r),m=n(u);if(m.isSome())return m;if(c(u))break}return F.none()},Zk=(e,n,o)=>{const r=n(e),c=WC(o);return r.orThunk(()=>c(e)?F.none():jf(e,n,c))},Q1=E1,ZC=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(ll(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},t4=(e,n,o,r,c)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,b=>ZC(e,b,o)?!0:b.parentNode===u||!!Wf(e,b,o,r,!0));return!!Wf(e,m,o,r,c)},qk=(e,n,o)=>Ba(o)&&Q1(n,o.inline)||Nu(o)&&Q1(n,o.block)?!0:ll(o)?gn(n)&&e.is(n,o.selector):!1,SD=(e,n,o,r,c,u)=>{const m=o[r],b=r==="attributes";if(ie(o.onmatch))return o.onmatch(n,o,r);if(m){if(Wt(m)){for(let k=0;k<m.length;k++)if(b?e.getAttrib(n,m[k]):bb(e,n,m[k]))return!0}else for(const k in m)if(Kn(m,k)){const E=b?e.getAttrib(n,k):bb(e,n,k),D=Xl(m[k],u),N=Zt(E)||os(E);if(N&&Zt(D))continue;if(c&&N&&!o.exact||(!c||o.exact)&&!Q1(E,hb(D,k)))return!1}}return!0},Wf=(e,n,o,r,c)=>{const u=e.formatter.get(o),m=e.dom;if(u&&gn(n))for(let b=0;b<u.length;b++){const k=u[b];if(qk(e.dom,n,k)&&SD(m,n,k,"attributes",c,r)&&SD(m,n,k,"styles",c,r)){const E=k.classes;if(E){for(let D=0;D<E.length;D++)if(!e.dom.hasClass(n,Xl(E[D],r)))return}return k}}},Gk=(e,n,o,r,c)=>{if(r)return t4(e,r,n,o,c);if(r=e.selection.getNode(),t4(e,r,n,o,c))return!0;const u=e.selection.getStart();return!!(u!==r&&t4(e,u,n,o,c))},QP=(e,n,o)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let b=0;b<n.length;b++){const k=n[b];!c[k]&&Wf(e,m,k,o)&&(c[k]=!0,r.push(k))}},e.dom.getRoot()),r},xD=(e,n)=>{const o=c=>Ns(c,le.fromDom(e.getBody())),r=(c,u)=>Wf(e,c.dom,u)?F.some(u):F.none();return F.from(e.selection.getStart(!0)).bind(c=>Zk(le.fromDom(c),u=>Rs(n,m=>r(u,m)),o)).getOrNull()},eF=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),u=yb(r,c);for(let m=o.length-1;m>=0;m--){const b=o[m];if(!ll(b))return!0;for(let k=u.length-1;k>=0;k--)if(r.is(u[k],b.selector))return!0}}return!1},Kk=(e,n,o)=>Q(o,(r,c)=>{const u=dk(e,c);return e.formatter.matchNode(n,c,{},u)?r.concat([c]):r},[]),Ib=Qe,tF=(e,n)=>e.importNode(n,!0),TD=e=>{const n=[];let o=e;for(;o;){if(Bt(o)&&o.data!==Ib||o.childNodes.length>1)return[];gn(o)&&n.push(o),o=o.firstChild}return n},ED=e=>TD(e).length>0,AD=e=>{if(e){const n=new vr(e,e);for(let o=n.current();o;o=n.next())if(Bt(o))return o}return null},n4=e=>{const n=le.fromTag("span");return bi(n,{id:C1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Vs(n,le.fromText(Ib)),n},nF=e=>{const n=AD(e);return n&&n.data.charAt(0)===Ib&&n.deleteData(0,1),n},o4=(e,n,o=!0)=>{const r=e.dom,c=e.selection;if(ED(n))dl(e,!1,le.fromDom(n),o);else{const u=c.getRng(),m=r.getParent(n,r.isBlock),b=u.startContainer,k=u.startOffset,E=u.endContainer,D=u.endOffset,N=nF(n);r.remove(n,!0),b===N&&k>0&&u.setStart(N,k-1),E===N&&D>0&&u.setEnd(N,D-1),m&&r.isEmpty(m)&&G(le.fromDom(m)),c.setRng(u)}},qC=(e,n,o=!0)=>{const r=e.dom,c=e.selection;if(n)o4(e,n,o);else if(n=zm(e.getBody(),c.getStart()),!n)for(;n=r.get(C1);)o4(e,n,o)},oF=(e,n,o)=>{var r,c;const u=e.dom,m=u.getParent(o,Xe(Wa,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(S(le.fromDom(o)),u.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):u.insertAfter(n,o))},GC=(e,n)=>(e.appendChild(n),n),Jp=(e,n)=>{var o;const r=Ue(e,(u,m)=>GC(u,m.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return GC(r,c.createTextNode(Ib))},sF=(e,n,o,r,c,u)=>{const m=e.formatter,b=e.dom,k=qe(Yo(m.get()),N=>N!==r&&!On(N,"removeformat")),E=Kk(e,o,k);if(qe(E,N=>!NE(e,N,r)).length>0){const N=o.cloneNode(!1);return b.add(n,N),m.remove(r,c,N,u),b.remove(N),F.some(N)}else return F.none()},rF=(e,n,o)=>{let r;const c=e.selection,u=e.formatter.get(n);if(!u)return;const m=c.getRng();let b=m.startOffset;const E=m.startContainer.nodeValue;r=zm(e.getBody(),c.getStart());const D=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(E&&b>0&&b<E.length&&D.test(E.charAt(b))&&D.test(E.charAt(b-1))){const N=c.getBookmark();m.collapse(!0);let I=xg(e.dom,m,u);I=$d(I),e.formatter.apply(n,o,I),c.moveToBookmark(N)}else{let N=r?AD(r):null;(!r||(N==null?void 0:N.data)!==Ib)&&(r=tF(e.getDoc(),n4(!0).dom),N=r.firstChild,m.insertNode(r),b=1),e.formatter.apply(n,o,r),c.setCursorLocation(N,b)}},KC=(e,n,o,r)=>{const c=e.dom,u=e.selection;let m=!1;const b=e.formatter.get(n);if(!b)return;const k=u.getRng(),E=k.startContainer,D=k.startOffset;let N=E;Bt(E)&&(D!==E.data.length&&(m=!0),N=N.parentNode);const I=[];let ee;for(;N;){if(Wf(e,N,n,o,r)){ee=N;break}N.nextSibling&&(m=!0),I.push(N),N=N.parentNode}if(ee)if(m){const oe=u.getBookmark();k.collapse(!0);let K=xg(c,k,b,!0);K=$d(K),e.formatter.remove(n,o,K,r),u.moveToBookmark(oe)}else{const oe=zm(e.getBody(),ee),K=n4(!1).dom;oF(e,K,oe??ee);const ne=sF(e,K,ee,n,o,r),Te=Jp(I.concat(ne.toArray()),K);oe&&o4(e,oe,!1),u.setCursorLocation(Te,1),c.isEmpty(ee)&&c.remove(ee)}},OD=(e,n,o)=>{const r=e.selection,c=e.getBody();qC(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Ib&&qC(e,zm(c,r.getStart())),(n===37||n===39)&&qC(e,zm(c,r.getStart()))},zD=e=>Bt(e)&&ds(e.data,fr),aF=e=>{e.on("mouseup keydown",n=>{OD(e,n.keyCode,zD(e.selection.getRng().endContainer))})},s4=e=>{const n=n4(!1),o=Jp(e,n.dom);return{caretContainer:n,caretPosition:ct(o,0)}},DD=(e,n)=>{const{caretContainer:o,caretPosition:r}=s4(n);return Xn(le.fromDom(e),o),Es(le.fromDom(e)),r},Lb=(e,n)=>{const{caretContainer:o,caretPosition:r}=s4(n);return e.insertNode(o.dom),r},r4=(e,n)=>{const o=e.schema.getTextInlineElements();return Kn(o,Xs(n))&&!Dc(n.dom)&&!wu(n.dom)},a4=e=>Dc(e.dom)&&ED(e.dom),ev={},Yk=wl(["pre"]),RD=(e,n)=>{ev[e]||(ev[e]=[]),ev[e].push(n)},cF=(e,n)=>{Kn(ev,e)&&ae(ev[e],o=>{o(n)})};RD("pre",e=>{const n=e.selection.getRng(),o=c=>u=>{const m=u.previousSibling;return Yk(m)&&X(c,m)},r=(c,u)=>{const m=le.fromDom(u),b=yi(m).dom;Es(m),sr(le.fromDom(c),[le.fromTag("br",b),le.fromTag("br",b),...Ia(m)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),u=qe(qe(c,Yk),o(c));ae(u,m=>{r(m.previousSibling,m)})}});const c4=["fontWeight","fontStyle","color","fontSize","fontFamily"],iF=e=>dt(e.styles)&&be(Yo(e.styles),n=>X(c4,n)),lF=e=>Ie(e,n=>Ba(n)&&n.inline==="span"&&iF(n)),Xk=(e,n)=>{const o=e.get(n);return gt(o)?lF(o):F.none()},i4=(e,n)=>oi(n,ct.fromRangeStart(e)).isNone(),YC=(e,n)=>Gi(n,ct.fromRangeEnd(e)).exists(o=>!Qr(o.getNode())||Gi(n,o).isSome())===!1,ND=e=>n=>cc(n)&&e.isEditable(n),uF=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return i4(o,n[0])&&YC(o,n[0])?n:[];{const r=mn(n).filter(m=>i4(o,m)).toArray(),c=bo(n).filter(m=>YC(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(c)}},MD=e=>qe(uF(e),ND(e.dom)),XC=e=>qe(e.getSelectedBlocks(),ND(e.dom)),JC=Et.each,l4=e=>gn(e)&&!Ol(e)&&!Dc(e)&&!wu(e),BD=(e,n)=>{for(let o=e;o;o=o[n]){if(Bt(o)&&yo(o.data))return e;if(gn(o)&&!Ol(o))return o}return e},PD=(e,n,o)=>{const r=Xp(e),c=gn(n)&&zu(n),u=gn(o)&&zu(o);if(c&&u){const m=BD(n,"previousSibling"),b=BD(o,"nextSibling");if(r.compare(m,b)){for(let k=m.nextSibling;k&&k!==b;){const E=k;k=k.nextSibling,m.appendChild(E)}return e.dom.remove(b),Et.each(Et.grep(b.childNodes),k=>{m.appendChild(k)}),m}}return o},Jk=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const u=(c=PD(e,dn(r),r))!==null&&c!==void 0?c:r;PD(e,u,dn(u,!0))}},Ng=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";JC(e.select(r,o),c=>{l4(c)&&zu(c)&&JC(n.styles,(u,m)=>{e.setStyle(c,m,"")})})}},u4=(e,n,o)=>{JC(e.childNodes,r=>{l4(r)&&(n(r)&&o(r),r.hasChildNodes()&&u4(r,n,o))})},d4=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Ea=(e,n)=>o=>!!(o&&bb(e,o,n)),QC=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),d4(e,r)},Mg=Df.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Bg=/^(src|href|style)$/,eS=Et.each,Qk=E1,ew=e=>/^(TR|TH|TD)$/.test(e.nodeName),FD=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),$D=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(gn(r)){const u=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>u?u:c]}return Bt(r)&&o&&c>=r.data.length&&(r=new vr(r,e.getBody()).next()||r),Bt(r)&&!o&&c===0&&(r=new vr(r,e.getBody()).prev()||r),r},Hb=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return ew(e)&&r?e.nodeName==="TR"&&r[o]||r:e},f4=(e,n,o,r)=>{var c;const u=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(u,n),u.appendChild(n),u},Qp=(e,n,o,r,c)=>{const u=le.fromDom(n),m=le.fromDom(e.create(r,c)),b=o?Xc(u):Gm(u);return sr(m,b),o?(Xn(u,m),Sr(m,u)):(io(u,m),Vs(m,u)),m.dom},dF=(e,n)=>n.links&&e.nodeName==="A",Pg=(e,n,o)=>{const r=n.parentNode;let c;const u=e.dom,m=ni(e);Nu(o)&&r===u.getRoot()&&(!o.list_block||!Qk(n,o.list_block))&&ae(as(n.childNodes),b=>{Du(e,m,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=f4(u,b,m),u.setAttribs(c,Sp(e))):c=null}),!(fk(o)&&!Qk(o.inline,n))&&u.remove(n,!0)},Fu=(e,n,o)=>Ro(e)?{name:n,value:null}:{name:e,value:Xl(n,o)},tw=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},tS=(e,n,o,r,c)=>{let u=!1;eS(o.styles,(m,b)=>{const{name:k,value:E}=Fu(b,m,r),D=hb(E,k);(o.remove_similar||U(E)||!gn(c)||Qk(bb(e,c,k),D))&&e.setStyle(n,k,""),u=!0}),u&&tw(e,n)},fF=(e,n,o)=>{n==="removeformat"?ae(XC(e.selection),r=>{ae(c4,c=>e.dom.setStyle(r,c,"")),tw(e.dom,r)}):Xk(e.formatter,n).each(r=>{ae(XC(e.selection),c=>tS(e.dom,c,r,o,null))})},ID=(e,n,o,r,c)=>{const u=e.dom,m=Xp(e),b=e.schema;if(Ba(n)&&Oy(b,n.inline)&&mm(b,r)&&r.parentElement===e.getBody())return Pg(e,r,n),Mg.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!qk(u,r,n)&&!dF(r,n))return Mg.keep();const k=r,E=n.preserve_attributes;if(Ba(n)&&n.remove==="all"&&gt(E)){const D=qe(u.getAttribs(k),N=>X(E,N.name.toLowerCase()));if(u.removeAllAttribs(k),ae(D,N=>u.setAttrib(k,N.name,N.value)),D.length>0)return Mg.rename("span")}if(n.remove!=="all"){tS(u,k,n,o,c),eS(n.attributes,(N,I)=>{const{name:ee,value:oe}=Fu(I,N,o);if(n.remove_similar||U(oe)||!gn(c)||Qk(u.getAttrib(c,ee),oe)){if(ee==="class"){const K=u.getAttrib(k,ee);if(K){let ne="";if(ae(K.split(/\s+/),Te=>{/mce\-\w+/.test(Te)&&(ne+=(ne?" ":"")+Te)}),ne){u.setAttrib(k,ee,ne);return}}}if(Bg.test(ee)&&k.removeAttribute("data-mce-"+ee),ee==="style"&&wl(["li"])(k)&&u.getStyle(k,"list-style-type")==="none"){k.removeAttribute(ee),u.setStyle(k,"list-style-type","none");return}ee==="class"&&k.removeAttribute("className"),k.removeAttribute(ee)}}),eS(n.classes,N=>{N=Xl(N,o),(!gn(c)||u.hasClass(c,N))&&u.removeClass(k,N)});const D=u.getAttribs(k);for(let N=0;N<D.length;N++){const I=D[N].nodeName;if(!m.isAttributeInternal(I))return Mg.keep()}}return n.remove!=="none"?(Pg(e,k,n),Mg.removed()):Mg.keep()},nS=(e,n,o,r,c)=>{let u;return n.parentNode&&ae(yb(e.dom,n.parentNode).reverse(),m=>{if(!u&&gn(m)&&m.id!=="_start"&&m.id!=="_end"){const b=Wf(e,m,o,r,c);b&&b.split!==!1&&(u=m)}}),u},mF=(e,n,o,r)=>ID(e,n,o,r,r).fold(st(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),st(null)),Ld=(e,n,o,r,c,u,m,b)=>{var k,E;let D,N;const I=e.dom;if(o){const ee=o.parentNode;for(let oe=r.parentNode;oe&&oe!==ee;oe=oe.parentNode){let K=I.clone(oe,!1);for(let ne=0;ne<n.length&&(K=mF(e,n[ne],b,K),K!==null);ne++);K&&(D&&K.appendChild(D),N||(N=K),D=K)}u&&(!m.mixed||!I.isBlock(o))&&(r=(k=I.split(o,r))!==null&&k!==void 0?k:r),D&&N&&((E=c.parentNode)===null||E===void 0||E.insertBefore(D,c),N.appendChild(c),Ba(m)&&Jk(e,m,b,D))}return r},oS=(e,n,o,r,c)=>{const u=e.formatter.get(n),m=u[0],b=e.dom,k=e.selection,E=K=>{const ne=nS(e,K,n,o,c);return Ld(e,u,ne,K,K,!0,m,o)},D=K=>Ol(K)&&gn(K)&&(K.id==="_start"||K.id==="_end"),N=K=>be(u,ne=>Vb(e,ne,o,K,K)),I=K=>{const ne=as(K.childNodes),ze=N(K)||be(u,St=>qk(b,K,St)),Re=K.parentNode;if(!ze&&Pe(Re)&&kb(m)&&N(Re),m.deep&&ne.length)for(let St=0;St<ne.length;St++)I(ne[St]);ae(["underline","line-through","overline"],St=>{gn(K)&&e.dom.getStyle(K,"text-decoration")===St&&K.parentNode&&uk(b,K.parentNode)===St&&Vb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:St}},void 0,K)})},ee=K=>{const ne=b.get(K?"_start":"_end");if(ne){let Te=ne[K?"firstChild":"lastChild"];return D(Te)&&(Te=Te[K?"firstChild":"lastChild"]),Bt(Te)&&Te.data.length===0&&(Te=K?ne.previousSibling||ne.nextSibling:ne.nextSibling||ne.previousSibling),b.remove(ne,!0),Te}else return null},oe=K=>{let ne,Te,ze=xg(b,K,u,K.collapsed);if(m.split){if(ze=$d(ze),ne=$D(e,ze,!0),Te=$D(e,ze),ne!==Te){if(ne=Hb(ne,!0),Te=Hb(Te,!1),FD(b,ne,Te)){const Ve=F.from(ne.firstChild).getOr(ne);E(Qp(b,Ve,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ee(!0);return}if(FD(b,Te,ne)){const Ve=F.from(Te.lastChild).getOr(Te);E(Qp(b,Ve,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ee(!1);return}ne=f4(b,ne,"span",{id:"_start","data-mce-type":"bookmark"}),Te=f4(b,Te,"span",{id:"_end","data-mce-type":"bookmark"});const Re=b.createRng();Re.setStartAfter(ne),Re.setEndBefore(Te),Pf(b,Re,Ve=>{ae(Ve,St=>{!Ol(St)&&!Ol(St.parentNode)&&E(St)})}),E(ne),E(Te),ne=ee(!0),Te=ee()}else ne=Te=E(ne);ze.startContainer=ne.parentNode?ne.parentNode:ne,ze.startOffset=b.nodeIndex(ne),ze.endContainer=Te.parentNode?Te.parentNode:Te,ze.endOffset=b.nodeIndex(Te)+1}Pf(b,ze,Re=>{ae(Re,I)})};if(r){if(gb(r)){const K=b.createRng();K.setStartBefore(r),K.setEndAfter(r),oe(K)}else oe(r);Ql(e,n,r,o);return}!k.isCollapsed()||!Ba(m)||Rm(e).length?(K2(e,()=>ik(e,oe),K=>Ba(m)&&Gk(e,n,o,K)),e.nodeChanged()):KC(e,n,o,c),fF(e,n,o),Ql(e,n,r,o)},m4=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&oS(e,n,o,r,c)},Vb=(e,n,o,r,c)=>ID(e,n,o,r,c).fold(De,u=>(e.dom.rename(r,u),!0),lt),sS=Et.each,Ub=(e,n,o,r)=>{const c=u=>{if(gn(u)&&gn(u.parentNode)&&zu(u)){const m=uk(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Et.walk(r,c,"childNodes"),c(r))},g4=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=Ea(e,"fontSize");u4(r,u=>c(u)&&zu(u),QC(e,"backgroundColor",Xl(n.styles.backgroundColor,o)))}},gF=(e,n,o,r)=>{if(Ba(n)&&(n.inline==="sub"||n.inline==="sup")){const c=Ea(e,"fontSize");u4(r,m=>c(m)&&zu(m),QC(e,"fontSize",""));const u=qe(e.select(n.inline==="sup"?"sub":"sup",r),zu);e.remove(u,!0)}},LD=(e,n,o,r)=>{sS(n,c=>{Ba(c)&&sS(e.dom.select(c.inline,r),u=>{l4(u)&&Vb(e,c,o,u,c.exact?u:null)}),Ng(e.dom,c,r)})},pF=(e,n,o,r,c)=>{const u=c.parentNode;Wf(e,u,o,r)&&Vb(e,n,r,c)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>Wf(e,m,o,r)?(Vb(e,n,r,c),!0):!1)},rS=Et.each,hF=(e,n,o,r)=>{if(JT(e)&&Ba(n)&&o.parentNode){const c=Ul(e.schema),u=JP(le.fromDom(o),m=>Dc(m.dom));return ar(c,r)&&ma(le.fromDom(o.parentNode),!1)&&!u}else return!1},HD=(e,n,o,r)=>{if(rS(o.styles,(c,u)=>{e.setStyle(n,u,Xl(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},nw=(e,n,o,r)=>{const c=e.formatter.get(n),u=c[0],m=!r&&e.selection.isCollapsed(),b=e.dom,k=e.selection,E=(oe,K=u)=>{ie(K.onformat)&&K.onformat(oe,K,o,r),HD(b,oe,K,o),rS(K.attributes,(ne,Te)=>{b.setAttrib(oe,Te,Xl(ne,o))}),rS(K.classes,ne=>{const Te=Xl(ne,o);b.hasClass(oe,Te)||b.addClass(oe,Te)})},D=(oe,K)=>{let ne=!1;return rS(oe,Te=>ll(Te)?b.getContentEditable(K)==="false"&&!Te.ceFalseOverride||Pe(Te.collapsed)&&Te.collapsed!==m?!0:b.is(K,Te.selector)&&!Dc(K)?(E(K,Te),ne=!0,!1):!0:!1),ne},N=oe=>{if(j(oe)){const K=b.create(oe);return E(K),K}else return null},I=(oe,K,ne)=>{const Te=[];let ze=!0;const Re=u.inline||u.block,Ve=N(Re),St=et=>O1(u)&&Wf(e,et,n,o),Kt=(et,tt,Nt)=>{const jn=vb(u)&&Wa(e.schema,et)&&Du(e,tt,Re);return Nt&&jn},rn=(et,tt,Nt,jn)=>{const ro=et.nodeName.toLowerCase(),Uo=Du(e,Re,ro)&&Du(e,tt,Re),ls=!ne&&Bt(et)&&Pt(et.data),tr=Dc(et),Ss=!Ba(u)||!oe.isBlock(et);return(Nt||jn)&&Uo&&!ls&&!tr&&Ss};Pf(oe,K,et=>{let tt;const Nt=jn=>{let ro=!1,Uo=ze,ls=!1;const tr=jn.parentNode,Ss=tr.nodeName.toLowerCase(),ca=oe.getContentEditable(jn);Pe(ca)&&(Uo=ze,ze=ca==="true",ro=!0,ls=pb(e,jn));const fi=ze&&!ro;if(Qr(jn)&&!hF(e,u,jn,Ss)){tt=null,Nu(u)&&oe.remove(jn);return}if(St(jn)){tt=null;return}if(Kt(jn,Ss,fi)){const hc=oe.rename(jn,Re);E(hc),Te.push(hc),tt=null;return}if(ll(u)){let hc=D(c,jn);if(!hc&&Pe(tr)&&kb(u)&&(hc=D(c,tr)),!Ba(u)||hc){tt=null;return}}Pe(Ve)&&rn(jn,Ss,fi,ls)?(tt||(tt=oe.clone(Ve,!1),tr.insertBefore(tt,jn),Te.push(tt)),ls&&ro&&(ze=Uo),tt.appendChild(jn)):(tt=null,ae(as(jn.childNodes),Nt),ro&&(ze=Uo),tt=null)};ae(et,Nt)}),u.links===!0&&ae(Te,et=>{const tt=Nt=>{Nt.nodeName==="A"&&E(Nt,u),ae(as(Nt.childNodes),tt)};tt(et)}),ae(Te,et=>{const tt=ro=>{let Uo=0;return ae(ro.childNodes,ls=>{!Ru(ls)&&!Ol(ls)&&Uo++}),Uo},Nt=ro=>Ie(ro.childNodes,lk).filter(ls=>oe.getContentEditable(ls)!=="false"&&qk(oe,ls,u)).map(ls=>{const tr=oe.clone(ls,!1);return E(tr),oe.replace(tr,ro,!0),oe.remove(ls,!0),tr}).getOr(ro),jn=tt(et);if((Te.length>1||!oe.isBlock(et))&&jn===0){oe.remove(et,!0);return}(Ba(u)||Nu(u)&&u.wrapper)&&(!u.exact&&jn===1&&(et=Nt(et)),LD(e,c,o,et),pF(e,u,n,o,et),g4(oe,u,o,et),Ub(oe,u,o,et),gF(oe,u,o,et),Jk(e,u,o,et))})},ee=gb(r)?r:k.getNode();if(b.getContentEditable(ee)==="false"&&!pb(e,ee)){r=ee,D(c,r),rC(e,n,r,o);return}if(u){if(r)if(gb(r)){if(!D(c,r)){const oe=b.createRng();oe.setStartBefore(r),oe.setEndAfter(r),I(b,xg(b,oe,c),!0)}}else I(b,r,!0);else!m||!Ba(u)||Rm(e).length?(k.setRng(LC(k.getRng())),K2(e,()=>{ik(e,(oe,K)=>{const ne=K?oe:xg(b,oe,c);I(b,ne,!1)})},lt),e.nodeChanged()):rF(e,n,o),Xk(e.formatter,n).each(oe=>{ae(MD(e.selection),K=>HD(b,K,oe,o))});cF(n,e)}rC(e,n,r,o)},VD=(e,n,o,r)=>{(r||e.selection.isEditable())&&nw(e,n,o,r)},p4=e=>Kn(e,"vars"),h4=(e,n)=>{e.set({}),n.on("NodeChange",o=>{jD(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=F.from(o.node).map(c=>gb(c)?c:c.startContainer).bind(c=>gn(c)?F.some(c):F.from(c.parentElement)).getOrThunk(()=>UD(n));jD(n,r,e.get())})},UD=e=>e.selection.getStart(),b4=(e,n,o,r,c)=>Se(n,b=>{const k=e.formatter.matchNode(b,o,c??{},r);return!bn(k)},b=>ZC(e,b,o)?!0:r?!1:Pe(e.formatter.matchNode(b,o,c,!0))),y4=(e,n)=>{const o=n??UD(e);return qe(yb(e.dom,o),r=>gn(r)&&!wu(r))},jD=(e,n,o)=>{const r=y4(e,n);Tt(o,(c,u)=>{const m=b=>{const k=b4(e,r,u,b.similar,p4(b)?b.vars:void 0),E=k.isSome();if(b.state.get()!==E){b.state.set(E);const D=k.getOr(n);p4(b)?b.callback(E,{node:D,format:u,parents:r}):ae(b.callbacks,N=>N(E,{node:D,format:u,parents:r}))}};ae([c.withSimilar,c.withoutSimilar],m),ae(c.withVars,m)})},bF=(e,n,o,r,c,u)=>{const m=n.get();ae(o.split(","),b=>{const k=Cs(m,b).getOrThunk(()=>{const D={withSimilar:{state:Ma(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ma(!1),similar:!1,callbacks:[]},withVars:[]};return m[b]=D,D}),E=()=>{const D=y4(e);return b4(e,D,b,c,u).isSome()};if(bn(u)){const D=c?k.withSimilar:k.withoutSimilar;D.callbacks.push(r),D.callbacks.length===1&&D.state.set(E())}else k.withVars.push({state:Ma(E()),similar:c,vars:u,callback:r})}),n.set(m)},yF=(e,n,o)=>{const r=e.get();ae(n.split(","),c=>Cs(r,c).each(u=>{r[c]={withSimilar:{...u.withSimilar,callbacks:qe(u.withSimilar.callbacks,m=>m!==o)},withoutSimilar:{...u.withoutSimilar,callbacks:qe(u.withoutSimilar.callbacks,m=>m!==o)},withVars:qe(u.withVars,m=>m.callback!==o)}})),e.set(r)},vF=(e,n,o,r,c,u)=>(bF(e,n,o,r,c,u),{unbind:()=>yF(n,o,r)}),kF=(e,n,o,r)=>{const c=e.formatter.get(n);c&&(Gk(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?m4(e,n,o,r):VD(e,n,o,r))},WD=Et.explode,ZD=()=>{const e={};return{addFilter:(c,u)=>{ae(WD(c),m=>{Kn(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>Ur(e),removeFilter:(c,u)=>{ae(WD(c),m=>{if(Kn(e,m))if(Pe(u)){const b=e[m],k=qe(b.callbacks,E=>E!==u);k.length>0?b.callbacks=k:delete e[m]}else delete e[m]})}}},wF=(e,n)=>{ae(n,o=>{e.attr(o,null)})},_F=(e,n,o)=>{e.addNodeFilter("font",r=>{ae(r,c=>{const u=n.parse(c.attr("style")),m=c.attr("color"),b=c.attr("face"),k=c.attr("size");m&&(u.color=m),b&&(u["font-family"]=b),k&&ka(k).each(E=>{u["font-size"]=o[E-1]}),c.name="span",c.attr("style",n.serialize(u)),wF(c,["color","face","size"])})})},CF=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";ae(r,u=>{if(c)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},SF=(e,n,o)=>{var r;const c=$y();n.convert_fonts_to_spans&&_F(e,c,Et.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),CF(e,o,c)},xF=(e,n,o)=>{n.inline_styles&&SF(e,n,o)},qD=(e,n,o)=>{n.addNodeFilter("br",(r,c,u)=>{const m=Et.extend({},o.getBlockElements()),b=o.getNonEmptyElements(),k=o.getWhitespaceElements();m.body=1;const E=D=>D.name in m||Ds(o,D);for(let D=0,N=r.length;D<N;D++){let I=r[D],ee=I.parent;if(ee&&E(ee)&&I===ee.lastChild){let oe=I.prev;for(;oe;){const K=oe.name;if(K!=="span"||oe.attr("data-mce-type")!=="bookmark"){K==="br"&&(I=null);break}oe=oe.prev}if(I&&(I.remove(),$b(o,b,k,ee))){const K=o.getElementRule(ee.name);K&&(K.removeEmpty?ee.remove():K.paddEmpty&&BC(e,u,E,ee))}}else{let oe=I;for(;ee&&ee.firstChild===oe&&ee.lastChild===oe&&(oe=ee,!m[ee.name]);)ee=ee.parent;if(oe===ee){const K=new Rl("#text",3);K.value=fr,I.replace(K)}}}})},GD=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),TF=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},eh=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const u=c[2]===";base64",m=u?TF(r):decodeURIComponent(r);return F.some({type:c[1],data:m,base64Encoded:u})}else return F.none()},KD=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return F.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return F.some(new Blob([c],{type:e}))},EF=e=>new Promise((n,o)=>{eh(e).bind(({type:r,data:c,base64Encoded:u})=>KD(r,c,u)).fold(()=>o("Invalid data URI"),n)}),AF=e=>no(e,"blob:")?GD(e):no(e,"data:")?EF(e):Promise.reject("Unknown URI format"),YD=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let XD=0;const OF=e=>(e||"blobid")+XD++,JD=(e,n,o)=>eh(e).bind(({data:r,type:c,base64Encoded:u})=>{if(n&&!u)return F.none();{const m=u?r:btoa(r);return o(m,c)}}),QD=(e,n,o)=>{const r=e.create(OF(),n,o);return e.add(r),r},e6=(e,n,o=!1)=>JD(n,o,(r,c)=>F.from(e.getByData(r,c)).orThunk(()=>KD(c,r).map(u=>QD(e,u,r)))),zF=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(no(n,"blob:")){const r=e.getByUri(n);return Pe(r)?Promise.resolve(r):AF(n).then(c=>YD(c).then(u=>JD(u,!1,m=>F.some(QD(e,c,m))).getOrThunk(o)))}else return no(n,"data:")?e6(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},DF=e=>Pe(e.attr("data-mce-bogus")),RF=e=>e.attr("src")===nn.transparentSrc||Pe(e.attr("data-mce-placeholder")),NF=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const u=c.attr("src");RF(c)||DF(c)||Zt(u)||e6(o,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>ae(c,r))}},MF=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&qD(n,e,o),e.addAttributeFilter("href",c=>{let u=c.length;const m=k=>k.split(" ").filter(D=>D.length>0).concat(["noopener"]).sort().join(" "),b=k=>{const E=k?Et.trim(k):"";return/\b(noopener)\b/g.test(E)?E:m(E)};if(!n.allow_unsafe_link_target)for(;u--;){const k=c[u];k.name==="a"&&k.attr("target")==="_blank"&&k.attr("rel",b(k.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",c=>{let u=c.length,m,b,k,E;for(;u--;)if(E=c[u],E.name==="a"&&E.firstChild&&!E.attr("href"))for(k=E.parent,m=E.lastChild;m&&k;)b=m.prev,k.insert(m,E),m=b}),n.fix_list_elements&&e.addNodeFilter("ul,ol",c=>{let u=c.length,m,b;for(;u--;)if(m=c[u],b=m.parent,b&&(b.name==="ul"||b.name==="ol"))if(m.prev&&m.prev.name==="li")m.prev.append(m);else{const k=new Rl("li",1);k.attr("style","list-style-type: none"),m.wrap(k)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",c=>{var u;let m=c.length;for(;m--;){const b=c[m],k=(u=b.attr("class"))!==null&&u!==void 0?u:"",E=Et.explode(k," ");let D="";for(let N=0;N<E.length;N++){const I=E[N];let ee=!1,oe=r["*"];oe&&oe[I]&&(ee=!0),oe=r[b.name],!ee&&oe&&oe[I]&&(ee=!0),ee&&(D&&(D+=" "),D+=I)}D.length||(D=null),b.attr("class",D)}}),NF(e,n)};function jb(e){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jb(e)}function ow(e,n){return ow=Object.setPrototypeOf||function(r,c){return r.__proto__=c,r},ow(e,n)}function t6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v4(e,n,o){return t6()?v4=Reflect.construct:v4=function(c,u,m){var b=[null];b.push.apply(b,u);var k=Function.bind.apply(c,b),E=new k;return m&&ow(E,m.prototype),E},v4.apply(null,arguments)}function tu(e){return n6(e)||sw(e)||rw(e)||AW()}function n6(e){if(Array.isArray(e))return aS(e)}function sw(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rw(e,n){if(e){if(typeof e=="string")return aS(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return aS(e,n)}}function aS(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var BF=Object.hasOwnProperty,PF=Object.setPrototypeOf,FF=Object.isFrozen,$F=Object.getPrototypeOf,OW=Object.getOwnPropertyDescriptor,nu=Object.freeze,Zf=Object.seal,IF=Object.create,k4=typeof Reflect<"u"&&Reflect,cS=k4.apply,tv=k4.construct;cS||(cS=function(n,o,r){return n.apply(o,r)}),nu||(nu=function(n){return n}),Zf||(Zf=function(n){return n}),tv||(tv=function(n,o){return v4(n,tu(o))});var o6=qf(Array.prototype.forEach),mc=qf(Array.prototype.pop),iS=qf(Array.prototype.push),w4=qf(String.prototype.toLowerCase),zW=qf(String.prototype.match),Wb=qf(String.prototype.replace),Hd=qf(String.prototype.indexOf),lS=qf(String.prototype.trim),Mc=qf(RegExp.prototype.test),Bm=LF(TypeError);function qf(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return cS(e,n,r)}}function LF(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return tv(e,o)}}function Qs(e,n){PF&&PF(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var c=w4(r);c!==r&&(FF(n)||(n[o]=c),r=c)}e[r]=!0}return e}function Vd(e){var n=IF(null),o;for(o in e)cS(BF,e,[o])&&(n[o]=e[o]);return n}function Fg(e,n){for(;e!==null;){var o=OW(e,n);if(o){if(o.get)return qf(o.get);if(typeof o.value=="function")return qf(o.value)}e=$F(e)}function r(c){return console.warn("fallback value for",c),null}return r}var _4=nu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),aw=nu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uS=nu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),s6=nu(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),C4=nu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),HF=nu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),S4=nu(["#text"]),r6=nu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),x4=nu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),a6=nu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),dS=nu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VF=Zf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),c6=Zf(/<%[\w\W]*|[\w\W]*%>/gm),UF=Zf(/^data-[\-\w.\u00B7-\uFFFF]/),cw=Zf(/^aria-[\-\w]+$/),i6=Zf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jF=Zf(/^(?:\w+script|data):/i),l6=Zf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),WF=Zf(/^html$/i),u6=function(){return typeof window>"u"?null:window},ZF=function(n,o){if(jb(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,c="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(c)&&(r=o.currentScript.getAttribute(c));var u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function d6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u6(),n=function(it){return d6(it)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,c=e.DocumentFragment,u=e.HTMLTemplateElement,m=e.Node,b=e.Element,k=e.NodeFilter,E=e.NamedNodeMap,D=E===void 0?e.NamedNodeMap||e.MozNamedAttrMap:E,N=e.HTMLFormElement,I=e.DOMParser,ee=e.trustedTypes,oe=b.prototype,K=Fg(oe,"cloneNode"),ne=Fg(oe,"nextSibling"),Te=Fg(oe,"childNodes"),ze=Fg(oe,"parentNode");if(typeof u=="function"){var Re=r.createElement("template");Re.content&&Re.content.ownerDocument&&(r=Re.content.ownerDocument)}var Ve=ZF(ee,o),St=Ve?Ve.createHTML(""):"",Kt=r,rn=Kt.implementation,et=Kt.createNodeIterator,tt=Kt.createDocumentFragment,Nt=Kt.getElementsByTagName,jn=o.importNode,ro={};try{ro=Vd(r).documentMode?r.documentMode:{}}catch{}var Uo={};n.isSupported=typeof ze=="function"&&rn&&typeof rn.createHTMLDocument<"u"&&ro!==9;var ls=VF,tr=c6,Ss=UF,ca=cw,fi=jF,hc=l6,Lt=i6,Hn=null,Bs=Qs({},[].concat(tu(_4),tu(aw),tu(uS),tu(C4),tu(S4))),Os=null,Vn=Qs({},[].concat(tu(r6),tu(x4),tu(a6),tu(dS))),Wn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Vt=null,Co=null,ms=!0,nr=!0,Mn=!1,ss=!1,ur=!1,Nr=!1,gr=!1,Pc=!1,fd=!1,iu=!1,Yd=!0,Jf=!0,Kg=!1,kh={},Yg=null,a_=Qs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),iT=null,c_=Qs({},["audio","video","img","source","image","track"]),i_=null,l_=Qs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),u_="http://www.w3.org/1998/Math/MathML",d_="http://www.w3.org/2000/svg",Xd="http://www.w3.org/1999/xhtml",my=Xd,wh=!1,Xg,f_=["application/xhtml+xml","text/html"],m_="text/html",Qf,Jg=null,g_=r.createElement("form"),lT=function(it){return it instanceof RegExp||it instanceof Function},uT=function(it){Jg&&Jg===it||((!it||jb(it)!=="object")&&(it={}),it=Vd(it),Hn="ALLOWED_TAGS"in it?Qs({},it.ALLOWED_TAGS):Bs,Os="ALLOWED_ATTR"in it?Qs({},it.ALLOWED_ATTR):Vn,i_="ADD_URI_SAFE_ATTR"in it?Qs(Vd(l_),it.ADD_URI_SAFE_ATTR):l_,iT="ADD_DATA_URI_TAGS"in it?Qs(Vd(c_),it.ADD_DATA_URI_TAGS):c_,Yg="FORBID_CONTENTS"in it?Qs({},it.FORBID_CONTENTS):a_,Vt="FORBID_TAGS"in it?Qs({},it.FORBID_TAGS):{},Co="FORBID_ATTR"in it?Qs({},it.FORBID_ATTR):{},kh="USE_PROFILES"in it?it.USE_PROFILES:!1,ms=it.ALLOW_ARIA_ATTR!==!1,nr=it.ALLOW_DATA_ATTR!==!1,Mn=it.ALLOW_UNKNOWN_PROTOCOLS||!1,ss=it.SAFE_FOR_TEMPLATES||!1,ur=it.WHOLE_DOCUMENT||!1,Pc=it.RETURN_DOM||!1,fd=it.RETURN_DOM_FRAGMENT||!1,iu=it.RETURN_TRUSTED_TYPE||!1,gr=it.FORCE_BODY||!1,Yd=it.SANITIZE_DOM!==!1,Jf=it.KEEP_CONTENT!==!1,Kg=it.IN_PLACE||!1,Lt=it.ALLOWED_URI_REGEXP||Lt,my=it.NAMESPACE||Xd,it.CUSTOM_ELEMENT_HANDLING&&lT(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Wn.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&lT(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Wn.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Wn.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xg=f_.indexOf(it.PARSER_MEDIA_TYPE)===-1?Xg=m_:Xg=it.PARSER_MEDIA_TYPE,Qf=Xg==="application/xhtml+xml"?function(In){return In}:w4,ss&&(nr=!1),fd&&(Pc=!0),kh&&(Hn=Qs({},tu(S4)),Os=[],kh.html===!0&&(Qs(Hn,_4),Qs(Os,r6)),kh.svg===!0&&(Qs(Hn,aw),Qs(Os,x4),Qs(Os,dS)),kh.svgFilters===!0&&(Qs(Hn,uS),Qs(Os,x4),Qs(Os,dS)),kh.mathMl===!0&&(Qs(Hn,C4),Qs(Os,a6),Qs(Os,dS))),it.ADD_TAGS&&(Hn===Bs&&(Hn=Vd(Hn)),Qs(Hn,it.ADD_TAGS)),it.ADD_ATTR&&(Os===Vn&&(Os=Vd(Os)),Qs(Os,it.ADD_ATTR)),it.ADD_URI_SAFE_ATTR&&Qs(i_,it.ADD_URI_SAFE_ATTR),it.FORBID_CONTENTS&&(Yg===a_&&(Yg=Vd(Yg)),Qs(Yg,it.FORBID_CONTENTS)),Jf&&(Hn["#text"]=!0),ur&&Qs(Hn,["html","head","body"]),Hn.table&&(Qs(Hn,["tbody"]),delete Vt.tbody),nu&&nu(it),Jg=it)},AO=Qs({},["mi","mo","mn","ms","mtext"]),dT=Qs({},["foreignobject","desc","title","annotation-xml"]),OO=Qs({},["title","style","font","a","script"]),Jd=Qs({},aw);Qs(Jd,uS),Qs(Jd,s6);var gy=Qs({},C4);Qs(gy,HF);var je=function(it){var In=ze(it);(!In||!In.tagName)&&(In={namespaceURI:Xd,tagName:"template"});var Ho=w4(it.tagName),ya=w4(In.tagName);return it.namespaceURI===d_?In.namespaceURI===Xd?Ho==="svg":In.namespaceURI===u_?Ho==="svg"&&(ya==="annotation-xml"||AO[ya]):!!Jd[Ho]:it.namespaceURI===u_?In.namespaceURI===Xd?Ho==="math":In.namespaceURI===d_?Ho==="math"&&dT[ya]:!!gy[Ho]:it.namespaceURI===Xd?In.namespaceURI===d_&&!dT[ya]||In.namespaceURI===u_&&!AO[ya]?!1:!gy[Ho]&&(OO[Ho]||!Jd[Ho]):!1},Ze=function(it){iS(n.removed,{element:it});try{it.parentNode.removeChild(it)}catch{try{it.outerHTML=St}catch{it.remove()}}},Ht=function(it,In){try{iS(n.removed,{attribute:In.getAttributeNode(it),from:In})}catch{iS(n.removed,{attribute:null,from:In})}if(In.removeAttribute(it),it==="is"&&!Os[it])if(Pc||fd)try{Ze(In)}catch{}else try{In.setAttribute(it,"")}catch{}},Ft=function(it){var In,Ho;if(gr)it="<remove></remove>"+it;else{var ya=zW(it,/^[\r\n\t ]+/);Ho=ya&&ya[0]}Xg==="application/xhtml+xml"&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");var Bl=Ve?Ve.createHTML(it):it;if(my===Xd)try{In=new I().parseFromString(Bl,Xg)}catch{}if(!In||!In.documentElement){In=rn.createDocument(my,"template",null);try{In.documentElement.innerHTML=wh?"":Bl}catch{}}var Pl=In.body||In.documentElement;return it&&Ho&&Pl.insertBefore(r.createTextNode(Ho),Pl.childNodes[0]||null),my===Xd?Nt.call(In,ur?"html":"body")[0]:ur?In.documentElement:Pl},ao=function(it){return et.call(it.ownerDocument||it,it,k.SHOW_ELEMENT|k.SHOW_COMMENT|k.SHOW_TEXT,null,!1)},zs=function(it){return it instanceof N&&(typeof it.nodeName!="string"||typeof it.textContent!="string"||typeof it.removeChild!="function"||!(it.attributes instanceof D)||typeof it.removeAttribute!="function"||typeof it.setAttribute!="function"||typeof it.namespaceURI!="string"||typeof it.insertBefore!="function")},Hr=function(it){return jb(m)==="object"?it instanceof m:it&&jb(it)==="object"&&typeof it.nodeType=="number"&&typeof it.nodeName=="string"},Fc=function(it,In,Ho){Uo[it]&&o6(Uo[it],function(ya){ya.call(n,In,Ho,Jg)})},$c=function(it){var In;if(Fc("beforeSanitizeElements",it,null),zs(it)||Mc(/[\u0080-\uFFFF]/,it.nodeName))return Ze(it),!0;var Ho=Qf(it.nodeName);if(Fc("uponSanitizeElement",it,{tagName:Ho,allowedTags:Hn}),it.hasChildNodes()&&!Hr(it.firstElementChild)&&(!Hr(it.content)||!Hr(it.content.firstElementChild))&&Mc(/<[/\w]/g,it.innerHTML)&&Mc(/<[/\w]/g,it.textContent)||Ho==="select"&&Mc(/<template/i,it.innerHTML))return Ze(it),!0;if(!Hn[Ho]||Vt[Ho]){if(!Vt[Ho]&&$v(Ho)&&(Wn.tagNameCheck instanceof RegExp&&Mc(Wn.tagNameCheck,Ho)||Wn.tagNameCheck instanceof Function&&Wn.tagNameCheck(Ho)))return!1;if(Jf&&!Yg[Ho]){var ya=ze(it)||it.parentNode,Bl=Te(it)||it.childNodes;if(Bl&&ya)for(var Pl=Bl.length,gl=Pl-1;gl>=0;--gl)ya.insertBefore(K(Bl[gl],!0),ne(it))}return Ze(it),!0}return it instanceof b&&!je(it)||(Ho==="noscript"||Ho==="noembed")&&Mc(/<\/no(script|embed)/i,it.innerHTML)?(Ze(it),!0):(ss&&it.nodeType===3&&(In=it.textContent,In=Wb(In,ls," "),In=Wb(In,tr," "),it.textContent!==In&&(iS(n.removed,{element:it.cloneNode()}),it.textContent=In)),Fc("afterSanitizeElements",it,null),!1)},p_=function(it,In,Ho){if(Yd&&(In==="id"||In==="name")&&(Ho in r||Ho in g_))return!1;if(!(nr&&!Co[In]&&Mc(Ss,In))){if(!(ms&&Mc(ca,In))){if(!Os[In]||Co[In]){if(!($v(it)&&(Wn.tagNameCheck instanceof RegExp&&Mc(Wn.tagNameCheck,it)||Wn.tagNameCheck instanceof Function&&Wn.tagNameCheck(it))&&(Wn.attributeNameCheck instanceof RegExp&&Mc(Wn.attributeNameCheck,In)||Wn.attributeNameCheck instanceof Function&&Wn.attributeNameCheck(In))||In==="is"&&Wn.allowCustomizedBuiltInElements&&(Wn.tagNameCheck instanceof RegExp&&Mc(Wn.tagNameCheck,Ho)||Wn.tagNameCheck instanceof Function&&Wn.tagNameCheck(Ho))))return!1}else if(!i_[In]){if(!Mc(Lt,Wb(Ho,hc,""))){if(!((In==="src"||In==="xlink:href"||In==="href")&&it!=="script"&&Hd(Ho,"data:")===0&&iT[it])){if(!(Mn&&!Mc(fi,Wb(Ho,hc,"")))){if(Ho)return!1}}}}}}return!0},$v=function(it){return it.indexOf("-")>0},zO=function(it){var In,Ho,ya,Bl;Fc("beforeSanitizeAttributes",it,null);var Pl=it.attributes;if(Pl){var gl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Os};for(Bl=Pl.length;Bl--;){In=Pl[Bl];var h_=In,pl=h_.name,EB=h_.namespaceURI;Ho=pl==="value"?In.value:lS(In.value),ya=Qf(pl);var dW=Ho;if(gl.attrName=ya,gl.attrValue=Ho,gl.keepAttr=!0,gl.forceKeepAttr=void 0,Fc("uponSanitizeAttribute",it,gl),Ho=gl.attrValue,!gl.forceKeepAttr){if(!gl.keepAttr){Ht(pl,it);continue}if(Mc(/\/>/i,Ho)){Ht(pl,it);continue}ss&&(Ho=Wb(Ho,ls," "),Ho=Wb(Ho,tr," "));var fW=Qf(it.nodeName);if(!p_(fW,ya,Ho)){Ht(pl,it);continue}if(Ho!==dW)try{EB?it.setAttributeNS(EB,pl,Ho):it.setAttribute(pl,Ho)}catch{Ht(pl,it)}}}Fc("afterSanitizeAttributes",it,null)}},uW=function ns(it){var In,Ho=ao(it);for(Fc("beforeSanitizeShadowDOM",it,null);In=Ho.nextNode();)Fc("uponSanitizeShadowNode",In,null),!$c(In)&&(In.content instanceof c&&ns(In.content),zO(In));Fc("afterSanitizeShadowDOM",it,null)};return n.sanitize=function(ns,it){var In,Ho,ya,Bl,Pl;if(wh=!ns,wh&&(ns="<!-->"),typeof ns!="string"&&!Hr(ns)){if(typeof ns.toString!="function")throw Bm("toString is not a function");if(ns=ns.toString(),typeof ns!="string")throw Bm("dirty is not a string, aborting")}if(!n.isSupported){if(jb(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof ns=="string")return e.toStaticHTML(ns);if(Hr(ns))return e.toStaticHTML(ns.outerHTML)}return ns}if(Nr||uT(it),n.removed=[],typeof ns=="string"&&(Kg=!1),Kg){if(ns.nodeName){var gl=Qf(ns.nodeName);if(!Hn[gl]||Vt[gl])throw Bm("root node is forbidden and cannot be sanitized in-place")}}else if(ns instanceof m)In=Ft("<!---->"),Ho=In.ownerDocument.importNode(ns,!0),Ho.nodeType===1&&Ho.nodeName==="BODY"||Ho.nodeName==="HTML"?In=Ho:In.appendChild(Ho);else{if(!Pc&&!ss&&!ur&&ns.indexOf("<")===-1)return Ve&&iu?Ve.createHTML(ns):ns;if(In=Ft(ns),!In)return Pc?null:iu?St:""}In&&gr&&Ze(In.firstChild);for(var h_=ao(Kg?ns:In);ya=h_.nextNode();)ya.nodeType===3&&ya===Bl||$c(ya)||(ya.content instanceof c&&uW(ya.content),zO(ya),Bl=ya);if(Bl=null,Kg)return ns;if(Pc){if(fd)for(Pl=tt.call(In.ownerDocument);In.firstChild;)Pl.appendChild(In.firstChild);else Pl=In;return Os.shadowroot&&(Pl=jn.call(o,Pl,!0)),Pl}var pl=ur?In.outerHTML:In.innerHTML;return ur&&Hn["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&Mc(WF,In.ownerDocument.doctype.name)&&(pl="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+pl),ss&&(pl=Wb(pl,ls," "),pl=Wb(pl,tr," ")),Ve&&iu?Ve.createHTML(pl):pl},n.setConfig=function(ns){uT(ns),Nr=!0},n.clearConfig=function(){Jg=null,Nr=!1},n.isValidAttribute=function(ns,it,In){Jg||uT({});var Ho=Qf(ns),ya=Qf(it);return p_(Ho,ya,In)},n.addHook=function(ns,it){typeof it=="function"&&(Uo[ns]=Uo[ns]||[],iS(Uo[ns],it))},n.removeHook=function(ns){if(Uo[ns])return mc(Uo[ns])},n.removeHooks=function(ns){Uo[ns]&&(Uo[ns]=[])},n.removeAllHooks=function(){Uo={}},n}var f6=d6();const T4=Et.each,m6=Et.trim,g6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],p6={ftp:21,http:80,https:443,mailto:25},h6=["img","video"],qF=(e,n)=>Pe(e)?!e:Pe(n)?!X(h6,n):!0,GF=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},b6=(e,n,o)=>{const r=GF(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?qF(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class ad{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=bm.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!b6(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=m6(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const b=r?r.path:new ad(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(b,n);else{const k=/([^#?]*)([#?]?.*)/.exec(n);k&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(b,k[1])+k[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&T4(g6,(b,k)=>{let E=m[k];E&&(E=E.replace(/\(mce_at\)/g,"@@")),c[b]=E}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new ad(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new ad(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?p6[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",u,m;const b=n.substring(0,n.lastIndexOf("/")).split("/"),k=o.split("/");if(b.length>=k.length){for(u=0,m=b.length;u<m;u++)if(u>=k.length||b[u]!==k[u]){r=u+1;break}}if(b.length<k.length){for(u=0,m=k.length;u<m;u++)if(u>=b.length||b[u]!==k[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=b.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=k.length;u<m;u++)u!==r-1?c+="/"+k[u]:c+=k[u];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),b=[];T4(u,N=>{N&&b.push(N)});const k=[];for(let N=m.length-1;N>=0;N--)if(!(m[N].length===0||m[N]===".")){if(m[N]===".."){r++;continue}if(r>0){r--;continue}k.push(m[N])}const E=b.length-r;let D;return E<=0?D=An(k).join("/"):D=b.slice(0,E).join("/")+"/"+An(k).join("/"),D.indexOf("/")!==0&&(D="/"+D),c&&D.lastIndexOf("/")!==D.length-1&&(D+=c),D}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const iw=Et.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),fS="data-mce-type";let E4=0;const lw=(e,n,o,r)=>{var c,u,m,b;const k=n.validate,E=o.getSpecialElements();e.nodeType===Kr&&!n.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const D=(u=r==null?void 0:r.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(e.nodeType!==Ka||D==="body")return;const N=le.fromDom(e),I=aa(N,fS),ee=Fa(N,"data-mce-bogus");if(!I&&j(ee)){ee==="all"?Es(N):Jc(N);return}const oe=o.getElementRule(D);if(k&&!oe){Kn(E,D)?Es(N):Jc(N);return}else Pe(r)&&(r.allowedTags[D]=!0);if(k&&oe&&!I){if(ae((m=oe.attributesForced)!==null&&m!==void 0?m:[],K=>{ir(N,K.name,K.value==="{$uid}"?`mce_${E4++}`:K.value)}),ae((b=oe.attributesDefault)!==null&&b!==void 0?b:[],K=>{aa(N,K.name)||ir(N,K.name,K.value==="{$uid}"?`mce_${E4++}`:K.value)}),oe.attributesRequired&&!be(oe.attributesRequired,K=>aa(N,K))){Jc(N);return}if(oe.removeEmptyAttrs&&Bi(N)){Jc(N);return}oe.outputName&&oe.outputName!==D&&B_(N,oe.outputName)}},y6=(e,n,o,r,c)=>!(r in iw&&b6(e,c,o))&&(!e.validate||n.isValid(o,r)||no(r,"data-")||no(r,"aria-")),v6=(e,n)=>e.hasAttribute(fS)&&(n==="id"||n==="class"||n==="style"),$g=(e,n)=>e in n.getBoolAttrs(),A4=(e,n,o)=>{const{attributes:r}=e;for(let c=r.length-1;c>=0;c--){const u=r[c],m=u.name,b=u.value;!y6(n,o,e.tagName.toLowerCase(),m,b)&&!v6(e,m)?e.removeAttribute(m):$g(m,o)&&e.setAttribute(m,m)}},k6=(e,n)=>{const o=f6();return o.addHook("uponSanitizeElement",(r,c)=>{lw(r,e,n,c)}),o.addHook("uponSanitizeAttribute",(r,c)=>{const u=r.tagName.toLowerCase(),{attrName:m,attrValue:b}=c;c.keepAttr=y6(e,n,u,m,b),c.keepAttr?(c.allowedAttributes[m]=!0,$g(m,n)&&(c.attrValue=m),e.allow_svg_data_urls&&no(b,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):v6(r,m)&&(c.forceKeepAttr=!0)}),o},uw=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},w6=(e,n)=>{if(e.sanitize){const o=k6(e,n);return(r,c)=>{o.sanitize(r,uw(e,c)),o.removed=[]}}else return(o,r)=>{const c=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let u;for(;u=c.nextNode();)lw(u,e,n),gn(u)&&A4(u,e,n)}},mS=Et.makeMap,O4=Et.extend,z4=(e,n,o)=>{const r=e.name,c=r in o&&r!=="title"&&r!=="textarea",u=n.childNodes;for(let m=0,b=u.length;m<b;m++){const k=u[m],E=new Rl(k.nodeName.toLowerCase(),k.nodeType);if(gn(k)){const D=k.attributes;for(let N=0,I=D.length;N<I;N++){const ee=D[N];E.attr(ee.name,ee.value)}}else Bt(k)?(E.value=k.data,c&&(E.raw=!0)):(ju(k)||Mh(k)||mf(k))&&(E.value=k.data);z4(E,k,o),e.append(E)}},KF=(e,n,o)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;ae(n,b=>b(m)),Zt(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];ae(o,m=>m(u))}},YF=(e,n,o,r)=>{const c=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=O4(mS("script,style,head,html,body,title,meta,param"),n.getBlockElements()),k=Ul(n),E=/[ \t\r\n]+/g,D=/^[ \t\r\n]+/,N=/[ \t\r\n]+$/,I=ze=>{let Re=ze.parent;for(;Pe(Re);){if(Re.name in m)return!0;Re=Re.parent}return!1},ee=ze=>{let Re=ze;for(;Pe(Re);){if(Re.name in k)return $b(n,u,m,Re);Re=Re.parent}return!1},oe=ze=>ze.name in b||Ds(n,ze),K=(ze,Re)=>{const Ve=Re?ze.prev:ze.next;return Pe(Ve)||Zt(ze.parent)?!1:oe(ze.parent)&&(ze.parent!==e||r.isRootContent===!0)};return[ze=>{var Re;if(ze.type===3&&!I(ze)){let Ve=(Re=ze.value)!==null&&Re!==void 0?Re:"";Ve=Ve.replace(E," "),(FC(ze.prev,oe)||K(ze,!0))&&(Ve=Ve.replace(D,"")),Ve.length===0?ze.remove():ze.value=Ve}},ze=>{var Re;if(ze.type===1){const Ve=n.getElementRule(ze.name);if(c&&Ve){const St=$b(n,u,m,ze);Ve.paddInEmptyBlock&&St&&ee(ze)?BC(o,r,oe,ze):Ve.removeEmpty&&St?oe(ze)?ze.remove():ze.unwrap():Ve.paddEmpty&&(St||U3(ze))&&BC(o,r,oe,ze)}}else if(ze.type===3&&!I(ze)){let Ve=(Re=ze.value)!==null&&Re!==void 0?Re:"";(ze.next&&oe(ze.next)||K(ze,!1))&&(Ve=Ve.replace(N,"")),Ve.length===0?ze.remove():ze.value=Ve}}]},XF=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},th=(e={},n=Ku())=>{const o=ZD(),r=ZD(),c={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,m=w6(c,n),b=(Re,Ve,St="html")=>{const Kt=St==="xhtml"?"application/xhtml+xml":"text/html",rn=Kn(n.getSpecialElements(),Ve.toLowerCase()),et=rn?`<${Ve}>${Re}</${Ve}>`:Re,tt=St==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${et}</body></html>`:`<body>${et}</body>`,Nt=u.parseFromString(tt,Kt).body;return m(Nt,Kt),rn?Nt.firstChild:Nt},k=o.addFilter,E=o.getFilters,D=o.removeFilter,N=r.addFilter,I=r.getFilters,ee=r.removeFilter,oe=(Re,Ve)=>{Z3(n,Re)&&Ve.push(Re)},K=(Re,Ve)=>{const St=j(Ve.attr(fS)),Kt=Ve.type===1&&!Kn(Re,Ve.name)&&!Ds(n,Ve);return Ve.type===3||Kt&&!St},ne=(Re,Ve)=>{const St=O4(mS("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Kt=/^[ \t\r\n]+/,rn=/[ \t\r\n]+$/;let et=Re.firstChild,tt=null;const Nt=jn=>{var ro,Uo;jn&&(et=jn.firstChild,et&&et.type===3&&(et.value=(ro=et.value)===null||ro===void 0?void 0:ro.replace(Kt,"")),et=jn.lastChild,et&&et.type===3&&(et.value=(Uo=et.value)===null||Uo===void 0?void 0:Uo.replace(rn,"")))};if(n.isValidChild(Re.name,Ve.toLowerCase())){for(;et;){const jn=et.next;K(St,et)?(tt||(tt=new Rl(Ve,1),tt.attr(c.forced_root_block_attrs),Re.insert(tt,et)),tt.append(et)):(Nt(tt),tt=null),et=jn}Nt(tt)}},ze={schema:n,addAttributeFilter:N,getAttributeFilters:I,removeAttributeFilter:ee,addNodeFilter:k,getNodeFilters:E,removeNodeFilter:D,parse:(Re,Ve={})=>{var St;const Kt=c.validate,rn=(St=Ve.context)!==null&&St!==void 0?St:c.root_name,et=b(Re,rn,Ve.format);Ey(n,et);const tt=new Rl(rn,11);z4(tt,et,n.getSpecialElements()),et.innerHTML="";const[Nt,jn]=YF(tt,n,c,Ve),ro=[],Uo=Kt?ca=>oe(ca,ro):Oe,ls={nodes:{},attributes:{}},tr=ca=>K1(E(),I(),ca,ls);if(KF(tt,[Nt,tr],[jn,Uo]),ro.reverse(),Kt&&ro.length>0)if(Ve.context){const{pass:ca,fail:fi}=Fe(ro,hc=>hc.parent===tt);IC(fi,n,tt,tr),Ve.invalid=ca.length>0}else IC(ro,n,tt,tr);const Ss=XF(c,Ve);return Ss&&(tt.name==="body"||Ve.isRootContent)&&ne(tt,Ss),Ve.invalid||Y1(ls,Ve),tt}};return MF(ze,c),xF(ze,c,n),ze},JF=e=>Uf(e)?Zp({validate:!1}).serialize(e):e,D4=(e,n,o)=>{const r=JF(e),c=n(r);if(c.isDefaultPrevented())return c;if(Uf(e))if(c.content!==r){const u=th({validate:!1,forced_root_block:!1,sanitize:o}).parse(c.content,{context:e.name});return{...c,content:u}}else return{...c,content:e};else return c},_6=(e,n)=>{if(n.no_events)return zc.value(n);{const o=Bd(e,n);return o.isDefaultPrevented()?zc.error(HE(e,{content:"",...o}).content):zc.value(o)}},C6=(e,n,o)=>o.no_events?n:D4(n,c=>HE(e,{...o,content:c}),p1(e)).content,R4=(e,n)=>{if(n.no_events)return zc.value(n);{const o=D4(n.content,r=>Nc(e,{...n,content:r}),p1(e));return o.isDefaultPrevented()?(qc(e,o),zc.error(void 0)):zc.value(o)}},dw=(e,n,o)=>{o.no_events||qc(e,{...o,content:n})},li=(e,n,o)=>({element:e,width:n,rows:o}),S6=(e,n)=>({element:e,cells:n}),gS=(e,n)=>({x:e,y:n}),nh=(e,n)=>hl(e,n).bind(ka).getOr(1),x6=(e,n,o,r,c)=>{const u=nh(c,"rowspan"),m=nh(c,"colspan"),b=e.rows;for(let k=o;k<o+u;k++){b[k]||(b[k]=S6(Ac(r),[]));for(let E=n;E<n+m;E++){const D=b[k].cells;D[E]=k===o&&E===n?c:Tf(c)}}},ou=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},Zb=(e,n,o)=>{for(;ou(e,n,o);)n++;return n},N4=e=>Q(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),T6=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let u=0;u<c.length;u++)if(Ns(c[u],n))return F.some(gS(u,r))}return F.none()},M4=(e,n,o,r,c)=>{const u=[],m=e.rows;for(let b=o;b<=c;b++){const k=m[b].cells,E=n<r?k.slice(n,r+1):k.slice(r,n+1);u.push(S6(m[b].element,E))}return u},QF=(e,n,o)=>{const r=n.x,c=n.y,u=o.x,m=o.y,b=c<m?M4(e,r,c,u,m):M4(e,r,m,u,c);return li(e.element,N4(b),b)},E6=(e,n)=>{const o=Tf(e.element),r=le.fromTag("tbody");return sr(r,n),Vs(o,r),o},fw=e=>ve(e.rows,n=>{const o=ve(n.cells,c=>{const u=Ac(c);return Yr(u,"colspan"),Yr(u,"rowspan"),u}),r=Tf(n.element);return sr(r,o),r}),B4=e=>{const n=li(Tf(e),0,[]);return ae(La(e,"tr"),(o,r)=>{ae(La(o,"td,th"),(c,u)=>{x6(n,Zb(n,u,r),r,o,c)})}),li(n.element,N4(n.rows),n.rows)},e$=e=>E6(e,fw(e)),A6=(e,n,o)=>T6(e,n).bind(r=>T6(e,o).map(c=>QF(e,r,c))),t$=e=>Ie(e,n=>Xs(n)==="ul"||Xs(n)==="ol"),P4=(e,n)=>Ie(e,o=>Xs(o)==="li"&&Ip(o,n)).fold(st([]),o=>t$(e).map(r=>{const c=le.fromTag(Xs(r)),u=_s(Dt(r),(m,b)=>no(b,"list-style"));return R(c,u),[le.fromTag("li"),c]}).getOr([])),F4=(e,n)=>{const o=Q(n,(r,c)=>(Vs(c,r),c),e);return n.length>0?Eg([o]):o},n$=e=>Ca(e)?Lc(e).filter(Ui).fold(st([]),n=>[e,n]):Ui(e)?[e]:[],o$=(e,n)=>{const o=le.fromDom(n.commonAncestorContainer),r=Dg(o,e),c=qe(r,po),u=P4(r,n),m=c.concat(u.length?u:n$(o));return ve(m,Tf)},Gf=()=>Eg([]),$4=(e,n)=>F4(le.fromDom(n.cloneContents()),o$(e,n)),s$=(e,n)=>Vu(n,"table",Xe(Ns,e)),I4=(e,n)=>s$(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],u=B4(o);return A6(u,r,c).map(m=>Eg([e$(m)]))}).getOrThunk(Gf),L4=(e,n)=>n.length>0&&n[0].collapsed?Gf():$4(e,n[0]),O6=(e,n)=>{const o=mb(n,e);return o.length>0?I4(e,o):L4(e,n)},mw=(e,n)=>n>=0&&n<e.length&&Yl(e.charAt(n)),H4=e=>qt(e.innerText),r$=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),a$=e=>F.from(e.selection.getRng()).map(n=>{var o;const r=F.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=r$(r),m=le.fromDom(n.cloneContents());gz(m),pz(m);const b=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),k=H4(b),E=qt((o=b.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(b),mw(E,0)||mw(E,E.length-1)){const D=r.getOr(c),N=H4(D),I=N.indexOf(k);if(I===-1)return k;{const ee=mw(N,I-1),oe=mw(N,I+k.length);return(ee?" ":"")+k+(oe?" ":"")}}else return k}).getOr(""),c$=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=_C(e,sk(c)),m=n.contextual?O6(le.fromDom(e.getBody()),u).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},i$=(e,n)=>{if(n.format==="text")return a$(e);{const o=c$(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},l$=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),z6=(e,n,o={})=>{const r=l$(o,n);return _6(e,r).fold(Bn,c=>{const u=i$(e,c);return C6(e,u,c)})},V4=0,D6=1,R6=2,N6=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),u=(D,N,I)=>({start:D,end:N,diag:I}),m=(D,N,I,ee,oe)=>{const K=k(D,N,I,ee);if(K===null||K.start===N&&K.diag===N-ee||K.end===D&&K.diag===D-I){let ne=D,Te=I;for(;ne<N||Te<ee;)ne<N&&Te<ee&&e[ne]===n[Te]?(oe.push([V4,e[ne]]),++ne,++Te):N-D>ee-I?(oe.push([R6,e[ne]]),++ne):(oe.push([D6,n[Te]]),++Te)}else{m(D,K.start,I,K.start-K.diag,oe);for(let ne=K.start;ne<K.end;++ne)oe.push([V4,e[ne]]);m(K.end,N,K.end-K.diag,ee,oe)}},b=(D,N,I,ee)=>{let oe=D;for(;oe-N<ee&&oe<I&&e[oe]===n[oe-N];)++oe;return u(D,oe,N)},k=(D,N,I,ee)=>{const oe=N-D,K=ee-I;if(oe===0||K===0)return null;const ne=oe-K,Te=K+oe,ze=(Te%2===0?Te:Te+1)/2;r[1+ze]=D,c[1+ze]=N+1;let Re,Ve,St,Kt,rn;for(Re=0;Re<=ze;++Re){for(Ve=-Re;Ve<=Re;Ve+=2){for(St=Ve+ze,Ve===-Re||Ve!==Re&&r[St-1]<r[St+1]?r[St]=r[St+1]:r[St]=r[St-1]+1,Kt=r[St],rn=Kt-D+I-Ve;Kt<N&&rn<ee&&e[Kt]===n[rn];)r[St]=++Kt,++rn;if(ne%2!==0&&ne-Re<=Ve&&Ve<=ne+Re&&c[St-ne]<=r[St])return b(c[St-ne],Ve+D-I,N,ee)}for(Ve=ne-Re;Ve<=ne+Re;Ve+=2){for(St=Ve+ze-ne,Ve===ne-Re||Ve!==ne+Re&&c[St+1]<=c[St-1]?c[St]=c[St+1]-1:c[St]=c[St-1],Kt=c[St]-1,rn=Kt-D+I-Ve;Kt>=D&&rn>=I&&e[Kt]===n[rn];)c[St]=Kt--,rn--;if(ne%2===0&&-Re<=Ve&&Ve<=Re&&c[St]<=r[St+ne])return b(c[St],Ve+D-I,N,ee)}}return null},E=[];return m(0,e.length,0,n.length,E),E},gw=e=>gn(e)?e.outerHTML:Bt(e)?bm.encodeRaw(e.data,!1):ju(e)?"<!--"+e.data+"-->":"",M6=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},B6=(e,n,o)=>{const r=M6(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},U4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},P6=(e,n)=>{let o=0;ae(e,r=>{r[0]===V4?o++:r[0]===D6?(B6(n,r[1],o),o++):r[0]===R6&&U4(n,o)})},F6=(e,n)=>qe(ve(as(e.childNodes),n?T(qt,gw):gw),o=>o.length>0),$6=(e,n)=>{const o=ve(as(n.childNodes),gw);return P6(N6(o,e),n),n},I6=Ye(()=>document.implementation.createHTMLDocument("undo")),u$=e=>e.querySelector("iframe")!==null,j4=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),d$=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),qb=e=>{const n=e.serializer.getTempAttrs(),o=mz(e.getBody(),n);return u$(o)?j4(F6(o,!0)):d$(qt(o.innerHTML))},W4=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?$6(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Pe(r)&&Bf(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Z4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,L6=e=>{const n=le.fromTag("body",I6());return uf(n,Z4(e)),ae(La(n,"*[data-mce-bogus]"),Jc),Qo(n)},H6=(e,n)=>Z4(e)===Z4(n),V6=(e,n)=>L6(e)===L6(n),q4=(e,n)=>!e||!n?!1:H6(e,n)?!0:V6(e,n),G4=e=>e.get()===0,pS=(e,n,o)=>{G4(o)&&(e.typing=n)},U6=(e,n)=>{e.typing&&(pS(e,!1,n),e.add())},f$=e=>{e.typing&&(e.typing=!1,e.add())},j6=(e,n,o)=>{G4(n)&&o.set(s1(e.selection))},DW=(e,n,o,r,c,u,m)=>{const b=qb(e),k=Et.extend(u||{},b);if(!G4(r)||e.removed)return null;const E=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:E,originalEvent:m}).isDefaultPrevented()||E&&q4(E,k))return null;n.data[o.get()]&&c.get().each(I=>{n.data[o.get()].beforeBookmark=I});const D=d2(e);if(D&&n.data.length>D){for(let I=0;I<n.data.length-1;I++)n.data[I]=n.data[I+1];n.data.length--,o.set(n.data.length)}k.bookmark=s1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(k),o.set(n.data.length-1);const N={level:k,lastLevel:E,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",N),e.dispatch("change",N)):e.dispatch("AddUndo",N),k},m$=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},g$=(e,n,o,r,c)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];W4(e,m,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=u)}},p$=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],W4(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},h$=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,pS(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],W4(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},b$=e=>{e.clear(),e.add()},y$=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!q4(qb(e),n.data[0]),v$=(e,n)=>n.get()<e.data.length-1&&!e.typing,W6=(e,n,o)=>(U6(e,n),e.beforeChange(),e.ignore(o),e.add()),k$=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},w$=(e,n)=>{const o=e.dom,r=Pe(n)?n:e.getBody();ae(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=d1(e),m=o.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?o.addClass(c,u):o.removeClass(c,u);break;case"A":if(!o.getAttrib(c,"href")){const b=o.getAttrib(c,"name")||c.id,k=tb(e);b&&e.hasVisual?o.addClass(c,k):o.removeClass(c,k)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},Z6=e=>({init:{bindEvents:Oe},undoManager:{beforeChange:(n,o)=>j6(e,n,o),add:(n,o,r,c,u,m)=>DW(e,n,o,r,c,u,m),undo:(n,o,r)=>h$(e,n,o,r),redo:(n,o)=>p$(e,n,o),clear:(n,o)=>m$(e,n,o),reset:n=>b$(n),hasUndo:(n,o)=>y$(e,n,o),hasRedo:(n,o)=>v$(n,o),transact:(n,o,r)=>W6(n,o,r),ignore:(n,o)=>k$(n,o),extra:(n,o,r,c)=>g$(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>Gk(e,n,o,r,c),matchAll:(n,o)=>QP(e,n,o),matchNode:(n,o,r,c)=>Wf(e,n,o,r,c),canApply:n=>eF(e,n),closest:n=>xD(e,n),apply:(n,o,r)=>VD(e,n,o,r),remove:(n,o,r,c)=>m4(e,n,o,r,c),toggle:(n,o,r)=>kF(e,n,o,r),formatChanged:(n,o,r,c,u)=>vF(e,n,o,r,c,u)},editor:{getContent:n=>wW(e,n),setContent:(n,o)=>XP(e,n,o),insertContent:(n,o)=>Wk(e,n,o),addVisual:n=>w$(e,n)},selection:{getContent:(n,o)=>z6(e,n,o)},autocompleter:{addDecoration:n=>nP(e,n),removeDecoration:()=>sP(e,le.fromDom(e.getBody()))},raw:{getModel:()=>F.none()}}),_$=e=>{const n=E=>dt(E)?E:{},{init:o,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:b,raw:k}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(E,D,N)=>r.transact(N),ignore:(E,D)=>r.ignore(D),extra:(E,D,N,I)=>r.extra(N,I)},formatter:{match:(E,D,N,I)=>c.match(E,n(D),I),matchAll:c.matchAll,matchNode:c.matchNode,canApply:E=>c.canApply(E),closest:E=>c.closest(E),apply:(E,D,N)=>c.apply(E,n(D)),remove:(E,D,N,I)=>c.remove(E,n(D)),toggle:(E,D,N)=>c.toggle(E,n(D)),formatChanged:(E,D,N,I,ee)=>c.formatChanged(D,N,I,ee)},editor:{getContent:E=>u.getContent(E),setContent:(E,D)=>({content:u.setContent(E,D),html:""}),insertContent:(E,D)=>(u.insertContent(E),""),addVisual:u.addVisual},selection:{getContent:(E,D)=>m.getContent(D)},autocompleter:{addDecoration:b.addDecoration,removeDecoration:b.removeDecoration},raw:{getModel:()=>F.some(k.getRawModel())}}},C$=()=>{const e=st(null),n=st("");return{init:{bindEvents:Oe},undoManager:{beforeChange:Oe,add:e,undo:e,redo:e,clear:Oe,reset:Oe,hasUndo:De,hasRedo:De,transact:e,ignore:Oe,extra:Oe},formatter:{match:De,matchAll:st([]),matchNode:st(void 0),canApply:De,closest:n,apply:Oe,remove:Oe,toggle:Oe,formatChanged:st({unbind:Oe})},editor:{getContent:n,setContent:st({content:"",html:""}),insertContent:st(""),addVisual:Oe},selection:{getContent:n},autocompleter:{addDecoration:Oe,removeDecoration:Oe},raw:{getModel:st(F.none())}}},Ig=e=>Kn(e.plugins,"rtc"),RW=e=>Cs(e.plugins,"rtc").bind(n=>F.from(n.setup)),S$=e=>{const n=e;return RW(e).fold(()=>(n.rtcInstance=Z6(e),F.none()),o=>(n.rtcInstance=C$(),F.some(()=>o().then(r=>(n.rtcInstance=_$(r),r.rtc.isRemote)))))},K4=e=>e.rtcInstance?e.rtcInstance:Z6(e),gc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},x$=(e,n,o)=>{gc(e).undoManager.beforeChange(n,o)},ba=(e,n,o,r,c,u,m)=>gc(e).undoManager.add(n,o,r,c,u,m),Y4=(e,n,o,r)=>gc(e).undoManager.undo(n,o,r),NW=(e,n,o)=>gc(e).undoManager.redo(n,o),T$=(e,n,o)=>{gc(e).undoManager.clear(n,o)},E$=(e,n)=>{gc(e).undoManager.reset(n)},nv=(e,n,o)=>gc(e).undoManager.hasUndo(n,o),MW=(e,n,o)=>gc(e).undoManager.hasRedo(n,o),BW=(e,n,o,r)=>gc(e).undoManager.transact(n,o,r),ui=(e,n,o)=>{gc(e).undoManager.ignore(n,o)},q6=(e,n,o,r,c)=>{gc(e).undoManager.extra(n,o,r,c)},G6=(e,n,o,r,c)=>gc(e).formatter.match(n,o,r,c),K6=(e,n,o)=>gc(e).formatter.matchAll(n,o),A$=(e,n,o,r,c)=>gc(e).formatter.matchNode(n,o,r,c),O$=(e,n)=>gc(e).formatter.canApply(n),hS=(e,n)=>gc(e).formatter.closest(n),z$=(e,n,o,r)=>{gc(e).formatter.apply(n,o,r)},X4=(e,n,o,r,c)=>{gc(e).formatter.remove(n,o,r,c)},D$=(e,n,o,r)=>{gc(e).formatter.toggle(n,o,r)},Y6=(e,n,o,r,c,u)=>gc(e).formatter.formatChanged(n,o,r,c,u),X6=(e,n)=>K4(e).editor.getContent(n),J4=(e,n,o)=>K4(e).editor.setContent(n,o),J6=(e,n,o)=>K4(e).editor.insertContent(n,o),Q4=(e,n,o)=>gc(e).selection.getContent(n,o),R$=(e,n)=>gc(e).editor.addVisual(n),Q6=e=>gc(e).init.bindEvents(),N$=(e,n)=>gc(e).autocompleter.addDecoration(n),cd=e=>gc(e).autocompleter.removeDecoration(),M$=(e,n={})=>{const o=n.format?n.format:"html";return Q4(e,o,n)},eR=e=>e.dom.length===0?(Es(e),F.none()):F.some(e),B$=(e,n)=>e.filter(o=>Lp.isBookmarkNode(o.dom)).bind(n?of:vi),P$=(e,n,o,r)=>{const c=e.dom,u=n.dom,m=r?c.length:u.length;r?(A3(c,u,!1,!r),o.setStart(u,m)):(A3(u,c,!1,!r),o.setEnd(u,m))},F$=(e,n)=>{Lc(e).each(o=>{const r=e.dom;n&&Nk(o,ct(r,0))?ii(r,0):!n&&G1(o,ct(r,r.length))&&E3(r,r.length)})},eA=(e,n,o,r)=>{e.bind(c=>((r?E3:ii)(c.dom,r?c.dom.length:0),n.filter(Ya).map(m=>P$(c,m,o,r)))).orThunk(()=>B$(n,r).or(n).filter(Ya).map(u=>F$(u,r)))},$$=(e,n)=>{const o=F.from(n.firstChild).map(le.fromDom),r=F.from(n.lastChild).map(le.fromDom);e.deleteContents(),e.insertNode(n);const c=o.bind(vi).filter(Ya).bind(eR),u=r.bind(of).filter(Ya).bind(eR);eA(c,o,e,!0),eA(u,r,e,!1),e.collapse(!1)},I$=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),L$=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Zp({validate:!1},e.schema).serialize(u)}else return n.content},bS=(e,n,o={})=>{const r=I$(o,n);R4(e,r).each(c=>{const u=L$(e,c),m=e.selection.getRng();$$(m,m.createContextualFragment(u)),e.selection.setRng(m),zi(e,m),dw(e,u,c)})},tR=(e,n,o)=>{if(Kn(e,n)){const r=qe(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var H$=(e,n)=>{let o,r;const c=(b,k)=>Ie(k,E=>e.is(E,b)),u=b=>e.getParents(b,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",b=>{const k=b.element,E=u(k),D={};Tt(o,(N,I)=>{c(I,E).each(ee=>{r[I]||(ae(N,oe=>{oe(!0,{node:ee,selector:I,parents:E})}),r[I]=N),D[I]=N})}),Tt(r,(N,I)=>{D[I]||(delete r[I],ae(N,ee=>{ee(!1,{node:k,selector:I,parents:E})}))})})};return{selectorChangedWithUnbind:(b,k)=>(o||m(),o[b]||(o[b]=[]),o[b].push(k),c(b,u(n.selection.getStart())).each(()=>{r[b]=o[b]}),{unbind:()=>{tR(o,b,k),tR(r,b,k)}})}};const tA=e=>!!(e&&e.ownerDocument)&&$a(le.fromDom(e.ownerDocument),le.fromDom(e)),nA=e=>e?tA(e.startContainer)&&tA(e.endContainer):!1,nR=(e,n,o,r)=>{let c,u;const{selectorChangedWithUnbind:m}=H$(e,r),b=(Lt,Hn)=>{const Bs=e.createRng();Pe(Lt)&&Pe(Hn)?(Bs.setStart(Lt,Hn),Bs.setEnd(Lt,Hn),Ve(Bs),Te(!1)):(ck(e,Bs,r.getBody(),!0),Ve(Bs))},k=Lt=>M$(r,Lt),E=(Lt,Hn)=>bS(r,Lt,Hn),D=Lt=>ez(r.getBody(),Re(),Lt),N=Lt=>tz(r.getBody(),Re(),Lt),I=(Lt,Hn)=>fi.getBookmark(Lt,Hn),ee=Lt=>fi.moveToBookmark(Lt),oe=(Lt,Hn)=>(KB(e,Lt,Hn).each(Ve),Lt),K=()=>{const Lt=Re(),Hn=ze();return!Lt||Lt.item?!1:Lt.compareEndPoints?Lt.compareEndPoints("StartToEnd",Lt)===0:!Hn||Lt.collapsed},ne=()=>{const Lt=Re(),Hn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Hn.length>0?Rn(Hn,Bs=>e.isEditable(Bs.parentElement)):Lt.startContainer===Lt.endContainer?e.isEditable(Lt.startContainer):e.isEditable(Lt.startContainer)&&e.isEditable(Lt.endContainer)},Te=Lt=>{const Hn=Re();Hn.collapse(!!Lt),Ve(Hn)},ze=()=>n.getSelection?n.getSelection():n.document.selection,Re=()=>{let Lt;const Hn=(Os,Vn,Wn)=>{try{return Vn.compareBoundaryPoints(Os,Wn)}catch{return-1}},Bs=n.document;if(Pe(r.bookmark)&&!zb(r)){const Os=hC(r);if(Os.isSome())return Os.map(Vn=>_C(r,[Vn])[0]).getOr(Bs.createRange())}try{const Os=ze();Os&&!ku(Os.anchorNode)&&(Os.rangeCount>0?Lt=Os.getRangeAt(0):Lt=Bs.createRange(),Lt=_C(r,[Lt])[0])}catch{}if(Lt||(Lt=Bs.createRange()),_l(Lt.startContainer)&&Lt.collapsed){const Os=e.getRoot();Lt.setStart(Os,0),Lt.setEnd(Os,0)}return c&&u&&(Hn(Lt.START_TO_START,Lt,c)===0&&Hn(Lt.END_TO_END,Lt,c)===0?Lt=u:(c=null,u=null)),Lt},Ve=(Lt,Hn)=>{if(!nA(Lt))return;const Bs=ze();if(Lt=r.dispatch("SetSelectionRange",{range:Lt,forward:Hn}).range,Bs){u=Lt;try{Bs.removeAllRanges(),Bs.addRange(Lt)}catch{}Hn===!1&&Bs.extend&&(Bs.collapse(Lt.endContainer,Lt.endOffset),Bs.extend(Lt.startContainer,Lt.startOffset)),c=Bs.rangeCount>0?Bs.getRangeAt(0):null}if(!Lt.collapsed&&Lt.startContainer===Lt.endContainer&&(Bs!=null&&Bs.setBaseAndExtent)&&Lt.endOffset-Lt.startOffset<2&&Lt.startContainer.hasChildNodes()){const Vn=Lt.startContainer.childNodes[Lt.startOffset];Vn&&Vn.nodeName==="IMG"&&(Bs.setBaseAndExtent(Lt.startContainer,Lt.startOffset,Lt.endContainer,Lt.endOffset),(Bs.anchorNode!==Lt.startContainer||Bs.focusNode!==Lt.endContainer)&&Bs.setBaseAndExtent(Vn,0,Vn,1))}r.dispatch("AfterSetSelectionRange",{range:Lt,forward:Hn})},St=Lt=>(E(e.getOuterHTML(Lt)),Lt),Kt=()=>GB(r.getBody(),Re()),rn=(Lt,Hn)=>oz(e,Re(),Lt,Hn),et=()=>{const Lt=ze(),Hn=Lt==null?void 0:Lt.anchorNode,Bs=Lt==null?void 0:Lt.focusNode;if(!Lt||!Hn||!Bs||ku(Hn)||ku(Bs))return!0;const Os=e.createRng(),Vn=e.createRng();try{Os.setStart(Hn,Lt.anchorOffset),Os.collapse(!0),Vn.setStart(Bs,Lt.focusOffset),Vn.collapse(!0)}catch{return!0}return Os.compareBoundaryPoints(Os.START_TO_START,Vn)<=0},ca={dom:e,win:n,serializer:o,editor:r,expand:(Lt={type:"word"})=>Ve(l(e).expand(Re(),Lt)),collapse:Te,setCursorLocation:b,getContent:k,setContent:E,getBookmark:I,moveToBookmark:ee,select:oe,isCollapsed:K,isEditable:ne,isForward:et,setNode:St,getNode:Kt,getSel:ze,setRng:Ve,getRng:Re,getStart:D,getEnd:N,getSelectedBlocks:rn,normalize:()=>{const Lt=Re(),Hn=ze();if(!W2(Hn)&&T1(r)){const Bs=V1(e,Lt);return Bs.each(Os=>{Ve(Os,et())}),Bs.getOr(Lt)}return Lt},selectorChanged:(Lt,Hn)=>(m(Lt,Hn),ca),selectorChangedWithUnbind:m,getScrollContainer:()=>{let Lt,Hn=e.getRoot();for(;Hn&&Hn.nodeName!=="BODY";){if(Hn.scrollHeight>Hn.clientHeight){Lt=Hn;break}Hn=Hn.parentNode}return Lt},scrollIntoView:(Lt,Hn)=>{Pe(Lt)?Bu(r,Lt,Hn):zi(r,Re(),Hn)},placeCaretAt:(Lt,Hn)=>Ve(o3(Lt,Hn,r.getDoc())),getBoundingClientRect:()=>{const Lt=Re();return Lt.collapsed?ct.fromRangeStart(Lt).getClientRects()[0]:Lt.getBoundingClientRect()},destroy:()=>{n=c=u=null,hc.destroy()}},fi=Lp(ca),hc=wk(ca,r);return ca.bookmarkManager=fi,ca.controlSelection=hc,ca},V$=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=n.url_converter,b=n.url_converter_scope;let k=r.length;for(;k--;){const E=r[k];let D=E.attr(u);D!==void 0?(E.attr(c,D.length>0?D:null),E.attr(u,null)):(D=E.attr(c),c==="style"?D=o.serializeStyle(o.parseStyle(D),E.name):m&&(D=m.call(b,D,c,E.name)),E.attr(c,D.length>0?D:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const b=r[m];b.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(F.from(b.firstChild).exists(E=>{var D;return!Pt((D=E.value)!==null&&D!==void 0?D:"")})?b.unwrap():b.remove())}}),e.addNodeFilter("noscript",r=>{var c;let u=r.length;for(;u--;){const m=r[u].firstChild;m&&(m.value=bm.decode((c=m.value)!==null&&c!==void 0?c:""))}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=k=>k.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let b=r.length;for(;b--;){const k=r[b],E=k.firstChild,D=(u=E==null?void 0:E.value)!==null&&u!==void 0?u:"";if(c==="script"){const N=k.attr("type");N&&k.attr("type",N==="mce-no/type"?null:N.replace(/^mce\-/,"")),n.element_format==="xhtml"&&E&&D.length>0&&(E.value=`// <![CDATA[
`+m(D)+`
// ]]>`)}else n.element_format==="xhtml"&&E&&D.length>0&&(E.value=`<!--
`+m(D)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{ae(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.remove_trailing_brs&&qD(n,e,e.schema)},PW=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},U$=(e,n,o)=>{let r;const c=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const b=m.createHTMLDocument("");Et.each(u.nodeName==="BODY"?u.childNodes:[u],k=>{b.body.appendChild(b.importNode(k,!0))}),u.nodeName!=="BODY"?u=b.body.firstChild:u=b.body,r=c.doc,c.doc=b}return nC(e,{...o,node:u}),r&&(c.doc=r),u},j$=(e,n)=>Pe(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,oR=(e,n,o)=>j$(e,o)?U$(e,n,o):n,sR=(e,n,o)=>{Et.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.push(o))},W$=(e,n,o)=>!n.no_events&&e?yk(e,{...n,content:o}).content:o,Gb=(e,n,o)=>{const r=qt(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Ci(le.fromDom(n))?r:Et.trim(r)},ov=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,r);return PW(c),c},pw=(e,n,o)=>Zp(e,n).serialize(o),rR=(e,n,o,r,c)=>{const u=pw(n,o,r);return W$(e,c,u)},aR=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:qs.DOM,u=n&&n.schema?n.schema:Ku(r),m=th(r,u);V$(m,r,c);const b=(k,E={})=>{const D={format:"html",...E},N=oR(n,k,D),I=Gb(c,N,D),ee=ov(m,I,D);return D.format==="tree"?ee:rR(n,r,u,ee,D)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:b,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:Xe(sR,m,o),getTempAttrs:st(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},cR=(e,n)=>{const o=aR(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},iR="html",Z$=(e,n)=>({...e,format:n,get:!0,getInner:!0}),q$=(e,n={})=>{const o=n.format?n.format:iR,r=Z$(n,o);return _6(e,r).fold(Bn,c=>{const u=X6(e,c);return C6(e,u,c)})},G$="html",K$=(e,n)=>({format:G$,...e,set:!0,content:n}),yS=(e,n,o={})=>{const r=K$(o,n);return R4(e,r).map(c=>{const u=J4(e,c.content,c);return dw(e,u.html,c),u.content}).getOr(n)},Y$="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),X$="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),hw="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),oA=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],sA=(e,n)=>{const o=qe(n,r=>Kn(e,r));return Gn(o)},J$=e=>{const n=sA(e,Y$),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Gn(n)},Q$=e=>sA(e,X$),lR=(e,n)=>{const o=Et.makeMap(e.plugins," "),c=qe(n,u=>Kn(o,u));return Gn(c)},uR=e=>lR(e,hw),eI=e=>lR(e,oA.map(n=>n.name)),tI=(e,n)=>{const o=J$(e),r=uR(n),c=r.length>0,u=o.length>0,m=n.theme==="mobile";if(c||u||m){const b=`
- `,k=m?`

Themes:${b}mobile`:"",E=c?`

Plugins:${b}${r.join(b)}`:"",D=u?`

Options:${b}${o.join(b)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+k+E+D)}},nI=e=>Ie(oA,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),oI=(e,n)=>{const o=Q$(e),r=eI(n),c=r.length>0,u=o.length>0;if(c||u){const m=`
- `,b=c?`

Plugins:${m}${r.map(nI).join(m)}`:"",k=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+b+k)}},FW=(e,n)=>{tI(e,n),oI(e,n)},$u=qs.DOM,rA=e=>{$u.setStyle(e.id,"display",e.orgDisplay)},vS=e=>F.from(e).each(n=>n.destroy()),sI=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},rI=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),$u.unbind(n,"submit reset",e.formEventDelegate))},aI=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Pe(c==null?void 0:c.nextSibling)&&$u.remove(c.nextSibling),oC(e),e.editorManager.remove(e),!e.inline&&r&&rA(e),R1(e),$u.remove(e.getContainer()),vS(n),vS(o),e.destroy()}},er=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),vS(o),vS(r)),rI(e),sI(e),e.destroyed=!0}},kS=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>Kn(e,c)}})(),sv=pa.ModelManager,na=(e,n)=>n.dom[e],dR=(e,n)=>parseInt(H(n,e),10),bw=Xe(na,"clientWidth"),cI=Xe(na,"clientHeight"),iI=Xe(dR,"margin-top"),lI=Xe(dR,"margin-left"),fR=e=>e.dom.getBoundingClientRect(),oh=(e,n,o)=>{const r=bw(e),c=cI(e);return n>=0&&o>=0&&n<=r&&o<=c},su=(e,n,o,r)=>{const c=fR(n),u=e?c.left+n.dom.clientLeft+lI(n):0,m=e?c.top+n.dom.clientTop+iI(n):0,b=o-u,k=r-m;return{x:b,y:k}},yw=(e,n,o)=>{const r=le.fromDom(e.getBody()),c=e.inline?r:tm(r),u=su(e.inline,c,n,o);return oh(c,u.x,u.y)},sh=e=>F.from(e).map(le.fromDom),Pm=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return sh(n).map(bd).getOr(!1)};var vw=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const wS=e=>{const n=[],o=()=>{const I=e.theme;return I&&I.getNotificationManagerImpl?I.getNotificationManagerImpl():vw()},r=()=>F.from(n[0]),c=(I,ee)=>I.type===ee.type&&I.text===ee.text&&!I.progressBar&&!I.timeout&&!ee.progressBar&&!ee.timeout,u=()=>{ae(n,I=>{I.reposition()})},m=I=>{n.push(I)},b=I=>{zt(n,ee=>ee===I).each(ee=>{n.splice(ee,1)})},k=(I,ee=!0)=>e.removed||!Pm(e)?{}:(ee&&e.dispatch("BeforeOpenNotification",{notification:I}),Ie(n,oe=>c(o().getArgs(oe),I)).getOrThunk(()=>{e.editorManager.setActive(e);const oe=o().open(I,()=>{b(oe),u(),r().fold(()=>e.focus(),K=>zg(le.fromDom(K.getEl())))});return m(oe),u(),e.dispatch("OpenNotification",{notification:{...oe}}),oe})),E=()=>{r().each(I=>{o().close(I),b(I),u()})},D=st(n);return(I=>{I.on("SkinLoaded",()=>{const ee=c2(I);ee&&k({text:ee,type:"warning",timeout:0},!1),u()}),I.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(u)}),I.on("remove",()=>{ae(n.slice(),ee=>{o().close(ee)})})})(e),{open:k,close:E,getNotifications:D}},rh=pa.PluginManager,ah=pa.ThemeManager;var mR=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const gR=e=>{let n=[];const o=()=>{const K=e.theme;return K&&K.getWindowManagerImpl?K.getWindowManagerImpl():mR()},r=(K,ne)=>(...Te)=>ne?ne.apply(K,Te):void 0,c=K=>{e.dispatch("OpenWindow",{dialog:K})},u=K=>{e.dispatch("CloseWindow",{dialog:K})},m=K=>{n.push(K),c(K)},b=K=>{u(K),n=qe(n,ne=>ne!==K),n.length===0&&e.focus()},k=()=>F.from(n[n.length-1]),E=K=>{e.editorManager.setActive(e),i3(e),e.ui.show();const ne=K();return m(ne),ne},D=(K,ne)=>E(()=>o().open(K,ne,b)),N=K=>E(()=>o().openUrl(K,b)),I=(K,ne,Te)=>{const ze=o();ze.alert(K,r(Te||ze,ne))},ee=(K,ne,Te)=>{const ze=o();ze.confirm(K,r(Te||ze,ne))},oe=()=>{k().each(K=>{o().close(K),b(K)})};return e.on("remove",()=>{ae(n,K=>{o().close(K)})}),{open:D,openUrl:N,alert:I,confirm:ee,close:oe}},pR=(e,n)=>{e.notificationManager.open({type:"error",text:n})},kw=(e,n)=>{e._skinLoaded?pR(e,n):e.on("SkinLoaded",()=>{pR(e,n)})},hR=(e,n)=>{kw(e,jl.translate(["Failed to upload image: {0}",n]))},rv=(e,n,o)=>{N1(e,n,{message:o}),console.error(o)},av=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,aA=(e,n,o)=>{rv(e,"PluginLoadError",av("plugin",n,o))},$W=(e,n,o)=>{rv(e,"IconsLoadError",av("icons",n,o))},uI=(e,n,o)=>{rv(e,"LanguageLoadError",av("language",n,o))},IW=(e,n,o)=>{rv(e,"ThemeLoadError",av("theme",n,o))},dI=(e,n,o)=>{rv(e,"ModelLoadError",av("model",n,o))},fI=(e,n,o)=>{const r=jl.translate(["Failed to initialize plugin: {0}",n]);N1(e,"PluginLoadError",{message:r}),id(r,o),kw(e,r)},id=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},LW=e=>/^[a-z0-9\-]+$/i.test(e),HW=e=>cv(e,a2(e)),mI=e=>cv(e,Sm(e)),cv=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return ve(n,u=>LW(u)&&!e.inline?`${o}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},gI=e=>{e.contentCSS=e.contentCSS.concat(HW(e),mI(e))},bR=e=>e?as(e.getElementsByTagName("img")):[],yR=(e,n)=>{const o={};return{findAll:(c,u=lt)=>{const m=qe(bR(c),k=>{const E=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!E||E===nn.transparentSrc?!1:no(E,"blob:")?!e.isUploaded(E)&&u(k):no(E,"data:")?u(k):!1}),b=ve(m,k=>{const E=k.src;if(Kn(o,E))return o[E].then(D=>j(D)?D:{image:k,blobInfo:D.blobInfo});{const D=zF(n,E).then(N=>(delete o[E],{image:k,blobInfo:N})).catch(N=>(delete o[E],N));return o[E]=D,D}});return Promise.all(b)}}},cA=()=>{let o={};const r=(I,ee)=>({status:I,resultUri:ee}),c=I=>I in o;return{hasBlobUri:c,getResultUri:I=>{const ee=o[I];return ee?ee.resultUri:null},isPending:I=>c(I)?o[I].status===1:!1,isUploaded:I=>c(I)?o[I].status===2:!1,markPending:I=>{o[I]=r(1,null)},markUploaded:(I,ee)=>{o[I]=r(2,ee)},removeFailed:I=>{delete o[I]},destroy:()=>{o={}}}};let pI=0;const hI=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},ch=e=>e+pI+++hI(),bI=()=>{let e=[];const n=N=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[N.toLowerCase()]||"dat",o=(N,I,ee,oe,K)=>{if(j(N))return r({id:N,name:oe,filename:K,blob:I,base64:ee});if(dt(N))return r(N);throw new Error("Unknown input type")},r=N=>{if(!N.blob||!N.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const I=N.id||ch("blobid"),ee=N.name||I,oe=N.blob;return{id:st(I),name:st(ee),filename:st(N.filename||ee+"."+n(oe.type)),blob:st(oe),base64:st(N.base64),blobUri:st(N.blobUri||URL.createObjectURL(oe)),uri:st(N.uri)}},c=N=>{m(N.id())||e.push(N)},u=N=>Ie(e,N).getOrUndefined(),m=N=>u(I=>I.id()===N);return{create:o,add:c,get:m,getByUri:N=>u(I=>I.blobUri()===N),getByData:(N,I)=>u(ee=>ee.base64()===N&&ee.blob().type===I),findFirst:u,removeByUri:N=>{e=qe(e,I=>I.blobUri()===N?(URL.revokeObjectURL(I.blobUri()),!1):!0)},destroy:()=>{ae(e,N=>{URL.revokeObjectURL(N.blobUri())}),e=[]}}},yI=(e,n)=>{const o={},r=(K,ne)=>K?K.replace(/\/$/,"")+"/"+ne.replace(/^\//,""):ne,c=(K,ne)=>new Promise((Te,ze)=>{const Re=new XMLHttpRequest;Re.open("POST",n.url),Re.withCredentials=n.credentials,Re.upload.onprogress=St=>{ne(St.loaded/St.total*100)},Re.onerror=()=>{ze("Image upload failed due to a XHR Transport error. Code: "+Re.status)},Re.onload=()=>{if(Re.status<200||Re.status>=300){ze("HTTP Error: "+Re.status);return}const St=JSON.parse(Re.responseText);if(!St||!j(St.location)){ze("Invalid JSON: "+Re.responseText);return}Te(r(n.basePath,St.location))};const Ve=new FormData;Ve.append("file",K.blob(),K.filename()),Re.send(Ve)}),u=ie(n.handler)?n.handler:c,m=()=>new Promise(K=>{K([])}),b=(K,ne)=>({url:ne,blobInfo:K,status:!0}),k=(K,ne)=>({url:"",blobInfo:K,status:!1,error:ne}),E=(K,ne)=>{Et.each(o[K],Te=>{Te(ne)}),delete o[K]},D=(K,ne,Te)=>(e.markPending(K.blobUri()),new Promise(ze=>{let Re,Ve;try{const St=()=>{Re&&(Re.close(),Ve=Oe)},Kt=et=>{St(),e.markUploaded(K.blobUri(),et),E(K.blobUri(),b(K,et)),ze(b(K,et))},rn=et=>{St(),e.removeFailed(K.blobUri()),E(K.blobUri(),k(K,et)),ze(k(K,et))};Ve=et=>{et<0||et>100||F.from(Re).orThunk(()=>F.from(Te).map(wt)).each(tt=>{Re=tt,tt.progressBar.value(et)})},ne(K,Ve).then(Kt,et=>{rn(j(et)?{message:et}:et)})}catch(St){ze(k(K,St))}})),N=K=>K===c,I=K=>{const ne=K.blobUri();return new Promise(Te=>{o[ne]=o[ne]||[],o[ne].push(Te)})},ee=(K,ne)=>(K=Et.grep(K,Te=>!e.isUploaded(Te.blobUri())),Promise.all(Et.map(K,Te=>e.isPending(Te.blobUri())?I(Te):D(Te,u,ne))));return{upload:(K,ne)=>!n.url&&N(u)?m():ee(K,ne)}},vR=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),kR=(e,n)=>yI(n,{url:jT(e),basePath:D0(e),credentials:WT(e),handler:o2(e)}),vI=e=>{const n=cA(),o=kR(e,n);return{upload:(r,c=!0)=>o.upload(r,c?vR(e):void 0)}},kI=(e,n)=>e.dom.isEmpty(n.dom)&&Pe(e.schema.getTextBlockElements()[Xs(n)]),wI=e=>n=>{kI(e,n)&&Vs(n,le.fromHtml('<br data-mce-bogus="1" />'))},_I=e=>{const n=bI();let o,r;const c=cA(),u=[],m=Re=>Ve=>e.selection?Re(Ve):[],b=Re=>Re+(Re.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(Re,Ve,St)=>{let Kt=0;do Kt=Re.indexOf(Ve,Kt),Kt!==-1&&(Re=Re.substring(0,Kt)+St+Re.substr(Kt+Ve.length),Kt+=St.length-Ve.length+1);while(Kt!==-1);return Re},E=(Re,Ve,St)=>{const Kt=`src="${St}"${St===nn.transparentSrc?' data-mce-placeholder="1"':""}`;return Re=k(Re,`src="${Ve}"`,Kt),Re=k(Re,'data-mce-src="'+Ve+'"','data-mce-src="'+St+'"'),Re},D=(Re,Ve)=>{ae(e.undoManager.data,St=>{St.type==="fragmented"?St.fragments=ve(St.fragments,Kt=>E(Kt,Re,Ve)):St.content=E(St.content,Re,Ve)})},N=(Re,Ve)=>{const St=e.convertURL(Ve,"src");D(Re.src,Ve),bi(le.fromDom(Re),{src:t2(e)?b(Ve):Ve,"data-mce-src":St})},I=()=>(o||(o=kR(e,c)),ne().then(m(Re=>{const Ve=ve(Re,St=>St.blobInfo);return o.upload(Ve,vR(e)).then(m(St=>{const Kt=[];let rn=!1;const et=ve(St,(tt,Nt)=>{const{blobInfo:jn,image:ro}=Re[Nt];let Uo=!1;return tt.status&&VT(e)?(tt.url&&!On(ro.src,tt.url)&&(rn=!0),n.removeByUri(ro.src),Ig(e)||N(ro,tt.url)):tt.error&&(tt.error.remove&&(D(ro.src,nn.transparentSrc),Kt.push(ro),Uo=!0),hR(e,tt.error.message)),{element:ro,status:tt.status,uploadUri:tt.url,blobInfo:jn,removed:Uo}});return Kt.length>0&&!Ig(e)?e.undoManager.transact(()=>{ae(kd(Kt),tt=>{const Nt=Lc(tt);Es(tt),Nt.each(wI(e)),n.removeByUri(tt.dom.src)})}):rn&&e.undoManager.dispatchChange(),et}))}))),ee=()=>z0(e)?I():Promise.resolve([]),oe=Re=>Rn(u,Ve=>Ve(Re)),K=Re=>{u.push(Re)},ne=()=>(r||(r=yR(c,n)),r.findAll(e.getBody(),oe).then(m(Re=>{const Ve=qe(Re,St=>j(St)?(kw(e,St),!1):St.uriType!=="blob");return Ig(e)||ae(Ve,St=>{D(St.image.src,St.blobInfo.blobUri()),St.image.src=St.blobInfo.blobUri(),St.image.removeAttribute("data-mce-src")}),Ve}))),Te=()=>{n.destroy(),c.destroy(),r=o=null},ze=Re=>Re.replace(/src="(blob:[^"]+)"/g,(Ve,St)=>{const Kt=c.getResultUri(St);if(Kt)return'src="'+Kt+'"';let rn=n.getByUri(St);return rn||(rn=Q(e.editorManager.get(),(et,tt)=>et||tt.editorUpload&&tt.editorUpload.blobCache.getByUri(St),void 0)),rn?'src="data:'+rn.blob().type+";base64,"+rn.base64()+'"':Ve});return e.on("SetContent",()=>{z0(e)?ee():ne()}),e.on("RawSaveContent",Re=>{Re.content=ze(Re.content)}),e.on("GetContent",Re=>{Re.source_view||Re.format==="raw"||Re.format==="tree"||(Re.content=ze(Re.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Re=>{ae(Re,Ve=>{const St=Ve.attr("src");if(!St||n.getByUri(St))return;const Kt=c.getResultUri(St);Kt&&Ve.attr("src",Kt)})})}),{blobCache:n,addFilter:K,uploadImages:I,uploadImagesAuto:ee,scanForImages:ne,destroy:Te}},CI=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>gn(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{Et.each(m,(b,k)=>{n.setAttrib(c,k,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Et.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},wR={remove_similar:!0,inherit:!1},iv={selector:"td,th",...wR},VW={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...iv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...iv},tablecellbordercolor:{styles:{borderColor:"%value"},...iv},tablecellclass:{classes:["%value"],...iv},tableclass:{selector:"table",classes:["%value"],...wR},tablecellborderstyle:{styles:{borderStyle:"%value"},...iv},tablecellborderwidth:{styles:{borderWidth:"%value"},...iv}},ww=st(VW),SI=e=>{const n={},o=m=>Pe(m)?n[m]:n,r=m=>Kn(n,m),c=(m,b)=>{m&&(j(m)?(gt(b)||(b=[b]),ae(b,k=>{bn(k.deep)&&(k.deep=!ll(k)),bn(k.split)&&(k.split=!ll(k)||Ba(k)),bn(k.remove)&&ll(k)&&!Ba(k)&&(k.remove="none"),ll(k)&&Ba(k)&&(k.mixed=!0,k.block_expand=!0),j(k.classes)&&(k.classes=k.classes.split(/\s+/))}),n[m]=b):Tt(m,(k,E)=>{c(E,k)}))},u=m=>(m&&n[m]&&delete n[m],n);return c(CI(e)),c(ww()),c(YT(e)),{get:o,has:r,register:c,unregister:u}},lv=Et.each,ld=qs.DOM,iA=e=>Pe(e)&&dt(e),_R=(e,n)=>{const o=n&&n.schema||Ku({}),r=(k,E)=>{E.classes.length>0&&ld.addClass(k,E.classes.join(" ")),ld.setAttribs(k,E.attrs)},c=k=>{const E=j(k)?{name:k,classes:[],attrs:{}}:k,D=ld.create(E.name);return r(D,E),D},u=(k,E)=>{const D=o.getElementRule(k.nodeName.toLowerCase()),N=D==null?void 0:D.parentsRequired;return N&&N.length?E&&X(N,E)?E:N[0]:!1},m=(k,E,D)=>{let N;const I=E[0],ee=iA(I)?I.name:void 0,oe=u(k,ee);if(oe)ee===oe?(N=I,E=E.slice(1)):N=oe;else if(I)N=I,E=E.slice(1);else if(!D)return k;const K=N?c(N):ld.create("div");K.appendChild(k),D&&Et.each(D,Te=>{const ze=c(Te);K.insertBefore(ze,k)});const ne=iA(N)?N.siblings:void 0;return m(K,E,ne)},b=ld.create("div");if(e.length>0){const k=e[0],E=c(k),D=iA(k)?k.siblings:void 0;b.appendChild(m(E,e.slice(1),D))}return b},xI=e=>{e=Et.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,b)=>{switch(c){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":Et.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const k=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=n||"div",o},Kb=e=>j(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Et.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Et.map(n.split(/(?:~\+|~|\+)/),xI),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],Yb=(e,n)=>{let o="",r=XT(e);if(r==="")return"";const c=I=>j(I)?I.replace(/%(\w+)/g,""):"",u=(I,ee)=>ld.getStyle(ee??e.getBody(),I,!0);if(j(n)){const I=e.formatter.get(n);if(!I)return"";n=I[0]}if("preview"in n){const I=n.preview;if(I===!1)return"";r=I||r}let m=n.block||n.inline||"span",b;const k=Kb(n.selector);k.length>0?(k[0].name||(k[0].name=m),m=n.selector,b=_R(k,e)):b=_R([m],e);const E=ld.select(m,b)[0]||b.firstChild;lv(n.styles,(I,ee)=>{const oe=c(I);oe&&ld.setStyle(E,ee,oe)}),lv(n.attributes,(I,ee)=>{const oe=c(I);oe&&ld.setAttrib(E,ee,oe)}),lv(n.classes,I=>{const ee=c(I);ld.hasClass(E,ee)||ld.addClass(E,ee)}),e.dispatch("PreviewFormats"),ld.setStyles(b,{position:"absolute",left:-65535}),e.getBody().appendChild(b);const D=u("fontSize"),N=/px$/.test(D)?parseInt(D,10):0;return lv(r.split(" "),I=>{let ee=u(I,E);if(!(I==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ee)&&(ee=u(I),x1(ee).toLowerCase()==="#ffffff"))&&!(I==="color"&&x1(ee).toLowerCase()==="#000000")){if(I==="font-size"&&/em|%$/.test(ee)){if(N===0)return;ee=parseFloat(ee)/(/%$/.test(ee)?100:1)*N+"px"}I==="border"&&ee&&(o+="padding:0 2px;"),o+=I+":"+ee+";"}}),e.dispatch("AfterPreviewFormats"),ld.remove(b),o},_S=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},_w=e=>{const n=SI(e),o=Ma({});return _S(e),aF(e),Ig(e)||h4(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,u)=>{z$(e,r,c,u)},remove:(r,c,u,m)=>{X4(e,r,c,u,m)},toggle:(r,c,u)=>{D$(e,r,c,u)},match:(r,c,u,m)=>G6(e,r,c,u,m),closest:r=>hS(e,r),matchAll:(r,c)=>K6(e,r,c),matchNode:(r,c,u,m)=>A$(e,r,c,u,m),canApply:r=>O$(e,r),formatChanged:(r,c,u,m)=>Y6(e,o,r,c,u,m),getCssText:Xe(Yb,e)}},ih=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Xb=(e,n,o)=>{const r=Ma(!1),c=k=>{pS(n,!1,o),n.add({},k)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",k=>{const E=k.command;ih(E)||(U6(n,o),n.beforeChange())}),e.on("ExecCommand",k=>{const E=k.command;ih(E)||c(k)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",k=>{const E=k.keyCode;if(k.isDefaultPrevented())return;const D=nn.os.isMacOS()&&k.key==="Meta";(E>=33&&E<=36||E>=37&&E<=40||E===45||k.ctrlKey||D)&&(c(),e.nodeChanged()),(E===46||E===8)&&e.nodeChanged(),r.get()&&n.typing&&!q4(qb(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const E=k.keyCode;if(k.isDefaultPrevented())return;if(E>=33&&E<=36||E>=37&&E<=40||E===45){n.typing&&c(k);return}const D=k.ctrlKey&&!k.altKey||k.metaKey;if((E<16||E>20)&&E!==224&&E!==91&&!n.typing&&!D){n.beforeChange(),pS(n,!0,o),n.add({},k),r.set(!0);return}(nn.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&n.beforeChange()}),e.on("mousedown",k=>{n.typing&&c(k)});const u=k=>k.inputType==="insertReplacementText",m=k=>k.inputType==="insertText"&&k.data===null,b=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(u(k)||m(k)||b(k))&&c(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},CS=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Cw=e=>{const n=Yu(),o=Ma(0),r=Ma(0),c={data:[],typing:!1,beforeChange:()=>{x$(e,o,n)},add:(u,m)=>ba(e,c,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=qb(e);u.bookmark=s1(e.selection),e.dispatch("change",{level:u,lastLevel:to(c.data,r.get()).getOrUndefined()})},undo:()=>Y4(e,c,o,r),redo:()=>NW(e,r,c.data),clear:()=>{T$(e,c,r)},reset:()=>{E$(e,c)},hasUndo:()=>nv(e,c,r),hasRedo:()=>MW(e,c,r),transact:u=>BW(e,c,o,u),ignore:u=>{ui(e,o,u)},extra:(u,m)=>{q6(e,c,r,u,m)}};return Ig(e)||Xb(e,c,o),CS(e),c},CR=[9,27,hn.HOME,hn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,hn.DOWN,hn.UP,hn.LEFT,hn.RIGHT].concat(nn.browser.isFirefox()?[224]:[]),SS="data-mce-placeholder",xS=e=>e.type==="keydown"||e.type==="keyup",lA=e=>{const n=e.keyCode;return n===hn.BACKSPACE||n===hn.DELETE},SR=e=>{if(xS(e)){const n=e.keyCode;return!lA(e)&&(hn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||X(CR,n))}else return!1},uv=e=>xS(e)&&!(lA(e)||e.type==="keyup"&&e.keyCode===229),xR=(e,n,o)=>{if(ma(le.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},TR=e=>{var n;const o=e.dom,r=ni(e),c=(n=Ep(e))!==null&&n!==void 0?n:"",u=(m,b)=>{if(SR(m))return;const k=e.getBody(),E=uv(m)?!1:xR(o,k,r);(o.getAttrib(k,SS)!==""!==E||b)&&(o.setAttrib(k,SS,E?c:null),o.setAttrib(k,"aria-placeholder",E?c:null),Vp(e,E),e.on(E?"keydown":"keyup",u),e.off(E?"keyup":"keydown",u))};yo(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",b=>od.setEditorTimeout(e,()=>u(b)))})},ER=(e,n)=>({block:e,position:n}),TS=(e,n)=>({from:e,to:n}),ES=(e,n)=>{const o=le.fromDom(e),r=le.fromDom(n.container());return RC(o,r).map(c=>ER(c,n))},AR=e=>!Ns(e.from.block,e.to.block),uA=(e,n)=>Vc(n,c=>cm(c)||Qa(c.dom),c=>Ns(c,e)).filter(rc).getOr(e),OR=(e,n)=>{const o=le.fromDom(e);return Ns(uA(o,n.from.block),uA(o,n.to.block))},Lg=e=>As(e.from.block.dom)===!1&&As(e.to.block.dom)===!1,lh=e=>{const n=o=>Vi(o)||gp(o.dom);return n(e.from.block)&&n(e.to.block)},Ud=(e,n,o)=>Qr(o.position.getNode())&&!ma(o.block)?Bp(!1,o.block.dom).bind(r=>r.isEqual(o.position)?El(n,e,r).bind(c=>ES(e,c)):F.some(o)).getOr(o):o,TI=(e,n,o)=>{const r=ES(e,ct.fromRangeStart(o)),c=r.bind(u=>El(n,e,u.position).bind(m=>ES(e,m).map(b=>Ud(e,n,b))));return sa(r,c,TS).filter(u=>AR(u)&&OR(e,u)&&Lg(u)&&lh(u))},EI=(e,n,o)=>o.collapsed?TI(e,n,o):F.none(),AI=e=>{const n=Ia(e);return zt(n,Hi).fold(st(n),o=>n.slice(0,o))},zR=e=>{const n=AI(e);return ae(n,Es),n},DR=(e,n)=>{const o=Dg(n,e);return Ie(o.reverse(),r=>ma(r)).each(Es)},OI=e=>qe(Gm(e),n=>!ma(n)).length===0,zI=(e,n,o,r)=>{if(ma(o))return G(o),ha(o.dom);OI(r)&&ma(n)&&Xn(r,le.fromTag("br"));const c=oi(o.dom,ct.before(r.dom));return ae(zR(n),u=>{Xn(r,u)}),DR(e,n),c},DI=(e,n,o)=>{if(ma(o)){if(ma(n)){const u=Ue((m=>{const b=(k,E)=>hd(k).fold(()=>E,D=>jc(D)?b(D,E.concat(Tf(D))):E);return b(m,[])})(o),(m,b)=>(Ii(m,b),b),L());vu(n),Vs(n,u)}return Es(o),ha(n.dom)}const r=Al(o.dom);return ae(zR(n),c=>{Vs(o,c)}),DR(e,n),r},RI=(e,n)=>{const o=Dg(n,e);return F.from(o[o.length-1])},NI=(e,n)=>$a(n,e)?RI(n,e):F.none(),RR=(e,n)=>{Bp(e,n.dom).bind(o=>F.from(o.getNode())).map(le.fromDom).filter(_i).each(Es)},NR=(e,n,o)=>(RR(!0,n),RR(!1,o),NI(n,o).fold(Xe(DI,e,n,o),Xe(zI,e,n,o))),AS=(e,n,o,r)=>n?NR(e,r,o):NR(e,o,r),Sw=(e,n)=>{const o=le.fromDom(e.getBody());return EI(o.dom,n,e.selection.getRng()).map(c=>()=>{AS(o,n,c.from.block,c.to.block).each(u=>{e.selection.setRng(u.toRange())})})},MR=(e,n)=>{const o=n.getRng();return sa(RC(e,le.fromDom(o.startContainer)),RC(e,le.fromDom(o.endContainer)),(r,c)=>Ns(r,c)?F.none():F.some(()=>{o.deleteContents(),AS(e,!0,r,c).each(u=>{n.setRng(u.toRange())})})).getOr(F.none())},BR=(e,n)=>{const o=le.fromDom(n),r=Xe(Ns,e);return Fr(o,cm,r).isSome()},MI=(e,n)=>BR(e,n.startContainer)||BR(e,n.endContainer),PR=(e,n)=>{const o=oi(e.dom,ct.fromRangeStart(n)).isNone(),r=Gi(e.dom,ct.fromRangeEnd(n)).isNone();return!MI(e,n)&&o&&r},FR=e=>F.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),dA=e=>{const n=le.fromDom(e.getBody()),o=e.selection.getRng();return PR(n,o)?FR(e):MR(n,e.selection)},OS=(e,n)=>e.selection.isCollapsed()?F.none():dA(e),Fm=(e,n,o,r,c)=>F.from(n._selectionOverrides.showCaret(e,o,r,c)),fA=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},xw=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?F.none():F.some(fA(n)),BI=(e,n,o)=>{const r=W0(1,e.getBody(),n),c=ct.fromRangeStart(r),u=c.getNode();if(Tm(u))return Fm(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(Tm(m))return Fm(1,e,m,!1,!1);const b=Fb(e.dom.getRoot(),c.getNode());return Tm(b)?Fm(1,e,b,!1,o):F.none()},jd=(e,n,o)=>n.collapsed?BI(e,n,o).getOr(n):n,Wd=e=>Db(e)||zk(e),zS=e=>Rb(e)||Dk(e),$R=(e,n)=>{Bt(n)&&n.data.length===0&&e.remove(n)},Tw=(e,n,o,r,c,u)=>{Fm(r,e,u.getNode(!c),c,!0).each(m=>{if(n.collapsed){const b=n.cloneRange();c?b.setEnd(m.startContainer,m.startOffset):b.setStart(m.endContainer,m.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),$R(e.dom,o)},IR=(e,n)=>{const o=e.selection.getRng();if(!Bt(o.commonAncestorContainer))return F.none();const r=n?dc.Forwards:dc.Backwards,c=Am(e.getBody()),u=Xe(k1,n?c.next:c.prev),m=n?Wd:zS,b=kg(r,e.getBody(),o),k=u(b),E=k&&sd(n,k);if(!E||!Np(b,E))return F.none();if(m(E))return F.some(()=>Tw(e,o,b.getNode(),r,n,E));const D=u(E);return D&&m(D)&&Np(E,D)?F.some(()=>Tw(e,o,b.getNode(),r,n,D)):F.none()},DS=(e,n)=>IR(e,n),RS=(e,n)=>{const o=e.getBody();return n?ha(o).filter(Db):Al(o).filter(Rb)},NS=e=>{const n=e.selection.getRng();return!n.collapsed&&(RS(e,!0).exists(o=>o.isEqual(ct.fromRangeStart(n)))||RS(e,!1).exists(o=>o.isEqual(ct.fromRangeEnd(n))))},LR=e=>Pe(e)&&(cm(le.fromDom(e))||Ca(le.fromDom(e))),ru=Df.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),MS=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return gn(o)&&o.getAttribute("data-mce-caret")===r},mA=(e,n,o,r)=>{const c=u=>jc(le.fromDom(u))&&!Ou(o,r,e);return R2(!n,o).fold(()=>R2(n,r).fold(De,c),c)},HR=(e,n,o,r)=>{const c=r.getNode(!n);return RC(le.fromDom(e),le.fromDom(o.getNode())).map(u=>ma(u)?ru.remove(u.dom):ru.moveToElement(c)).orThunk(()=>F.some(ru.moveToElement(c)))},VR=(e,n,o)=>El(n,e,o).bind(r=>LR(r.getNode())||mA(e,n,o,r)?F.none():n&&As(r.getNode())||!n&&As(r.getNode(!0))?HR(e,n,o,r):n&&Rb(o)||!n&&Db(o)?F.some(ru.moveToPosition(r)):F.none()),PI=(e,n)=>Zt(n)?F.none():e&&As(n.nextSibling)?F.some(ru.moveToElement(n.nextSibling)):!e&&As(n.previousSibling)?F.some(ru.moveToElement(n.previousSibling)):F.none(),FI=(e,n,o)=>o.fold(r=>F.some(ru.remove(r)),r=>F.some(ru.moveToElement(r)),r=>Ou(n,r,e)?F.none():F.some(ru.moveToPosition(r))),UR=(e,n,o)=>MS(n,o)?PI(n,o.getNode(!n)).orThunk(()=>VR(e,n,o)):VR(e,n,o).bind(r=>FI(e,o,r)),$I=(e,n,o)=>{const r=W0(n?1:-1,e,o),c=ct.fromRangeStart(r),u=le.fromDom(e);return!n&&Rb(c)?F.some(ru.remove(c.getNode(!0))):n&&Db(c)?F.some(ru.remove(c.getNode())):!n&&Db(c)&&TC(u,c)?gP(u,c).map(m=>ru.remove(m.getNode())):n&&Rb(c)&&k3(u,c)?pP(u,c).map(m=>ru.remove(m.getNode())):UR(e,n,c)},II=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),dl(e,n,le.fromDom(o)),!0),gA=(e,n)=>o=>{const r=n?ct.before(o):ct.after(o);return e.selection.setRng(r.toRange()),!0},LI=e=>n=>(e.selection.setRng(n.toRange()),!0),jR=(e,n)=>F.from(Fb(e.getBody(),n)),HI=(e,n)=>{const o=e.selection.getNode();return jR(e,o).filter(As).fold(()=>$I(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(II(e,n),gA(e,n),LI(e))),()=>F.some(Oe))},VI=e=>{ae(La(e,".mce-offscreen-selection"),Es)},UI=(e,n)=>{const o=e.selection.getNode();return As(o)&&!_u(o)?jR(e,o.parentNode).filter(As).fold(()=>F.some(()=>{VI(le.fromDom(e.getBody())),dl(e,n,le.fromDom(e.selection.getNode())),Pb(e)}),()=>F.some(Oe)):NS(e)?F.some(()=>{Rg(e,e.selection.getRng(),le.fromDom(e.getBody()))}):F.none()},WR=e=>{const n=e.dom,o=e.selection,r=Fb(e.getBody(),o.getNode());if(Qa(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(ct.before(c).toRange())}return!0},pA=(e,n)=>e.selection.isCollapsed()?HI(e,n):UI(e,n),BS=(e,n)=>{const o=ct.fromRangeStart(e.selection.getRng());return El(n,e.getBody(),o).filter(r=>n?wz(r):dP(r)).bind(r=>zp(n?0:-1,r)).map(r=>()=>e.selection.select(r))},Ew=(e,n)=>e.selection.isCollapsed()?BS(e,n):F.none(),dv=Bt,ZR=e=>dv(e)&&e.data[0]===Qe,qR=e=>dv(e)&&e.data[e.data.length-1]===Qe,GR=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Qe)},KR=e=>{var n;if(dv(e.previousSibling))return qR(e.previousSibling)||e.previousSibling.appendData(Qe),e.previousSibling;if(dv(e))return ZR(e)||e.insertData(0,Qe),e;{const o=GR(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},jI=e=>{var n,o;if(dv(e.nextSibling))return ZR(e.nextSibling)||e.nextSibling.insertData(0,Qe),e.nextSibling;if(dv(e))return qR(e)||e.appendData(Qe),e;{const r=GR(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},PS=(e,n)=>e?KR(n):jI(n),hA=Xe(PS,!0),WI=Xe(PS,!1),YR=(e,n)=>Bt(e.container())?PS(n,e.container()):PS(n,e.getNode()),XR=(e,n)=>{const o=n.get();return o&&e.container()===o&&ks(o)},bA=(e,n)=>n.fold(o=>{ja(e.get());const r=hA(o);return e.set(r),F.some(ct(r,r.length-1))},o=>ha(o).map(r=>{if(XR(r,e)){const c=e.get();return ct(c,1)}else{ja(e.get());const c=YR(r,!0);return e.set(c),ct(c,1)}}),o=>Al(o).map(r=>{if(XR(r,e)){const c=e.get();return ct(c,c.length-1)}else{ja(e.get());const c=YR(r,!1);return e.set(c),ct(c,c.length-1)}}),o=>{ja(e.get());const r=WI(o);return e.set(r),F.some(ct(r,1))}),JR=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return F.none()},fl=Df.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),QR=(e,n)=>{const o=Nd(n,e);return o||e},FS=(e,n,o)=>{const r=Vz(o),c=QR(n,r.container());return Kp(e,c,r).fold(()=>Gi(c,r).bind(Xe(Kp,e,c)).map(u=>fl.before(u)),F.none)},$S=(e,n)=>zm(e,n)===null,eN=(e,n,o)=>Kp(e,n,o).filter(Xe($S,n)),ZI=(e,n,o)=>{const r=Nl(o);return eN(e,n,r).bind(c=>oi(c,r).isNone()?F.some(fl.start(c)):F.none())},IS=(e,n,o)=>{const r=Vz(o);return eN(e,n,r).bind(c=>Gi(c,r).isNone()?F.some(fl.end(c)):F.none())},qI=(e,n,o)=>{const r=Nl(o),c=QR(n,r.container());return Kp(e,c,r).fold(()=>oi(c,r).bind(Xe(Kp,e,c)).map(u=>fl.after(u)),F.none)},tN=e=>!OC(yA(e)),$m=(e,n,o)=>JR([FS,ZI,IS,qI],[e,n,o]).filter(tN),yA=e=>e.fold(Bn,Bn,Bn,Bn),nN=e=>e.fold(st("before"),st("start"),st("end"),st("after")),LS=e=>e.fold(fl.before,fl.before,fl.after,fl.after),vA=e=>e.fold(fl.start,fl.start,fl.end,fl.end),GI=(e,n)=>nN(e)===nN(n)&&yA(e)===yA(n),KI=(e,n,o,r,c,u)=>sa(Kp(n,o,r),Kp(n,o,c),(m,b)=>m!==b&&Hz(o,m,b)?fl.after(e?m:b):u).getOr(u),YI=(e,n)=>e.fold(lt,o=>!GI(o,n)),XI=(e,n,o,r,c)=>{const u=sd(e,c);return El(e,o,u).map(Xe(sd,e)).fold(()=>r.map(LS),k=>$m(n,o,k).map(Xe(KI,e,n,o,u,k)).filter(Xe(YI,r))).filter(tN)},UW=(e,n)=>e?n.fold(T(F.some,fl.start),F.none,T(F.some,fl.after),F.none):n.fold(F.none,T(F.some,fl.before),F.none,T(F.some,fl.end)),Zd=(e,n,o,r)=>{const c=sd(e,r),u=$m(n,o,c);return $m(n,o,c).bind(Xe(UW,e)).orThunk(()=>XI(e,n,o,u,r))},kA=e=>ie(e.selection.getSel().modify),wA=(e,n,o)=>{const r=e?1:-1;return n.setRng(ct(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},oN=(e,n)=>{const o=n.selection.getRng(),r=e?ct.fromRangeEnd(o):ct.fromRangeStart(o);return kA(n)?e&&Sl(r)?wA(!0,n.selection,r):!e&&Su(r)?wA(!1,n.selection,r):!1:!1};var Im;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Im||(Im={}));const Aw=(e,n)=>e===dc.Backwards?An(n):n,JI=(e,n,o)=>e===dc.Forwards?n.next(o):n.prev(o),sN=(e,n,o,r)=>Qr(r.getNode(n===dc.Forwards))?Im.Br:Ou(o,r)===!1?Im.Block:Im.Wrap,rN=(e,n,o,r)=>{const c=Am(o);let u=r;const m=[];for(;u;){const b=JI(n,c,u);if(!b)break;if(Qr(b.getNode(!1)))return n===dc.Forwards?{positions:Aw(n,m).concat([b]),breakType:Im.Br,breakAt:F.some(b)}:{positions:Aw(n,m),breakType:Im.Br,breakAt:F.some(b)};if(!b.isVisible()){u=b;continue}if(e(u,b)){const k=sN(o,n,u,b);return{positions:Aw(n,m),breakType:k,breakAt:F.some(b)}}m.push(b),u=b}return{positions:Aw(n,m),breakType:Im.Eol,breakAt:F.none()}},aN=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const u=n(o,c).positions;return e===dc.Backwards?u.concat(c):[c].concat(u)}).getOr([]),_A=(e,n)=>Q(e,(o,r)=>o.fold(()=>F.some(r),c=>sa(mn(c.getClientRects()),mn(r.getClientRects()),(u,m)=>{const b=Math.abs(n-u.left);return Math.abs(n-m.left)<=b?r:c}).or(o)),F.none()),Hg=(e,n)=>mn(n.getClientRects()).bind(o=>_A(e,o.left)),fv=Xe(rN,ct.isAbove,-1),mv=Xe(rN,ct.isBelow,1),CA=Xe(aN,-1,fv),HS=Xe(aN,1,mv),cN=(e,n)=>fv(e,n).breakAt.isNone(),iN=(e,n)=>mv(e,n).breakAt.isNone(),QI=e=>ha(e).map(n=>[n].concat(mv(e,n).positions)).getOr([]),jW=e=>Al(e).map(n=>fv(e,n).positions.concat(n)).getOr([]),WW=(e,n)=>Hg(CA(e,n),n),ZW=(e,n)=>Hg(HS(e,n),n),qd=As,lN=(e,n)=>Math.abs(e.left-n),uN=(e,n)=>Math.abs(e.right-n),Jb=e=>ar(e,"node"),SA=(e,n)=>de(e,(o,r)=>{const c=Math.min(lN(o,n),uN(o,n)),u=Math.min(lN(r,n),uN(r,n));return u===c&&Jb(r)&&qd(r.node)||u<c?r:o}),eL=e=>{const n=o=>ve(o,r=>{const c=fg(r);return c.node=e,c});if(gn(e))return n(e.getClientRects());if(Bt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Ow=e=>Dn(e,eL);var zw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(zw||(zw={}));const tL=(e,n,o,r)=>{let c=r;for(;c=Qu(c,e,sg,n);)if(o(c))return},dN=(e,n,o,r,c,u)=>{let m=0;const b=[],k=N=>{let I=Ow([N]);e===-1&&(I=I.reverse());for(let ee=0;ee<I.length;ee++){const oe=I[ee];if(!o(oe,E)){if(b.length>0&&n(oe,We(b))&&m++,oe.line=m,c(oe))return!0;b.push(oe)}}return!1},E=We(u.getClientRects());if(!E)return b;const D=u.getNode();return D&&(k(D),tL(e,r,k,D)),b},nL=(e,n)=>n.line>e,oL=(e,n)=>n.line===e,sL=Xe(dN,zw.Up,Wr,cl),Vg=Xe(dN,zw.Down,cl,Wr),fN=e=>We(e.getClientRects()),rL=(e,n,o,r)=>{const c=Am(n);let u,m,b,k;const E=[];let D=0;e===1?(u=c.next,m=cl,b=Wr,k=ct.after(r)):(u=c.prev,m=Wr,b=cl,k=ct.before(r));const N=fN(k);do{if(!k.isVisible())continue;const I=fN(k);if(b(I,N))continue;E.length>0&&m(I,We(E))&&D++;const ee=fg(I);if(ee.position=k,ee.line=D,o(ee))return E;E.push(ee)}while(k=u(k));return E},mN=e=>n=>nL(e,n),xA=e=>n=>oL(e,n),Ug=(e,n)=>{e.selection.setRng(n),zi(e,e.selection.getRng())},Dw=(e,n,o)=>F.some(jd(e,n,o)),VS=(e,n,o,r,c,u)=>{const m=n===dc.Forwards,b=Am(e.getBody()),k=Xe(k1,m?b.next:b.prev),E=m?r:c;if(!o.collapsed){const oe=wp(o);if(u(oe))return Fm(n,e,oe,n===dc.Backwards,!1);if(NS(e)){const K=o.cloneRange();return K.collapse(n===dc.Backwards),F.from(K)}}const D=kg(n,e.getBody(),o);if(E(D))return xw(e,D.getNode(!m));let N=k(D);const I=da(o);if(N)N=sd(m,N);else return I?F.some(o):F.none();if(E(N))return Fm(n,e,N.getNode(!m),m,!1);const ee=k(N);return ee&&E(ee)&&Np(N,ee)?Fm(n,e,ee.getNode(!m),m,!1):I?Dw(e,N.toRange(),!1):F.none()},US=(e,n,o,r,c,u)=>{const m=kg(n,e.getBody(),o),b=We(m.getClientRects()),k=n===zw.Down,E=e.getBody();if(!b)return F.none();if(NS(e)){const ne=k?ct.fromRangeEnd(o):ct.fromRangeStart(o);return(k?ZW:WW)(E,ne).orThunk(()=>F.from(ne)).map(ze=>ze.toRange())}const N=(k?Vg:sL)(E,mN(1),m),I=qe(N,xA(1)),ee=b.left,oe=SA(I,ee);if(oe&&u(oe.node)){const ne=Math.abs(ee-oe.left),Te=Math.abs(ee-oe.right);return Fm(n,e,oe.node,ne<Te,!1)}let K;if(r(m)?K=m.getNode():c(m)?K=m.getNode(!0):K=wp(o),K){const ne=rL(n,E,mN(1),K);let Te=SA(qe(ne,xA(1)),ee);if(Te||(Te=We(qe(ne,xA(0))),Te))return Dw(e,Te.position.toRange(),!1)}return I.length===0?jS(e,k).filter(k?c:r).map(ne=>jd(e,ne.toRange(),!1)):F.none()},jS=(e,n)=>{const o=e.selection.getRng(),r=n?ct.fromRangeEnd(o):ct.fromRangeStart(o),c=wE(r.container(),e.getBody());if(n){const u=mv(c,r);return bo(u.positions)}else{const u=fv(c,r);return mn(u.positions)}},TA=(e,n,o)=>jS(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),Rw=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},gN=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},gv=(e,n,o)=>bA(n,o).map(r=>(Rw(e,r),o)),EA=(e,n,o)=>{const r=ct.fromRangeStart(e);if(e.collapsed)return r;{const c=ct.fromRangeEnd(e);return o?oi(n,c).getOr(c):Gi(n,r).getOr(r)}},pN=(e,n,o)=>{const r=e.getBody(),c=EA(e.selection.getRng(),r,o),u=Xe(Bb,e);return Zd(o,u,r,c).bind(b=>gv(e,n,b))},hN=(e,n,o)=>{const r=ve(La(le.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=qe(r,e),u=qe(o,e);ae(Po(c,u),Xe(gN,!1)),ae(Po(u,c),Xe(gN,!0))},bN=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=ct.fromRangeStart(e.selection.getRng());ct.isTextPosition(r)&&!NP(r)&&(Rw(e,O2(o,r)),n.set(null))}},yN=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=qe(r,e);ae(c,u=>{const m=ct.fromRangeStart(n.selection.getRng());$m(e,n.getBody(),m).bind(b=>gv(n,o,b))})}},Nw=(e,n,o)=>Qh(e)?pN(e,n,o).isSome():!1,WS=(e,n,o)=>Qh(n)?oN(e,n):!1,Mw=e=>{const n=Ma(null),o=Xe(Bb,e);return e.on("NodeChange",r=>{Qh(e)&&(hN(o,e.dom,r.parents),bN(e,n),yN(o,e,n,r.parents))}),n},aL=Xe(WS,!0),vN=Xe(WS,!1),ZS=(e,n,o)=>{if(Qh(e)){const r=jS(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?ct.fromRangeEnd(c):ct.fromRangeStart(c)});return $m(Xe(Bb,e),e.getBody(),r).exists(c=>{const u=LS(c);return bA(o,u).exists(m=>(Rw(e,m),!0))})}else return!1},cL=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},kN=e=>sa(ha(e),Al(e),(n,o)=>{const r=sd(!0,n),c=sd(!1,o);return Gi(e,r).forall(u=>u.isEqual(c))}).getOr(!0),wN=(e,n)=>o=>bA(n,o).map(r=>()=>Rw(e,r)),AA=(e,n,o,r)=>{const c=e.getBody(),u=Xe(Bb,e);e.undoManager.ignore(()=>{e.selection.setRng(cL(o,r)),zC(e),$m(u,c,ct.fromRangeStart(e.selection.getRng())).map(vA).bind(wN(e,n)).each(fn)}),e.nodeChanged()},qW=(e,n)=>{const o=Nd(n,e);return o||e},iL=(e,n,o,r)=>{const c=qW(e.getBody(),r.container()),u=Xe(Bb,e),m=$m(u,c,r);return m.bind(k=>o?k.fold(st(F.some(vA(k))),F.none,st(F.some(LS(k))),F.none):k.fold(F.none,st(F.some(LS(k))),F.none,st(F.some(vA(k))))).map(wN(e,n)).getOrThunk(()=>{const k=Om(o,c,r),E=k.bind(D=>$m(u,c,D));return sa(m,E,()=>Kp(u,c,r).bind(D=>kN(D)?F.some(()=>{dl(e,o,le.fromDom(D))}):F.none())).getOrThunk(()=>E.bind(()=>k.map(D=>()=>{o?AA(e,n,r,D):AA(e,n,D,r)})))})},OA=(e,n,o)=>{if(e.selection.isCollapsed()&&Qh(e)){const r=ct.fromRangeStart(e.selection.getRng());return iL(e,n,o,r)}return F.none()},lL=e=>Hc(e)>1,_N=(e,n)=>{const o=le.fromDom(e.getBody()),r=le.fromDom(e.selection.getStart()),c=Dg(r,o);return zt(c,n).fold(st(c),u=>c.slice(0,u))},uL=e=>Hc(e)===1,dL=e=>_N(e,n=>Hi(n)||lL(n)),fL=e=>_N(e,Hi),CN=(e,n)=>{const o=Xe(r4,e);return Dn(n,r=>o(r)?[r.dom]:[])},zA=e=>{const n=fL(e);return CN(e,n)},mL=(e,n,o,r)=>{const c=CN(n,r);if(c.length===0)dl(n,e,o);else{const u=DD(o.dom,c);n.selection.setRng(u.toRange())}},Qb=(e,n)=>{const o=qe(dL(e),uL);return bo(o).bind(r=>{const c=ct.fromRangeStart(e.selection.getRng());return Mk(n,c,r.dom)&&!a4(r)?F.some(()=>mL(n,e,r,o)):F.none()})},SN=(e,n)=>{const o=n.parentElement;return Qr(n)&&!U(o)&&e.dom.isEmpty(o)},DA=e=>a4(le.fromDom(e)),RA=(e,n)=>{const o=e.selection.getStart(),r=SN(e,o)||DA(o)?DD(o,n):Lb(e.selection.getRng(),n);e.selection.setRng(r.toRange())},NA=(e,n)=>{const o=Po(n,zA(e));o.length>0&&RA(e,o)},jg=e=>Bt(e.startContainer),xN=e=>e.startOffset===0&&jg(e),ud=(e,n)=>{const o=n.startContainer.parentElement;return!U(o)&&r4(e,le.fromDom(o))},ey=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!U(n)&&!U(o)&&n.isEqualNode(o)},MA=e=>{const n=e.endContainer;return e.endOffset===(Bt(n)?n.length:n.childNodes.length)},gL=e=>ey(e)&&MA(e),TN=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),pL=e=>gL(e)||TN(e),hL=e=>{const n=e.selection.getRng();return xN(n)&&ud(e,n)&&pL(n)},bL=e=>{if(hL(e)){const n=zA(e);return F.some(()=>{zC(e),NA(e,n)})}else return F.none()},BA=(e,n)=>e.selection.isCollapsed()?Qb(e,n):bL(e),yL=e=>EW(e,n=>Dc(n.dom),Hi),EN=e=>yL(le.fromDom(e.selection.getStart())),vL=e=>{const n=e.selection.getRng();return n.collapsed&&(jg(n)||e.dom.isEmpty(n.startContainer))&&!EN(e)},Bw=e=>(vL(e)&&RA(e,[]),!0),uh=(e,n,o)=>Pe(o)?F.some(()=>{e._selectionOverrides.hideFakeCaret(),dl(e,n,le.fromDom(o))}):F.none(),PA=(e,n)=>{const o=n?zk:Dk,r=n?dc.Forwards:dc.Backwards,c=kg(r,e.getBody(),e.selection.getRng());return o(c)?uh(e,n,c.getNode(!n)):F.from(sd(n,c)).filter(u=>o(u)&&Np(c,u)).bind(u=>uh(e,n,u.getNode(!n)))},AN=(e,n)=>{const o=e.selection.getNode();return Cl(o)?uh(e,n,o):F.none()},qS=(e,n)=>e.selection.isCollapsed()?PA(e,n):AN(e,n),FA=e=>Vc(e,n=>Qa(n.dom)||As(n.dom)).exists(n=>Qa(n.dom)),$A=e=>ka(e??"").getOr(0),ON=(e,n)=>{const o=e||$e(n)?"margin":"padding",r=H(n,"direction")==="rtl"?"-right":"-left";return o+r},kL=(e,n,o,r,c,u)=>{const m=ON(o,le.fromDom(u)),b=$A(e.getStyle(u,m));if(n==="outdent"){const k=Math.max(0,b-r);e.setStyle(u,m,k?k+c:"")}else{const k=b+r+c;e.setStyle(u,m,k)}},wL=(e,n)=>Rn(n,o=>{const r=ON(r2(e),o),c=me(o,r).map($A).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),zN=e=>{const n=IA(e);return!e.mode.isReadOnly()&&(n.length>1||wL(e,n))},DN=e=>Ui(e)||Ca(e),_L=e=>Lc(e).exists(DN),IA=e=>qe(kd(e.selection.getSelectedBlocks()),n=>!DN(n)&&!_L(n)&&FA(n)),RN=(e,n)=>{var o,r;const{dom:c}=e,u=GT(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",b=$A(u),k=r2(e);ae(IA(e),E=>{kL(c,n,k,b,m,E.dom)})},CL=e=>RN(e,"indent"),au=e=>RN(e,"outdent"),NN=e=>{if(e.selection.isCollapsed()&&zN(e)){const n=e.dom,o=e.selection.getRng(),r=ct.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&q1(le.fromDom(c),r))return F.some(()=>au(e))}return F.none()},GS=(e,n,o)=>Rs([NN,pA,DS,(r,c)=>OA(r,n,c),Sw,Hk,Ew,qS,OS,BA],r=>r(e,o)).filter(r=>e.selection.isEditable()),MN=(e,n)=>{GS(e,n,!1).fold(()=>{zC(e),Pb(e)},fn)},LA=(e,n)=>{GS(e,n,!0).fold(()=>DC(e),fn)},SL=(e,n)=>{e.addCommand("delete",()=>{MN(e,n)}),e.addCommand("forwardDelete",()=>{LA(e,n)})},BN=5,xL=400,PN=e=>e.touches===void 0||e.touches.length!==1?F.none():F.some(e.touches[0]),TL=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>BN||r>BN},FN=e=>{const n=Yu(),o=Ma(!1),r=Vy(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},xL);e.on("touchstart",c=>{PN(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),PN(c).each(u=>{n.on(m=>{TL(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},HA=(e,n)=>Kn(e,n.nodeName),EL=(e,n)=>Bt(n)?!0:gn(n)?!HA(e.getBlockElements(),n)&&!Ol(n)&&!mm(e,n):!1,Pw=(e,n,o)=>be(Cz(le.fromDom(o),le.fromDom(n)),r=>HA(e,r.dom)),Wg=(e,n)=>{if(Bt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||HA(e,n.nextSibling)))return!0}return!1},dh=e=>e.dom.create(ni(e),Sp(e)),KS=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),u=o.getStart(),m=e.getBody();let b,k,E=!1;const D=ni(e);if(!u||!gn(u))return;const N=m.nodeName.toLowerCase();if(!r.isValidChild(N,D.toLowerCase())||Pw(c,m,u))return;const I=o.getRng(),{startContainer:ee,startOffset:oe,endContainer:K,endOffset:ne}=I,Te=zb(e);let ze=m.firstChild;for(;ze;)if(gn(ze)&&Ay(r,ze),EL(r,ze)){if(Wg(c,ze)){k=ze,ze=ze.nextSibling,n.remove(k);continue}b||(b=dh(e),m.insertBefore(b,ze),E=!0),k=ze,ze=ze.nextSibling,b.appendChild(k)}else b=null,ze=ze.nextSibling;E&&Te&&(I.setStart(ee,oe),I.setEnd(K,ne),o.setRng(I),e.nodeChanged())},YS=(e,n,o)=>{const r=le.fromDom(dh(e)),c=L();Vs(r,c),o(n,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},VA=e=>{e.on("NodeChange",Xe(KS,e))},UA=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,AL=(e,n,o)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const b=n.lastIndexOf("<",u);if(b!==-1&&n.substring(b,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},$N=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],AL(e,c,P0(e)));o.content=c}},IN=e=>{const n="contenteditable",o=" "+Et.trim(lE(e))+" ",r=" "+Et.trim(P0(e))+" ",c=UA(o),u=UA(r),m=uE(e);m.length>0&&e.on("BeforeSetContent",b=>{$N(e,m,b)}),e.parser.addAttributeFilter("class",b=>{let k=b.length;for(;k--;){const E=b[k];c(E)?E.attr(n,"true"):u(E)&&E.attr(n,"false")}}),e.serializer.addAttributeFilter(n,b=>{let k=b.length;for(;k--;){const E=b[k];!c(E)&&!u(E)||(m.length>0&&E.attr("data-mce-content")?(E.name="#text",E.type=3,E.raw=!0,E.value=E.attr("data-mce-content")):E.attr(n,null))}})},OL=e=>Tc(le.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),LN=(e,n)=>{n.hasAttribute("data-mce-caret")&&(yf(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},zL=(e,n)=>{const o=OL(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),LN(e,o);return}ei(o)&&(LN(e,o),e.undoManager.add())}},DL=e=>{e.on("keyup compositionstart",Xe(zL,e))},HN=As,RL=(e,n,o)=>VS(n,e,o,Db,Rb,HN),VN=(e,n,o)=>US(n,e,o,u=>Db(u)||b3(u),u=>Rb(u)||_z(u),HN),UN=e=>{const n=e.dom.create(ni(e));return n.innerHTML='<br data-mce-bogus="1">',n},NL=(e,n,o)=>{const r=Am(e.getBody()),c=Xe(k1,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!c(ct.fromRangeStart(o))){const b=le.fromDom(UN(e));n===1?io(le.fromDom(u),b):Xn(le.fromDom(u),b),e.selection.select(b.dom,!0),e.selection.collapse()}}},GW=(e,n)=>{const o=n?dc.Forwards:dc.Backwards,r=e.selection.getRng();return RL(o,e,r).orThunk(()=>(NL(e,o,r),F.none()))},KW=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return VN(o,e,r).orThunk(()=>(NL(e,o,r),F.none()))},ML=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return OC(o)?!n:n},BL=(e,n)=>GW(e,ML(e.selection,n)).exists(o=>(Ug(e,o),!0)),PL=(e,n)=>KW(e,n).exists(o=>(Ug(e,o),!0)),jN=(e,n)=>TA(e,n,n?Rb:Db),XS=(e,n)=>RS(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(Ug(e,o),!0)),YW=e=>X(["figcaption"],Xs(e)),FL=(e,n)=>{const o=Xe(Ns,n);return Vc(le.fromDom(e.container()),Hi,o).filter(YW)},cu=(e,n,o)=>n?iN(e.dom,o):cN(e.dom,o),WN=(e,n)=>{const o=le.fromDom(e.getBody()),r=ct.fromRangeStart(e.selection.getRng());return FL(r,o).exists(()=>{if(cu(o,n,r)){const u=YS(e,o,n?Vs:Sr);return e.selection.setRng(u),!0}else return!1})},pv=(e,n)=>e.selection.isCollapsed()?WN(e,n):!1,$L=(e,n,o)=>{const r=e.selection.getRng(),c=ct.fromRangeStart(r);return e.getBody().firstChild===n&&cN(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},ZN=(e,n)=>{const o=e.selection.getRng(),r=ct.fromRangeStart(o);return e.getBody().lastChild===n&&iN(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},qN=(e,n)=>n?F.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>ZN(e,o)).getOr(!1):F.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>F.from(e.dom.getParent(o,"details")).map(r=>$L(e,r,o))).getOr(!1),JS=(e,n)=>qN(e,n),GN={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},IL=e=>ve(e,n=>({...GN,...n})),KN=e=>ve(e,n=>({...GN,...n})),YN=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,LL=(e,n)=>Dn(IL(e),o=>YN(o,n)?[o]:[]),HL=(e,n)=>Dn(KN(e),o=>YN(o,n)?[o]:[]),To=(e,...n)=>()=>e.apply(null,n),Fw=(e,n)=>Ie(LL(e,n),o=>o.action()),XN=(e,n)=>Rs(HL(e,n),o=>o.action()),VL=(e,n)=>{const o=n?dc.Forwards:dc.Backwards,r=e.selection.getRng();return VS(e,o,r,zk,Dk,Cl).exists(c=>(Ug(e,c),!0))},JN=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return US(e,o,r,zk,Dk,Cl).exists(c=>(Ug(e,c),!0))},jA=(e,n)=>TA(e,n,n?Dk:zk),UL=Df.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),$w={...UL,none:e=>UL.none(e)},jL=(e,n)=>QS(e,n,lt),QS=(e,n,o)=>Dn(Ia(e),r=>Fi(r,n)?o(r)?[r]:[]:QS(r,n,o)),ex=(e,n,o=De)=>{if(o(n))return F.none();if(X(e,Xs(n)))return F.some(n);const r=c=>Fi(c,"table")||o(c);return Vu(n,e.join(","),r)},QN=(e,n)=>ex(["td","th"],e,n),eM=e=>jL(e,"th,td"),tM=(e,n)=>vl(e,"table",n),WA=(e,n,o,r,c=lt)=>{const u=r===1;if(!u&&o<=0)return $w.first(e[0]);if(u&&o>=e.length-1)return $w.last(e[e.length-1]);{const m=o+r,b=e[m];return c(b)?$w.middle(n,b):WA(e,n,m,r,c)}},tx=(e,n)=>tM(e,n).bind(o=>{const r=eM(o);return zt(r,u=>Ns(e,u)).map(u=>({index:u,all:r}))}),WL=(e,n,o)=>tx(e,o).fold(()=>$w.none(e),c=>WA(c.all,e,c.index,1,n)),ZL=(e,n,o)=>tx(e,o).fold(()=>$w.none(),c=>WA(c.all,e,c.index,-1,n)),qL=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),GL=(e,n)=>Dn(n,o=>{const r=qL(fg(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),Gd=(e,n,o)=>Q(e,(r,c)=>r.fold(()=>F.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),b=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return F.some(b<m?c:u)}),F.none()),ZA=(e,n,o,r,c)=>{const u=La(le.fromDom(o),"td,th,caption").map(b=>b.dom),m=qe(GL(e,u),b=>n(b,c));return Gd(m,r,c).map(b=>b.cell)},nM=e=>e.bottom,JW=e=>e.top,QW=(e,n)=>e.y<n,eZ=(e,n)=>e.y>n,tZ=Xe(ZA,nM,QW),KL=Xe(ZA,JW,eZ),nx=(e,n)=>mn(n.getClientRects()).bind(o=>tZ(e,o.left,o.top)).bind(o=>Hg(jW(o),n)),YL=(e,n)=>bo(n.getClientRects()).bind(o=>KL(e,o.left,o.top)).bind(o=>Hg(QI(o),n)),qA=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),oM=e=>e.breakType===Im.Wrap&&e.positions.length===0,sM=e=>e.breakType===Im.Br&&e.positions.length===1,GA=(e,n,o)=>{const r=e(n,o);return oM(r)||!Qr(o.getNode())&&sM(r)?!qA(e,n,r):r.breakAt.isNone()},XL=Xe(GA,fv),JL=Xe(GA,mv),QL=(e,n,o)=>{const r=ct.fromRangeStart(n);return Bp(!e,o).exists(c=>c.isEqual(r))},e9=(e,n,o,r)=>{const c=e.selection.getRng(),u=n?1:-1;return L0()&&QL(n,c,o)?(Fm(u,e,o,!n,!1).each(m=>{Ug(e,m)}),!0):!1},ox=(e,n,o)=>nx(n,o).orThunk(()=>mn(o.getClientRects()).bind(r=>_A(CA(e,ct.before(n)),r.left))).getOr(ct.before(n)),t9=(e,n,o)=>YL(n,o).orThunk(()=>mn(o.getClientRects()).bind(r=>_A(HS(e,ct.after(n)),r.left))).getOr(ct.after(n)),rM=(e,n)=>{const o=n.getNode(e);return tl(o)?F.some(o):F.none()},n9=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?io:Xn,c=YS(n,le.fromDom(o),r);Ug(n,c)})},sx=(e,n,o)=>{const r=rM(!!n,o),c=n===!1;r.fold(()=>Ug(e,o.toRange()),u=>Bp(c,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>Ug(e,o.toRange()),m=>n9(n,e,u)))},o9=(e,n,o,r)=>{const c=e.selection.getRng(),u=ct.fromRangeStart(c),m=e.getBody();if(!n&&XL(r,u)){const b=ox(m,o,u);return sx(e,n,b),!0}else if(n&&JL(r,u)){const b=t9(m,o,u);return sx(e,n,b),!0}else return!1},aM=(e,n,o)=>F.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>F.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),KA=(e,n)=>aM(e,n,e9),YA=(e,n)=>aM(e,n,o9),s9=e=>{const n=If.exact(e,0,e,0);return n3(n)},cM=(e,n,o)=>o.fold(F.none,F.none,(r,c)=>QB(c).map(u=>s9(u)),r=>(e.execCommand("mceTableInsertRowAfter"),iM(e,n,r))),iM=(e,n,o)=>cM(e,n,WL(o,Fo)),r9=(e,n,o)=>cM(e,n,ZL(o,Fo)),lM=(e,n)=>{const o=["table","li","dl"],r=le.fromDom(e.getBody()),c=b=>{const k=Xs(b);return Ns(b,r)||X(o,k)},u=e.selection.getRng(),m=le.fromDom(n?u.endContainer:u.startContainer);return QN(m,c).map(b=>(tM(b,c).each(D=>{e.model.table.clearSelectedCells(D.dom)}),e.selection.collapse(!n),(n?iM:r9)(e,c,b).each(D=>{e.selection.setRng(D)}),!0)).getOr(!1)},XA=(e,n,o)=>{const r=nn.os.isMacOS()||nn.os.isiOS();Fw([{keyCode:hn.RIGHT,action:To(BL,e,!0)},{keyCode:hn.LEFT,action:To(BL,e,!1)},{keyCode:hn.UP,action:To(PL,e,!1)},{keyCode:hn.DOWN,action:To(PL,e,!0)},...r?[{keyCode:hn.UP,action:To(XS,e,!1),metaKey:!0,shiftKey:!0},{keyCode:hn.DOWN,action:To(XS,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:hn.RIGHT,action:To(KA,e,!0)},{keyCode:hn.LEFT,action:To(KA,e,!1)},{keyCode:hn.UP,action:To(YA,e,!1)},{keyCode:hn.DOWN,action:To(YA,e,!0)},{keyCode:hn.UP,action:To(YA,e,!1)},{keyCode:hn.UP,action:To(JS,e,!1)},{keyCode:hn.DOWN,action:To(JS,e,!0)},{keyCode:hn.RIGHT,action:To(VL,e,!0)},{keyCode:hn.LEFT,action:To(VL,e,!1)},{keyCode:hn.UP,action:To(JN,e,!1)},{keyCode:hn.DOWN,action:To(JN,e,!0)},{keyCode:hn.RIGHT,action:To(Nw,e,n,!0)},{keyCode:hn.LEFT,action:To(Nw,e,n,!1)},{keyCode:hn.RIGHT,ctrlKey:!r,altKey:r,action:To(aL,e,n)},{keyCode:hn.LEFT,ctrlKey:!r,altKey:r,action:To(vN,e,n)},{keyCode:hn.UP,action:To(pv,e,!1)},{keyCode:hn.DOWN,action:To(pv,e,!0)}],o).each(c=>{o.preventDefault()})},a9=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||XA(e,n,o)})},Kd=(e,n)=>({container:e,offset:n}),rx=qs.DOM,ax=e=>n=>e===n?-1:0,c9=e=>n=>e.isBlock(n)||X(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",JA=(e,n,o)=>{if(Bt(e)&&n>=0)return F.some(Kd(e,n));{const r=wm(rx);return F.from(r.backwards(e,n,ax(e),o)).map(c=>Kd(c.container,c.container.data.length))}},i9=(e,n,o)=>{if(Bt(e)&&n>=e.length)return F.some(Kd(e,n));{const r=wm(rx);return F.from(r.forwards(e,n,ax(e),o)).map(c=>Kd(c.container,0))}},QA=(e,n,o)=>{if(!Bt(e))return F.none();const r=e.data;if(n>=0&&n<=r.length)return F.some(Kd(e,n));{const c=wm(rx);return F.from(c.backwards(e,n,ax(e),o)).bind(u=>{const m=u.container.data;return QA(u.container,n+m.length,o)})}},nc=(e,n,o)=>{if(!Bt(e))return F.none();const r=e.data;if(n<=r.length)return F.some(Kd(e,n));{const c=wm(rx);return F.from(c.forwards(e,n,ax(e),o)).bind(u=>nc(u.container,n-r.length,o))}},e5=(e,n,o,r,c)=>{const u=wm(e,c9(e));return F.from(u.backwards(n,o,r,c))},l9=e=>e.collapsed&&Bt(e.startContainer),uM=e=>qt(e.toString().replace(/\u00A0/g," ")),t5=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,Iw=(e,n)=>e.substring(n.length),dM=(e,n,o)=>{let r;const c=o.charAt(0);for(r=n-1;r>=0;r--){const u=e.charAt(r);if(t5(u))return F.none();if(c===u&&On(e,o,r,n))break}return F.some(r)},fh=(e,n,o,r=0)=>{if(!l9(n))return F.none();const c={text:"",offset:0},u=(b,k,E)=>(c.text=E+c.text,c.offset+=k,dM(c.text,c.offset,o).getOr(k)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return e5(e,n.startContainer,n.startOffset,u,m).bind(b=>{const k=n.cloneRange();if(k.setStart(b.container,b.offset),k.setEnd(n.endContainer,n.endOffset),k.collapsed)return F.none();const E=uM(k);return E.lastIndexOf(o)!==0||Iw(E,o).length<r?F.none():F.some({text:Iw(E,o),range:k,trigger:o})})},cx=(e,n,o,r=0)=>oP(le.fromDom(n.startContainer)).fold(()=>fh(e,n,o,r),c=>{const u=e.createRng();u.selectNode(c.dom);const m=uM(u);return F.some({range:u,text:Iw(m,o),trigger:o})}),fM=e=>e.nodeType===$l,n5=e=>e.nodeType===Ka,ix=e=>{if(fM(e))return Kd(e,e.data.length);{const n=e.childNodes;return n.length>0?ix(n[n.length-1]):Kd(e,n.length)}},lx=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?lx(o[n],0):o.length>0&&n5(e)&&o.length===n?ix(o[o.length-1]):Kd(e,n)},mM=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return e5(e,n.container,n.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!t5(u)}).isSome()},ux=e=>n=>{const o=lx(n.startContainer,n.startOffset);return!mM(e,o)},dx=(e,n,o)=>Rs(o.triggers,r=>cx(e,n,r)),Lw=(e,n)=>{const o=n(),r=e.selection.getRng();return dx(e.dom,r,o).bind(c=>hv(e,n,c))},hv=(e,n,o,r={})=>{var c;const u=n(),b=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",k=qe(u.lookupByTrigger(o.trigger),D=>o.text.length>=D.minChars&&D.matches.getOrThunk(()=>ux(e.dom))(o.range,b,o.text));if(k.length===0)return F.none();const E=Promise.all(ve(k,D=>D.fetch(o.text,D.maxResults,r).then(I=>({matchText:o.text,items:I,columns:D.columns,onAction:D.onAction,highlightOn:D.highlightOn}))));return F.some({lookupData:E,context:o})};var Bc;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Bc||(Bc={}));const ty=(e,n,o)=>e.stype===Bc.Error?n(e.serror):o(e.svalue),gM=e=>{const n=[],o=[];return ae(e,r=>{ty(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},pM=(e,n)=>e.stype===Bc.Error?{stype:Bc.Error,serror:n(e.serror)}:e,u9=(e,n)=>e.stype===Bc.Value?{stype:Bc.Value,svalue:n(e.svalue)}:e,hM=(e,n)=>e.stype===Bc.Value?n(e.svalue):e,d9=(e,n)=>e.stype===Bc.Error?n(e.serror):e,bM=e=>({stype:Bc.Value,svalue:e}),bv=e=>({stype:Bc.Error,serror:e}),di={fromResult:e=>e.fold(bv,bM),toResult:e=>ty(e,zc.error,zc.value),svalue:bM,partition:gM,serror:bv,bind:hM,bindError:d9,map:u9,mapError:pM,fold:ty},o5=e=>dt(e)&&Yo(e).length>100?" removed due to size":JSON.stringify(e,null,2),f9=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:st("... (only showing first ten failures)")}]):e;return ve(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},fx=(e,n)=>di.serror([{path:e,getErrorInfo:n}]),m9=(e,n,o)=>fx(e,()=>'Could not find valid *required* value for "'+n+'" in '+o5(o)),g9=(e,n)=>fx(e,()=>'Choice schema did not contain choice key: "'+n+'"'),p9=(e,n,o)=>fx(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+o5(n)),h9=(e,n)=>fx(e,st(n)),b9=(e,n,o,r)=>Cs(o,r).fold(()=>p9(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),y9=(e,n)=>({extract:(c,u)=>Cs(u,e).fold(()=>g9(c,e),b=>b9(c,u,n,b)),toString:()=>"chooseOn("+e+"). Possible values: "+Yo(n)}),v9=(e,n)=>n,k9=(e,n)=>Mo(e)&&Mo(n)?Hw(e,n):n,s5=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const u in c)Kn(c,u)&&(o[u]=e(o[u],c[u]))}return o},Hw=s5(k9),yM=s5(v9),vM=()=>({tag:"required",process:{}}),w9=e=>({tag:"defaultedThunk",process:e}),kM=e=>w9(st(e)),_9=()=>({tag:"option",process:{}}),wM=(e,n)=>e.length>0?di.svalue(Hw(n,yM.apply(void 0,e))):di.svalue(n),_M=e=>T(di.serror,$n)(e),CM={consolidateObj:(e,n)=>{const o=di.partition(e);return o.errors.length>0?_M(o.errors):wM(o.values,n)},consolidateArr:e=>{const n=di.partition(e);return n.errors.length>0?_M(n.errors):di.svalue(n.values)}},SM=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),S9=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),xM=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},r5=e=>{const n=(r,c)=>di.bindError(e(c),u=>h9(r,u)),o=st("val");return{extract:n,toString:o}},TM=r5(di.svalue),x9=(e,n,o,r)=>Cs(n,o).fold(()=>m9(e,o,n),r),EM=(e,n,o,r)=>{const c=Cs(e,n).getOrThunk(()=>o(e));return r(c)},AM=(e,n,o)=>o(Cs(e,n)),T9=(e,n,o,r)=>{const c=Cs(e,n).map(u=>u===!0?o(e):u);return r(c)},E9=(e,n,o,r,c)=>{const u=b=>c.extract(n.concat([r]),b),m=b=>b.fold(()=>di.svalue(F.none()),k=>{const E=c.extract(n.concat([r]),k);return di.map(E,F.some)});switch(e.tag){case"required":return x9(n,o,r,u);case"defaultedThunk":return EM(o,r,e.process,u);case"option":return AM(o,r,m);case"defaultedOptionThunk":return T9(o,r,e.process,m);case"mergeWithThunk":return EM(o,r,st({}),b=>{const k=Hw(e.process(o),b);return u(k)})}},OM=(e,n,o)=>{const r={},c=[];for(const u of o)xM(u,(m,b,k,E)=>{const D=E9(k,e,n,m,E);di.fold(D,N=>{c.push(...N)},N=>{r[b]=N})},(m,b)=>{r[m]=b(n)});return c.length>0?di.serror(c):di.svalue(r)},a5=e=>({extract:(r,c)=>OM(r,c,e),toString:()=>`obj{
`+ve(e,c=>xM(c,(u,m,b,k)=>u+" -> "+k.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),zM=e=>({extract:(r,c)=>{const u=ve(c,(m,b)=>e.extract(r.concat(["["+b+"]"]),m));return CM.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),A9=e=>r5(n=>e(n).fold(di.serror,di.svalue)),DM=(e,n,o)=>{const r=n.extract([e],o);return di.mapError(r,c=>({input:o,errors:c}))},RM=(e,n,o)=>di.toResult(DM(e,n,o)),O9=e=>`Errors: 
`+f9(e.errors).join(`
`)+`

Input object: `+o5(e.input),NM=(e,n)=>y9(e,Lo(n,a5)),z9=st(TM),mx=(e,n)=>r5(o=>{const r=typeof o;return e(o)?di.svalue(o):di.serror(`Expected type: ${n} but got: ${r}`)}),D9=mx(Ro,"number"),gx=mx(j,"string"),R9=mx(at,"boolean"),c5=mx(ie,"function"),px=SM,MM=S9,hx=e=>A9(n=>X(e,n)?zc.value(n):zc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),i5=(e,n)=>px(e,e,vM(),n),l5=e=>i5(e,gx),BM=e=>i5(e,c5),PM=(e,n)=>px(e,e,vM(),zM(n)),bx=(e,n)=>px(e,e,_9(),n),yx=e=>bx(e,gx),N9=e=>bx(e,c5),M9=(e,n)=>px(e,e,kM(n),z9()),ny=(e,n,o)=>px(e,e,kM(n),o),FM=(e,n)=>ny(e,n,D9),u5=(e,n)=>ny(e,n,gx),$M=(e,n,o)=>ny(e,n,hx(o)),d5=(e,n)=>ny(e,n,R9),f5=(e,n)=>ny(e,n,c5),IM=(e,n,o)=>ny(e,n,zM(o)),B9=l5("type"),P9=BM("fetch"),m5=BM("onAction"),F9=f5("onSetup",()=>Oe),$9=yx("text"),Cc=yx("icon"),Lm=yx("tooltip"),I9=yx("label"),rZ=d5("active",!1),L9=d5("enabled",!0),LM=d5("primary",!1),H9=e=>M9("columns",e),Vw=e=>u5("type",e),HM=a5([B9,l5("trigger"),FM("minChars",1),H9(1),FM("maxResults",10),N9("matches"),P9,m5,IM("highlightOn",[],gx)]),yv=e=>RM("Autocompleter",HM,{trigger:e.ch,...e}),VM=[L9,Lm,Cc,$9,F9],UM=[rZ].concat(VM),V9=[f5("predicate",De),$M("scope","node",["node","editor"]),$M("position","selection",["node","selection","line"])],Kf=VM.concat([Vw("contextformbutton"),LM,m5,MM("original",Bn)]),U9=UM.concat([Vw("contextformbutton"),LM,m5,MM("original",Bn)]),j9=VM.concat([Vw("contextformbutton")]),jM=UM.concat([Vw("contextformtogglebutton")]),W9=NM("type",{contextformbutton:Kf,contextformtogglebutton:U9});a5([Vw("contextform"),f5("initValue",st("")),I9,PM("commands",W9),bx("launch",NM("type",{contextformbutton:j9,contextformtogglebutton:jM}))].concat(V9));const g5=e=>{const n=e.ui.registry.getAll().popups,o=Lo(n,m=>yv(m).fold(b=>{throw new Error(O9(b))},Bn)),r=Ge(ia(o,m=>m.trigger)),c=Ur(o);return{dataset:o,triggers:r,lookupByTrigger:m=>qe(c,b=>b.trigger===m)}},WM=(e,n)=>{const o=Vy(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},Z9=e=>{const n=Yu(),o=Ma(!1),r=n.isSet,c=()=>{r()&&(cd(e),bs(e),o.set(!1),n.clear())},u=E=>{r()||(N$(e,E.range),n.set({trigger:E.trigger,matchLength:E.text.length}))},m=Ye(()=>g5(e)),b=E=>n.get().map(D=>cx(e.dom,e.selection.getRng(),D.trigger).bind(N=>hv(e,m,N,E))).getOrThunk(()=>Lw(e,m)),k=E=>{b(E).fold(c,D=>{u(D.context),D.lookupData.then(N=>{n.get().map(I=>{const ee=D.context;I.trigger===ee.trigger&&(ee.text.length-I.matchLength>=10?c():(n.set({...I,matchLength:ee.text.length}),o.get()?UE(e,{lookupData:N}):(o.set(!0),VE(e,{lookupData:N}))))})})})};e.addCommand("mceAutocompleterReload",(E,D)=>{const N=dt(D)?D.fetchOptions:{};k(N)}),e.addCommand("mceAutocompleterClose",c),WM(e,{cancelIfNecessary:c,load:k})},q9=Ys().browser.isSafari(),p5=e=>G(le.fromDom(e)),h5=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},vv=(e,n)=>F.from(e.getParent(n.container(),"details")),vx=(e,n)=>vv(e,n).isSome(),b5=(e,n)=>{const o=F.from(e.getParent(n.startContainer,"details")),r=F.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(u=>F.from(e.select("summary",u)[0]));return F.some({startSummary:c,startDetails:o,endDetails:r})}else return F.none()},G9=(e,n)=>ha(n).exists(o=>o.isEqual(e)),K9=(e,n)=>Al(n).exists(o=>Qr(o.getNode())&&oi(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),Y9=(e,n)=>n.startSummary.exists(o=>G9(e,o)),X9=(e,n)=>n.startSummary.exists(o=>K9(e,o)),y5=(e,n)=>n.startDetails.exists(o=>oi(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),ZM=(e,n,o)=>o.startDetails.exists(r=>Gi(e,n).forall(c=>!r.contains(c.container()))),qM=(e,n)=>{const o=n.getNode();bn(o)||e.selection.setCursorLocation(o,n.offset())},v5=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?ha(c):Al(c)).each(m=>qM(e,m))}else qM(e,n)},J9=(e,n)=>{const o=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),c=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(k=>n.endDetails.forall(E=>k!==E));return(c||u)&&!(c&&u)||m},kx=(e,n,o)=>{const{dom:r,selection:c}=e,u=e.getBody();if(o==="character"){const m=ct.fromRangeStart(c.getRng()),b=r.getParent(m.container(),r.isBlock),k=vv(r,m),E=b&&r.isEmpty(b),D=U(b==null?void 0:b.previousSibling),N=U(b==null?void 0:b.nextSibling);return E&&(n?N:D)&&Om(!n,u,m).exists(oe=>vx(r,oe)&&!Ga(k,vv(r,oe)))?!0:Om(n,u,m).fold(De,I=>{const ee=vv(r,I);if(vx(r,I)&&!Ga(k,ee)){if(n||v5(e,I,!1),b&&E){if(n&&D)return!0;if(!n&&N)return!0;v5(e,I,n),e.dom.remove(b)}return!0}else return!1})}else return!1},Q9=(e,n,o,r)=>{const u=e.selection.getRng(),m=ct.fromRangeStart(u),b=e.getBody();return r==="selection"?J9(u,n):o?X9(m,n)||ZM(b,m,n):Y9(m,n)||y5(m,n)},eH=(e,n,o)=>b5(e.dom,e.selection.getRng()).fold(()=>kx(e,n,o),r=>Q9(e,r,n,o)||kx(e,n,o)),tH=(e,n,o)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=ct.fromRangeStart(u);return dp(c)?(o==="selection"&&h5(u,c)||Mk(n,m,c)?p5(c):e.undoManager.transact(()=>{const b=r.getSel();let{anchorNode:k,anchorOffset:E,focusNode:D,focusOffset:N}=b??{};const I=()=>{Pe(k)&&Pe(E)&&Pe(D)&&Pe(N)&&(b==null||b.setBaseAndExtent(k,E,D,N))},ee=()=>{k=b==null?void 0:b.anchorNode,E=b==null?void 0:b.anchorOffset,D=b==null?void 0:b.focusNode,N=b==null?void 0:b.focusOffset},oe=(ne,Te)=>{ae(ne.childNodes,ze=>{gb(ze)&&Te.appendChild(ze)})},K=e.dom.create("span",{"data-mce-bogus":"1"});oe(c,K),c.appendChild(K),I(),(o==="word"||o==="line")&&(b==null||b.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&h5(r.getRng(),K)?p5(c):(e.execCommand(n?"ForwardDelete":"Delete"),ee(),oe(K,c),I()),e.dom.remove(K)}),!0):!1},oy=(e,n,o)=>eH(e,n,o)||q9&&tH(e,n,o)?F.some(Oe):F.none(),GM=e=>(n,o,r={})=>{const c=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Oe,inputType:o},m=Wi(new InputEvent(e));return n.dispatch(e,{...m,...u,...r})},kv=GM("input"),wv=GM("beforeinput"),k5=Ys(),w5=k5.os,KM=w5.isMacOS()||w5.isiOS(),nH=k5.browser.isFirefox(),wx=(e,n,o)=>{const r=o.keyCode===hn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),u=c?"character":"selection",m=b=>c?b?"word":"line":"selection";XN([{keyCode:hn.BACKSPACE,action:To(NN,e)},{keyCode:hn.BACKSPACE,action:To(pA,e,!1)},{keyCode:hn.DELETE,action:To(pA,e,!0)},{keyCode:hn.BACKSPACE,action:To(DS,e,!1)},{keyCode:hn.DELETE,action:To(DS,e,!0)},{keyCode:hn.BACKSPACE,action:To(OA,e,n,!1)},{keyCode:hn.DELETE,action:To(OA,e,n,!0)},{keyCode:hn.BACKSPACE,action:To(Hk,e,!1)},{keyCode:hn.DELETE,action:To(Hk,e,!0)},{keyCode:hn.BACKSPACE,action:To(oy,e,!1,u)},{keyCode:hn.DELETE,action:To(oy,e,!0,u)},...KM?[{keyCode:hn.BACKSPACE,altKey:!0,action:To(oy,e,!1,m(!0))},{keyCode:hn.DELETE,altKey:!0,action:To(oy,e,!0,m(!0))},{keyCode:hn.BACKSPACE,metaKey:!0,action:To(oy,e,!1,m(!1))}]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:To(oy,e,!1,m(!0))},{keyCode:hn.DELETE,ctrlKey:!0,action:To(oy,e,!0,m(!0))}],{keyCode:hn.BACKSPACE,action:To(Ew,e,!1)},{keyCode:hn.DELETE,action:To(Ew,e,!0)},{keyCode:hn.BACKSPACE,action:To(qS,e,!1)},{keyCode:hn.DELETE,action:To(qS,e,!0)},{keyCode:hn.BACKSPACE,action:To(OS,e,!1)},{keyCode:hn.DELETE,action:To(OS,e,!0)},{keyCode:hn.BACKSPACE,action:To(Sw,e,!1)},{keyCode:hn.DELETE,action:To(Sw,e,!0)},{keyCode:hn.BACKSPACE,action:To(BA,e,!1)},{keyCode:hn.DELETE,action:To(BA,e,!0)}],o).filter(b=>e.selection.isEditable()).each(b=>{o.preventDefault(),wv(e,r).isDefaultPrevented()||(b(),kv(e,r))})},YM=(e,n,o)=>Fw([{keyCode:hn.BACKSPACE,action:To(WR,e)},{keyCode:hn.DELETE,action:To(WR,e)},...KM?[{keyCode:hn.BACKSPACE,altKey:!0,action:To(Bw,e)},{keyCode:hn.DELETE,altKey:!0,action:To(Bw,e)},...o?[{keyCode:nH?224:91,action:To(Bw,e)}]:[]]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:To(Bw,e)},{keyCode:hn.DELETE,ctrlKey:!0,action:To(Bw,e)}]],n),XM=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===hn.BACKSPACE,r.isDefaultPrevented()||wx(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||YM(e,r,o),o=!1})},oH=e=>{for(;e;){if(gn(e)||Bt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},_v=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=oH(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(fr),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new vr(n,n);let m=n,b;for(;b=u.current();){if(Bt(b)){c.setStart(b,0),c.setEnd(b,0);break}if(r[b.nodeName.toLowerCase()]){c.setStartBefore(b),c.setEndBefore(b);break}m=b,b=u.next()}b||(c.setStart(m,0),c.setEnd(m,0))}else Qr(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),zi(e,c)},_x=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},JM=e=>F.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),iZ=e=>JM(e).fold(st(""),n=>n.nodeName.toUpperCase()),sH=e=>JM(e).filter(n=>Ca(le.fromDom(n))).isSome(),QM=e=>{e.innerHTML='<br data-mce-bogus="1">'},rH=(e,n,o)=>{const r=e.dom;F.from(o.style).map(r.parseStyle).each(k=>{const D={...Dt(le.fromDom(n)),...k};r.setStyles(n,D)});const c=F.from(o.class).map(k=>k.split(/\s+/)),u=F.from(n.className).map(k=>qe(k.split(/\s+/),E=>E!==""));sa(c,u,(k,E)=>{const D=qe(E,I=>!X(k,I)),N=[...k,...D];r.setAttrib(n,"class",N.join(" "))});const m=["style","class"],b=_s(o,(k,E)=>!X(m,E));r.setAttribs(n,b)},Uw=(e,n)=>{if(ni(e).toLowerCase()===n.tagName.toLowerCase()){const r=Sp(e);rH(e,n,r)}},aH=(e,n,o,r,c=!0,u)=>{const m=e.dom,b=e.schema,k=ni(e),E=o?o.nodeName.toUpperCase():"";let D=n;const N=b.getTextInlineElements();let I;u||E==="TABLE"||E==="HR"?I=m.create(u||k):I=o.cloneNode(!1);let ee=I;if(!c)m.setAttrib(I,"style",null),m.setAttrib(I,"class",null);else do if(N[D.nodeName]){if(Dc(D)||Ol(D))continue;const oe=D.cloneNode(!1);m.setAttrib(oe,"id",""),I.hasChildNodes()?(oe.appendChild(I.firstChild),I.appendChild(oe)):(ee=oe,I.appendChild(oe))}while((D=D.parentNode)&&D!==r);return Uw(e,I),QM(ee),I},cH=(e,n)=>e.dom.getParent(n,yc),Aa=(e,n,o)=>{let r=n;for(;r&&r!==e&&U(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return yc(c);r=c}return!1},_5=(e,n,o)=>!n&&o.nodeName.toLowerCase()===ni(e)&&e.dom.isEmpty(o)&&Aa(e.getBody(),o,r=>Kn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),Hm=(e,n,o)=>{var r,c,u;const m=n(ni(e)),b=cH(e,o);b&&(e.dom.insertAfter(m,b),_v(e,m),((u=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},e8=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,t8=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},n8=(e,n)=>{const o=e==null?void 0:e.parentNode;return Pe(o)&&o.nodeName===n},jw=e=>Pe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),C5=e=>Pe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),o8=e=>jw(e)&&jw(e.parentNode),Ww=e=>{const n=e.parentNode;return C5(n)?n:e},Cx=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!gn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},iH=(e,n,o,r,c)=>{const u=e.dom,m=e.selection.getRng(),b=o.parentNode;if(o===e.getBody()||!b)return;o8(o)&&(c="LI");let k=n(c);if(Cx(o,r,!0)&&Cx(o,r,!1))if(n8(o,"LI")){const E=Ww(o);u.insertAfter(k,E),t8(o)?u.remove(E):u.remove(o)}else u.replace(k,o);else if(Cx(o,r,!0))n8(o,"LI")?(u.insertAfter(k,Ww(o)),k.appendChild(u.doc.createTextNode(" ")),k.appendChild(o)):b.insertBefore(k,o),u.remove(r);else if(Cx(o,r,!1))u.insertAfter(k,Ww(o)),u.remove(r);else{o=Ww(o);const E=m.cloneRange();E.setStartAfter(r),E.setEndAfter(o);const D=E.extractContents();c==="LI"&&e8(D,"LI")?(k=D.firstChild,u.insertAfter(D,o)):(u.insertAfter(D,o),u.insertAfter(k,o)),u.remove(r)}_v(e,k)},lH=e=>{ae(Nh(le.fromDom(e),Ya),n=>{const o=n.dom;o.nodeValue=qt(o.data)})},uH=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},dH=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),Sx=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,S5=(e,n)=>Pe(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",fH=(e,n,o)=>{var r;const c=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;gn(u)&&!n[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||dH(e,u))&&e.remove(u)},x5=(e,n,o)=>Bt(n)?e?o===1&&n.data.charAt(o-1)===Qe?0:o:o===n.data.length-1&&n.data.charAt(o)===Qe?n.data.length:o:o,mH=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,x5(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,x5(!1,e.endContainer,e.endOffset)),n},gH=e=>{let n=e;do Bt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},s8=(e,n,o,r,c)=>{var u,m;const b=e.dom,k=(u=_x(b,r))!==null&&u!==void 0?u:b.getRoot();let E=b.getParent(r,b.isBlock);if(!E||!S5(b,E)){if(E=E||k,!E.hasChildNodes()){const ee=b.create(n);return Uw(e,ee),E.appendChild(ee),o.setStart(ee,0),o.setEnd(ee,0),ee}let D=r;for(;D&&D.parentNode!==E;)D=D.parentNode;let N;for(;D&&!b.isBlock(D);)N=D,D=D.previousSibling;const I=(m=N==null?void 0:N.parentElement)===null||m===void 0?void 0:m.nodeName;if(N&&I&&e.schema.isValidChild(I,n.toLowerCase())){const ee=N.parentNode,oe=b.create(n);for(Uw(e,oe),ee.insertBefore(oe,N),D=N;D&&!b.isBlock(D);){const K=D.nextSibling;oe.appendChild(D),D=K}o.setStart(r,c),o.setEnd(r,c)}}return r},r8=(e,n)=>{n.normalize();const o=n.lastChild;(!o||gn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},pH=(e,n)=>{const o=HT(e);return Zt(n)?!1:j(o)?X(Et.explode(o),n.nodeName.toLowerCase()):o},xx={insert:(e,n)=>{let o,r,c,u,m=!1;const b=e.dom,k=e.schema,E=k.getNonEmptyElements(),D=e.selection.getRng(),N=ni(e),I=le.fromDom(D.startContainer),ee=bu(I,D.startOffset),oe=ee.exists(Nt=>Pr(Nt)&&!Fo(Nt)),K=D.collapsed&&oe,ne=Nt=>aH(e,o,Kt,St,O0(e),Nt),Te=Nt=>{const jn=x5(Nt,o,r);if(Bt(o)&&(Nt?jn>0:jn<o.data.length))return!1;if(o.parentNode===Kt&&m&&!Nt||Nt&&gn(o)&&o===Kt.firstChild)return!0;if(Sx(o,"TABLE")||Sx(o,"HR"))return m&&!Nt||!m&&Nt;const ro=new vr(o,Kt);Bt(o)&&(Nt&&jn===0?ro.prev():!Nt&&jn===o.data.length&&ro.next());let Uo;for(;Uo=ro.current();){if(gn(Uo)){if(!Uo.getAttribute("data-mce-bogus")){const ls=Uo.nodeName.toLowerCase();if(E[ls]&&ls!=="br")return!1}}else if(Bt(Uo)&&!lm(Uo.data))return!1;Nt?ro.prev():ro.next()}return!0},ze=()=>{let Nt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&rn!=="HGROUP"?Nt=ne(N):Nt=ne(),pH(e,u)&&S5(b,u)&&b.isEmpty(Kt,void 0,{includeZwsp:!0})?Nt=b.split(u,Kt):b.insertAfter(Nt,Kt),_v(e,Nt),Nt};V1(b,D).each(Nt=>{D.setStart(Nt.startContainer,Nt.startOffset),D.setEnd(Nt.endContainer,Nt.endOffset)}),o=D.startContainer,r=D.startOffset;const Re=!!(n&&n.shiftKey),Ve=!!(n&&n.ctrlKey);gn(o)&&o.hasChildNodes()&&!K&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&Bt(o)?r=o.data.length:r=0);const St=_x(b,o);if(!St||uH(e,o))return;Re||(o=s8(e,N,D,o,r));let Kt=b.getParent(o,b.isBlock)||b.getRoot();u=Pe(Kt==null?void 0:Kt.parentNode)?b.getParent(Kt.parentNode,b.isBlock):null,c=Kt?Kt.nodeName.toUpperCase():"";const rn=u?u.nodeName.toUpperCase():"";if(rn==="LI"&&!Ve){const Nt=u;Kt=Nt,u=Nt.parentNode,c=rn}if(gn(u)&&_5(e,Re,Kt))return Hm(e,ne,Kt);if(/^(LI|DT|DD)$/.test(c)&&gn(u)&&b.isEmpty(Kt)){iH(e,ne,u,Kt,N);return}if(!K&&(Kt===e.getBody()||!S5(b,Kt)))return;const et=Kt.parentNode;let tt;if(K)tt=ne(N),ee.fold(()=>{Vs(I,le.fromDom(tt))},Nt=>{Xn(Nt,le.fromDom(tt))}),e.selection.setCursorLocation(tt,0);else if(xr(Kt))tt=yf(Kt),b.isEmpty(Kt)&&QM(Kt),Uw(e,tt),_v(e,tt);else if(Te(!1))tt=ze();else if(Te(!0)&&et){tt=et.insertBefore(ne(),Kt);const Nt=sf(le.fromDom(D.startContainer))&&D.collapsed;_v(e,Sx(Kt,"HR")||Nt?tt:Kt)}else{const Nt=mH(D).cloneRange();Nt.setEndAfter(Kt);const jn=Nt.extractContents();lH(jn),gH(jn),tt=jn.firstChild,b.insertAfter(jn,Kt),fH(b,E,tt),r8(b,Kt),b.isEmpty(Kt)&&QM(Kt),tt.normalize(),b.isEmpty(tt)?(b.remove(tt),ze()):(Uw(e,tt),_v(e,tt))}b.setAttrib(tt,"id",""),e.dispatch("NewBlock",{newBlock:tt})},fakeEventName:"insertParagraph"},hH=(e,n,o)=>{const r=new vr(n,o);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||Bt(c)&&c.length>0)return!0;return!1},a8=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),zi(e,r)},bH=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let u,m=!1;V1(r,c).each(ee=>{c.setStart(ee.startContainer,ee.startOffset),c.setEnd(ee.endContainer,ee.endOffset)});let b=c.startOffset,k=c.startContainer;if(gn(k)&&k.hasChildNodes()){const ee=b>k.childNodes.length-1;k=k.childNodes[Math.min(b,k.childNodes.length-1)]||k,ee&&Bt(k)?b=k.data.length:b=0}let E=r.getParent(k,r.isBlock);const D=E&&E.parentNode?r.getParent(E.parentNode,r.isBlock):null,N=D?D.nodeName.toUpperCase():"",I=!!(n&&n.ctrlKey);N==="LI"&&!I&&(E=D),Bt(k)&&b>=k.data.length&&(hH(e.schema,k,E||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),zd(r,c,u),a8(e,u,m),e.undoManager.add()},c8=(e,n)=>{const o=le.fromTag("br");Xn(le.fromDom(n),o),e.undoManager.add()},yH=(e,n)=>{vH(e.getBody(),n)||io(le.fromDom(n),le.fromTag("br"));const o=le.fromTag("br");io(le.fromDom(n),o),a8(e,o.dom,!1),e.undoManager.add()},i8=e=>Qr(e.getNode()),vH=(e,n)=>i8(ct.after(n))?!0:Gi(e,ct.after(n)).map(o=>Qr(o.getNode())).getOr(!1),l8=e=>e&&e.nodeName==="A"&&"href"in e,uZ=e=>e.fold(De,l8,l8,De),Di=e=>{const n=Xe(Bb,e),o=ct.fromRangeStart(e.selection.getRng());return $m(n,e.getBody(),o).filter(uZ)},kH=(e,n)=>{n.fold(Oe,Xe(c8,e),Xe(yH,e),Oe)},u8={insert:(e,n)=>{const o=Di(e);o.isSome()?o.each(Xe(kH,e)):bH(e,n)},fakeEventName:"insertLineBreak"},d8=(e,n)=>JM(e).filter(o=>n.length>0&&Fi(le.fromDom(o),n)).isSome(),wH=e=>d8(e,Q_(e)),_H=e=>d8(e,e2(e)),ml=Df.generate([{br:[]},{block:[]},{none:[]}]),CH=(e,n)=>_H(e),f8=e=>(n,o)=>sH(n)===e,Tx=(e,n)=>(o,r)=>iZ(o)===e.toUpperCase()===n,T5=e=>{const n=_x(e.dom,e.selection.getStart());return Zt(n)},Zw=e=>Tx("pre",e),mZ=()=>Tx("summary",!0),E5=e=>(n,o)=>Au(n)===e,gZ=(e,n)=>wH(e),Ex=(e,n)=>n,SH=e=>{const n=ni(e),o=_x(e.dom,e.selection.getStart());return Pe(o)&&e.schema.isValidChild(o.nodeName,n)},pZ=e=>{const n=e.selection.getRng(),o=le.fromDom(n.startContainer),c=bu(o,n.startOffset).map(u=>Pr(u)&&!Fo(u));return n.collapsed&&c.getOr(!0)},dd=(e,n)=>(o,r)=>Q(e,(u,m)=>u&&m(o,r),!0)?F.some(n):F.none(),Yf=(e,n)=>JR([dd([CH],ml.none()),dd([Zw(!0),T5],ml.none()),dd([mZ()],ml.br()),dd([Zw(!0),E5(!1),Ex],ml.br()),dd([Zw(!0),E5(!1)],ml.block()),dd([Zw(!0),E5(!0),Ex],ml.block()),dd([Zw(!0),E5(!0)],ml.br()),dd([f8(!0),Ex],ml.br()),dd([f8(!0)],ml.block()),dd([gZ],ml.br()),dd([Ex],ml.br()),dd([SH],ml.block()),dd([pZ],ml.block())],[e,!!(n&&n.shiftKey)]).getOr(ml.none()),Ax=(e,n,o)=>{n.selection.isCollapsed()||MP(n),!(Pe(o)&&wv(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Pe(o)&&kv(n,e.fakeEventName))},A5=(e,n)=>{const o=()=>Ax(u8,e,n),r=()=>Ax(xx,e,n),c=Yf(e,n);switch(A0(e)){case"linebreak":c.fold(o,o,Oe);break;case"block":c.fold(r,r,Oe);break;case"invert":c.fold(r,o,Oe);break;default:c.fold(o,r,Oe);break}},m8=Ys(),xH=m8.os.isiOS()&&m8.browser.isSafari(),g8=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),f$(e.undoManager),e.undoManager.transact(()=>{A5(e,n)}))},TH=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Bt(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},EH=e=>{let n=F.none();const o=c=>{n=F.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),n.fold(Oe,m=>c.selection.moveToBookmark(m)),g8(c,u),n=F.none()};e.on("keydown",c=>{c.keyCode===hn.ENTER&&(xH&&TH(e.selection.getRng())?o(e):g8(e,c))}),e.on("keyup",c=>{c.keyCode===hn.ENTER&&n.each(()=>r(e,c))})},AH=(e,n,o)=>{const r=nn.os.isMacOS()||nn.os.isiOS();Fw([{keyCode:hn.END,action:To(jN,e,!0)},{keyCode:hn.HOME,action:To(jN,e,!1)},...r?[]:[{keyCode:hn.HOME,action:To(XS,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:hn.END,action:To(XS,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:hn.END,action:To(jA,e,!0)},{keyCode:hn.HOME,action:To(jA,e,!1)},{keyCode:hn.END,action:To(ZS,e,!0,n)},{keyCode:hn.HOME,action:To(ZS,e,!1,n)}],o).each(c=>{o.preventDefault()})},OH=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||AH(e,n,o)})},O5=e=>{e.on("input",n=>{n.isComposing||$z(e)})},p8=Ys(),Ox=(e,n,o)=>{Fw([{keyCode:hn.PAGE_UP,action:To(ZS,e,!1,n)},{keyCode:hn.PAGE_DOWN,action:To(ZS,e,!0,n)}],o)},h8=e=>e.stopImmediatePropagation(),b8=e=>e.keyCode===hn.PAGE_UP||e.keyCode===hn.PAGE_DOWN,y8=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",h8,!0):!o&&e.get()&&n.off("NodeChange",h8),e.set(o)},zH=(e,n)=>{if(p8.os.isMacOS())return;const o=Ma(!1);e.on("keydown",r=>{b8(r)&&y8(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||Ox(e,n,r),b8(r)&&o.get()&&(y8(o,e,!1),e.nodeChanged())})},v8=(e,n)=>{const o=n.container(),r=n.offset();return Bt(o)?(o.insertData(r,e),F.some(ct(o,r+e.length))):wg(n).map(c=>{const u=le.fromText(e);return n.isAtEnd()?io(c,u):Xn(c,u),ct(u.dom,e.length)})},z5=Xe(v8,fr),k8=Xe(v8," "),w8=(e,n)=>Nz(e,n)?z5(n):k8(n),_8=e=>n=>n.fold(o=>oi(e.dom,ct.before(o)),o=>ha(o),o=>Al(o),o=>Gi(e.dom,ct.after(o))),DH=(e,n)=>o=>Nz(e,o)?z5(n):k8(n),C8=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},D5=(e,n)=>e.isEditable(e.getParent(n,"summary")),RH=e=>{const n=ct.fromRangeStart(e.selection.getRng()),o=le.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=Xe(Bb,e),c=ct.fromRangeStart(e.selection.getRng());return $m(r,e.getBody(),c).bind(_8(o)).map(u=>()=>DH(o,n)(u).each(C8(e)))}else return F.none()},NH=e=>{const n=()=>{const o=le.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=ct.fromRangeStart(e.selection.getRng());w8(o,r).each(C8(e))};return q(nn.browser.isFirefox()&&e.selection.isEditable()&&D5(e.dom,e.selection.getRng().startContainer),n)},zx=(e,n)=>{XN([{keyCode:hn.SPACEBAR,action:To(RH,e)},{keyCode:hn.SPACEBAR,action:To(NH,e)}],n).each(o=>{n.preventDefault(),wv(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),kv(e,"insertText",{data:" "}))})},MH=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||zx(e,n)})},R5=e=>dE(e)?[{keyCode:hn.TAB,action:To(lM,e,!0)},{keyCode:hn.TAB,shiftKey:!0,action:To(lM,e,!1)}]:[],N5=(e,n)=>{Fw([...R5(e)],n).each(o=>{n.preventDefault()})},S8=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||N5(e,n)})},BH=e=>{if(e.addShortcut("Meta+P","","mcePrint"),Z9(e),Ig(e))return Ma(null);{const n=Mw(e);return DL(e),a9(e,n),XM(e,n),EH(e),MH(e),O5(e),S8(e),OH(e,n),zH(e,n),n}};class hZ{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!fC(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&T1(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&T1(n)&&(n.selection.getNode().nodeName==="IMG"?od.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!N0(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();r=o.getStart(!0)||c,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,c))&&(r=c);const u=[];this.editor.dom.getParent(r,m=>m===c?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:u})}}isSameElementPath(n){let o;const r=this.editor,c=An(r.dom.getParents(n,lt,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const Zg=$r("image"),PH=e=>{const n=e;return F.from(n[Zg])},FH=(e,n)=>{const o=e;o[Zg]=n},M5=$r("event"),Dx=e=>{const n=e;return F.from(n[M5])},qw=e=>n=>{const o=n;o[M5]=e},x8=(e,n)=>qw(n)(e),T8=qw(0),E8=qw(2),$H=qw(1),IH=(e=>n=>{const o=n;return F.from(o[M5]).exists(r=>r===e)})(0),A8=()=>Object.freeze({length:0,item:e=>null}),Gw=$r("mode"),LH=e=>{const n=e;return F.from(n[Gw])},Cv=e=>n=>{const o=n;o[Gw]=e},B5=(e,n)=>Cv(n)(e),Kw=Cv(0),Rx=Cv(2),O8=Cv(1),z8=e=>n=>{const o=n;return F.from(o[Gw]).exists(r=>r===e)},Sv=z8(0),Yw=z8(1),D8=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(Sv(e))if(j(o)){if(!bn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{Sv(e)&&n.remove(o)},clear:()=>{Sv(e)&&n.clear()}}),HH=["none","copy","link","move"],VH=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Nx=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){X(HH,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){IH(r)&&X(VH,c)&&(o=c)},get items(){return D8(r,e.items)},get files(){return Yw(r)?A8():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{Sv(r)&&(FH(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>Yw(r)?"":e.getData(c),setData:(c,u)=>{Sv(r)&&e.setData(c,u)},clearData:c=>{Sv(r)&&e.clearData(c)}};return Kw(r),r},UH=e=>{const n=Nx(),o=LH(e);return Rx(e),T8(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,PH(e).each(r=>n.setDragImage(r.image,r.x,r.y)),ae(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),ae(e.files,r=>n.items.add(r)),Dx(e).each(r=>{x8(n,r)}),o.each(r=>{B5(e,r),B5(n,r)}),n},jH=e=>{const n=e.getData("text/html");return n===""?F.none():F.some(n)},R8=(e,n)=>e.setData("text/html",n),N8="x-tinymce/html",Mx=st(N8),Bx="<!-- "+N8+" -->",WH=e=>Bx+e,M8=e=>e.replace(Bx,""),B8=e=>e.indexOf(Bx)!==-1,ZH=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),qH=(e,n)=>{let o="<"+e;const r=ia(n,(c,u)=>u+'="'+bm.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},GH=(e,n,o)=>{const r=e.split(/\n\n/),c=qH(n,o),u="</"+n+">",m=ve(r,k=>k.split(/\n/).join("<br />")),b=k=>c+k+u;return m.length===1?m[0]:ve(m,b).join("")},P8="%MCEPASTEBIN%",xv=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},P8);nn.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},KH=(e,n)=>{const o=e.dom;if(P5(e)){let r;const c=n.get();for(;r=P5(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},P5=e=>e.dom.get("mcepastebin"),F8=e=>Pe(e)&&e.id==="mcepastebin",YH=e=>{const n=e.dom,o=(m,b)=>{m.appendChild(b),n.remove(b,!0)},[r,...c]=qe(e.getBody().childNodes,F8);ae(c,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const b=n.create("div");r.insertBefore(b,u[m]),o(b,u[m])}return r?r.innerHTML:""},$8=e=>e===P8,XH=e=>{const n=Ma(null);return{create:()=>xv(e,n),remove:()=>KH(e,n),getEl:()=>P5(e),getHtml:()=>YH(e),getLastRng:n.get}},F5=(e,n)=>(Et.each(n,o=>{xt(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),JH=e=>{const n=Ku(),o=th({},n);let r="";const c=n.getVoidElements(),u=Et.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),b=k=>{const E=k.name,D=k;if(E==="br"){r+=`
`;return}if(E!=="wbr"){if(c[E]&&(r+=" "),u[E]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in n.getVoidElements())){let N=k.firstChild;if(N)do b(N);while(N=N.next)}m[E]&&D.next&&(r+=`
`,E==="p"&&(r+=`
`))}};return e=F5(e,[/<!\[[^\]]+\]>/g]),b(o.parse(e)),r},I8=e=>(e=F5(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":fr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),yZ=e=>{let n=0;return()=>e+n++},Px=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Et.hasOwn(o,n)?"image/"+o[n]:"image/"+n},QH=(e,n)=>{const o=th({sanitize:p1(e)},e.schema);o.addNodeFilter("meta",c=>{Et.each(c,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Zp({validate:!0},e.schema).serialize(r)},L8=(e,n)=>({content:e,cancelled:n}),eV=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=aC(e,r,o);return L8(c.node.innerHTML,c.isDefaultPrevented())},tV=(e,n,o)=>{const r=jE(e,n,o),c=QH(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?eV(e,c,o):L8(c,r.isDefaultPrevented())},nV=(e,n,o)=>tV(e,n,o),$5=(e,n)=>(e.insertContent(n,{merge:v2(e),paste:!0}),!0),I5=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),oV=(e,n)=>I5(n)&&be($0(e),o=>ds(n.toLowerCase(),`.${o.toLowerCase()}`)),sV=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),rV=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),aV=(e,n,o)=>!e.selection.isCollapsed()&&I5(n)?rV(e,n,o):!1,cV=(e,n,o)=>oV(e,n)?sV(e,n,o):!1,iV=(e,n)=>{Et.each([aV,cV,$5],o=>!o(e,n,$5))},Ar=(e,n,o)=>{o||!k2(e)?$5(e,n):iV(e,n)},lV=yZ("mceclip"),H8=e=>{const n=Nx();return R8(n,e),Rx(n),n},V8=(e,n,o,r,c)=>{const u=nV(e,n,o);if(!u.cancelled){const m=u.content,b=()=>Ar(e,m,r);c?wv(e,"insertFromPaste",{dataTransfer:H8(m)}).isDefaultPrevented()||(b(),kv(e,"insertFromPaste")):b()}},Tv=(e,n,o,r)=>{const c=o||B8(n);V8(e,M8(n),c,!1,r)},Fx=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),c=xy(r,cE(e)),u=GH(c,ni(e),Sp(e));V8(e,u,!1,!0,o)},L5=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},mh=(e,n)=>n in e&&e[n].length>0,H5=e=>mh(e,"text/html")||mh(e,"text/plain"),uV=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Pe(o)?e.dom.encode(o[1]):void 0},dV=(e,n,o,r)=>{const c=lV(),u=t2(e)&&Pe(o.name),m=u?uV(e,o.name):c,b=u?o.name:void 0,k=n.create(c,o,r,m,b);return n.add(k),k},U8=(e,n)=>{eh(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const u=c?o:btoa(o),m=n.file,b=e.editorUpload.blobCache,k=b.getByData(u,r),E=k??dV(e,b,m,u);Tv(e,`<img src="${E.blobUri()}">`,!1,!0)})},fV=e=>e.type==="paste",mV=e=>Promise.all(ve(e,n=>YD(n).then(o=>({file:n,uri:o})))),gV=e=>{const n=$0(e);return o=>no(o.type,"image/")&&be(n,r=>Px(r)===o.type)},Ev=(e,n)=>{const o=n.items?Dn(as(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?as(n.files):[];return qe(o.length>0?o:r,gV(e))},Av=(e,n,o)=>{const r=fV(n)?n.clipboardData:n.dataTransfer;if(m1(e)&&r){const c=Ev(e,r);if(c.length>0)return n.preventDefault(),mV(c).then(u=>{o&&e.selection.setRng(o),ae(u,m=>{U8(e,m)})}),!0}return!1},pV=e=>{var n,o;return nn.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},hV=e=>hn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,gh=(e,n,o,r,c)=>{let u=I8(o);const m=mh(n,Mx())||B8(o),b=!m&&ZH(u),k=I5(u);($8(u)||!u.length||b&&!k)&&(r=!0),(r||k)&&(mh(n,"text/plain")&&b?u=n["text/plain"]:u=JH(u)),!$8(u)&&(r?Fx(e,u,c):Tv(e,u,m,c))},bV=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{hV(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||pV(u))return;const m=o.get()==="text"||r;r=!1;const b=L5(u.clipboardData);!H5(b)&&Av(e,u,c())||(mh(b,"text/html")?(u.preventDefault(),gh(e,b,b["text/html"],m,!0)):mh(b,"text/plain")&&mh(b,"text/uri-list")?(u.preventDefault(),gh(e,b,b["text/plain"],m,!0)):(n.create(),od.setEditorTimeout(e,()=>{const k=n.getHtml();n.remove(),gh(e,b,k,m,!1)},0)))})},V5=e=>{const n=c=>no(c,"webkit-fake-url"),o=c=>no(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!m1(e)&&r(m))for(const b of c){const k=b.attr("src");j(k)&&!b.attr("data-mce-object")&&k!==nn.transparentSrc&&(n(k)||!iE(e)&&o(k))&&b.remove()}})},U5=(e,n,o)=>{bV(e,n,o),V5(e)},j8=(e,n)=>{n.get()==="text"?(n.set("html"),M1(e,!1)):(n.set("text"),M1(e,!0)),e.focus()},yV=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{j8(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&Tv(e,r.html,r.internal,!1),r.text&&Fx(e,r.text,!1)})},vV=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Mx(),n),!0}catch{return!1}else return!1},j5=(e,n,o,r)=>{vV(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},W5=e=>(n,o)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const b=c.getRng();m.focus();const k=r.createRng();k.selectNodeContents(m),c.setRng(k),od.setEditorTimeout(e,()=>{c.setRng(b),r.remove(u),o()},0)},W8=e=>({html:WH(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),kV=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),Z8=e=>!e.selection.isCollapsed()||kV(e),q8=e=>n=>{!n.isDefaultPrevented()&&Z8(e)&&j5(n,W8(e),W5(e),()=>{if(nn.browser.isChromium()||nn.browser.isFirefox()){const o=e.selection.getRng();od.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},wV=e=>n=>{!n.isDefaultPrevented()&&Z8(e)&&j5(n,W8(e),W5(e),Oe)},G8=e=>{e.on("cut",q8(e)),e.on("copy",wV(e))},K8=(e,n)=>{var o,r;return l.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},_V=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},Y8=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},CV=e=>be(e.files,n=>/^image\//.test(n.type)),SV=(e,n,o,r)=>{const c=e.getParent(o,m=>mm(n,m));if(!U(e.getParent(o,"summary")))return!0;if(c&&Kn(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!U(m.querySelector(c.nodeName.toLowerCase()))}else return!1},$x=e=>{e.on("input",n=>{const o=r=>U(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=qe(e.dom.select("details"),o);ae(r,c=>{Qr(c.firstChild)&&c.firstChild.remove();const u=e.dom.create("summary");u.appendChild(L().dom),c.prepend(u)})}})},xV=(e,n)=>{h2(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),m1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&CV(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=K8(e,o);if(Zt(r))return;const c=L5(o.dataTransfer),u=mh(c,Mx());if((!H5(c)||_V(c))&&Av(e,o,r))return;const m=c[Mx()],b=m||c["text/html"]||c["text/plain"],k=SV(e.dom,e.schema,r.startContainer,c),E=n.get();E&&!k||b&&(o.preventDefault(),od.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||E&&k)&&e.execCommand("Delete"),Y8(e,r);const D=I8(b);c["text/html"]?Tv(e,D,u,!0):Fx(e,D,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{m1(e)&&!n.get()&&(o.preventDefault(),Y8(e,K8(e,o))),o.type==="dragend"&&n.set(!1)}),$x(e)},X8=e=>{const n=c=>u=>{c(e,u)},o=oE(e);ie(o)&&e.on("PastePreProcess",n(o));const r=b2(e);ie(r)&&e.on("PastePostProcess",n(r))},TV=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},EV=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,J8=e=>Et.trim(e).replace(EV,x1).toLowerCase(),AV=(e,n,o)=>{const r=rE(e);if(o||r==="all"||!y2(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(b,k,E,D)=>{const N=u.parseStyle(u.decode(E)),I={};for(let oe=0;oe<c.length;oe++){const K=N[c[oe]];let ne=K,Te=u.getStyle(m,c[oe],!0);/color/.test(c[oe])&&(ne=J8(ne),Te=J8(Te)),Te!==ne&&(I[c[oe]]=K)}const ee=u.serializeStyle(I,"span");return ee?k+' style="'+ee+'"'+D:k+D})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,b,k)=>m+' style="'+b+'"'+k),n},OV=e=>{(nn.browser.isChromium()||nn.browser.isSafari())&&TV(e,AV)},zV=e=>{const n=Ma(!1),o=Ma(aE(e)?"text":"html"),r=XH(e);OV(e),yV(e,o),X8(e),e.on("PreInit",()=>{G8(e),xV(e,n),U5(e,r,o)})},Q8=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},DV=e=>{e.parser.addNodeFilter("details",n=>{const o=x2(e);ae(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=ob(e);ae(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},RV=e=>{Q8(e),DV(e)},NV=Qr,e7=Bt,MV=e=>As(e.dom),BV=e=>Qa(e.dom),t7=e=>n=>Ns(le.fromDom(e),n),n7=(e,n)=>Vc(le.fromDom(e),o=>BV(o)||Hi(o),t7(n)).getOr(le.fromDom(n)).dom,o7=(e,n)=>Vc(le.fromDom(e),MV,t7(n)),s7=(e,n,o)=>{const r=new vr(e,n),c=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:c();m&&!NV(m);m=c())ic(m)&&(u=m);return u},PV=(e,n)=>{const r=ct.fromRangeStart(e).getNode(),c=n7(r,n),u=s7(r,c,!1),m=s7(r,c,!0),b=document.createRange();return o7(u,c).fold(()=>{e7(u)?b.setStart(u,0):b.setStartBefore(u)},k=>b.setStartBefore(k.dom)),o7(m,c).fold(()=>{e7(m)?b.setEnd(m,m.data.length):b.setEndAfter(m)},k=>b.setEndAfter(k.dom)),b},FV=e=>{const n=PV(e.selection.getRng(),e.getBody());e.selection.setRng(LC(n))},$V=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),FV(e))})};var Ov;(function(e){e.Before="before",e.After="after"})(Ov||(Ov={}));const IV=(e,n)=>Math.abs(e.left-n),Ix=(e,n)=>Math.abs(e.right-n),r7=(e,n)=>e>=n.top&&e<=n.bottom,LV=(e,n)=>e.top<n.bottom&&e.bottom>n.top,a7=(e,n)=>{const o=NT(e,n)/Math.min(e.height,n.height);return LV(e,n)&&o>.5},c7=(e,n)=>{const o=qe(e,r=>r7(n,r));return RT(o).fold(()=>[[],e],r=>{const{pass:c,fail:u}=Fe(e,m=>a7(m,r));return[c,u]})},Z5=(e,n)=>({node:e.node,position:IV(e,n)<Ix(e,n)?Ov.Before:Ov.After}),HV=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),Lx=(e,n,o)=>{const r=D=>ic(D.node)?F.some(D):gn(D.node)?Lx(as(D.node.childNodes),n,o):F.none(),c=(D,N)=>{if(D.length>=2){const I=r(D[0]).getOr(D[0]),ee=r(D[1]).getOr(D[1]);if(Math.abs(N(I,n,o)-N(ee,n,o))<2){if(Bt(I.node))return F.some(I);if(Bt(ee.node))return F.some(ee)}}return F.none()},u=(D,N)=>{const I=Gn(D,(ee,oe)=>N(ee,n,o)-N(oe,n,o));return c(I,N).orThunk(()=>Rs(I,r))},[m,b]=c7(Ow(e),o),{pass:k,fail:E}=Fe(b,D=>D.top<o);return u(m,HV).orThunk(()=>u(E,h0)).orThunk(()=>u(k,h0))},VV=(e,n,o,r)=>{const c=(u,m)=>{const b=E=>gn(E)&&E.classList.contains("mce-drag-container"),k=qe(u.dom.childNodes,fo(b));return m.fold(()=>Lx(k,o,r),E=>{const D=qe(k,N=>N!==E.dom);return Lx(D,o,r)}).orThunk(()=>(Ns(u,e)?F.none():pd(u)).bind(D=>c(D,F.some(u))))};return c(n,F.none())},i7=(e,n,o)=>{const r=le.fromDom(e),c=yi(r),m=le.fromPoint(c,n,o).filter(b=>$a(r,b)).getOr(r);return VV(r,m,n,o)},l7=(e,n,o)=>i7(e,n,o).filter(r=>Op(r.node)).map(r=>Z5(r,n)),q5=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},UV=e=>e.inline?q5(e.getBody()):{left:0,top:0},jV=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},WV=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},Xw=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=q5(e.getContentAreaContainer()),r=WV(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},ZV=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),qV=(e,n)=>ZV(UV(e),jV(e),Xw(e,n)),G5=e=>({target:e,srcElement:e}),GV=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...G5(o)}),KV=(e,n,o)=>{const r=Zo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Oe,stopImmediatePropagation:Oe,stopPropagation:Oe,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...G5(n)}},YV=(e,n)=>{const o=UH(e);return n==="dragstart"?(T8(o),Kw(o)):n==="drop"?(E8(o),Rx(o)):($H(o),O8(o)),o},XV=(e,n,o,r)=>{const c=YV(o,e);return bn(r)?KV(e,n,c):GV(e,r,n,c)},Hx=32,Vx=100,zv=8,Jw=16,u7=As,JV=MT(u7,Qa),QV=(e,n,o)=>u7(o)&&o!==n&&e.isEditable(o.parentElement),vZ=(e,n,o)=>Zt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),eU=(e,n,o,r)=>{const c=e.dom,u=n.cloneNode(!0);c.setStyles(u,{width:o,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},K5=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},Dv=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},Qw=Dv("left",-Hx),d7=Dv("left",Hx),f7=Dv("top",-Hx),Y5=Dv("top",Hx),tU=(e,n,o,r,c,u,m,b,k,E,D,N)=>{let I=0,ee=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(I=n.pageX+o-c),n.pageY+r>u&&(ee=n.pageY+r-u),e.style.width=o-I+"px",e.style.height=r-ee+"px";const oe=k.clientHeight,K=k.clientWidth,ne=m+k.getBoundingClientRect().top,Te=b+k.getBoundingClientRect().left;D.on(ze=>{ze.intervalId.clear(),ze.dragging&&N&&(m+zv>=oe?ze.intervalId.set(Y5(E)):m-zv<=0?ze.intervalId.set(f7(E)):b+zv>=K?ze.intervalId.set(d7(E)):b-zv<=0?ze.intervalId.set(Qw(E)):ne+Jw>=window.innerHeight?ze.intervalId.set(Y5(window)):ne-Jw<=0?ze.intervalId.set(f7(window)):Te+Jw>=window.innerWidth?ze.intervalId.set(d7(window)):Te-Jw<=0&&ze.intervalId.set(Qw(window)))})},Ux=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},m7=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);Ux(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&G(le.fromDom(o))},nU=e=>e.button===0,oU=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),g7=(e,n)=>o=>{if(nU(o)){const r=Ie(n.dom.getParents(o.target),JV).getOr(null);if(Pe(r)&&QV(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:Nx(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:eU(n,r,r.offsetWidth,r.offsetHeight),intervalId:zT(Vx)})}}},sU=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),l7(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===Ov.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},jx=(e,n,o,r,c)=>{n==="dragstart"&&R8(r,e.dom.getOuterHTML(o));const u=XV(n,o,r,c);return e.dispatch(n,u)},rU=(e,n)=>{const o=Gh((c,u)=>sU(n,c,u),0);n.on("remove",o.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const b=jx(n,"dragstart",u.element,u.dataTransfer,c);if(Pe(b.dataTransfer)&&(u.dataTransfer=b.dataTransfer),b.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const b=c.currentTarget===n.getDoc().documentElement,k=oU(u,qV(n,c));K5(u.ghost,n.getBody()),tU(u.ghost,k,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,b),o.throttle(c.clientX,c.clientY)}})},aU=e=>{const n=e.getSel();if(Pe(n)){const r=n.getRangeAt(0).startContainer;return Bt(r)?r.parentNode:r}else return null},cU=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(vZ(n,aU(n.selection),r.element)){const u=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();jx(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{m7(n.dom,r.element),jH(r.dataTransfer).each(b=>n.insertContent(b)),n._selectionOverrides.hideFakeCaret()})}jx(n,"dragend",n.getBody(),r.dataTransfer,o)}}),J5(e)},X5=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>jx(n,"dragend",r.element,r.dataTransfer),c=>jx(n,"dragend",r.element,r.dataTransfer,c))}),J5(e)},iU=(e,n)=>o=>X5(e,n,F.some(o)),J5=e=>{e.on(n=>{n.intervalId.clear(),Ux(n.ghost)}),e.clear()},lU=e=>{const n=Yu(),o=qs.DOM,r=document,c=g7(n,e),u=rU(n,e),m=cU(n,e),b=iU(n,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",b),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",b)}),e.on("keydown",k=>{k.keyCode===hn.ESC&&X5(n,e,F.none())})},uU=e=>{const n=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(X(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&kw(e,"Dropped file type is not supported"))}},o=c=>{Ok(e,c.target)&&n(c)},r=()=>{const c=qs.DOM,u=e.dom,m=document,b=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];ae(k,E=>{c.bind(m,E,o),u.bind(b,E,n)}),e.on("remove",()=>{ae(k,E=>{c.unbind(m,E,o),u.unbind(b,E,n)})})};e.on("init",()=>{od.setEditorTimeout(e,r,0)})},dU=e=>{lU(e),Nf(e)&&uU(e)},fU=e=>{const n=Gh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=jd(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},mU=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Cl(o)){const r=Fb(e.getBody(),o),c=As(r)?r:o;e.selection.getNode()!==c&&xw(e,c).each(u=>e.selection.setRng(u))}})})},Rv=As,gU=(e,n)=>Fb(e.getBody(),n),pU=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=vE(e,r,o.isBlock,()=>zb(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let b;const k=rn=>Pe(rn)&&o.hasClass(rn,"mce-offscreen-selection"),E=rn=>rn!==r&&(Rv(rn)||Cl(rn))&&o.isChildOf(rn,r)&&o.isEditable(rn.parentNode),D=rn=>{rn&&n.setRng(rn)},N=(rn,et,tt,Nt=!0)=>e.dispatch("ShowCaret",{target:et,direction:rn,before:tt}).isDefaultPrevented()?null:(Nt&&n.scrollIntoView(et,rn===-1),c.show(tt,et)),I=rn=>{rn.hasAttribute("data-mce-caret")&&(yf(rn),n.scrollIntoView(rn))},ee=()=>{e.on("click",et=>{o.isEditable(et.target)||(et.preventDefault(),e.focus())}),e.on("blur NewBlock",Ve),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",et=>{const tt=et.target,Nt=gU(e,tt);Rv(Nt)?(et.preventDefault(),xw(e,Nt).each(Re)):E(tt)&&xw(e,tt).each(Re)},!0),e.on("mousedown",et=>{const tt=et.target;if(tt!==r&&tt.nodeName!=="HTML"&&!o.isChildOf(tt,r)||!yw(e,et.clientX,et.clientY))return;Ve(),Kt();const Nt=gU(e,tt);Rv(Nt)?(et.preventDefault(),xw(e,Nt).each(Re)):l7(r,et.clientX,et.clientY).each(jn=>{et.preventDefault();const ro=N(1,jn.node,jn.position===Ov.Before,!1);D(ro),gn(Nt)?Nt.focus():e.getBody().focus()})}),e.on("keypress",et=>{hn.modifierPressed(et)||Rv(n.getNode())&&et.preventDefault()}),e.on("GetSelectionRange",et=>{let tt=et.range;if(b){if(!b.parentNode){b=null;return}tt=tt.cloneRange(),tt.selectNode(b),et.range=tt}}),e.on("SetSelectionRange",et=>{et.range=ne(et.range);const tt=Re(et.range,et.forward);tt&&(et.range=tt)});const rn=et=>gn(et)&&et.id==="mcepastebin";e.on("AfterSetSelectionRange",et=>{const tt=et.range,Nt=tt.startContainer.parentElement;!K(tt)&&!rn(Nt)&&Kt(),k(Nt)||Ve()}),dU(e),fU(e),mU(e)},oe=rn=>Ps(rn)||hf(rn)||_d(rn),K=rn=>oe(rn.startContainer)||oe(rn.endContainer),ne=rn=>{const et=e.schema.getVoidElements(),tt=o.createRng(),Nt=rn.startContainer,jn=rn.startOffset,ro=rn.endContainer,Uo=rn.endOffset;return Kn(et,Nt.nodeName.toLowerCase())?jn===0?tt.setStartBefore(Nt):tt.setStartAfter(Nt):tt.setStart(Nt,jn),Kn(et,ro.nodeName.toLowerCase())?Uo===0?tt.setEndBefore(ro):tt.setEndAfter(ro):tt.setEnd(ro,Uo),tt},Te=(rn,et)=>{const tt=le.fromDom(e.getBody()),Nt=e.getDoc(),jn=Tc(tt,"#"+u).getOrThunk(()=>{const ls=le.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nt);return ir(ls,"id",u),Vs(tt,ls),ls}),ro=o.createRng();vu(jn),sr(jn,[le.fromText(fr,Nt),le.fromDom(et),le.fromText(fr,Nt)]),ro.setStart(jn.dom.firstChild,1),ro.setEnd(jn.dom.lastChild,0),R(jn,{top:o.getPos(rn,e.getBody()).y+"px"}),zg(jn);const Uo=n.getSel();return Uo&&(Uo.removeAllRanges(),Uo.addRange(ro)),ro},ze=rn=>{const et=rn.cloneNode(!0),tt=e.dispatch("ObjectSelected",{target:rn,targetClone:et});if(tt.isDefaultPrevented())return null;const Nt=Te(rn,tt.targetClone),jn=le.fromDom(rn);return ae(La(le.fromDom(e.getBody()),`*[${m}]`),ro=>{Ns(jn,ro)||Yr(ro,m)}),o.getAttrib(rn,m)||rn.setAttribute(m,"1"),b=rn,Kt(),Nt},Re=(rn,et)=>{if(!rn)return null;if(rn.collapsed){if(!K(rn)){const ro=et?1:-1,Uo=kg(ro,r,rn),ls=Uo.getNode(!et);if(Pe(ls)){if(Op(ls))return N(ro,ls,et?!Uo.isAtEnd():!1,!1);if(ks(ls)&&As(ls.nextSibling)){const Ss=o.createRng();return Ss.setStart(ls,0),Ss.setEnd(ls,0),Ss}}const tr=Uo.getNode(et);if(Pe(tr)){if(Op(tr))return N(ro,tr,et?!1:!Uo.isAtEnd(),!1);if(ks(tr)&&As(tr.previousSibling)){const Ss=o.createRng();return Ss.setStart(tr,1),Ss.setEnd(tr,1),Ss}}}return null}let tt=rn.startContainer,Nt=rn.startOffset;const jn=rn.endOffset;if(Bt(tt)&&Nt===0&&Rv(tt.parentNode)&&(tt=tt.parentNode,Nt=o.nodeIndex(tt),tt=tt.parentNode),!gn(tt))return null;if(jn===Nt+1&&tt===rn.endContainer){const ro=tt.childNodes[Nt];if(E(ro))return ze(ro)}return null},Ve=()=>{b&&b.removeAttribute(m),Tc(le.fromDom(e.getBody()),"#"+u).each(Es),b=null},St=()=>{c.destroy(),b=null},Kt=()=>{c.hide()};return Ig(e)||ee(),{showCaret:N,showBlockCaretContainer:I,hideFakeCaret:Kt,destroy:St}},p7=(e,n)=>{let o=n;for(let r=e.previousSibling;Bt(r);r=r.previousSibling)o+=r.data.length;return o},h7=(e,n,o,r,c)=>{if(Bt(o)&&(r<0||r>o.data.length))return[];const u=c&&Bt(o)?[p7(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===n?u.reverse():[]},e_=(e,n,o,r,c,u,m=!1)=>{const b=h7(e,n,o,r,m),k=h7(e,n,c,u,m);return{start:b,end:k}},b7=(e,n)=>{const o=n.slice(),r=o.pop();return Ro(r)?Q(o,(u,m)=>u.bind(b=>F.from(b.childNodes[m])),F.some(e)).bind(u=>Bt(u)&&(r<0||r>u.data.length)?F.none():F.some({node:u,offset:r})):F.none()},y7=(e,n)=>b7(e,n.start).bind(({node:o,offset:r})=>b7(e,n.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(c,u),m})),hU=(e,n,o,r=!1)=>e_(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),sy=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,Bt(n.firstChild)&&lm(n.firstChild.data)),sy(e,r,o)}},ry=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Bt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Bt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),sy(e,c,o),c!==u&&sy(e,u,o))},Wx=(e,n)=>F.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),Q5=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:q_(r).concat(e.blockPatterns),inlinePatterns:G_(r).concat(e.inlinePatterns)}},v7=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},bU=e=>/^\s[^\s]/.test(e),eO=(e,n,o)=>{i9(n,0,n).each(c=>{const u=c.container;nc(u,o.start.length,n).each(k=>{const E=e.createRng();E.setStart(u,0),E.setEnd(k.container,k.offset),ry(e,E,D=>D===n)});const m=le.fromDom(u),b=wi(m);bU(b)&&Wu(m,b.slice(1))})},yU=(e,n)=>{const o=e.dom,r=n.pattern,c=y7(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(m,b)=>{const k=b.get(m);return gt(k)&&mn(k).exists(E=>Kn(E,"block"))};return Wx(e,c).each(m=>{r.type==="block-format"?u(r.format,e.formatter)&&e.undoManager.transact(()=>{eO(e.dom,m,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{eO(e.dom,m,r),e.execCommand(r.cmd,!1,r.value)})}),!0},vU=e=>Gn(e,(n,o)=>o.start.length-n.start.length),kU=(e,n)=>{const o=vU(e),r=n.replace(fr," ");return Ie(o,c=>n.indexOf(c.start)===0||r.indexOf(c.start)===0)},tO=(e,n,o,r)=>{var c;const u=e.dom,m=ni(e);if(!u.is(n,m))return[];const b=(c=n.textContent)!==null&&c!==void 0?c:"";return kU(o.blockPatterns,b).map(k=>Et.trim(b).length===k.start.length?[]:[{pattern:k,range:e_(u,u.getRoot(),n,0,n,0,r)}]).getOr([])},wU=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();ae(n,r=>yU(e,r)),e.selection.moveToBookmark(o)},k7=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),Zx=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},w7=(e,n,o)=>{const r=y7(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),b=r.startOffset===0?c:c.splitText(r.startOffset),k=b.parentNode,E=m.parentNode;return{prefix:n,end:E.insertBefore(k7(e,n+"-end"),m),start:k.insertBefore(k7(e,n+"-start"),b)}},_7=(e,n,o)=>{sy(e,e.get(n.prefix+"-end"),o),sy(e,e.get(n.prefix+"-start"),o)},nO=e=>e.start.length===0,C7=e=>(n,o)=>{const c=n.data.substring(0,o),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},oO=(e,n,o,r)=>{const c=n.start;return e5(e,r.container,r.offset,C7(c),o).bind(m=>{var b,k;const E=(k=(b=o.textContent)===null||b===void 0?void 0:b.indexOf(c))!==null&&k!==void 0?k:-1;if(E!==-1&&m.offset>=E+c.length){const N=e.createRng();return N.setStart(m.container,m.offset-c.length),N.setEnd(m.container,m.offset),F.some(N)}else{const N=m.offset-c.length;return QA(m.container,N,o).map(I=>{const ee=e.createRng();return ee.setStart(I.container,I.offset),ee.setEnd(m.container,m.offset),ee}).filter(I=>I.toString()===c).orThunk(()=>oO(e,n,o,Kd(m.container,0)))}})},sO=(e,n,o,r,c,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),F.some(m)}return JA(o,r,c).bind(m=>oO(e,n,c,m).bind(k=>{var E;if(u){if(k.endContainer===m.container&&k.endOffset===m.offset)return F.none();if(m.offset===0&&((E=k.endContainer.textContent)===null||E===void 0?void 0:E.length)===k.endOffset)return F.none()}return F.some(k)}))},rO=(e,n,o,r)=>{const c=e.dom,u=c.getRoot(),m=o.pattern,b=o.position.container,k=o.position.offset;return QA(b,k-o.pattern.end.length,n).bind(E=>{const D=e_(c,u,E.container,E.offset,b,k,r);if(nO(m))return F.some({matches:[{pattern:m,startRng:D,endRng:D}],position:E});{const N=qx(e,o.remainingPatterns,E.container,E.offset,n,r),I=N.getOr({matches:[],position:E}),ee=I.position;return sO(c,m,ee.container,ee.offset,n,N.isNone()).map(K=>{const ne=hU(c,u,K,r);return{matches:I.matches.concat([{pattern:m,startRng:ne,endRng:D}]),position:Kd(K.startContainer,K.startOffset)}})}})},qx=(e,n,o,r,c,u)=>{const m=e.dom;return JA(o,r,m.getRoot()).bind(b=>{const k=v7(m,c,o,r);for(let E=0;E<n.length;E++){const D=n[E];if(!ds(k,D.end))continue;const N=n.slice();N.splice(E,1);const I=rO(e,c,{pattern:D,remainingPatterns:N,position:b},u);if(I.isNone()&&r>0)return qx(e,n,o,r-1,c,u);if(I.isSome())return I}return F.none()})},Gx=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?ae(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},_U=(e,n,o,r)=>{const c=Zx(e.dom,o);ry(e.dom,c,r),Gx(e,n,c)},CU=(e,n,o,r,c)=>{const u=e.dom,m=Zx(u,r),b=Zx(u,o);ry(u,b,c),ry(u,m,c);const k={prefix:o.prefix,start:o.end,end:r.start},E=Zx(u,k);Gx(e,n,E)},S7=(e,n)=>{const o=$r("mce_textpattern"),r=Ue(n,(c,u)=>{const m=w7(e,o+`_end${c.length}`,u.endRng);return c.concat([{...u,endMarker:m}])},[]);return Ue(r,(c,u)=>{const m=r.length-c.length-1,b=nO(u.pattern)?u.endMarker:w7(e,o+`_start${m}`,u.startRng);return c.concat([{...u,startMarker:b}])},[])},SU=e=>Gn(e,(n,o)=>o.end.length-n.end.length),xU=(e,n)=>{const o=Rn(e,r=>be(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},x7=(e,n,o,r,c,u)=>{const m=qx(e,c.inlinePatterns,o,r,n,u).fold(()=>[],k=>k.matches),b=qx(e,SU(c.inlinePatterns),o,r,n,u).fold(()=>[],k=>k.matches);return xU(m,b)},T7=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=S7(o,n);ae(c,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),b=k=>k===m;nO(u.pattern)?_U(e,u.pattern,u.endMarker,b):CU(e,u.pattern,u.startMarker,u.endMarker,b),_7(o,u.endMarker,b),_7(o,u.startMarker,b)}),e.selection.moveToBookmark(r)},TU=(e,n)=>{const o=e.selection.getRng();return Wx(e,o).map(r=>{var c;const u=Math.max(0,o.startOffset),m=Q5(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),b=x7(e,r,o.startContainer,u,m,!0),k=tO(e,r,m,!0);return k.length>0||b.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(vt),T7(e,b),wU(e,k);const E=e.selection.getRng(),D=JA(E.startContainer,E.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),D.each(N=>{const I=N.container;I.data.charAt(N.offset-1)===vt&&(I.deleteData(N.offset-1,1),sy(e.dom,I.parentNode,ee=>ee===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},EU=(e,n)=>{const o=e.selection.getRng();Wx(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),u=v7(e.dom,r,o.startContainer,c),m=Q5(n,r,u),b=x7(e,r,o.startContainer,c,m,!1);b.length>0&&e.undoManager.transact(()=>{T7(e,b)})})},E7=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},A7=(e,n)=>E7(e,n,(o,r)=>o===r.keyCode&&!hn.modifierPressed(r)),AU=(e,n)=>E7(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),aO=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>r1(w2(e),B0(e)),c=()=>h1(e);e.on("keydown",m=>{if(m.keyCode===13&&!hn.modifierPressed(m)&&e.selection.isCollapsed()){const b=r();(b.inlinePatterns.length>0||b.blockPatterns.length>0||c())&&TU(e,b)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=r();(m.inlinePatterns.length>0||c())&&EU(e,m)}};e.on("keyup",m=>{A7(o,m)&&u()}),e.on("keypress",m=>{AU(n,m)&&od.setEditorTimeout(e,u)})},OU=e=>{aO(e)},zU=e=>{const n=Et.each,o=hn.BACKSPACE,r=hn.DELETE,c=e.dom,u=e.selection,m=e.parser,b=nn.browser,k=b.isFirefox(),E=b.isChromium()||b.isSafari(),D=nn.deviceType.isiPhone()||nn.deviceType.isiPad(),N=nn.os.isMacOS()||nn.os.isiOS(),I=(Vn,Wn)=>{try{e.getDoc().execCommand(Vn,!1,String(Wn))}catch{}},ee=Vn=>Vn.isDefaultPrevented(),oe=()=>{const Vn=Co=>{const ms=c.create("body"),nr=Co.cloneContents();return ms.appendChild(nr),u.serializer.serialize(ms,{format:"html"})},Wn=Co=>{const ms=Vn(Co),nr=c.createRng();nr.selectNode(e.getBody());const Mn=Vn(nr);return ms===Mn},Vt=Co=>{const ms=le.fromDom(Co),nr=Mn=>pd(Mn).exists(ss=>!Fo(ss));return be(La(ms,'[contenteditable="true"]'),nr)};e.on("keydown",Co=>{const ms=Co.keyCode;if(!ee(Co)&&(ms===r||ms===o)&&e.selection.isEditable()){const nr=e.selection.isCollapsed(),Mn=e.getBody();if(nr&&(!c.isEmpty(Mn)||Vt(Mn))||!nr&&!Wn(e.selection.getRng()))return;Co.preventDefault(),e.setContent(""),Mn.firstChild&&c.isBlock(Mn.firstChild)?e.selection.setCursorLocation(Mn.firstChild,0):e.selection.setCursorLocation(Mn,0),e.nodeChanged()}})},K=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ne=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Vn=>{let Wn;if(Vn.target===e.getDoc().documentElement)if(Wn=u.getRng(),e.getBody().focus(),Vn.type==="mousedown"){if(Ps(Wn.startContainer))return;u.placeCaretAt(Vn.clientX,Vn.clientY)}else u.setRng(Wn)})},Te=()=>{e.on("keydown",Vn=>{if(!ee(Vn)&&Vn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const Wn=u.getNode(),Vt=Wn.previousSibling;if(Wn.nodeName==="HR"){c.remove(Wn),Vn.preventDefault();return}Vt&&Vt.nodeName&&Vt.nodeName.toLowerCase()==="hr"&&(c.remove(Vt),Vn.preventDefault())}}})},ze=()=>{Range.prototype.getClientRects||e.on("mousedown",Vn=>{if(!ee(Vn)&&Vn.target.nodeName==="HTML"){const Wn=e.getBody();Wn.blur(),od.setEditorTimeout(e,()=>{Wn.focus()})}})},Re=()=>{const Vn=tb(e);e.on("click",Wn=>{const Vt=Wn.target;/^(IMG|HR)$/.test(Vt.nodeName)&&c.isEditable(Vt.parentNode)&&(Wn.preventDefault(),e.selection.select(Vt),e.nodeChanged()),Vt.nodeName==="A"&&c.hasClass(Vt,Vn)&&Vt.childNodes.length===0&&c.isEditable(Vt.parentNode)&&(Wn.preventDefault(),u.select(Vt))})},Ve=()=>{const Vn=()=>{const Vt=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const Co=u.getStart();Co!==e.getBody()&&(c.setAttrib(Co,"style",null),n(Vt,ms=>{Co.setAttributeNode(ms.cloneNode(!0))}))}},Wn=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",Vt=>{let Co;return!ee(Vt)&&(Vt.keyCode===8||Vt.keyCode===46)&&Wn()?(Co=Vn(),e.getDoc().execCommand("delete",!1),Co(),Vt.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Vt=>{if(!ee(Vt)&&Wn()){const Co=Vn();od.setEditorTimeout(e,()=>{Co()})}})},St=()=>{e.on("keydown",Vn=>{if(!ee(Vn)&&Vn.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const Wn=u.getNode().previousSibling;if(Wn&&Wn.nodeName&&Wn.nodeName.toLowerCase()==="table")return Vn.preventDefault(),!1}return!0})},Kt=()=>{e.on("keydown",Vn=>{if(ee(Vn)||Vn.keyCode!==hn.BACKSPACE)return;let Wn=u.getRng();const Vt=Wn.startContainer,Co=Wn.startOffset,ms=c.getRoot();let nr=Vt;if(!(!Wn.collapsed||Co!==0)){for(;nr.parentNode&&nr.parentNode.firstChild===nr&&nr.parentNode!==ms;)nr=nr.parentNode;nr.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,nr),Wn=c.createRng(),Wn.setStart(Vt,0),Wn.setEnd(Vt,0),u.setRng(Wn))}})},rn=()=>{const Vn=()=>{I("StyleWithCSS",!1),I("enableInlineTableEditing",!1),R0(e)||I("enableObjectResizing",!1)};Rf(e)||e.on("BeforeExecCommand mousedown",Vn)},et=()=>{const Vn=()=>{n(c.select("a:not([data-mce-block])"),Wn=>{var Vt;let Co=Wn.parentNode;const ms=c.getRoot();if((Co==null?void 0:Co.lastChild)===Wn){for(;Co&&!c.isBlock(Co);){if(((Vt=Co.parentNode)===null||Vt===void 0?void 0:Vt.lastChild)!==Co||Co===ms)return;Co=Co.parentNode}c.add(Co,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Wn=>{(Wn.type==="setcontent"||Wn.command==="mceInsertLink")&&Vn()})},tt=()=>{e.on("init",()=>{I("DefaultParagraphSeparator",ni(e))})},Nt=Vn=>{const Wn=Vn.getBody(),Vt=Vn.selection.getRng();return Vt.startContainer===Vt.endContainer&&Vt.startContainer===Wn&&Vt.startOffset===0&&Vt.endOffset===Wn.childNodes.length},jn=()=>{e.on("keyup focusin mouseup",Vn=>{!hn.modifierPressed(Vn)&&!Nt(e)&&u.normalize()},!0)},ro=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Uo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ls=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Vn=>{let Wn;Vn.target.nodeName==="HTML"&&(Wn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Wn),e.selection.normalize(),e.nodeChanged())}))},tr=()=>{N&&e.on("keydown",Vn=>{hn.metaKeyPressed(Vn)&&!Vn.shiftKey&&(Vn.keyCode===37||Vn.keyCode===39)&&(Vn.preventDefault(),e.selection.getSel().modify("move",Vn.keyCode===37?"backward":"forward","lineboundary"))})},Ss=()=>{e.on("click",Vn=>{let Wn=Vn.target;do if(Wn.tagName==="A"){Vn.preventDefault();return}while(Wn=Wn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ca=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Vn=>{Vn.preventDefault()})})},fi=()=>{m.addNodeFilter("br",Vn=>{let Wn=Vn.length;for(;Wn--;)Vn[Wn].attr("class")==="Apple-interchange-newline"&&Vn[Wn].remove()})},hc=Oe,Lt=()=>{if(!k||e.removed)return!1;const Vn=e.selection.getSel();return!Vn||!Vn.rangeCount||Vn.rangeCount===0},Hn=()=>{E&&(ne(),Re(),ca(),K(),D&&(Uo(),ls(),Ss())),k&&(ze(),rn(),ro(),tr())},Bs=()=>{e.on("drop",Vn=>{var Wn;const Vt=(Wn=Vn.dataTransfer)===null||Wn===void 0?void 0:Wn.getData("text/html");j(Vt)&&/^<img[^>]*>$/.test(Vt)&&e.dispatch("dragend",new window.DragEvent("dragend",Vn))})},Os=()=>{Kt(),oe(),nn.windowsPhone||jn(),E&&(ne(),Re(),tt(),ca(),St(),fi(),D?(Uo(),ls(),Ss()):K()),k&&(Te(),ze(),Ve(),rn(),et(),ro(),tr(),St(),Bs())};return Ig(e)?Hn():Os(),{refreshContentEditable:hc,isHidden:Lt}},cO=qs.DOM,DU=(e,n)=>{const o=le.fromDom(e.getBody()),r=rp($i(o)),c=le.fromTag("style");ir(c,"type","text/css"),Vs(c,le.fromText(n)),Vs(r,c),e.on("remove",()=>{Es(c)})},RU=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,iO=e=>_s(e,n=>bn(n)===!1),t_=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return iO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:RU(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},O7=e=>{const n=e.options.get;return iO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},NU=e=>{const n=e.options.get;return{...t_(e),...O7(e),...iO({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},MU=e=>{const n=th(t_(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const b=o[m];let k=b.attr(r);if(k&&!b.attr(u)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=c.serializeStyle(c.parseStyle(k),b.name),k.length||(k=null),b.attr(u,k),b.attr(r,k)):r==="tabindex"?(b.attr(u,k),b.attr(r,null)):b.attr(u,e.convertURL(k,r,b.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),g1(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const u=o[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new Rl("br",1))}}),n},BU=e=>{const n=Ju(e);n&&od.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},PU=e=>{const n=e.dom.getRoot();!e.inline&&(!T1(e)||e.selection.getStart(!0)===n)&&ha(n).each(o=>{const r=o.getNode(),c=tl(r)?ha(r).getOr(o):o;e.selection.setRng(c.toRange())})},FU=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Hp(e),e.focus(!0),PU(e),e.nodeChanged({initial:!0});const n=f1(e);ie(n)&&n.call(e,e),BU(e)},z7=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,$U=(e,n,o)=>{const r=[z7(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},D7=e=>{const n=z7(e),o=Sm(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let k="";Et.each(e.contentStyles,E=>{k+=E+`\r
`}),e.dom.addStyle(k)}const m=Promise.all($U(e,r,o)).then(u).catch(u),b=c1(e);return b&&DU(e,b),m},R7=e=>{const n=e.getDoc(),o=e.getBody();LE(e),xm(e)||(n.body.spellcheck=!1,cO.setAttrib(o,"spellcheck","false")),e.quirks=zU(e),vk(e);const r=Tp(e);r!==void 0&&(o.dir=r);const c=M0(e);c&&e.on("BeforeSetContent",u=>{Et.each(c,m=>{u.content=u.content.replace(m,b=>"<!--mce:protected "+escape(b)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},IU=e=>{Ig(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Kx=e=>{e.removed!==!0&&(IU(e),FU(e))},LU=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},N7=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(cO.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=Rf(e),e._editableRoot=f2(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&cO.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=_I(e),e.schema=Ku(O7(e)),e.dom=qs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:ZT(e),referrerPolicy:xp(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=MU(e),e.serializer=cR(NU(e),e),e.selection=nR(e.dom,e.getWin(),e.serializer,e),e.annotator=Ff(e),e.formatter=_w(e),e.undoManager=Cw(e),e._nodeChangeDispatcher=new hZ(e),e._selectionOverrides=pU(e),FN(e),RV(e),IN(e),Ig(e)||($V(e),OU(e));const c=BH(e);SL(e,c),VA(e),TR(e),zV(e);const u=S$(e);R7(e),u.fold(()=>{const m=LU(e);D7(e).then(()=>{Kx(e),m()})},m=>{e.setProgressState(!0),D7(e).then(()=>{m().then(b=>{e.setProgressState(!1),Kx(e),Q6(e)},b=>{e.notificationManager.open({type:"error",text:String(b)}),Kx(e),Q6(e)})})})},M7=lt,n_=(e,n,o)=>Eh(e,n,M7,o),lO=qs.DOM,B7=(e,n,o,r)=>{const c=le.fromTag("iframe");return r.each(u=>ir(c,"tabindex",u)),bi(c,o),bi(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Lu(c,"tox-edit-area__iframe"),c},HU=e=>{let n=a1(e)+"<html><head>";Cp(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Xu(e),r=Kl(e),c=e.translate(g2(e));return hg(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+hg(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},VU=(e,n)=>{const o=e.translate("Rich Text Area"),r=hl(le.fromDom(e.getElement()),"tabindex").bind(ka),c=B7(e.id,o,Gl(e),r).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=c,e.iframeHTML=HU(e),lO.add(n.iframeContainer,c)},UU=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,N7(e)};if(nb(e)||nn.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=n_(le.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},jU=(e,n)=>{VU(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=lO.isHidden(n.editorContainer)),e.getElement().style.display="none",lO.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,UU(e)},uO=qs.DOM,WU=(e,n,o)=>{const r=rh.get(o),c=rh.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Et.trim(o),r&&Et.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,c)||{};e.plugins[o]=u,ie(u.init)&&(u.init(e,c),n.push(o))}catch(u){fI(e,o,u)}}},P7=e=>e.replace(/^\-/,""),ZU=e=>{const n=[];ae(l1(e),o=>{WU(e,n,P7(o))})},qU=e=>{const n=Et.trim(n2(e)),o=e.ui.registry.getAll().icons,r={...kS.get("default").icons,...kS.get(n).icons};Tt(r,(c,u)=>{Kn(o,u)||e.ui.registry.addIcon(u,c)})},GU=e=>{const n=Dd(e);if(j(n)){const o=ah.get(n);e.theme=o(e,ah.urls[n])||{},ie(e.theme.init)&&e.theme.init(e,ah.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},KU=e=>{const n=i1(e),o=sv.get(n);e.model=o(e,sv.urls[n])},YU=e=>{const n=e.theme.renderUI;return n?n():$7(e)},XU=e=>{const n=e.getElement(),r=Dd(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},F7=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),JU=e=>{const n=uO.create("div");return uO.insertAfter(n,e),F7(n,n)},$7=e=>{const n=e.getElement();return e.inline?F7(null):JU(n)},I7=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,j(Dd(e))?YU(e):ie(Dd(e))?XU(e):$7(e)},dO=(e,n)=>{const o={show:F.from(n.show).getOr(Oe),hide:F.from(n.hide).getOr(Oe),isEnabled:F.from(n.isEnabled).getOr(lt),setEnabled:r=>{e.mode.isReadOnly()||F.from(n.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...o}},L7=async e=>{e.dispatch("ScriptsLoaded"),qU(e),GU(e),KU(e),ZU(e);const n=await I7(e);dO(e,F.from(n.api).getOr({})),e.editorContainer=n.editorContainer,gI(e),e.inline?N7(e):jU(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},ph=qs.DOM,H7=e=>e.charAt(0)==="-",QU=(e,n)=>{const o=s2(n),r=qT(n);if(!jl.hasCode(o)&&o!=="en"){const c=yo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{uI(n,c,o)})}},ej=(e,n)=>{const o=Dd(e);if(j(o)&&!H7(o)&&!Kn(ah.urls,o)){const r=KT(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;ah.load(o,c).catch(()=>{IW(e,c,o)})}},V7=(e,n)=>{const o=i1(e);if(o!=="plugin"&&!Kn(sv.urls,o)){const r=i2(e),c=j(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;sv.load(o,c).catch(()=>{dI(e,c,o)})}},U7=e=>F.from(UT(e)).filter(yo).map(n=>({url:n,name:F.none()})),j7=(e,n,o)=>F.from(n).filter(r=>yo(r)&&!kS.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:F.some(r)})),tj=(e,n,o)=>{const r=j7(n,"default",o),c=U7(n).orThunk(()=>j7(n,n2(n),""));ae(zr([r,c]),u=>{e.add(u.url).catch(()=>{$W(n,u.url,u.name.getOrUndefined())})})},fO=(e,n)=>{const o=(r,c)=>{rh.load(r,c).catch(()=>{aA(e,c,r)})};Tt(nE(e),(r,c)=>{o(c,r),e.options.set("plugins",l1(e).concat(c))}),ae(l1(e),r=>{r=Et.trim(r),r&&!rh.urls[r]&&!H7(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},Yx=e=>{const n=Dd(e);return!j(n)||Pe(ah.get(n))},Xx=e=>{const n=i1(e);return Pe(sv.get(n))},qg=(e,n)=>{const o=Ad.ScriptLoader,r=()=>{!e.removed&&Yx(e)&&Xx(e)&&L7(e)};ej(e,n),V7(e,n),QU(o,e),tj(o,e,n),fO(e,n),o.loadQueue().then(r,r)},Jx=(e,n)=>Gv.forElement(e,{contentCssCors:m2(n),referrerPolicy:xp(n)}),Nv=e=>{const n=e.id;jl.setCode(s2(e));const o=()=>{ph.unbind(window,"ready",o),e.render()};if(!Ed.Event.domLoaded){ph.bind(window,"ready",o);return}if(!e.getElement())return;const r=le.fromDom(e.getElement()),c=gd(r);e.on("remove",()=>{Me(r.dom.attributes,m=>Yr(r,m.name)),bi(r,c)}),e.ui.styleSheetLoader=Jx(r,e),u2(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||ph.getParent(n,"form");u&&(e.formElement=u,bg(e)&&!lp(e.getElement())&&(ph.insertAfter(ph.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},ph.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),QT(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=gR(e),e.notificationManager=wS(e),S2(e)&&e.on("GetContent",m=>{m.save&&(m.content=ph.encode(m.content))}),eE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),tE(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),qg(e,e.suffix)},W7=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),WE(e,n))},nj=e=>e._editableRoot,oj=(e,n)=>({sections:st(e),options:st(n)}),mO=Ys().deviceType,Z7=mO.isPhone(),gO=mO.isTablet(),hh=e=>{if(Zt(e))return[];{const n=gt(e)?e:e.split(/[ ,]/),o=ve(n,va);return qe(o,yo)}},bh=(e,n)=>{const o=Xr(n,(r,c)=>X(e,c));return oj(o.t,o.f)},ay=(e,n,o={})=>{const r=e.sections(),c=Cs(r,n).getOr({});return Et.extend({},o,c)},Qx=(e,n)=>Kn(e.sections(),n),sj=(e,n)=>Qx(e,n)?e.sections()[n]:{},rj=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Cs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),aj=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Et.extend({},e.external_plugins,r):r},cj=(e,n)=>[...hh(e),...hh(n)],ij=(e,n,o,r)=>e&&Qx(n,"mobile")?r:o,lj=(e,n,o,r)=>{const c=hh(o.forced_plugins),u=hh(r.plugins),m=sj(n,"mobile"),b=m.plugins?hh(m.plugins):u,k=ij(e,n,u,b),E=cj(c,k);return Et.extend(r,{forced_plugins:c,plugins:E})},q7=(e,n)=>e&&Qx(n,"mobile"),uj=(e,n,o,r,c)=>{var u;const m=e?{mobile:rj((u=c.mobile)!==null&&u!==void 0?u:{},n)}:{},b=bh(["mobile"],Hw(m,c)),k=Et.extend(o,r,b.options(),q7(e,b)?ay(b,"mobile"):{},{external_plugins:aj(r,b.options())});return lj(e,b,r,k)},dj=(e,n)=>uj(Z7||gO,Z7,n,e,n),fj=(e,n)=>R$(e,n),kZ=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{ae("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},mj=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return be(c,u=>Pe(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},pO=e=>{kZ(e),mj(e)},gj=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(nn.os.isMacOS()||nn.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},pj=(e,n,o)=>{const r=le.fromDom(e.getRoot());return Nk(r,ct.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),G1(r,ct.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},G7=e=>{if(typeof e!="string"){const n=Et.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},hj=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?pj(r,o.getRng(),n):n},o_=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=G7(n);R4(e,{...r,content:hj(e,o),format:"html",set:!1,selection:!0}).each(c=>{const u=J6(e,c.content,r);dw(e,u,c),e.addVisual()})}},bj=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{o_(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{o_(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{o_(e,r)},mceInsertContent:(n,o,r)=>{o_(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(sE(e))}})},hO={"font-size":"size","font-family":"face"},yj=Ji("font"),vj=(e,n,o)=>{const r=u=>me(u,e).orThunk(()=>yj(u)?Cs(hO,e).bind(m=>hl(u,m)):F.none()),c=u=>Ns(le.fromDom(n),u);return Zk(le.fromDom(o),u=>r(u),c)},kj=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),wj=(e,n)=>F.from(qs.DOM.getStyle(n,e,!0)),bO=e=>(n,o)=>F.from(o).map(le.fromDom).filter(rc).bind(r=>vj(e,n,r.dom).or(wj(e,r.dom))).getOr(""),yO=bO("font-size"),K7=T(kj,bO("font-family")),vO=e=>ha(e.getBody()).bind(n=>{const o=n.container();return F.from(Bt(o)?o.parentNode:o)}),_j=e=>F.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?F.none():F.from(e.selection.getStart(!0))}),wZ=(e,n)=>_j(e).orThunk(Xe(vO,e)).map(le.fromDom).filter(rc).bind(n),Y7=(e,n)=>wZ(e,un(F.some,n)),X7=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=F0(e),c=C2(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},J7=e=>{const n=e.split(/\s*,\s*/);return ve(n,o=>o.indexOf(" ")!==-1&&!(no(o,'"')||no(o,"'"))?`'${o}'`:o).join(",")},Cj=(e,n)=>{const o=X7(e,n);e.formatter.toggle("fontname",{value:J7(o)}),e.nodeChanged()},Sj=e=>Y7(e,n=>K7(e.getBody(),n.dom)).getOr(""),xj=(e,n)=>{e.formatter.toggle("fontsize",{value:X7(e,n)}),e.nodeChanged()},_Z=e=>Y7(e,n=>yO(e.getBody(),n.dom)).getOr(""),CZ=e=>Y7(e,n=>{const o=le.fromDom(e.getBody()),r=Zk(n,u=>me(u,"line-height"),Xe(Ns,o)),c=()=>{const u=parseFloat(H(n,"line-height")),m=parseFloat(H(n,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),Q7=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},eB=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{Cj(e,c)},FontSize:(o,r,c)=>{xj(e,c)},LineHeight:(o,r,c)=>{Q7(e,c)},Lang:(o,r,c)=>{var u;n(o,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(j(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},Tj=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Sj(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>_Z(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>CZ(e))},Ej=e=>{eB(e),Tj(e)},Aj=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},SZ=e=>{e.editorCommands.addCommands({Indent:()=>{CL(e)},Outdent:()=>{au(e)}}),e.editorCommands.addCommands({Outdent:()=>zN(e)},"state")},xZ=e=>{const n=(o,r,c)=>{const u=j(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");dt(u)&&j(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},TZ=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const c=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(c)}}}})},Oj=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},EZ=e=>{TZ(e),Oj(e)},zj=(e,n,o,r)=>{const c=e.dom,u=b=>c.isBlock(b)&&b.parentElement===o,m=u(n)?n:c.getParent(r,u,o);return F.from(m).map(le.fromDom)},yh=(e,n)=>{const o=e.dom,r=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,m=_x(o,u);if(!m||!m.isContentEditable)return;const b=n?Xn:io,k=ni(e);zj(e,c,m,u).each(E=>{const D=aH(e,u,E.dom,m,!1,k);b(E,le.fromDom(D)),e.selection.setCursorLocation(D,0),e.dispatch("NewBlock",{newBlock:D}),kv(e,"insertParagraph")})},kO=e=>yh(e,!0),eT=e=>yh(e,!1),tB=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{kO(e)},InsertNewBlockAfter:()=>{eT(e)}})},nB=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Ax(xx,e)},mceInsertNewLine:(n,o,r)=>{A5(e,r)},InsertLineBreak:(n,o,r)=>{Ax(u8,e)}})},oB=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>gn(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Qa);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},Dj=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{qB(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Rj=e=>{pO(e),gj(e),Aj(e),oB(e),bj(e),xZ(e),SZ(e),tB(e),nB(e),EZ(e),Ej(e),Dj(e)},Nj=["toggleview"],sB=e=>X(Nj,e.toLowerCase());class Gg{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const u=this.editor,m=n.toLowerCase(),b=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!b?u.focus():WO(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const E=this.commands.exec[m];return ie(E)?(E(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!sB(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ie(r)?r(o):!1}queryCommandValue(n){if(!sB(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ie(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Tt(n,(c,u)=>{ae(u.toLowerCase().split(","),m=>{r[o][m]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(u,m,b)=>o.call(r??this.editor,m,b)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const cy="data-mce-contenteditable",rB=(e,n,o)=>{Hl(e,n)&&!o?Ll(e,n):o&&Lu(e,n)},wO=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},iy=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Mj=e=>{ae(La(e,'*[contenteditable="true"]'),n=>{ir(n,cy,"true"),iy(n,!1)})},Bj=e=>{ae(La(e,`*[${cy}="true"]`),n=>{Yr(n,cy),iy(n,!0)})},Pj=e=>{F.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},aB=e=>{e.selection.setRng(e.selection.getRng())},Fj=(e,n)=>{const o=le.fromDom(e.getBody());rB(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Pj(e),e.readonly=!0,iy(o,!1),Mj(o)):(e.readonly=!1,e.hasEditableRoot()&&iy(o,!0),Bj(o),wO(e,"StyleWithCSS",!1),wO(e,"enableInlineTableEditing",!1),wO(e,"enableObjectResizing",!1),kC(e)&&e.focus(),aB(e),e.nodeChanged())},ly=e=>e.readonly,cB=e=>{e.parser.addAttributeFilter("contenteditable",n=>{ly(e)&&ae(n,o=>{o.attr(cy,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(cy,n=>{ly(e)&&ae(n,o=>{o.attr("contenteditable",o.attr(cy))})}),e.serializer.addTempAttr(cy)},_O=e=>{e.serializer?cB(e):e.on("PreInit",()=>{cB(e)})},$j=e=>e.type==="click",Ij=["copy"],pc=e=>X(Ij,e.type),Lj=(e,n)=>vl(n,"a",r=>Ns(r,le.fromDom(e.getBody()))).bind(r=>hl(r,"href")),Hj=(e,n)=>{if($j(n)&&!hn.metaKeyPressed(n)){const o=le.fromDom(n.target);Lj(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${wn(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else pc(n)&&e.dispatch(n.type,n)},CO=e=>{e.on("ShowCaret",n=>{ly(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{ly(e)&&n.preventDefault()})},iB=Et.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class s_{static isNative(n){return!!iB[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||De}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=Iy(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,b=u.length;m<b;m++){const k=u[m];if(!k.removed){if(k.once&&this.off(r,k.func),c.isImmediatePropagationStopped())return c;if(k.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=De),o){const u={func:o,removed:!1};c&&Et.extend(u,c);const m=n.toLowerCase().split(" ");let b=m.length;for(;b--;){const k=m[b];let E=this.bindings[k];E||(E=[],this.toggleEvent(k,!0)),r?E=[u,...E]:E=[...E,u],this.bindings[k]=E}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return Tt(this.bindings,(b,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(m){if(!o)m.length=0;else{const b=Fe(m,k=>k.func===o);m=b.fail,this.bindings[u]=m,ae(b.pass,k=>{k.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else Tt(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const r_=e=>(e._eventDispatcher||(e._eventDispatcher=new s_({scope:e,toggleEvent:(n,o)=>{s_.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),SO={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Iy(e.toLowerCase(),n??{},r);const c=r_(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,n,o){return r_(this).on(e,n,o)},off(e,n){return r_(this).off(e,n)},once(e,n){return r_(this).once(e,n)},hasEventListeners(e){return r_(this).has(e)}},tT=qs.DOM;let uy;const nT=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=ec(e);return o?(e.eventRoot||(e.eventRoot=tT.select(o)[0]),e.eventRoot):e.getBody()},Vj=e=>!e.hidden&&!ly(e),lB=(e,n,o)=>{Vj(e)?e.dispatch(n,o):ly(e)&&Hj(e,o)},uB=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=nT(e,n);if(ec(e)){if(uy||(uy={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||uy&&(Tt(uy,(c,u)=>{e.dom.unbind(nT(e,u))}),uy=null)})),uy[n])return;const r=c=>{const u=c.target,m=e.editorManager.get();let b=m.length;for(;b--;){const k=m[b].getBody();(k===u||tT.isChildOf(u,k))&&lB(m[b],n,c)}};uy[n]=r,tT.bind(o,n,r)}else{const r=c=>{lB(e,n,c)};tT.bind(o,n,r),e.delegates[n]=r}},dy={...SO,bindPendingEventDelegates(){const e=this;Et.each(e._pendingNativeEvents,n=>{uB(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?uB(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(nT(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(Tt(e.delegates,(r,c)=>{e.dom.unbind(nT(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Xf=e=>j(e)?{value:e.split(/[ ,]/),valid:!0}:Ce(e,j)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Uj=e=>{const n=(()=>{switch(e){case"array":return gt;case"boolean":return at;case"function":return ie;case"number":return Ro;case"object":return dt;case"string":return j;case"string[]":return Xf;case"object[]":return o=>Ce(o,dt);case"regexp":return o=>xt(o,RegExp);default:return lt}})();return o=>xO(o,n,`The value must be a ${e}.`)},jj=e=>j(e.processor),dB=(e,n)=>{const o=os(n.message)?"":`. ${n.message}`;return e+o},fB=e=>e.valid,xO=(e,n,o="")=>{const r=n(e);return at(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},Wj=(e,n,o)=>{if(!bn(n)){const r=xO(n,o);if(fB(r))return r.value;console.error(dB(`Invalid default value passed for the "${e}" option`,r))}},Zj=(e,n)=>{const o={},r={},c=(N,I,ee)=>{const oe=xO(I,ee);return fB(oe)?(r[N]=oe.value,!0):(console.warn(dB(`Invalid value passed for the ${N} option`,oe)),!1)},u=(N,I)=>{const ee=jj(I)?Uj(I.processor):I.processor,oe=Wj(N,I.default,ee);o[N]={...I,default:oe,processor:ee},Cs(r,N).orThunk(()=>Cs(n,N)).each(ne=>c(N,ne,ee))},m=N=>Kn(o,N);return{register:u,isRegistered:m,get:N=>Cs(r,N).orThunk(()=>Cs(o,N).map(I=>I.default)).getOrUndefined(),set:(N,I)=>{if(m(N)){const ee=o[N];return ee.immutable?(console.error(`"${N}" is an immutable option and cannot be updated`),!1):c(N,I,ee.processor)}else return console.warn(`"${N}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:N=>{const I=m(N);return I&&delete r[N],I},isSet:N=>Kn(r,N)}},qj=["design","readonly"],mB=(e,n,o,r)=>{const c=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&Fj(e,u.editorReadOnly),n.set(r),$E(e,r)},AZ=(e,n,o,r)=>{if(r!==o.get()){if(!Kn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?mB(e,o,n,r):e.on("init",()=>mB(e,o,n,r))}},Gj=(e,n,o)=>{if(X(qj,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},Kj=e=>{const n=Ma("design"),o=Ma({design:{activate:Oe,deactivate:Oe,editorReadOnly:!1},readonly:{activate:Oe,deactivate:Oe,editorReadOnly:!0}});return _O(e),CO(e),{isReadOnly:()=>ly(e),set:r=>AZ(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(Gj(o.get(),r,c))}}},TO=Et.each,EO=Et.explode,Yj={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},gB=Et.makeMap("alt,ctrl,shift,meta,access"),OZ=e=>e in gB,Xj=e=>{const n={},o=nn.os.isMacOS()||nn.os.isiOS();TO(EO(e.toLowerCase(),"+"),u=>{OZ(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=Yj[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in gB)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class pB{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(TO(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const u=this,m=u.normalizeCommandFunc(r);return TO(EO(Et.trim(n)),b=>{const k=u.createShortcut(b,o,m,c);u.shortcuts[k.id]=k}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:Et.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const u=Et.map(EO(n,">"),Xj);return u[u.length-1]=Et.extend(u[u.length-1],{func:r,scope:c||this.editor}),Et.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Jj=()=>{const e={},n={},o={},r={},c={},u={},m={},b={},k=(D,N)=>(I,ee)=>{D[I.toLowerCase()]={...ee,type:N}},E=(D,N)=>r[D.toLowerCase()]=N;return{addButton:k(e,"button"),addGroupToolbarButton:k(e,"grouptoolbarbutton"),addToggleButton:k(e,"togglebutton"),addMenuButton:k(e,"menubutton"),addSplitButton:k(e,"splitbutton"),addMenuItem:k(n,"menuitem"),addNestedMenuItem:k(n,"nestedmenuitem"),addToggleMenuItem:k(n,"togglemenuitem"),addAutocompleter:k(o,"autocompleter"),addContextMenu:k(c,"contextmenu"),addContextToolbar:k(u,"contexttoolbar"),addContextForm:k(u,"contextform"),addSidebar:k(m,"sidebar"),addView:k(b,"views"),addIcon:E,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:u,sidebars:m,views:b})}},Qj=()=>{const e=Jj();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},fy=qs.DOM,hB=Et.extend,eW=Et.each;class oT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,hB(this,dy);const c=this;this.id=n,this.hidden=!1;const u=dj(r.defaultOptions,o);this.options=Zj(c,u),J_(c);const m=this.options.get;m("deprecation_warnings")&&FW(o,u);const b=m("suffix");b&&(r.suffix=b),this.suffix=r.suffix;const k=m("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const E=xp(c);E&&(Ad.ScriptLoader._setReferrerPolicy(E),qs.DOM.styleSheetLoader._setReferrerPolicy(E));const D=m2(c);Pe(D)&&qs.DOM.styleSheetLoader._setContentCssCors(D),pa.languageLoad=m("language_load"),pa.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new ad(Cp(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=u2(c),this.hasVisual=u1(c),this.shortcuts=new pB(this),this.editorCommands=new Gg(this),Rj(this);const N=m("cache_suffix");N&&(nn.cacheSuffix=N.replace(/^[\?\&]+/,"")),this.ui={registry:Qj(),styleSheetLoader:void 0,show:Oe,hide:Oe,setEnabled:Oe,isEnabled:lt},this.mode=Kj(c),r.dispatch("SetupEditor",{editor:this});const I=Rd(c);ie(I)&&I.call(c,c)}render(){Nv(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return zb(this)}translate(n){return jl.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||(Pe(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:lt,default:o})),!c.isSet(n)&&!bn(o)?o:c.get(n)}hasPlugin(n,o){return X(l1(this),n)?o?rh.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(fy.show(n.getContainer()),fy.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(fy.hide(n.getContainer()),fy.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const c={...n,load:!0},u=lp(r)?r.value:r.innerHTML,m=o.setContent(u,c);return c.no_events||o.dispatch("LoadContent",{...c,element:r}),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...n,save:!0,element:r};let u=o.getContent(c);const m={...c,content:u};if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,lp(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const b=fy.getParent(o.id,"form");b&&eW(b.elements,k=>k.name===o.id?(k.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return yS(this,n,o)}getContent(n){return q$(this,n)}insertContent(n,o){o&&(n=hB({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?yS(this,this.startContent,{format:"raw"}):yS(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||fy.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=fy.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,u=c.options.get,m=p2(c);return ie(m)?m.call(c,n,r,!0,o):!u("convert_urls")||r==="link"||dt(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:u("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){fj(this,n)}setEditableRoot(n){W7(this,n)}hasEditableRoot(){return nj(this)}remove(){aI(this)}destroy(n){er(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Mv=qs.DOM,sT=Et.each;let bB=!1,rT,Ml=[];const aT=e=>{const n=e.type;sT(vh.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},yB=e=>{if(e!==bB){const n=qs.DOM;e?(n.bind(window,"resize",aT),n.bind(window,"scroll",aT)):(n.unbind(window,"resize",aT),n.unbind(window,"scroll",aT)),bB=e}},vB=e=>{const n=Ml;return Ml=qe(Ml,o=>e!==o),vh.activeEditor===e&&(vh.activeEditor=Ml.length>0?Ml[0]:null),vh.focusedEditor===e&&(vh.focusedEditor=null),n.length!==Ml.length},kB=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(vB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},tW=document.compatMode!=="CSS1Compat",vh={...SO,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.2",releaseDate:"2023-10-25",i18n:jl,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=ad.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const b=u[m].src||"";if(b==="")continue;const k=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){k.indexOf(".min")!==-1&&(o=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new ad(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new ad(e.baseURL),e.suffix=o,IB(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Tt(r,(c,u)=>{pa.PluginManager.urls[u]=c})},init(e){const n=this;let o;const r=Et.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(D,N)=>D.inline&&N.tagName.toLowerCase()in r,u=D=>{let N=D.id;return N||(N=Cs(D,"name").filter(I=>!Mv.get(I)).getOrThunk(Mv.uniqueId),D.setAttribute("id",N)),N},m=D=>{const N=e[D];if(N)return N.apply(n,[])},b=D=>nn.browser.isIE()||nn.browser.isEdge()?(id("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):tW?(id("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):j(D.selector)?Mv.select(D.selector):Pe(D.target)?[D.target]:[];let k=D=>{o=D};const E=()=>{let D=0;const N=[];let I;const ee=(oe,K,ne)=>{const Te=new oT(oe,K,n);N.push(Te),Te.on("init",()=>{++D===I.length&&k(N)}),Te.targetElm=Te.targetElm||ne,Te.render()};Mv.unbind(window,"ready",E),m("onpageload"),I=Ts(b(e)),Et.each(I,oe=>{kB(n.get(oe.id))}),I=Et.grep(I,oe=>!n.get(oe.id)),I.length===0?k([]):sT(I,oe=>{c(e,oe)?id("Could not initialize inline editor on invalid inline target element",oe):ee(u(oe),e,oe)})};return Mv.bind(window,"ready",E),new Promise(D=>{o?D(o):k=N=>{D(N)}})},get(e){return arguments.length===0?Ml.slice(0):j(e)?Ie(Ml,n=>n.id===e).getOr(null):Ro(e)&&Ml[e]?Ml[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Ml.push(e),yB(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),rT||(rT=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",rT))),e},createEditor(e,n){return this.add(new oT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=Ml.length-1;r>=0;r--)n.remove(Ml[r]);return}if(j(e)){sT(Mv.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,U(n.get(o.id))?null:(vB(o)&&n.dispatch("RemoveEditor",{editor:o}),Ml.length===0&&window.removeEventListener("beforeunload",rT),o.remove(),yB(Ml.length>0),o)},execCommand(e,n,o){var r;const c=this,u=dt(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=o.options;new oT(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{sT(Ml,e=>{e.save()})},addI18n:(e,n)=>{jl.add(e,n)},translate:e=>jl.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ad(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ad(this.baseURL)}};vh.setup();const nW=(()=>{const e=Yu(),n=u=>({items:u,types:Yo(u),getType:m=>Cs(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),wB=Math.min,Bv=Math.max,cT=Math.round,_B=(e,n,o)=>{let r=n.x,c=n.y;const u=e.w,m=e.h,b=n.w,k=n.h,E=(o||"").split("");return E[0]==="b"&&(c+=k),E[1]==="r"&&(r+=b),E[0]==="c"&&(c+=cT(k/2)),E[1]==="c"&&(r+=cT(b/2)),E[3]==="b"&&(c-=m),E[4]==="r"&&(r-=u),E[3]==="c"&&(c-=cT(m/2)),E[4]==="c"&&(r-=cT(u/2)),Pv(r,c,u,m)},CB=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const u=_B(e,n,r[c]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[c]}return null},oW=(e,n,o)=>Pv(e.x-n,e.y-o,e.w+n*2,e.h+o*2),sW=(e,n)=>{const o=Bv(e.x,n.x),r=Bv(e.y,n.y),c=wB(e.x+e.w,n.x+n.w),u=wB(e.y+e.h,n.y+n.h);return c-o<0||u-r<0?null:Pv(o,r,c-o,u-r)},rW=(e,n,o)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const b=n.x+n.w,k=n.y+n.h,E=Bv(0,n.x-r),D=Bv(0,n.y-c),N=Bv(0,u-b),I=Bv(0,m-k);return r+=E,c+=D,o&&(u+=E,m+=D,r-=N,c-=I),u-=N,m-=I,Pv(r,c,u-r,m-c)},Pv=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),aW={inflate:oW,relativePosition:_B,findBestRelativePosition:CB,intersect:sW,clamp:rW,create:Pv,fromClientRect:e=>Pv(e.left,e.top,e.width,e.height)},cW=(e,n,o=1e3)=>{let r=!1,c=null;const u=E=>(...D)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),E.apply(null,D))},m=u(e),b=u(n);return{start:(...E)=>{!r&&c===null&&(c=setTimeout(()=>b.apply(null,E),o))},resolve:m,reject:b}},SB=(()=>{const e={},n={};return{load:(u,m)=>{const b=`Script at URL "${m}" failed to load`,k=`Script at URL "${m}" did not call \`tinymce.Resource.add('${u}', data)\` within 1 second`;if(e[u]!==void 0)return e[u];{const E=new Promise((D,N)=>{const I=cW(D,N);n[u]=I.resolve,Ad.ScriptLoader.loadScript(m).then(()=>I.start(k),()=>I.reject(b))});return e[u]=E,E}},add:(u,m)=>{n[u]!==void 0&&(n[u](m),delete n[u]),e[u]=Promise.resolve(m)},unload:u=>{delete e[u]}}})(),NZ=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Fv;try{const e="__storage_test__";Fv=window.localStorage,Fv.setItem(e,e),Fv.removeItem(e)}catch{Fv=NZ()}var iW=Fv;const xB={geom:{Rect:aW},util:{Delay:od,Tools:Et,VK:hn,URI:ad,EventDispatcher:s_,Observable:SO,I18n:jl,LocalStorage:iW,ImageUploader:vI},dom:{EventUtils:Ed,TreeWalker:vr,TextSeeker:wm,DOMUtils:qs,ScriptLoader:Ad,RangeUtils:l,Serializer:cR,StyleSheetLoader:qv,ControlSelection:wk,BookmarkManager:Lp,Selection:nR,Event:Ed.Event},html:{Styles:$y,Entities:bm,Node:Rl,Schema:Ku,DomParser:th,Writer:Bo,Serializer:Zp},Env:nn,AddOnManager:pa,Annotator:Ff,Formatter:_w,UndoManager:Cw,EditorCommands:Gg,WindowManager:gR,NotificationManager:wS,EditorObservable:dy,Shortcuts:pB,Editor:oT,FocusManager:ZO,EditorManager:vh,DOM:qs.DOM,ScriptLoader:Ad.ScriptLoader,PluginManager:rh,ThemeManager:ah,ModelManager:sv,IconManager:kS,Resource:SB,FakeClipboard:nW,trim:Et.trim,isArray:Et.isArray,is:Et.is,toArray:Et.toArray,makeMap:Et.makeMap,each:Et.each,map:Et.map,grep:Et.grep,inArray:Et.inArray,extend:Et.extend,walk:Et.walk,resolve:Et.resolve,explode:Et.explode,_addCacheSuffix:Et._addCacheSuffix},TB=Et.extend(vh,xB),lW=e=>{try{es.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(TB),lW(TB)})()})(eq);var wq=eq.exports;const MB=hq(wq);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const es=Object.getPrototypeOf,Do=(t,s,a)=>{var i;return a(t,s.prototype)?!0:((i=t.constructor)===null||i===void 0?void 0:i.name)===s.name},So=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&Do(t,String,(a,i)=>i.isPrototypeOf(a))?"string":s},Ln=t=>s=>So(s)===t,uo=t=>s=>typeof s===t,ho=t=>s=>t===s,Fn=(t,s)=>pn(t)&&Do(t,s,(a,i)=>es(a)===i),nt=Ln("string"),pn=Ln("object"),vn=t=>Fn(t,Object),En=Ln("array"),_o=ho(null),cn=uo("boolean"),jt=ho(void 0),It=t=>t==null,tn=t=>!It(t),ot=uo("function"),Ot=uo("number"),xt=(t,s)=>{if(En(t)){for(let a=0,i=t.length;a<i;++a)if(!s(t[a]))return!1;return!0}return!1},j=()=>{},dt=t=>()=>t(),Mo=(t,s)=>(...a)=>t(s.apply(null,a)),gt=(t,s)=>a=>t(s(a)),U=t=>()=>t,at=t=>t,bn=(t,s)=>t===s;function Zt(t,...s){return(...a)=>{const i=s.concat(a);return t.apply(null,i)}}const Pe=t=>s=>!t(s),ie=t=>()=>{throw new Error(t)},Ro=t=>t(),Ce=U(!1),Oe=U(!0);class T{constructor(s,a){this.tag=s,this.value=a}static some(s){return new T(!0,s)}static none(){return T.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?T.some(s(this.value)):T.none()}bind(s){return this.tag?s(this.value):T.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:T.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return tn(s)?T.some(s):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const un=Array.prototype.slice,st=Array.prototype.indexOf,Bn=Array.prototype.push,Yt=(t,s)=>st.call(t,s),Xe=(t,s)=>{const a=Yt(t,s);return a===-1?T.none():T.some(a)},fo=(t,s)=>Yt(t,s)>-1,Zo=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return!0}return!1},wt=(t,s)=>{const a=[];for(let i=0;i<t;i++)a.push(s(i));return a},fn=(t,s)=>{const a=[];for(let i=0;i<t.length;i+=s){const d=un.call(t,i,i+s);a.push(d)}return a},De=(t,s)=>{const a=t.length,i=new Array(a);for(let d=0;d<a;d++){const g=t[d];i[d]=s(g,d)}return i},lt=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];s(d,a)}},F=(t,s)=>{for(let a=t.length-1;a>=0;a--){const i=t[a];s(i,a)}},qo=(t,s)=>{const a=[],i=[];for(let d=0,g=t.length;d<g;d++){const h=t[d];(s(h,d)?a:i).push(h)}return{pass:a,fail:i}},Qn=(t,s)=>{const a=[];for(let i=0,d=t.length;i<d;i++){const g=t[i];s(g,i)&&a.push(g)}return a},ft=(t,s,a)=>(F(t,(i,d)=>{a=s(a,i,d)}),a),mt=(t,s,a)=>(lt(t,(i,d)=>{a=s(a,i,d)}),a),on=(t,s,a)=>{for(let i=0,d=t.length;i<d;i++){const g=t[i];if(s(g,i))return T.some(g);if(a(g,i))break}return T.none()},X=(t,s)=>on(t,s,Ce),be=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return T.some(a)}return T.none()},ve=t=>{const s=[];for(let a=0,i=t.length;a<i;++a){if(!En(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);Bn.apply(s,t[a])}return s},ae=(t,s)=>ve(De(t,s)),Me=(t,s)=>{for(let a=0,i=t.length;a<i;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},Fe=t=>{const s=un.call(t,0);return s.reverse(),s},qe=(t,s)=>Qn(t,a=>!fo(s,a)),Ue=(t,s)=>{const a={};for(let i=0,d=t.length;i<d;i++){const g=t[i];a[String(g)]=s(g,i)}return a},Q=t=>[t],Se=(t,s)=>{const a=un.call(t,0);return a.sort(s),a},Ie=(t,s)=>s>=0&&s<t.length?T.some(t[s]):T.none(),zt=t=>Ie(t,0),$n=t=>Ie(t,t.length-1),Dn=ot(Array.from)?Array.from:t=>un.call(t),Rn=(t,s)=>{for(let a=0;a<t.length;a++){const i=s(t[a],a);if(i.isSome())return i}return T.none()},An=Object.keys,Po=Object.hasOwnProperty,qn=(t,s)=>{const a=An(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],h=t[g];s(h,g)}},Gn=(t,s)=>to(t,(a,i)=>({k:i,v:s(a,i)})),to=(t,s)=>{const a={};return qn(t,(i,d)=>{const g=s(i,d);a[g.k]=g.v}),a},mn=t=>(s,a)=>{t[a]=s},bo=(t,s,a,i)=>{qn(t,(d,g)=>{(s(d,g)?a:i)(d,g)})},as=(t,s)=>{const a={},i={};return bo(t,s,mn(a),mn(i)),{t:a,f:i}},Rs=(t,s)=>{const a={};return bo(t,s,mn(a),j),a},Ts=(t,s)=>{const a=[];return qn(t,(i,d)=>{a.push(s(i,d))}),a},Yo=(t,s)=>{const a=An(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],h=t[g];if(s(h,g,t))return T.some(h)}return T.none()},oa=t=>Ts(t,at),Tt=(t,s)=>Lo(t,s)?T.from(t[s]):T.none(),Lo=(t,s)=>Po.call(t,s),kr=(t,s)=>Lo(t,s)&&t[s]!==void 0&&t[s]!==null,Vr=(t,s,a=bn)=>t.exists(i=>a(i,s)),qr=(t,s,a=bn)=>ia(t,s,a).getOr(t.isNone()&&s.isNone()),Xr=t=>{const s=[],a=i=>{s.push(i)};for(let i=0;i<t.length;i++)t[i].each(a);return s},_s=t=>{const s=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.isSome())s.push(i.getOrDie());else return T.none()}return T.some(s)},ia=(t,s,a)=>t.isSome()&&s.isSome()?T.some(a(t.getOrDie(),s.getOrDie())):T.none(),Ur=(t,s,a,i)=>t.isSome()&&s.isSome()&&a.isSome()?T.some(i(t.getOrDie(),s.getOrDie(),a.getOrDie())):T.none(),Cs=(t,s)=>t!=null?T.some(s(t)):T.none(),Kn=(t,s)=>t?T.some(s):T.none(),ar=(t,s)=>t+s,Ee=(t,s)=>t.substring(s),Ge=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,Wt=(t,s)=>Xo(t,s)?Ee(t,s.length):t,kn=(t,s)=>wr(t,s)?t:ar(t,s),Eo=(t,s,a=0,i)=>{const d=t.indexOf(s,a);return d!==-1?jt(i)?!0:d+s.length<=i:!1},Xo=(t,s)=>Ge(t,s,0),wr=(t,s)=>Ge(t,s,t.length-s.length),cr=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),de=t=>t.length>0,re=t=>!de(t),We=t=>t.style!==void 0&&ot(t.style.getPropertyValue),Ye=(t,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return xo(i.childNodes[0])},Sn=(t,s)=>{const i=(s||document).createElement(t);return xo(i)},Yn=(t,s)=>{const i=(s||document).createTextNode(t);return xo(i)},xo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ke={fromHtml:Ye,fromTag:Sn,fromText:Yn,fromDom:xo,fromPoint:(t,s,a)=>T.from(t.dom.elementFromPoint(s,a)).map(xo)},mo=typeof window<"u"?window:Function("return this;")(),fe=(t,s)=>{let a=s??mo;for(let i=0;i<t.length&&a!==void 0&&a!==null;++i)a=a[t[i]];return a},ge=(t,s)=>{const a=t.split(".");return fe(a,s)},yt=(t,s)=>ge(t,s),_t=(t,s)=>{const a=yt(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},Xt=Object.getPrototypeOf,xn=t=>_t("HTMLElement",t),_n=t=>{const s=ge("ownerDocument.defaultView",t);return pn(t)&&(xn(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Xt(t).constructor.name))},wn=9,On=11,no=1,ds=3,Hs=t=>t.dom.nodeName.toLowerCase(),va=t=>t.dom.nodeType,Gr=t=>s=>va(s)===t,oc=t=>yo(t)&&_n(t.dom),yo=Gr(no),os=Gr(ds),Us=Gr(wn),ka=Gr(On),la=t=>s=>yo(s)&&Hs(s)===t,Jr=(t,s)=>{const a=t.dom;if(a.nodeType!==no)return!1;{const i=a;if(i.matches!==void 0)return i.matches(s);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(s);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(s);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},js=t=>t.nodeType!==no&&t.nodeType!==wn&&t.nodeType!==On||t.childElementCount===0,du=(t,s)=>{const a=s===void 0?document:s.dom;return js(a)?[]:De(a.querySelectorAll(t),ke.fromDom)},mi=(t,s)=>{const a=s===void 0?document:s.dom;return js(a)?T.none():T.from(a.querySelector(t)).map(ke.fromDom)},fs=(t,s)=>t.dom===s.dom,Oa=(t,s)=>{const a=t.dom,i=s.dom;return a===i?!1:a.contains(i)},za=t=>ke.fromDom(t.dom.ownerDocument),Mr=t=>Us(t)?t:za(t),Ki=t=>ke.fromDom(Mr(t).dom.documentElement),sc=t=>ke.fromDom(Mr(t).dom.defaultView),Da=t=>T.from(t.dom.parentNode).map(ke.fromDom),Sc=t=>Da(t),xc=t=>T.from(t.dom.parentElement).map(ke.fromDom),Ic=(t,s)=>{const a=ot(s)?s:Ce;let i=t.dom;const d=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const g=i.parentNode,h=ke.fromDom(g);if(d.push(h),a(h)===!0)break;i=g}return d},Ni=t=>T.from(t.dom.offsetParent).map(ke.fromDom),Yi=t=>T.from(t.dom.nextSibling).map(ke.fromDom),qa=t=>De(t.dom.childNodes,ke.fromDom),Kc=(t,s)=>{const a=t.dom.childNodes;return T.from(a[s]).map(ke.fromDom)},gi=t=>Kc(t,0),Xi=(t,s)=>({element:t,offset:s}),pi=(t,s)=>{const a=qa(t);return a.length>0&&s<a.length?Xi(a[s],0):Xi(t,s)},Z=t=>ka(t)&&tn(t.dom.host),pe=ot(Element.prototype.attachShadow)&&ot(Node.prototype.getRootNode),Ae=U(pe),Le=pe?t=>ke.fromDom(t.dom.getRootNode()):Mr,Rt=t=>Z(t)?t:ke.fromDom(Mr(t).dom.body),eo=t=>ps(t).isSome(),ps=t=>{const s=Le(t);return Z(s)?T.some(s):T.none()},Ys=t=>ke.fromDom(t.dom.host),$s=t=>{if(Ae()&&tn(t.target)){const s=ke.fromDom(t.target);if(yo(s)&&hr(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return zt(a)}}return T.from(t.target)},hr=t=>tn(t.dom.shadowRoot),cs=t=>{const s=os(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return ps(ke.fromDom(s)).fold(()=>a.body.contains(s),gt(cs,Ys))},_r=()=>Yc(ke.fromDom(document)),Yc=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return ke.fromDom(s)},hi=(t,s,a)=>{if(nt(a)||cn(a)||Ot(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},nn=(t,s,a)=>{hi(t.dom,s,a)},fu=(t,s)=>{const a=t.dom;qn(s,(i,d)=>{hi(a,d,i)})},br=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},B=(t,s)=>T.from(br(t,s)),Y=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},se=(t,s)=>{t.dom.removeAttribute(s)},Ke=t=>mt(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),en=(t,s,a)=>{if(!nt(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);We(t)&&t.style.setProperty(s,a)},Wo=(t,s)=>{We(t)&&t.style.removeProperty(s)},Cn=(t,s,a)=>{const i=t.dom;en(i,s,a)},dr=(t,s)=>{const a=t.dom;qn(s,(i,d)=>{en(a,d,i)})},Et=(t,s)=>{const a=t.dom;qn(s,(i,d)=>{i.fold(()=>{Wo(a,d)},g=>{en(a,d,g)})})},Ws=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!cs(t)?Ga(a,s):d},Ga=(t,s)=>We(t)?t.style.getPropertyValue(s):"",zr=(t,s)=>{const a=t.dom,i=Ga(a,s);return T.from(i).filter(d=>d.length>0)},sa=t=>{const s={},a=t.dom;if(We(a))for(let i=0;i<a.style.length;i++){const d=a.style.item(i);s[d]=a.style[d]}return s},Mi=(t,s,a)=>{const i=ke.fromTag(t);return Cn(i,s,a),zr(i,s).isSome()},q=(t,s)=>{const a=t.dom;Wo(a,s),Vr(B(t,"style").map(cr),"")&&se(t,"style")},ue=t=>t.dom.offsetWidth,Be=(t,s)=>{const a=(v,_)=>{if(!Ot(_)&&!_.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+_);const A=v.dom;We(A)&&(A.style[t]=_+"px")},i=v=>{const _=s(v);if(_<=0||_===null){const A=Ws(v,t);return parseFloat(A)||0}return _},d=i,g=(v,_)=>mt(_,(A,z)=>{const M=Ws(v,z),P=M===void 0?0:parseInt(M,10);return isNaN(P)?A:A+P},0);return{set:a,get:i,getOuter:d,aggregate:g,max:(v,_,A)=>{const z=g(v,A);return _>z?_-z:0}}},ht=Be("height",t=>{const s=t.dom;return cs(t)?s.getBoundingClientRect().height:s.offsetHeight}),ln=t=>ht.get(t),Jo=t=>ht.getOuter(t),Cr=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],i=ht.max(t,s,a);Cn(t,"max-height",i+"px")},wa=(t,s)=>({left:t,top:s,translate:(i,d)=>wa(t+i,s+d)}),ts=wa,Kr=t=>{const s=t.getBoundingClientRect();return ts(s.left,s.top)},Br=(t,s)=>t!==void 0?t:s!==void 0?s:0,ra=t=>{const s=t.dom.ownerDocument,a=s.body,i=s.defaultView,d=s.documentElement;if(a===t.dom)return ts(a.offsetLeft,a.offsetTop);const g=Br(i==null?void 0:i.pageYOffset,d.scrollTop),h=Br(i==null?void 0:i.pageXOffset,d.scrollLeft),v=Br(d.clientTop,a.clientTop),_=Br(d.clientLeft,a.clientLeft);return Ka(t).translate(h-_,g-v)},Ka=t=>{const s=t.dom,i=s.ownerDocument.body;return i===s?ts(i.offsetLeft,i.offsetTop):cs(t)?Kr(s):ts(0,0)},$l=Be("width",t=>t.dom.offsetWidth),Xs=(t,s)=>$l.set(t,s),or=t=>$l.get(t),Ra=t=>$l.getOuter(t),ep=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],i=$l.max(t,s,a);Cn(t,"max-width",i+"px")},Pr=t=>{let s=!1,a;return(...i)=>(s||(s=!0,a=t.apply(null,i)),a)},rc=(t,s,a,i)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!d,h=t.isiOS()||t.isAndroid(),v=h||i("(pointer:coarse)"),_=d||!g&&h&&i("(min-device-width:768px)"),A=g||h&&!_,z=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,M=!A&&!_&&!z;return{isiPad:U(d),isiPhone:U(g),isTablet:U(_),isPhone:U(A),isTouch:U(v),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:U(z),isDesktop:U(M)}},Ya=(t,s)=>{for(let a=0;a<t.length;a++){const i=t[a];if(i.test(s))return i}},tp=(t,s)=>{const a=Ya(t,s);if(!a)return{major:0,minor:0};const i=d=>Number(s.replace(a,"$"+d));return md(i(1),i(2))},Vm=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?Ji():tp(t,a)},Ji=()=>md(0,0),md=(t,s)=>({major:t,minor:s}),ir={nu:md,detect:Vm,unknown:Ji},bi=(t,s)=>Rn(s.brands,a=>{const i=a.brand.toLowerCase();return X(t,d=>{var g;return i===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(d=>({current:d.name,version:ir.nu(parseInt(a.version,10),0)}))}),Fa=(t,s)=>{const a=String(s).toLowerCase();return X(t,i=>i.search(a))},hl=(t,s)=>Fa(t,s).map(a=>{const i=ir.detect(a.versionRegexes,s);return{current:a.name,version:i}}),aa=(t,s)=>Fa(t,s).map(a=>{const i=ir.detect(a.versionRegexes,s);return{current:a.name,version:i}}),Yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Bi=t=>s=>Eo(s,t),gd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Eo(t,"edge/")&&Eo(t,"chrome")&&Eo(t,"safari")&&Eo(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Yr],search:t=>Eo(t,"chrome")&&!Eo(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Eo(t,"msie")||Eo(t,"trident")},{name:"Opera",versionRegexes:[Yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Bi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Bi("firefox")},{name:"Safari",versionRegexes:[Yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Eo(t,"safari")||Eo(t,"mobile/"))&&Eo(t,"applewebkit")}],Pi=[{name:"Windows",search:Bi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Eo(t,"iphone")||Eo(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Bi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Bi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Bi("linux"),versionRegexes:[]},{name:"Solaris",search:Bi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Bi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Bi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],mu={browsers:U(gd),oses:U(Pi)},Il="Edge",Na="Chromium",tf="IE",bc="Opera",bl="Firefox",yl="Safari",Lu=()=>gu({current:void 0,version:ir.unknown()}),gu=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isEdge:i(Il),isChromium:i(Na),isIE:i(tf),isOpera:i(bc),isFirefox:i(bl),isSafari:i(yl)}},Ll={unknown:Lu,nu:gu,edge:U(Il),chromium:U(Na),ie:U(tf),opera:U(bc),firefox:U(bl),safari:U(yl)},Um="Windows",Hl="iOS",jm="Android",nf="Linux",Wm="macOS",Hu="Solaris",np="FreeBSD",le="ChromeOS",pu=()=>Fi({current:void 0,version:ir.unknown()}),Fi=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isWindows:i(Um),isiOS:i(Hl),isAndroid:i(jm),isMacOS:i(Wm),isLinux:i(nf),isSolaris:i(Hu),isFreeBSD:i(np),isChromeOS:i(le)}},em={unknown:pu,nu:Fi,windows:U(Um),ios:U(Hl),android:U(jm),linux:U(nf),macos:U(Wm),solaris:U(Hu),freebsd:U(np),chromeos:U(le)},op={detect:(t,s,a)=>{const i=mu.browsers(),d=mu.oses(),g=s.bind(_=>bi(i,_)).orThunk(()=>hl(i,t)).fold(Ll.unknown,Ll.nu),h=aa(d,t).fold(em.unknown,em.nu),v=rc(h,g,t,a);return{browser:g,os:h,deviceType:v}}},Ns=t=>window.matchMedia(t).matches;let $a=Pr(()=>op.detect(navigator.userAgent,T.from(navigator.userAgentData),Ns));const Qi=()=>$a(),yi=(t,s,a,i,d,g,h)=>({target:t,x:s,y:a,stop:i,prevent:d,kill:g,raw:h}),tm=t=>{const s=ke.fromDom($s(t).getOr(t.target)),a=()=>t.stopPropagation(),i=()=>t.preventDefault(),d=Mo(i,a);return yi(s,t.clientX,t.clientY,a,i,d,t)},hu=(t,s)=>a=>{t(a)&&s(tm(a))},Lc=(t,s,a,i,d)=>{const g=hu(a,i);return t.dom.addEventListener(s,g,d),{unbind:Zt(qm,t,s,g,d)}},pd=(t,s,a,i)=>Lc(t,s,a,i,!1),Zm=(t,s,a,i)=>Lc(t,s,a,i,!0),qm=(t,s,a,i)=>{t.dom.removeEventListener(s,a,i)},vi=(t,s)=>{Da(t).each(i=>{i.dom.insertBefore(s.dom,t.dom)})},of=(t,s)=>{Yi(t).fold(()=>{Da(t).each(d=>{Xc(d,s)})},i=>{vi(i,s)})},Gm=(t,s)=>{gi(t).fold(()=>{Xc(t,s)},i=>{t.dom.insertBefore(s.dom,i.dom)})},Xc=(t,s)=>{t.dom.appendChild(s.dom)},Ia=(t,s,a)=>{Kc(t,a).fold(()=>{Xc(t,s)},i=>{vi(i,s)})},bu=(t,s)=>{lt(s,a=>{Xc(t,a)})},hd=t=>{t.dom.textContent="",lt(qa(t),s=>{ki(s)})},ki=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Hc=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,i=s.body.scrollTop||s.documentElement.scrollTop;return ts(a,i)},sf=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},sp=t=>{const s=t===void 0?window:t;return Qi().browser.isFirefox()?T.none():T.from(s.visualViewport)},rf=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Km=t=>{const s=t===void 0?window:t,a=s.document,i=Hc(ke.fromDom(a));return sp(s).fold(()=>{const d=s.document.documentElement,g=d.clientWidth,h=d.clientHeight;return rf(i.left,i.top,g,h)},d=>rf(Math.max(d.pageLeft,i.left),Math.max(d.pageTop,i.top),d.width,d.height))},af=()=>ke.fromDom(document),$i=(t,s)=>t.view(s).fold(U([]),i=>{const d=t.owner(i),g=$i(t,d);return[i].concat(g)}),rp=(t,s)=>{const a=s.owner(t),i=$i(s,a);return T.some(i)};var Ym=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?T.none():T.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(ke.fromDom)},owner:t=>za(t)});const cf=t=>{const s=af(),a=Hc(s);return rp(t,Ym).fold(Zt(ra,t),d=>{const g=Ka(t),h=ft(d,(v,_)=>{const A=Ka(_);return{left:v.left+A.left,top:v.top+A.top}},{left:0,top:0});return ts(h.left+g.left+a.left,h.top+g.top+a.top)})},nm=(t,s,a)=>({point:t,width:s,height:a}),bd=(t,s,a,i)=>({x:t,y:s,width:a,height:i}),yr=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Fr=t=>{const s=ra(t),a=Ra(t),i=Jo(t);return yr(s.left,s.top,a,i)},Vc=t=>{const s=cf(t),a=Ra(t),i=Jo(t);return yr(s.left,s.top,a,i)},Xm=(t,s)=>{const a=Math.max(t.x,s.x),i=Math.max(t.y,s.y),d=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),h=d-a,v=g-i;return yr(a,i,h,v)},Jm=(t,s)=>mt(s,(a,i)=>Xm(a,i),t),Xa=()=>Km(window);var Vu=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Tc=t=>{const s=g=>g(t),a=U(t),i=()=>d,d={tag:!0,inner:t,fold:(g,h)=>h(t),isValue:Oe,isError:Ce,map:g=>Fo.value(g(t)),mapError:i,bind:s,exists:s,forall:s,getOr:a,or:i,getOrThunk:a,orThunk:i,getOrDie:a,each:g=>{g(t)},toOptional:()=>T.some(t)};return d},vl=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(i,d)=>i(t),isValue:Ce,isError:Oe,map:s,mapError:i=>Fo.error(i(t)),bind:s,exists:Ce,forall:Oe,getOr:at,or:at,getOrThunk:Ro,orThunk:Ro,getOrDie:ie(String(t)),each:j,toOptional:T.none};return a},Fo={value:Tc,error:vl,fromOption:(t,s)=>t.fold(()=>vl(s),Tc)};var Uc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Uc||(Uc={}));const yu=(t,s,a)=>t.stype===Uc.Error?s(t.serror):a(t.svalue),yd=t=>{const s=[],a=[];return lt(t,i=>{yu(i,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},Qm=(t,s)=>t.stype===Uc.Error?{stype:Uc.Error,serror:s(t.serror)}:t,x=(t,s)=>t.stype===Uc.Value?{stype:Uc.Value,svalue:s(t.svalue)}:t,R=(t,s)=>t.stype===Uc.Value?s(t.svalue):t,H=(t,s)=>t.stype===Uc.Error?s(t.serror):t,ce=t=>({stype:Uc.Value,svalue:t}),me=t=>({stype:Uc.Error,serror:t}),Nn={fromResult:t=>t.fold(me,ce),toResult:t=>yu(t,Fo.error,Fo.value),svalue:ce,partition:yd,serror:me,bind:R,bindError:H,map:x,mapError:Qm,fold:yu},Xn=(t,s,a,i)=>({tag:"field",key:t,newKey:s,presence:a,prop:i}),io=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Sr=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Vs=(t,s)=>s,Ii=(t,s)=>vn(t)&&vn(s)?sr(t,s):s,vd=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let i=0;i<s.length;i++){const d=s[i];for(const g in d)Lo(d,g)&&(a[g]=t(a[g],d[g]))}return a},sr=vd(Ii),vu=vd(Vs),Es=()=>({tag:"required",process:{}}),Jc=t=>({tag:"defaultedThunk",process:t}),lf=t=>Jc(U(t)),kd=()=>({tag:"option",process:{}}),Qo=t=>({tag:"mergeWithThunk",process:t}),uf=t=>Qo(U(t)),xh=(t,s)=>t.length>0?Nn.svalue(sr(s,vu.apply(void 0,t))):Nn.svalue(s),Th=t=>Mo(Nn.serror,ve)(t),cp={consolidateObj:(t,s)=>{const a=Nn.partition(t);return a.errors.length>0?Th(a.errors):xh(a.values,s)},consolidateArr:t=>{const s=Nn.partition(t);return s.errors.length>0?Th(s.errors):Nn.svalue(s.values)}},Eh=t=>pn(t)&&An(t).length>100?" removed due to size":JSON.stringify(t,null,2),eg=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:U("... (only showing first ten failures)")}]):t;return De(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},df=(t,s)=>Nn.serror([{path:t,getErrorInfo:s}]),sm=(t,s,a)=>df(t,()=>'Could not find valid *required* value for "'+s+'" in '+Eh(a)),wy=(t,s)=>df(t,()=>'Choice schema did not contain choice key: "'+s+'"'),kl=(t,s,a)=>df(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Eh(s)),Hv=(t,s)=>df(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),rm=(t,s)=>df(t,U(s)),el=t=>{const s=(i,d)=>Nn.bindError(t(d),g=>rm(i,g)),a=U("val");return{extract:s,toString:a}},Ah=el(Nn.svalue),Oh=(t,s,a,i)=>Tt(s,a).fold(()=>sm(t,a,s),i),zh=(t,s,a,i)=>{const d=Tt(t,s).getOrThunk(()=>a(t));return i(d)},ip=(t,s,a)=>a(Tt(t,s)),Dh=(t,s,a,i)=>{const d=Tt(t,s).map(g=>g===!0?a(t):g);return i(d)},Rh=(t,s,a,i,d)=>{const g=v=>d.extract(s.concat([i]),v),h=v=>v.fold(()=>Nn.svalue(T.none()),_=>{const A=d.extract(s.concat([i]),_);return Nn.map(A,T.some)});switch(t.tag){case"required":return Oh(s,a,i,g);case"defaultedThunk":return zh(a,i,t.process,g);case"option":return ip(a,i,h);case"defaultedOptionThunk":return Dh(a,i,t.process,h);case"mergeWithThunk":return zh(a,i,U({}),v=>{const _=sr(t.process(a),v);return g(_)})}},Nh=(t,s,a)=>{const i={},d=[];for(const g of a)Sr(g,(h,v,_,A)=>{const z=Rh(_,t,s,h,A);Nn.fold(z,M=>{d.push(...M)},M=>{i[v]=M})},(h,v)=>{i[h]=v(s)});return d.length>0?Nn.serror(d):Nn.svalue(i)},La=t=>({extract:(i,d)=>t().extract(i,d),toString:()=>t().toString()}),Vv=t=>An(Rs(t,tn)),vr=t=>{const s=Jn(t),a=ft(t,(d,g)=>Sr(g,h=>sr(d,{[h]:!0}),U(d)),{});return{extract:(d,g)=>{const h=cn(g)?[]:Vv(g),v=Qn(h,_=>!kr(a,_));return v.length===0?s.extract(d,g):Hv(d,v)},toString:s.toString}},Jn=t=>({extract:(i,d)=>Nh(i,d,t),toString:()=>`obj{
`+De(t,d=>Sr(d,(g,h,v,_)=>g+" -> "+_.toString(),(g,h)=>"state("+g+")")).join(`
`)+"}"}),ku=t=>({extract:(i,d)=>{const g=De(d,(h,v)=>t.extract(i.concat(["["+v+"]"]),h));return cp.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),gn=(t,s)=>{const a=s!==void 0?s:at;return{extract:(g,h)=>{const v=[];for(const _ of t){const A=_.extract(g,h);if(A.stype===Uc.Value)return{stype:Uc.Value,svalue:a(A.svalue)};v.push(A)}return cp.consolidateArr(v)},toString:()=>"oneOf("+De(t,g=>g.toString()).join(", ")+")"}},ff=(t,s)=>{const a=(g,h)=>ku(el(t)).extract(g,h);return{extract:(g,h)=>{const v=An(h),_=a(g,v);return Nn.bind(_,A=>{const z=De(A,M=>Xn(M,M,Es(),s));return Jn(z).extract(g,h)})},toString:()=>"setOf("+s.toString()+")"}},wl=(t,s)=>{const a=Pr(s);return{extract:(g,h)=>a().extract(g,h),toString:()=>a().toString()}},Uu=Mo(ku,Jn),Qc=U(Ah),am=(t,s)=>el(a=>{const i=typeof a;return t(a)?Nn.svalue(a):Nn.serror(`Expected type: ${s} but got: ${i}`)}),wu=am(Ot,"number"),Ja=am(nt,"string"),tl=am(cn,"boolean"),tg=am(ot,"function"),lp=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>lp(t[s]));default:return!1}},Bt=el(t=>lp(t)?Nn.svalue(t):Nn.serror("Expected value to be acceptable for sending via postMessage")),Mh=(t,s,a,i)=>Tt(a,i).fold(()=>kl(t,a,i),g=>g.extract(t.concat(["branch: "+i]),s)),mf=(t,s)=>({extract:(d,g)=>Tt(g,t).fold(()=>wy(d,t),v=>Mh(d,g,s,v)),toString:()=>"chooseOn("+t+"). Possible values: "+An(s)}),ju=()=>ku(Ah),_l=t=>el(s=>t(s).fold(Nn.serror,Nn.svalue)),up=(t,s)=>ff(a=>Nn.fromResult(t(a)),s),Qr=(t,s,a)=>{const i=s.extract([t],a);return Nn.mapError(i,d=>({input:a,errors:d}))},jr=(t,s,a)=>Nn.toResult(Qr(t,s,a)),Qa=t=>t.fold(s=>{throw new Error(_u(s))},at),As=(t,s,a)=>Qa(jr(t,s,a)),_u=t=>`Errors: 
`+eg(t.errors).join(`
`)+`

Input object: `+Eh(t.input),ac=(t,s)=>mf(t,Gn(s,Jn)),Cl=(t,s)=>wl(t,s),cc=Xn,yc=io,dp=t=>_l(s=>fo(t,s)?Fo.value(s):Fo.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),vt=t=>cc(t,t,Es(),Qc()),fr=(t,s)=>cc(t,t,Es(),s),Bh=t=>fr(t,wu),ua=t=>fr(t,Ja),wd=(t,s)=>cc(t,t,Es(),dp(s)),fp=t=>fr(t,tl),wi=t=>fr(t,tg),_y=(t,s)=>cc(t,t,kd(),el(a=>Nn.serror("The field: "+t+" is forbidden. "+s))),Wu=(t,s)=>cc(t,t,Es(),Jn(s)),Cy=(t,s)=>cc(t,t,Es(),Uu(s)),Li=(t,s)=>cc(t,t,Es(),ku(s)),Is=t=>cc(t,t,kd(),Qc()),Cu=(t,s)=>cc(t,t,kd(),s),gf=t=>Cu(t,wu),vc=t=>Cu(t,Ja),Ph=(t,s)=>Cu(t,dp(s)),pf=t=>Cu(t,tg),Sy=(t,s)=>Cu(t,ku(s)),_a=(t,s)=>Cu(t,Jn(s)),Hi=(t,s)=>Cu(t,vr(s)),$e=(t,s)=>cc(t,t,lf(s),Qc()),jc=(t,s,a)=>cc(t,t,lf(s),a),_i=(t,s)=>jc(t,s,wu),Vi=(t,s)=>jc(t,s,Ja),Ui=(t,s,a)=>jc(t,s,dp(a)),Ca=(t,s)=>jc(t,s,tl),Ha=(t,s)=>jc(t,s,tg),cm=(t,s)=>jc(t,s,Bt),Ci=(t,s,a)=>jc(t,s,ku(a)),Fh=(t,s,a)=>jc(t,s,Jn(a)),po=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},S={generate:t=>{if(!En(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return lt(t,(i,d)=>{const g=An(i);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],v=i[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!En(v))throw new Error("case arguments must be an array");s.push(h),a[h]=(..._)=>{const A=_.length;if(A!==v.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+v.length+" ("+v+"), got "+A);return{fold:(...M)=>{if(M.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+M.length);return M[d].apply(null,_)},match:M=>{const P=An(M);if(s.length!==P.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+P.join(","));if(!Me(s,J=>fo(P,J)))throw new Error("Not all branches were specified when using match. Specified: "+P.join(", ")+`
Required: `+s.join(", "));return M[h].apply(null,_)},log:M=>{console.log(M,{constructors:s,constructor:h,params:_})}}}}),a}};S.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const L=t=>{const s=[],a=[];return lt(t,i=>{i.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},G=(t,s)=>{const a={};return qn(t,(i,d)=>{fo(s,d)||(a[d]=i)}),a},we=(t,s)=>({[t]:s}),Qe=t=>{const s={};return lt(t,a=>{s[a.key]=a.value}),s},Pt=(t,s)=>G(t,s),qt=(t,s)=>we(t,s),vo=t=>Qe(t),Ao=(t,s)=>t.length===0?Fo.value(s):Fo.value(sr(s,vu.apply(void 0,t))),xr=t=>Fo.error(ve(t)),ks=(t,s)=>{const a=L(t);return a.errors.length>0?xr(a.errors):Ao(a.values,s)},Ps=t=>ot(t)?t:Ce,ei=(t,s,a)=>{let i=t.dom;const d=Ps(a);for(;i.parentNode;){i=i.parentNode;const g=ke.fromDom(i),h=s(g);if(h.isSome())return h;if(d(g))break}return T.none()},nl=(t,s,a)=>{const i=s(t),d=Ps(a);return i.orThunk(()=>d(t)?T.none():ei(t,s,d))},Sl=(t,s)=>fs(t.element,s.event.target),Su={can:Oe,abort:Ce,run:j},Zu=t=>{if(!kr(t,"can")&&!kr(t,"abort")&&!kr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Su,...t}},hf=(t,s)=>(...a)=>mt(t,(i,d)=>i&&s(d).apply(void 0,a),!0),_d=(t,s)=>(...a)=>mt(t,(i,d)=>i||s(d).apply(void 0,a),!1),bf=t=>ot(t)?{can:Oe,abort:Ce,run:t}:t,yf=t=>{const s=hf(t,d=>d.can),a=_d(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{lt(t,g=>{g.run.apply(void 0,d)})}}},da=U,ji=da("touchstart"),ng=da("touchmove"),vf=da("touchend"),Ms=da("touchcancel"),Zs=da("mousedown"),Va=da("mousemove"),ti=da("mouseout"),$h=da("mouseup"),ic=da("mouseover"),Ec=da("focusin"),Cd=da("focusout"),xu=da("keydown"),hT=da("keyup"),og=da("input"),sg=da("change"),im=da("click"),lm=da("transitioncancel"),mp=da("transitionend"),Uv=da("transitionstart"),jv=da("selectstart"),fa=t=>U("alloy."+t),xy={tap:fa("tap")},qu=fa("focus"),um=fa("blur.post"),rg=fa("paste.post"),Sd=fa("receive"),ol=fa("execute"),Ih=fa("focus.item"),Lh=xy.tap,bT=fa("longpress"),ma=fa("sandbox.close"),ag=fa("typeahead.cancel"),dm=fa("system.init"),Ty=fa("system.touchmove"),Hh=fa("system.touchend"),kf=fa("system.scroll"),Gu=fa("system.resize"),Vl=fa("system.attached"),cg=fa("system.detached"),fm=fa("system.dismissRequested"),Ey=fa("system.repositionRequested"),Ay=fa("focusmanager.shifted"),Wv=fa("slotcontainer.visibility"),gp=fa("system.external.element.scroll"),Oy=fa("change.tab"),zy=fa("dismiss.tab"),mm=fa("highlight"),Zv=fa("dehighlight"),Ds=(t,s)=>{Vh(t,t.element,s,{})},oo=(t,s,a)=>{Vh(t,t.element,s,a)},gm=t=>{Ds(t,ol())},Dy=(t,s,a)=>{Vh(t,s,a,{})},Vh=(t,s,a,i)=>{const d={target:s,...i};t.getSystem().triggerEvent(a,s,d)},yT=(t,s,a,i)=>{const d={...i,target:s};t.getSystem().triggerEvent(a,s,d)},qv=(t,s,a,i)=>{t.getSystem().triggerEvent(a,s,i.event)},Tr=t=>vo(t),Gv=(t,s)=>({key:t,value:Zu({abort:s})}),Ry=(t,s)=>({key:t,value:Zu({can:s})}),Kv=t=>({key:t,value:Zu({run:(s,a)=>{a.event.prevent()}})}),kt=(t,s)=>({key:t,value:Zu({run:s})}),Ny=(t,s,a)=>({key:t,value:Zu({run:(i,d)=>{s.apply(void 0,[i,d].concat(a))}})}),vT=t=>s=>kt(t,s),My=t=>s=>({key:t,value:Zu({run:(a,i)=>{Sl(a,i)&&s(a,i)}})}),kT=(t,s)=>kt(t,(a,i)=>{a.getSystem().getByUid(s).each(d=>{qv(d,d.element,t,i)})}),pm=(t,s,a)=>{const i=s.partUids[a];return kT(t,i)},Yv=(t,s)=>kt(t,(a,i)=>{const d=i.event,g=a.getSystem().getByDom(d.target).getOrThunk(()=>nl(d.target,v=>a.getSystem().getByDom(v).toOptional(),Ce).getOr(a));s(a,g,i)}),xd=t=>kt(t,(s,a)=>{a.cut()}),By=t=>kt(t,(s,a)=>{a.stop()}),ig=(t,s)=>My(t)(s),Or=My(Vl()),Td=My(cg()),wf=My(dm()),Tu=vT(ol()),Xv=(t,s)=>{const i=(s||document).createElement("div");return i.innerHTML=t,qa(ke.fromDom(i))},Py=t=>t.dom.innerHTML,_f=(t,s)=>{const i=za(t).dom,d=ke.fromDom(i.createDocumentFragment()),g=Xv(s,i);bu(d,g),hd(t),Xc(t,d)},v_=t=>{const s=ke.fromTag("div"),a=ke.fromDom(t.dom.cloneNode(!0));return Xc(s,a),Py(s)},wT=(t,s)=>ke.fromDom(t.dom.cloneNode(s)),Jv=t=>wT(t,!1),Qv=t=>{if(Z(t))return"#shadow-root";{const s=Jv(t);return v_(s)}},hm=t=>Qv(t),BO=(t,s,a)=>fs(s,t.element)&&!fs(s,a),bm=Tr([Ry(qu(),(t,s)=>{const a=s.event,i=a.originator,d=a.target;return BO(t,i,d)?(console.warn(qu()+` did not get interpreted by the desired target. 
Originator: `+hm(i)+`
Target: `+hm(d)+`
Check the `+qu()+" event handlers"),!1):!0})]);var lc=Object.freeze({__proto__:null,events:bm});let e0=0;const Tn=t=>{const a=new Date().getTime(),i=Math.floor(Math.random()*1e9);return e0++,t+"_"+i+e0+String(a)},t0=U("alloy-id-"),_T=U("data-alloy-id"),n0=t0(),k_=_T(),CT=(t,s)=>{const a=Tn(n0+t);return Cf(s,a),a},Cf=(t,s)=>{Object.defineProperty(t.dom,k_,{value:s,writable:!0})},ym=t=>{const s=yo(t)?t.dom[k_]:null;return T.from(s)},Sf=t=>Tn(t),Uh=at,xl=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+hm(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},i=d=>()=>{console.warn(s(d))};return{debugInfo:U("fake"),triggerEvent:i("triggerEvent"),triggerFocus:i("triggerFocus"),triggerEscape:i("triggerEscape"),broadcast:i("broadcast"),broadcastOn:i("broadcastOn"),broadcastEvent:i("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Ce}},Fy=xl(),w_=(t,s,a)=>{const i=a.toString(),d=i.indexOf(")")+1,g=i.indexOf("("),h=i.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:pp(h.slice(0,1).concat(h.slice(3)))}),t},pp=t=>De(t,s=>wr(s,"/*")?s.substring(0,s.length-2):s),Ul=(t,s)=>{const a=t.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:pp(g)}),t},o0=(t,s)=>{const a=s.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:pp(g.slice(1))}),t},Ku=Tn("alloy-premade"),$y=t=>(Object.defineProperty(t.element.dom,Ku,{value:t.uid,writable:!0}),qt(Ku,t)),ST=t=>Lo(t.dom,Ku),__=t=>Tt(t,Ku),vm=t=>o0((s,...a)=>t(s.getApis(),s,...a),t),Eu={init:()=>Wi({readState:U("No State required")})},Wi=t=>t,Iy=(t,s)=>{const a=De(s,d=>_a(d.name(),[vt("config"),$e("state",Eu)])),i=jr("component.behaviours",Jn(a),t.behaviours).fold(d=>{throw new Error(_u(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},at);return{list:s,data:Gn(i,d=>{const g=d.map(h=>({config:h.config,state:h.state.init(h.config)}));return U(g)})}},xT=t=>t.list,TT=t=>t.data,Ly=(t,s)=>{const a={};return qn(t,(i,d)=>{qn(i,(g,h)=>{const v=Tt(a,h).getOr([]);a[h]=v.concat([s(d,g)])})}),a},sl=t=>({classes:jt(t.classes)?[]:t.classes,attributes:jt(t.attributes)?{}:t.attributes,styles:jt(t.styles)?{}:t.styles}),Hy=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),hp=(t,s,a,i)=>{const d={...s};lt(a,z=>{d[z.name()]=z.exhibit(t,i)});const g=Ly(d,(z,M)=>({name:z,modification:M})),h=z=>ft(z,(M,P)=>({...P.modification,...M}),{}),v=ft(g.classes,(z,M)=>M.modification.concat(z),[]),_=h(g.attributes),A=h(g.styles);return sl({classes:v,attributes:_,styles:A})},C_=(t,s,a,i)=>{try{const d=Se(a,(g,h)=>{const v=g[s],_=h[s],A=i.indexOf(v),z=i.indexOf(_);if(A===-1)throw new Error("The ordering for "+t+" does not have an entry for "+v+`.
Order specified: `+JSON.stringify(i,null,2));if(z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(i,null,2));return A<z?-1:z<A?1:0});return Fo.value(d)}catch(d){return Fo.error([d])}},Ed=(t,s)=>({handler:t,purpose:s}),s0=(t,s)=>({cHandler:t,purpose:s}),S_=(t,s)=>s0(Zt.apply(void 0,[t.handler].concat(s)),t.purpose),lg=t=>t.cHandler,r0=(t,s)=>({name:t,handler:s}),km=(t,s)=>{const a={};return lt(t,i=>{a[i.name()]=i.handlers(s)}),a},jh=(t,s,a)=>{const i={...a,...km(s,t)};return Ly(i,r0)},bp=(t,s,a,i)=>{const d=jh(t,a,i);return ET(d,s)},a0=t=>{const s=bf(t);return(a,i,...d)=>{const g=[a,i].concat(d);s.abort.apply(void 0,g)?i.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},c0=(t,s)=>Fo.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(De(s,a=>a.name),null,2)]),x_=(t,s,a)=>{const i=s[a];return i?C_("Event: "+a,"name",t,i).map(d=>{const g=De(d,h=>h.handler);return yf(g)}):c0(a,t)},ET=(t,s)=>{const a=Ts(t,(i,d)=>(i.length===1?Fo.value(i[0].handler):x_(i,s,d)).map(h=>{const v=a0(h),_=i.length>1?Qn(s[d],A=>Zo(i,z=>z.name===A)).join(" > "):i[0].name;return qt(d,Ed(v,_))}));return ks(a,{})},qs="alloy.base.behaviour",i0=Jn([cc("dom","dom",Es(),Jn([vt("tag"),$e("styles",{}),$e("classes",[]),$e("attributes",{}),Is("value"),Is("innerHtml")])),vt("components"),vt("uid"),$e("events",{}),$e("apis",{}),cc("eventOrder","eventOrder",uf({[ol()]:["disabling",qs,"toggling","typeaheadevents"],[qu()]:[qs,"focusing","keying"],[dm()]:[qs,"disabling","toggling","representing"],[og()]:[qs,"representing","streaming","invalidating"],[cg()]:[qs,"representing","item-events","tooltipping"],[Zs()]:["focusing",qs,"item-type-events"],[ji()]:["focusing",qs,"item-type-events"],[ic()]:["item-type-events","tooltipping"],[Sd()]:["receiving","reflecting","tooltipping"]}),Qc()),Is("domModification")]),T_=t=>jr("custom.definition",i0,t),E_=t=>({...t.dom,uid:t.uid,domChildren:De(t.components,s=>s.element)}),Wh=t=>t.domModification.fold(()=>sl({}),sl),AT=t=>t.events,Ad=(t,s)=>{const a=br(t,s);return a===void 0||a===""?[]:a.split(" ")},Ma=(t,s,a)=>{const d=Ad(t,s).concat([a]);return nn(t,s,d.join(" ")),!0},Zh=(t,s,a)=>{const i=Qn(Ad(t,s),d=>d!==a);return i.length>0?nn(t,s,i.join(" ")):se(t,s),!1},yp=t=>t.dom.classList!==void 0,A_=t=>Ad(t,"class"),qh=(t,s)=>Ma(t,"class",s),l0=(t,s)=>Zh(t,"class",s),ga=(t,s)=>{yp(t)?t.dom.classList.add(s):qh(t,s)},PO=t=>{(yp(t)?t.dom.classList:A_(t)).length===0&&se(t,"class")},ea=(t,s)=>{yp(t)?t.dom.classList.remove(s):l0(t,s),PO(t)},rl=(t,s)=>yp(t)&&t.dom.classList.contains(s),xf=(t,s)=>{lt(s,a=>{ga(t,a)})},Si=(t,s)=>{lt(s,a=>{ea(t,a)})},OT=(t,s)=>Me(s,a=>rl(t,a)),u0=t=>{const s=t.dom.classList,a=new Array(s.length);for(let i=0;i<s.length;i++){const d=s.item(i);d!==null&&(a[i]=d)}return a},jl=t=>yp(t)?u0(t):A_(t),pa=t=>t.dom.value,Sa=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},zT=(t,s,a)=>Kc(t,s).map(d=>{if(a.exists(h=>!fs(h,d))){const h=a.map(Hs).getOr("span"),v=ke.fromTag(h);return vi(d,v),v}else return d}),Yu=(t,s,a)=>{a.fold(()=>Xc(t,s),i=>{fs(i,s)||(vi(i,s),ki(i))})},Gh=(t,s,a)=>{const i=De(s,a),d=qa(t);return lt(d.slice(i.length),ki),i},Vy=(t,s,a,i)=>{const d=Kc(t,s),g=i(a,d),h=zT(t,s,d);return Yu(t,g.element,h),g},Wl=(t,s,a)=>Gh(t,s,(i,d)=>Vy(t,d,i,a)),al=(t,s)=>Gh(t,s,(a,i)=>{const d=Kc(t,i);return Yu(t,a,d),a}),ug=(t,s)=>{const a=An(t),i=An(s),d=qe(i,a),g=as(t,(h,v)=>!Lo(s,v)||h!==s[v]).t;return{toRemove:d,toSet:g}},vp=(t,s)=>{const{class:a,style:i,...d}=Ke(s),{toSet:g,toRemove:h}=ug(t.attributes,d),v=()=>{lt(h,rt=>se(s,rt)),fu(s,g)},_=sa(s),{toSet:A,toRemove:z}=ug(t.styles,_),M=()=>{lt(z,rt=>q(s,rt)),dr(s,A)},P=jl(s),V=qe(P,t.classes),J=qe(t.classes,P),ye=()=>{xf(s,J),Si(s,V)},Je=rt=>{_f(s,rt)},xe=()=>{const rt=t.domChildren;al(s,rt)},_e=()=>{const rt=s,He=t.value.getOrUndefined();He!==pa(rt)&&Sa(rt,He??"")};return v(),ye(),M(),t.innerHtml.fold(xe,Je),_e(),s},Kh=t=>{const s=ke.fromTag(t.tag);fu(s,t.attributes),xf(s,t.classes),dr(s,t.styles),t.innerHtml.each(i=>_f(s,i));const a=t.domChildren;return bu(s,a),t.value.each(i=>{Sa(s,i)}),s},Yh=(t,s)=>{try{const a=vp(t,s);return T.some(a)}catch{return T.none()}},O_=t=>t.innerHtml.isSome()&&t.domChildren.length>0,d0=(t,s)=>{const a=d=>Hs(d)===t.tag&&!O_(t)&&!ST(d),i=s.filter(a).bind(d=>Yh(t,d)).getOrThunk(()=>Kh(t));return Cf(i,t.uid),i},DT=t=>{const s=Tt(t,"behaviours").getOr({});return ae(An(s),a=>{const i=s[a];return tn(i)?[i.me]:[]})},z_=(t,s)=>Iy(t,s),D_=t=>{const s=DT(t);return z_(t,s)},f0=(t,s,a)=>{const i=E_(t),d=Wh(t),g={"alloy.base.modification":d},h=s.length>0?hp(a,g,s,i):d;return Hy(i,h)},R_=(t,s,a)=>{const i={"alloy.base.behaviour":AT(t)};return bp(a,t.eventOrder,s,i).getOrDie()},FO=(t,s)=>{const a=()=>rt,i=po(Fy),d=Qa(T_(t)),g=D_(t),h=xT(g),v=TT(g),_=f0(d,h,v),A=d0(_,s),z=R_(d,h,v),M=po(d.components),P=He=>{i.set(He)},V=()=>{i.set(xl(a))},J=()=>{const He=qa(A),Mt=ae(He,At=>i.get().getByDom(At).fold(()=>[],Q));M.set(Mt)},ye=He=>{const Mt=v;return(ot(Mt[He.name()])?Mt[He.name()]:()=>{throw new Error("Could not find "+He.name()+" in "+JSON.stringify(t,null,2))})()},Je=He=>ot(v[He.name()]),xe=()=>d.apis,_e=He=>v[He]().map(Mt=>Mt.state.readState()).getOr("not enabled"),rt={uid:t.uid,getSystem:i.get,config:ye,hasConfigured:Je,spec:t,readState:_e,getApis:xe,connect:P,disconnect:V,element:A,syncComponents:J,components:M.get,events:z};return rt},Uy=(t,s)=>{const a=Tt(t,"components").getOr([]);return s.fold(()=>De(a,Ac),i=>De(a,(d,g)=>Tf(d,Kc(i,g))))},N_=(t,s)=>{const{events:a,...i}=Uh(t),d=Uy(i,s),g={...i,events:{...lc,...a},components:d};return Fo.value(FO(g,s))},$r=t=>{const s=ke.fromText(t);return m0({element:s})},m0=t=>{const s=As("external.component",vr([vt("element"),Is("uid")]),t),a=po(xl()),i=v=>{a.set(v)},d=()=>{a.set(xl(()=>h))},g=s.uid.getOrThunk(()=>Sf("external"));Cf(s.element,g);const h={uid:g,getSystem:a.get,config:T.none,hasConfigured:Ce,connect:i,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:U("No state"),syncComponents:j,components:U([]),events:{}};return $y(h)},g0=Sf,M_=t=>Lo(t,"uid"),Tf=(t,s)=>__(t).getOrThunk(()=>{const a=M_(t)?t:{uid:g0(""),...t};return N_(a,s).getOrDie()}),Ac=t=>Tf(t,T.none()),xi=$y;var B_=(t,s,a,i,d)=>t(a,i)?T.some(a):ot(d)&&d(a)?T.none():s(a,i,d);const p0=(t,s,a)=>{let i=t.dom;const d=ot(a)?a:Ce;for(;i.parentNode;){i=i.parentNode;const g=ke.fromDom(i);if(s(g))return T.some(g);if(d(g))break}return T.none()},wm=(t,s,a)=>B_((d,g)=>g(d),p0,t,s,a),dg=(t,s)=>{const a=d=>s(ke.fromDom(d));return X(t.dom.childNodes,a).map(ke.fromDom)},fg=(t,s)=>{const a=i=>{for(let d=0;d<i.childNodes.length;d++){const g=ke.fromDom(i.childNodes[d]);if(s(g))return T.some(g);const h=a(i.childNodes[d]);if(h.isSome())return h}return T.none()};return a(t.dom)},jy=(t,s,a)=>wm(t,s,a).isSome(),Ef=(t,s,a)=>p0(t,i=>Jr(i,s),a),Wy=(t,s)=>dg(t,a=>Jr(a,s)),Wr=(t,s)=>mi(s,t),cl=(t,s,a)=>B_((d,g)=>Jr(d,g),Ef,t,s,a),kp="aria-controls",RT=t=>wm(t,a=>{if(!yo(a))return!1;const i=br(a,"id");return i!==void 0&&i.indexOf(kp)>-1}).bind(a=>{const i=br(a,"id"),d=Le(a);return Wr(d,`[${kp}="${i}"]`)}),h0=()=>{const t=Tn(kp);return{id:t,link:i=>{nn(i,kp,t)},unlink:i=>{se(i,kp)}}},NT=(t,s)=>RT(s).exists(a=>mg(t,a)),mg=(t,s)=>jy(s,a=>fs(a,t.element),Ce)||NT(t,s),wp="unknown";var Zl;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Zl||(Zl={}));const b0=po({}),P_=(t,s)=>{const a=[],i=new Date().getTime();return{logEventCut:(d,g,h)=>{a.push({outcome:"cut",target:g,purpose:h})},logEventStopped:(d,g,h)=>{a.push({outcome:"stopped",target:g,purpose:h})},logNoParent:(d,g,h)=>{a.push({outcome:"no-parent",target:g,purpose:h})},logEventNoHandlers:(d,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(d,g,h)=>{a.push({outcome:"response",purpose:h,target:g})},write:()=>{const d=new Date().getTime();fo(["mousemove","mouseover","mouseout",dm()],t)||console.log(t,{event:t,time:d-i,target:s.dom,sequence:De(a,g=>fo(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+hm(g.target)+")":g.outcome)})}}},F_=(t,s,a)=>{switch(Tt(b0.get(),t).orThunk(()=>{const d=An(b0.get());return Rn(d,g=>t.indexOf(g)>-1?T.some(b0.get()[g]):T.none())}).getOr(Zl.NORMAL)){case Zl.NORMAL:return a(I_());case Zl.LOGGING:{const d=P_(t,s),g=a(d);return d.write(),g}case Zl.STOP:return!0}},MT=["alloy/data/Fields","alloy/debugging/Debugging"],$_=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return X(s,a=>a.indexOf("alloy")>0&&!Zo(MT,i=>a.indexOf(i)>-1)).getOr(wp)}else return wp},Zy={logEventCut:j,logEventStopped:j,logNoParent:j,logEventNoHandlers:j,logEventResponse:j,write:j},qy=(t,s,a)=>F_(t,s,a),I_=U(Zy),y0=U([vt("menu"),vt("selectedMenu")]),gg=U([vt("item"),vt("selectedItem")]);U(Jn(gg().concat(y0())));const L_=U(Jn(gg())),Gy=Wu("initSize",[vt("numColumns"),vt("numRows")]),Af=()=>fr("markers",L_()),Ky=()=>Wu("markers",[vt("backgroundMenu")].concat(y0()).concat(gg())),il=t=>Wu("markers",De(t,vt)),_p=(t,s,a)=>($_(),cc(s,s,a,_l(i=>Fo.value((...d)=>i.apply(void 0,d))))),hs=t=>_p("onHandler",t,lf(j)),Ti=t=>_p("onKeyboardHandler",t,lf(T.none)),Of=t=>_p("onHandler",t,Es()),v0=t=>_p("onKeyboardHandler",t,Es()),Dr=(t,s)=>yc(t,U(s)),k0=t=>yc(t,at),zf=U(Gy),xa=(t,s,a,i,d,g,h,v=!1)=>({x:t,y:s,bubble:a,direction:i,placement:d,restriction:g,label:`${h}-${d}`,alwaysFit:v}),Od=S.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ct=(t,s,a,i,d,g,h,v,_)=>t.fold(s,a,i,d,g,h,v,_),Yy=(t,s,a,i)=>t.fold(s,s,i,i,s,i,a,a),BT=(t,s,a,i)=>t.fold(s,i,s,i,a,a,s,i),Xy=Od.southeast,zd=Od.southwest,Tl=Od.northeast,Xh=Od.northwest,Jy=Od.south,w0=Od.north,Qy=Od.east,H_=Od.west,_m=(t,s,a,i)=>{const d=t+s;return d>i?a:d<a?i:d},ql=(t,s,a)=>Math.min(Math.max(t,s),a),Zi=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Oc=(t,s)=>Ue(["left","right","top","bottom"],a=>Tt(s,a).map(i=>Zi(t,i))),V_=(t,s,a)=>{const i=(_,A)=>s[_].map(z=>{const M=_==="top"||_==="bottom",P=M?a.top:a.left,J=(_==="left"||_==="top"?Math.max:Math.min)(z,A)+P;return M?ql(J,t.y,t.bottom):ql(J,t.x,t.right)}).getOr(A),d=i("left",t.x),g=i("top",t.y),h=i("right",t.right),v=i("bottom",t.bottom);return yr(d,g,h-d,v-g)},Cm="layout",U_=t=>t.x,Jh=(t,s)=>t.x+t.width/2-s.width/2,pg=(t,s)=>t.x+t.width-s.width,_0=(t,s)=>t.y-s.height,e1=t=>t.y+t.height,j_=(t,s)=>t.y+t.height/2-s.height/2,t1=t=>t.x+t.width,C0=(t,s)=>t.x-s.width,Ua=(t,s,a)=>xa(U_(t),e1(t),a.southeast(),Xy(),"southeast",Oc(t,{left:1,top:3}),Cm),kc=(t,s,a)=>xa(pg(t,s),e1(t),a.southwest(),zd(),"southwest",Oc(t,{right:0,top:3}),Cm),qi=(t,s,a)=>xa(U_(t),_0(t,s),a.northeast(),Tl(),"northeast",Oc(t,{left:1,bottom:2}),Cm),Ir=(t,s,a)=>xa(pg(t,s),_0(t,s),a.northwest(),Xh(),"northwest",Oc(t,{right:0,bottom:2}),Cm),wc=(t,s,a)=>xa(Jh(t,s),_0(t,s),a.north(),w0(),"north",Oc(t,{bottom:2}),Cm),uc=(t,s,a)=>xa(Jh(t,s),e1(t),a.south(),Jy(),"south",Oc(t,{top:3}),Cm),n1=(t,s,a)=>xa(t1(t),j_(t,s),a.east(),Qy(),"east",Oc(t,{left:0}),Cm),o1=(t,s,a)=>xa(C0(t,s),j_(t,s),a.west(),H_(),"west",Oc(t,{right:1}),Cm),W_=()=>[Ua,kc,qi,Ir,uc,wc,n1,o1],s1=()=>[kc,Ua,Ir,qi,uc,wc,n1,o1],S0=()=>[qi,Ir,Ua,kc,wc,uc],x0=()=>[Ir,qi,kc,Ua,wc,uc],Z_=()=>[Ua,kc,qi,Ir,uc,wc],zc=()=>[kc,Ua,Ir,qi,uc,wc],$O=(t,s)=>s.universal?t:Qn(t,a=>fo(s.channels,a));var PT=Object.freeze({__proto__:null,events:t=>Tr([kt(Sd(),(s,a)=>{const i=t.channels,d=An(i),g=a,h=$O(d,g);lt(h,v=>{const _=i[v],A=_.schema,z=As("channel["+v+`] data
Receiver: `+hm(s.element),A,g.data);_.onReceive(s,z)})})])}),FT=[fr("channels",up(Fo.value,vr([Of("onReceive"),$e("schema",Qc())])))];const $T=(t,s,a)=>Tu(i=>{a(i,t,s)}),T0=(t,s,a)=>wf((i,d)=>{a(i,t,s)}),q_=(t,s,a,i,d,g)=>{const h=vr(t),v=_a(s,[Hi("config",t)]);return Y_(h,v,s,a,i,d,g)},G_=(t,s,a,i,d,g)=>{const h=t,v=_a(s,[Cu("config",t)]);return Y_(h,v,s,a,i,d,g)},r1=(t,s,a)=>w_((d,...g)=>{const h=[d].concat(g);return d.config({name:U(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},v=>{const _=Array.prototype.slice.call(h,1);return s.apply(void 0,[d,v.config,v.state].concat(_))})},a,s),K_=t=>({key:t,value:void 0}),Y_=(t,s,a,i,d,g,h)=>{const v=M=>kr(M,a)?M[a]():T.none(),_=Gn(d,(M,P)=>r1(a,M,P)),z={...Gn(g,(M,P)=>Ul(M,P)),..._,revoke:Zt(K_,a),config:M=>{const P=As(a+"-config",t,M);return{key:a,value:{config:P,me:z,configAsRaw:Pr(()=>As(a+"-config",t,M)),initialConfig:M,state:h}}},schema:U(s),exhibit:(M,P)=>ia(v(M),Tt(i,"exhibit"),(V,J)=>J(P,V.config,V.state)).getOrThunk(()=>sl({})),name:U(a),handlers:M=>v(M).map(P=>Tt(i,"events").getOr(()=>({}))(P.config,P.state)).getOr({})};return z},$t=t=>vo(t),IT=vr([vt("fields"),vt("name"),$e("active",{}),$e("apis",{}),$e("state",Eu),$e("extra",{})]),_c=t=>{const s=As("Creating behaviour: "+t.name,IT,t);return q_(s.fields,s.name,s.active,s.apis,s.extra,s.state)},LT=vr([vt("branchKey"),vt("branches"),vt("name"),$e("active",{}),$e("apis",{}),$e("state",Eu),$e("extra",{})]),E0=t=>{const s=As("Creating behaviour: "+t.name,LT,t);return G_(ac(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},yn=U(void 0),Wc=_c({fields:FT,name:"receiving",active:PT});var J_=Object.freeze({__proto__:null,exhibit:(t,s)=>sl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Gl=t=>t.dom.focus(),a1=t=>t.dom.blur(),Cp=t=>{const s=Le(t).dom;return t.dom===s.activeElement},Xu=(t=af())=>T.from(t.dom.activeElement).map(ke.fromDom),Kl=t=>Xu(Le(t)).filter(s=>t.dom.contains(s.dom)),hg=(t,s)=>{const a=Le(s),i=Xu(a).bind(g=>{const h=v=>fs(g,v);return h(s)?T.some(s):fg(s,h)}),d=t(s);return i.each(g=>{Xu(a).filter(h=>fs(h,g)).fold(()=>{Gl(g)},j)}),d},Au=(t,s,a,i,d)=>{const g=h=>h+"px";return{position:t,left:s.map(g),top:a.map(g),right:i.map(g),bottom:d.map(g)}},ni=t=>({...t,position:T.some(t.position)}),Sp=(t,s)=>{Et(t,ni(s))},A0=S.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Q_=(t,s,a,i,d,g)=>{const h=s.rect,v=h.x-a,_=h.y-i,A=h.width,z=h.height,M=d-(v+A),P=g-(_+z),V=T.some(v),J=T.some(_),ye=T.some(M),Je=T.some(P),xe=T.none();return ct(s.direction,()=>Au(t,V,J,xe,xe),()=>Au(t,xe,J,ye,xe),()=>Au(t,V,xe,xe,Je),()=>Au(t,xe,xe,ye,Je),()=>Au(t,V,J,xe,xe),()=>Au(t,V,xe,xe,Je),()=>Au(t,V,J,xe,xe),()=>Au(t,xe,J,ye,xe))},e2=(t,s)=>t.fold(()=>{const a=s.rect;return Au("absolute",T.some(a.x),T.some(a.y),T.none(),T.none())},(a,i,d,g)=>Q_("absolute",s,a,i,d,g),(a,i,d,g)=>Q_("fixed",s,a,i,d,g)),O0=(t,s)=>{const a=Zt(cf,s),i=t.fold(a,a,()=>{const h=Hc();return cf(s).translate(-h.left,-h.top)}),d=Ra(s),g=Jo(s);return yr(i.left,i.top,d,g)},HT=(t,s)=>s.fold(()=>t.fold(Xa,Xa,yr),a=>t.fold(U(a),U(a),()=>{const i=z0(t,a.x,a.y);return yr(i.left,i.top,a.width,a.height)})),z0=(t,s,a)=>{const i=ts(s,a),d=()=>{const g=Hc();return i.translate(-g.left,-g.top)};return t.fold(U(i),U(i),d)},t2=(t,s,a,i)=>t.fold(s,a,i);A0.none;const VT=A0.relative,n2=A0.fixed,UT=(t,s)=>({anchorBox:t,origin:s}),jT=(t,s)=>UT(t,s),D0="data-alloy-placement",WT=(t,s)=>{nn(t,D0,s)},o2=t=>B(t,D0),ZT=t=>se(t,D0),xp=S.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),s2=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:h,y:v,right:_,bottom:A,width:z,height:M}=t,P=h>=a&&h<=d,V=v>=i&&v<=g,J=P&&V,ye=_<=d&&_>=a,Je=A<=g&&A>=i,xe=ye&&Je,_e=Math.min(z,h>=a?d-h:_-a),rt=Math.min(M,v>=i?g-v:A-i);return{originInBounds:J,sizeInBounds:xe,visibleW:_e,visibleH:rt}},qT=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:h,y:v,width:_,height:A}=t,z=Math.max(a,d-_),M=Math.max(i,g-A),P=ql(h,a,z),V=ql(v,i,M),J=Math.min(P+_,d)-P,ye=Math.min(V+A,g)-V;return yr(P,V,J,ye)},r2=(t,s,a)=>{const i=U(s.bottom-a.y),d=U(a.bottom-s.y),g=Yy(t,d,d,i),h=U(s.right-a.x),v=U(a.right-s.x);return{maxWidth:BT(t,v,v,h),maxHeight:g}},GT=(t,s,a,i)=>{const d=t.bubble,g=d.offset,h=V_(i,t.restriction,g),v=t.x+g.left,_=t.y+g.top,A=yr(v,_,s,a),{originInBounds:z,sizeInBounds:M,visibleW:P,visibleH:V}=s2(A,h),J=z&&M,ye=J?A:qT(A,h),Je=ye.width>0&&ye.height>0,{maxWidth:xe,maxHeight:_e}=r2(t.direction,ye,i),rt={rect:ye,maxHeight:_e,maxWidth:xe,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:_};return J||t.alwaysFit?xp.fit(rt):xp.nofit(rt,P,V,Je)},a2=(t,s,a,i,d,g)=>{const h=i.width,v=i.height,_=(z,M,P,V,J)=>{const ye=z(a,i,d,t,g),Je=GT(ye,h,v,g);return Je.fold(U(Je),(xe,_e,rt,He)=>(J===He?rt>V||_e>P:!J&&He)?Je:xp.nofit(M,P,V,J))};return mt(s,(z,M)=>{const P=Zt(_,M);return z.fold(U(z),P)},xp.nofit({rect:a,maxHeight:i.height,maxWidth:i.width,direction:Xy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(at,at)},c1=t=>{const s=po(T.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(T.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:v=>{a(),s.set(T.some(v))}}},Sm=()=>c1(t=>t.destroy()),Tp=()=>c1(t=>t.unbind()),Rr=()=>{const t=c1(j);return{...t,on:a=>t.get().each(a)}},R0=Oe,Ei=(t,s,a)=>pd(t,s,R0,a),Ep=(t,s,a)=>Zm(t,s,R0,a),ec=tm,c2=["top","bottom","right","left"],Dd="data-alloy-transition-timer",KT=(t,s)=>OT(t,s.classes),i1=(t,s,a)=>a.exists(i=>{const d=t.mode;return d==="all"?!0:i[d]!==s[d]}),i2=(t,s)=>{const a=i=>parseFloat(i).toFixed(3);return Yo(s,(i,d)=>{const g=t[d].map(a),h=i.map(a);return!qr(g,h)}).isSome()},Qh=t=>{const s=g=>{const v=Ws(t,g).split(/\s*,\s*/);return Qn(v,de)},a=g=>{if(nt(g)&&/^[\d.]+/.test(g)){const h=parseFloat(g);return wr(g,"ms")?h:h*1e3}else return 0},i=s("transition-delay"),d=s("transition-duration");return mt(d,(g,h,v)=>{const _=a(i[v])+a(h);return Math.max(g,_)},0)},YT=(t,s)=>{const a=Tp(),i=Tp();let d;const g=A=>{var z;const M=(z=A.raw.pseudoElement)!==null&&z!==void 0?z:"";return fs(A.target,t)&&re(M)&&fo(c2,A.raw.propertyName)},h=A=>{if(It(A)||g(A)){a.clear(),i.clear();const z=A==null?void 0:A.raw.type;(It(z)||z===mp())&&(clearTimeout(d),se(t,Dd),Si(t,s.classes))}},v=Ei(t,Uv(),A=>{g(A)&&(v.unbind(),a.set(Ei(t,mp(),h)),i.set(Ei(t,lm(),h)))}),_=Qh(t);requestAnimationFrame(()=>{d=setTimeout(h,_+17),nn(t,Dd,d)})},XT=(t,s)=>{xf(t,s.classes),B(t,Dd).each(a=>{clearTimeout(parseInt(a,10)),se(t,Dd)}),YT(t,s)},JT=(t,s,a,i,d,g)=>{const h=i1(i,d,g);if(h||KT(t,i)){Cn(t,"position",a.position);const v=O0(s,t),_=e2(s,{...d,rect:v}),A=Ue(c2,z=>_[z]);i2(a,A)&&(Et(t,A),h&&XT(t,i),ue(t))}else Si(t,i.classes)},eb=t=>({width:Ra(t),height:Jo(t)}),l2=(t,s,a,i)=>{q(s,"max-height"),q(s,"max-width");const d=eb(s);return a2(s,i.preference,t,d,a,i.bounds)},u2=(t,s)=>{const a=s.classes;Si(t,a.off),xf(t,a.on)},bg=(t,s,a)=>{const i=a.maxHeightFunction;i(t,s.maxHeight)},QT=(t,s,a)=>{const i=a.maxWidthFunction;i(t,s.maxWidth)},eE=(t,s,a)=>{const i=e2(a.origin,s);a.transition.each(d=>{JT(t,a.origin,i,d,s,a.lastPlacement)}),Sp(t,i)},tE=(t,s)=>{WT(t,s.placement)},d2=(t,s)=>{Cr(t,Math.floor(s))},N0=U((t,s)=>{d2(t,s),dr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Rf=U((t,s)=>{d2(t,s)}),f2=(t,s,a)=>t[s]===void 0?a:t[s],m2=(t,s,a,i,d,g,h,v)=>{const _=f2(h,"maxHeightFunction",N0()),A=f2(h,"maxWidthFunction",j),z=t.anchorBox,M=t.origin,P={bounds:HT(M,g),origin:M,preference:i,maxHeightFunction:_,maxWidthFunction:A,lastPlacement:d,transition:v};return l1(z,s,a,P)},l1=(t,s,a,i)=>{const d=l2(t,s,a,i);return eE(s,d,i),tE(s,d),u2(s,d),bg(s,d,i),QT(s,d,i),{layout:d.layout,placement:d.placement}},nE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Nf=(t,s,a,i=1)=>{const d=t*i,g=s*i,h=_=>Tt(a,_).getOr([]),v=(_,A,z)=>{const M=qe(nE,z);return{offset:ts(_,A),classesOn:ae(z,h),classesOff:ae(M,h)}};return{southeast:()=>v(-t,s,["top","alignLeft"]),southwest:()=>v(t,s,["top","alignRight"]),south:()=>v(-t/2,s,["top","alignCentre"]),northeast:()=>v(-t,-s,["bottom","alignLeft"]),northwest:()=>v(t,-s,["bottom","alignRight"]),north:()=>v(-t/2,-s,["bottom","alignCentre"]),east:()=>v(t,-s/2,["valignCentre","left"]),west:()=>v(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>v(d,g,["top","alignLeft","inset"]),insetNorthwest:()=>v(-d,g,["top","alignRight","inset"]),insetNorth:()=>v(-d/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>v(d,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>v(-d,-g,["bottom","alignRight","inset"]),insetSouth:()=>v(-d/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>v(-d,-g/2,["valignCentre","right","inset"]),insetWest:()=>v(d,-g/2,["valignCentre","left","inset"])}},u1=()=>Nf(0,0,{}),d1=at,tb=(t,s)=>a=>g2(a)==="rtl"?s:t,g2=t=>Ws(t,"direction")==="rtl"?"rtl":"ltr";var Rd;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Rd||(Rd={}));const f1="data-alloy-vertical-dir",p2=t=>jy(t,s=>yo(s)&&br(s,"data-alloy-vertical-dir")===Rd.BottomToTop),Ju=()=>_a("layouts",[vt("onLtr"),vt("onRtl"),Is("onBottomLtr"),Is("onBottomRtl")]),xm=(t,s,a,i,d,g,h)=>{const v=h.map(p2).getOr(!1),_=s.layouts.map(V=>V.onLtr(t)),A=s.layouts.map(V=>V.onRtl(t)),z=v?s.layouts.bind(V=>V.onBottomLtr.map(J=>J(t))).or(_).getOr(d):_.getOr(a),M=v?s.layouts.bind(V=>V.onBottomRtl.map(J=>J(t))).or(A).getOr(g):A.getOr(i);return tb(z,M)(t)},M0=(t,s,a)=>{const i=s.hotspot,d=O0(a,i.element),g=xm(t.element,s,Z_(),zc(),S0(),x0(),T.some(s.hotspot.element));return T.some(d1({anchorBox:d,bubble:s.bubble.getOr(u1()),overrides:s.overrides,layouts:g}))};var h2=[vt("hotspot"),Is("bubble"),$e("overrides",{}),Ju(),Dr("placement",M0)];const m1=(t,s,a)=>{const i=z0(a,s.x,s.y),d=yr(i.left,i.top,s.width,s.height),g=xm(t.element,s,W_(),s1(),W_(),s1(),T.none());return T.some(d1({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var oE=[vt("x"),vt("y"),$e("height",0),$e("width",0),$e("bubble",u1()),$e("overrides",{}),Ju(),Dr("placement",m1)];const b2=S.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),sE=t=>t.fold(at,(s,a,i)=>s.translate(-a,-i)),rE=t=>t.fold(at,at),y2=t=>mt(t,(s,a)=>s.translate(a.left,a.top),ts(0,0)),v2=t=>{const s=De(t,sE);return y2(s)},k2=t=>{const s=De(t,rE);return y2(s)},aE=b2.screen,cE=b2.absolute,iE=(t,s,a)=>{const i=sc(a.root).dom,d=g=>{const h=za(g),v=za(t.element);return fs(h,v)};return T.from(i.frameElement).map(ke.fromDom).filter(d).map(ra)},w2=(t,s,a)=>{const i=za(t.element),d=Hc(i),g=iE(t,s,a).getOr(d);return cE(g,d.left,d.top)},B0=(t,s,a,i)=>{const d=aE(ts(t,s));return T.some(nm(d,a,i))},P0=(t,s,a,i,d)=>t.map(g=>{const h=[s,g.point],v=t2(i,()=>k2(h),()=>k2(h),()=>v2(h)),_=bd(v.left,v.top,g.width,g.height),A=a.showAbove?S0():Z_(),z=a.showAbove?x0():zc(),M=xm(d,a,A,z,A,z,T.none());return d1({anchorBox:_,bubble:a.bubble.getOr(u1()),overrides:a.overrides,layouts:M})}),lE=(t,s,a)=>{const i=w2(t,a,s);return s.node.filter(cs).bind(d=>{const g=d.dom.getBoundingClientRect(),h=B0(g.left,g.top,g.width,g.height),v=s.node.getOr(t.element);return P0(h,i,s,a,v)})};var uE=[vt("node"),vt("root"),Is("bubble"),Ju(),$e("overrides",{}),$e("showAbove",!1),Dr("placement",lE)];const g1="\uFEFF",_2=" ",nb={create:(t,s,a,i)=>({start:t,soffset:s,finish:a,foffset:i})},h1=S.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),F0=(t,s,a,i)=>t.fold(s,a,i),C2=t=>t.fold(at,at,at),S2=h1.before,$0=h1.on,dE=h1.after,x2={before:S2,on:$0,after:dE,cata:F0,getStart:C2},ob=S.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),fE=t=>ob.exact(t.start,t.soffset,t.finish,t.foffset),b1=t=>t.match({domRange:s=>ke.fromDom(s.startContainer),relative:(s,a)=>x2.getStart(s),exact:(s,a,i,d)=>s}),T2=ob.domRange,E2=ob.relative,A2=ob.exact,y1=t=>{const s=b1(t);return sc(s)},mE=nb.create,sb={domRange:T2,relative:E2,exact:A2,exactFromRange:fE,getWin:y1,range:mE},gE=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,i)=>{t.setStart(a.dom,i)},a=>{t.setStartAfter(a.dom)})},pE=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,i)=>{t.setEnd(a.dom,i)},a=>{t.setEndAfter(a.dom)})},O2=(t,s,a)=>{const i=t.document.createRange();return gE(i,s),pE(i,a),i},ja=(t,s,a,i,d)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(i.dom,d),g},hE=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Ap=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?T.some(a).map(hE):T.none()},bE=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?T.some(s).map(hE):T.none()},rb=S.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),I0=(t,s,a)=>s(ke.fromDom(a.startContainer),a.startOffset,ke.fromDom(a.endContainer),a.endOffset),yE=(t,s)=>s.match({domRange:a=>({ltr:U(a),rtl:T.none}),relative:(a,i)=>({ltr:Pr(()=>O2(t,a,i)),rtl:Pr(()=>T.some(O2(t,i,a)))}),exact:(a,i,d,g)=>({ltr:Pr(()=>ja(t,a,i,d,g)),rtl:Pr(()=>T.some(ja(t,d,g,a,i)))})}),vE=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>rb.rtl(ke.fromDom(d.endContainer),d.endOffset,ke.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>I0(t,rb.ltr,a)):I0(t,rb.ltr,a)},L0=(t,s)=>{const a=yE(t,s);return vE(t,a)},Tm=(t,s)=>L0(t,s).match({ltr:(i,d,g,h)=>{const v=t.document.createRange();return v.setStart(i.dom,d),v.setEnd(g.dom,h),v},rtl:(i,d,g,h)=>{const v=t.document.createRange();return v.setStart(g.dom,h),v.setEnd(i.dom,d),v}});rb.ltr,rb.rtl;const Op=(t,s,a)=>Qn(Ic(t,a),s),Ai=(t,s)=>du(s,t),yg=(t,s,a,i)=>{const g=za(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,i),g},z2=(t,s,a,i)=>{const d=yg(t,s,a,i),g=fs(t,a)&&s===i;return d.collapsed&&!g},D2=t=>T.from(t.getSelection()),H0=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return T.some(nb.create(ke.fromDom(s.startContainer),s.startOffset,ke.fromDom(a.endContainer),a.endOffset))}else return T.none()},V0=t=>{if(t.anchorNode===null||t.focusNode===null)return H0(t);{const s=ke.fromDom(t.anchorNode),a=ke.fromDom(t.focusNode);return z2(s,t.anchorOffset,a,t.focusOffset)?T.some(nb.create(s,t.anchorOffset,a,t.focusOffset)):H0(t)}},U0=t=>D2(t).filter(s=>s.rangeCount>0).bind(V0),kE=(t,s)=>{const a=Tm(t,s);return Ap(a)},ab=(t,s)=>{const a=Tm(t,s);return bE(a)},Em=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return i(g).getOr("")},i=g=>t(g)?T.from(g.dom.nodeValue):T.none();return{get:a,getOption:i,set:(g,h)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=h}}})(os,"text"),cb=t=>Em.get(t),Qu=(t,s)=>({element:t,offset:s}),wE=(t,s)=>{const a=qa(t);if(a.length===0)return Qu(t,s);if(s<a.length)return Qu(a[s],0);{const i=a[a.length-1],d=os(i)?cb(i).length:qa(i).length;return Qu(i,d)}},Nd=(t,s)=>os(t)?Qu(t,s):wE(t,s),Ou=t=>t.foffset!==void 0,zp=(t,s)=>s.getSelection.getOrThunk(()=>()=>U0(t))().map(i=>{if(Ou(i)){const d=Nd(i.start,i.soffset),g=Nd(i.finish,i.foffset);return sb.range(d.element,d.offset,g.element,g.offset)}else return i}),j0=(t,s,a)=>{const i=sc(s.root).dom,d=w2(t,a,s),g=zp(i,s).bind(_=>{if(Ou(_))return ab(i,sb.exactFromRange(_)).orThunk(()=>{const z=ke.fromText(g1);vi(_.start,z);const M=kE(i,sb.exact(z,0,z,1));return ki(z),M}).bind(z=>B0(z.left,z.top,z.width,z.height));{const A=Gn(_,M=>M.dom.getBoundingClientRect()),z={left:Math.min(A.firstCell.left,A.lastCell.left),right:Math.max(A.firstCell.right,A.lastCell.right),top:Math.min(A.firstCell.top,A.lastCell.top),bottom:Math.max(A.firstCell.bottom,A.lastCell.bottom)};return B0(z.left,z.top,z.right-z.left,z.bottom-z.top)}}),v=zp(i,s).bind(_=>Ou(_)?yo(_.start)?T.some(_.start):xc(_.start):T.some(_.firstCell)).getOr(t.element);return P0(g,d,s,a,v)};var Dp=[Is("getSelection"),vt("root"),Is("bubble"),Ju(),$e("overrides",{}),$e("showAbove",!1),Dr("placement",j0)];const Mf="link-layout",Rp=t=>t.x+t.width,vg=(t,s)=>t.x-s.width,W0=(t,s)=>t.y-s.height+t.height,R2=t=>t.y,kg=(t,s,a)=>xa(Rp(t),R2(t),a.southeast(),Xy(),"southeast",Oc(t,{left:0,top:2}),Mf),wg=(t,s,a)=>xa(vg(t,s),R2(t),a.southwest(),zd(),"southwest",Oc(t,{right:1,top:2}),Mf),N2=(t,s,a)=>xa(Rp(t),W0(t,s),a.northeast(),Tl(),"northeast",Oc(t,{left:0,bottom:3}),Mf),k1=(t,s,a)=>xa(vg(t,s),W0(t,s),a.northwest(),Xh(),"northwest",Oc(t,{right:1,bottom:3}),Mf),Np=()=>[kg,wg,N2,k1],dc=()=>[wg,kg,k1,N2],_E=(t,s,a)=>{const i=O0(a,s.item.element),d=xm(t.element,s,Np(),dc(),Np(),dc(),T.none());return T.some(d1({anchorBox:i,bubble:u1(),overrides:s.overrides,layouts:d}))};var ed=[vt("item"),Ju(),$e("overrides",{}),Dr("placement",_E)],Z0=ac("type",{selection:Dp,node:uE,hotspot:h2,submenu:ed,makeshift:oE});const Mp=[Li("classes",Ja),Ui("mode","all",["all","layout","placement"])],_g=[$e("useFixed",Ce),Is("getBounds")],q0=[fr("anchor",Z0),_a("transition",Mp)],w1=()=>{const t=document.documentElement;return n2(0,0,t.clientWidth,t.clientHeight)},CE=t=>{const s=ra(t.element),a=t.element.dom.getBoundingClientRect();return VT(s.left,s.top,a.width,a.height)},M2=(t,s,a,i,d,g)=>{const h=jT(s.anchorBox,t);return m2(h,i.element,s.bubble,s.layouts,d,a,s.overrides,g)},ib=(t,s,a,i,d)=>{const g=T.none();B2(t,s,a,i,d,g)},B2=(t,s,a,i,d,g)=>{const h=As("placement.info",Jn(q0),d),v=h.anchor,_=i.element,A=a.get(i.uid);hg(()=>{Cn(_,"position","fixed");const z=zr(_,"visibility");Cn(_,"visibility","hidden");const M=s.useFixed()?w1():CE(t);v.placement(t,v,M).each(P=>{const V=g.orThunk(()=>s.getBounds.map(Ro)),J=M2(M,P,V,i,A,h.transition);a.set(i.uid,J)}),z.fold(()=>{q(_,"visibility")},P=>{Cn(_,"visibility",P)}),zr(_,"left").isNone()&&zr(_,"top").isNone()&&zr(_,"right").isNone()&&zr(_,"bottom").isNone()&&Vr(zr(_,"position"),"fixed")&&q(_,"position")},_)};var IO=Object.freeze({__proto__:null,position:ib,positionWithinBounds:B2,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,i)=>{const d=i.element;lt(["position","left","right","top","bottom"],g=>q(d,g)),ZT(d),a.clear(i.uid)}}),F2=Object.freeze({__proto__:null,init:()=>{let t={};return Wi({readState:()=>t,clear:d=>{tn(d)?delete t[d]:t={}},set:(d,g)=>{t[d]=g},get:d=>Tt(t,d)})}});const Zc=_c({fields:_g,name:"positioning",active:J_,apis:IO,state:F2}),_1=t=>t.getSystem().isConnected(),Cg=t=>{Ds(t,cg());const s=t.components();lt(s,Cg)},Sg=t=>{const s=t.components();lt(s,Sg),Ds(t,Vl())},El=(t,s)=>{t.getSystem().addToWorld(s),cs(t.element)&&Sg(s)},Om=t=>{Cg(t),t.getSystem().removeFromWorld(t)},G0=(t,s)=>{Xc(t.element,s.element)},Bp=t=>{lt(t.components(),s=>ki(s.element)),hd(t.element),t.syncComponents()},Gi=(t,s,a)=>{const i=t.components();Bp(t);const d=a(s),g=qe(i,d);lt(g,h=>{Cg(h),t.getSystem().removeFromWorld(h)}),lt(d,h=>{_1(h)?G0(t,h):(t.getSystem().addToWorld(h),G0(t,h),cs(t.element)&&Sg(h))}),t.syncComponents()},oi=(t,s,a)=>{const i=t.components(),d=ae(s,v=>__(v).toArray());lt(i,v=>{fo(d,v)||Om(v)});const g=a(s),h=qe(i,g);lt(h,v=>{_1(v)&&Om(v)}),lt(g,v=>{_1(v)||El(t,v)}),t.syncComponents()},ha=(t,s)=>{Al(t,s,Xc)},Al=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),cs(t.element)&&Sg(s),t.syncComponents()},C1=t=>{Cg(t),ki(t.element),t.getSystem().removeFromWorld(t)},Dc=t=>{const s=Da(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());C1(t),s.each(a=>{a.syncComponents()})},zm=t=>{const s=t.components();lt(s,C1),hd(t.element),t.syncComponents()},Pp=(t,s)=>{K0(t,s,Xc)},ub=(t,s)=>{K0(t,s,of)},K0=(t,s,a)=>{a(t,s.element);const i=qa(s.element);lt(i,d=>{s.getByDom(d).each(Sg)})},Y0=t=>{const s=qa(t.element);lt(s,a=>{t.getByDom(a).each(Cg)}),ki(t.element)},Bf=(t,s,a,i)=>{a.get().each(h=>{zm(t)});const d=s.getAttachPoint(t);ha(d,t);const g=t.getSystem().build(i);return ha(t,g),a.set(g),g},db=(t,s,a,i)=>{const d=Bf(t,s,a,i);return s.onOpen(t,d),d},td=(t,s,a,i)=>a.get().map(()=>Bf(t,s,a,i)),SE=(t,s,a,i,d)=>{Q0(t,s),db(t,s,a,i),d(),H2(t,s)},X0=(t,s,a)=>{a.get().each(i=>{zm(t),Dc(t),s.onClose(t,i),a.clear()})},$2=(t,s,a)=>a.isOpen(),LO=(t,s,a,i)=>$2(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,i)),I2=(t,s,a)=>a.get(),L2=(t,s,a,i)=>{zr(t.element,s).fold(()=>{se(t.element,a)},d=>{nn(t.element,a,d)}),Cn(t.element,s,i)},J0=(t,s,a)=>{B(t.element,a).fold(()=>q(t.element,s),i=>Cn(t.element,s,i))},Q0=(t,s,a)=>{const i=s.getAttachPoint(t);Cn(t.element,"position",Zc.getMode(i)),L2(t,"visibility",s.cloakVisibilityAttr,"hidden")},ek=t=>Zo(["top","left","right","bottom"],s=>zr(t,s).isSome()),H2=(t,s,a)=>{ek(t.element)||q(t.element,"position"),J0(t,"visibility",s.cloakVisibilityAttr)};var V2=Object.freeze({__proto__:null,cloak:Q0,decloak:H2,open:db,openWhileCloaked:SE,close:X0,isOpen:$2,isPartOf:LO,getState:I2,setContent:td}),xE=Object.freeze({__proto__:null,events:(t,s)=>Tr([kt(ma(),(a,i)=>{X0(a,t,s)})])}),TE=[hs("onOpen"),hs("onClose"),vt("isPartOf"),vt("getAttachPoint"),$e("cloakVisibilityAttr","data-precloak-visibility")],EE=Object.freeze({__proto__:null,init:()=>{const t=Rr(),s=U("not-implemented");return Wi({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const is=_c({fields:TE,name:"sandboxing",active:xE,apis:V2,state:EE}),Yl=U("dismiss.popups"),Dm=U("reposition.popups"),tk=U("mouse.released"),j2=vr([$e("isExtraPart",Ce),_a("fireEventInstead",[$e("event",fm())])]),Fp=t=>{const s=As("Dismissal",j2,t);return{[Yl()]:{schema:vr([vt("target")]),onReceive:(a,i)=>{is.isOpen(a)&&(is.isPartOf(a,i.target)||s.isExtraPart(a,i.target)||s.fireEventInstead.fold(()=>is.close(a),g=>Ds(a,g.event)))}}}},AE=vr([_a("fireEventInstead",[$e("event",Ey())]),wi("doReposition")]),nk=t=>{const s=As("Reposition",AE,t);return{[Dm()]:{onReceive:a=>{is.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),i=>Ds(a,i.event))}}}},S1=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},fb=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var sk=Object.freeze({__proto__:null,onLoad:S1,onUnload:fb,setValue:(t,s,a,i)=>{s.store.manager.setValue(t,s,a,i)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),W2=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Or((i,d)=>{S1(i,t,s)}),Td((i,d)=>{fb(i,t,s)})]:[T0(t,s,S1)];return Tr(a)}});const rk=()=>{const t=po(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,i=()=>{t.set(null)};return Wi({set:t.set,get:t.get,isNotSet:a,clear:i,readState:s})},$p=()=>Wi({readState:j}),mb=()=>{const t=po({}),s=po({});return Wi({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:h=>Tt(t.get(),h).orThunk(()=>Tt(s.get(),h)),update:h=>{const v=t.get(),_=s.get(),A={},z={};lt(h,M=>{A[M.value]=M,Tt(M,"meta").each(P=>{Tt(P,"text").each(V=>{z[V]=M})})}),t.set({...v,...A}),s.set({..._,...z})},clear:()=>{t.set({}),s.set({})}})};var Md=Object.freeze({__proto__:null,memory:rk,dataset:mb,manual:$p,init:t=>t.store.manager.state(t)});const Z2=(t,s,a,i)=>{const d=s.store;a.update([i]),d.setValue(t,i),s.onSetValue(t,i)},zE=(t,s,a)=>{const i=s.store,d=i.getDataKey(t);return a.lookup(d).getOrThunk(()=>i.getFallbackEntry(d))},q2=(t,s,a)=>{s.store.initialValue.each(d=>{Z2(t,s,a,d)})},ak=(t,s,a)=>{a.clear()};var Ip=[Is("initialValue"),vt("getFallbackEntry"),vt("getDataKey"),vt("setValue"),Dr("manager",{setValue:Z2,getValue:zE,onLoad:q2,onUnload:ak,state:mb})];const ck=(t,s,a)=>s.store.getValue(t),T1=(t,s,a,i)=>{s.store.setValue(t,i),s.onSetValue(t,i)},ik=(t,s,a)=>{s.store.initialValue.each(i=>{s.store.setValue(t,i)})};var G2=[vt("getValue"),$e("setValue",j),Is("initialValue"),Dr("manager",{setValue:T1,getValue:ck,onLoad:ik,onUnload:j,state:Eu.init})];const gb=(t,s,a,i)=>{a.set(i),s.onSetValue(t,i)},lk=(t,s,a)=>a.get(),DE=(t,s,a)=>{s.store.initialValue.each(i=>{a.isNotSet()&&a.set(i)})},zu=(t,s,a)=>{a.clear()};var K2=[Is("initialValue"),Dr("manager",{setValue:gb,getValue:lk,onLoad:DE,onUnload:zu,state:rk})],RE=[jc("store",{mode:"memory"},ac("mode",{memory:K2,manual:G2,dataset:Ip})),hs("onSetValue"),$e("resetOnDom",!1)];const dn=_c({fields:RE,name:"representing",active:W2,apis:sk,extra:{setValueFrom:(t,s)=>{const a=dn.getValue(s);dn.setValue(t,a)}},state:Md}),Wa=(t,s)=>Fh(t,{},De(s,a=>_y(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([yc("dump",at)])),Du=t=>t.dump,tc=(t,s)=>({...$t(s),...t.dump}),Ru={field:Wa,augment:tc,get:Du},Y2="placeholder",pb=S.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Xl=t=>Lo(t,"uiType"),E1=(t,s,a,i)=>t.exists(d=>d!==a.owner)?pb.single(!0,U(a)):Tt(i,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+An(i)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),hb=(t,s,a,i)=>Xl(a)&&a.uiType===Y2?E1(t,s,a,i):pb.single(!1,U(a)),bb=(t,s,a,i)=>hb(t,s,a,i).fold((g,h)=>{const v=Xl(a)?h(s,a.config,a.validated):h(s),_=Tt(v,"components").getOr([]),A=ae(_,z=>bb(t,s,z,i));return[{...v,components:A}]},(g,h)=>{if(Xl(a)){const v=h(s,a.config,a.validated);return a.validated.preprocess.getOr(at)(v)}else return h(s)}),uk=(t,s,a,i)=>ae(a,d=>bb(t,s,d,i)),yb=(t,s)=>{let a=!1;const i=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((h,v)=>h,(h,v)=>h);return{name:U(t),required:g,used:i,replace:d}},A1=(t,s,a,i)=>{const d=Gn(i,(h,v)=>yb(v,h)),g=uk(t,s,a,d);return qn(d,h=>{if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},dk=pb.single,NE=pb.multiple,Nu=U(Y2),O1=S.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),vb=$e("factory",{sketch:at}),ll=$e("schema",[]),Ba=vt("name"),fk=cc("pname","pname",Jc(t=>"<alloy."+Tn(t.name)+">"),Qc()),kb=yc("schema",()=>[Is("preprocess")]),zl=$e("defaults",U({})),wb=$e("overrides",U({})),mk=Jn([vb,ll,Ba,fk,zl,wb]),gk=Jn([vb,ll,Ba,zl,wb]),ME=Jn([vb,ll,Ba,fk,zl,wb]),X2=Jn([vb,kb,Ba,vt("unit"),fk,zl,wb]),_b=t=>t.fold(T.some,T.none,T.some,T.some),J2=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},BE=t=>t.fold(at,at,at,at),Nm=(t,s)=>a=>{const i=As("Converting part type",s,a);return t(i)},Rc=Nm(O1.required,mk),Jl=Nm(O1.external,gk),Dl=Nm(O1.optional,ME),ul=Nm(O1.group,X2),z1=U("entirety");var xg=Object.freeze({__proto__:null,required:Rc,external:Jl,optional:Dl,group:ul,asNamedPart:_b,name:J2,asCommon:BE,original:z1});const Pf=(t,s,a,i)=>sr(s.defaults(t,a,i),a,{uid:t.partUids[s.name]},s.overrides(t,a,i)),PE=(t,s,a)=>{const i={},d={};return lt(a,g=>{g.fold(h=>{i[h.pname]=dk(!0,(v,_,A)=>h.factory.sketch(Pf(v,h,_,A)))},h=>{const v=s.parts[h.name];d[h.name]=U(h.factory.sketch(Pf(s,h,v[z1()]),v))},h=>{i[h.pname]=dk(!1,(v,_,A)=>h.factory.sketch(Pf(v,h,_,A)))},h=>{i[h.pname]=NE(!0,(v,_,A)=>{const z=v[h.name];return De(z,M=>h.factory.sketch(sr(h.defaults(v,M,A),M,h.overrides(v,M))))})})}),{internals:U(i),externals:U(d)}},pk=(t,s)=>{const a={};return lt(s,i=>{_b(i).each(d=>{const g=FE(t,d.pname);a[d.name]=h=>{const v=As("Part: "+d.name+" in "+t,Jn(d.schema),h);return{...g,config:h,validated:v}}})}),a},FE=(t,s)=>({uiType:Nu(),owner:t,name:s}),Q2=(t,s,a)=>({uiType:Nu(),owner:t,name:s,config:a,validated:{}}),eC=t=>ae(t,s=>s.fold(T.none,T.some,T.none,T.none).map(a=>Wu(a.name,a.schema.concat([k0(z1())]))).toArray()),tC=t=>De(t,J2),D1=(t,s,a)=>PE(t,s,a),hk=(t,s,a)=>A1(T.some(t),s,s.components,a),mr=(t,s,a)=>{const i=s.partUids[a];return t.getSystem().getByUid(i).toOptional()},Ff=(t,s,a)=>mr(t,s,a).getOrDie("Could not find part: "+a),Lp=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return lt(a,h=>{i[h]=U(g.getByUid(d[h]))}),i},bk=(t,s)=>{const a=t.getSystem();return Gn(s.partUids,(i,d)=>U(a.getByUid(i)))},nC=t=>An(t.partUids),yk=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return lt(a,h=>{i[h]=U(g.getByUid(d[h]).getOrDie())}),i},oC=(t,s)=>{const a=tC(s);return vo(De(a,i=>({key:i,value:t+"-"+i})))},R1=t=>cc("partUids","partUids",Qo(s=>oC(s.uid,t)),Qc());var $E=Object.freeze({__proto__:null,generate:pk,generateOne:Q2,schemas:eC,names:tC,substitutes:D1,components:hk,defaultUids:oC,defaultUidsSchema:R1,getAllParts:bk,getAllPartNames:nC,getPart:mr,getPartOrDie:Ff,getParts:Lp,getPartsOrDie:yk});const IE=(t,s)=>(t.length>0?[Wu("parts",t)]:[]).concat([vt("uid"),$e("dom",{}),$e("components",[]),k0("originalSpec"),$e("debug.sketcher",{})]).concat(s),sC=(t,s,a,i,d)=>{const g=IE(i,d);return As(t+" [SpecSchema]",vr(g.concat(s)),a)},LE=(t,s,a,i)=>{const d=Vp(i),g=sC(t,s,d,[],[]);return a(g,d)},vk=(t,s,a,i,d)=>{const g=Vp(d),h=eC(a),v=R1(a),_=sC(t,s,g,h,[v]),A=D1(t,_,a),z=hk(t,_,A.internals());return i(_,z,g,A.externals())},Hp=t=>Lo(t,"uid"),Vp=t=>Hp(t)?t:{...t,uid:Sf("uid")},N1=t=>t.uid!==void 0,rC=vr([vt("name"),vt("factory"),vt("configFields"),$e("apis",{}),$e("extraApis",{})]),Ql=vr([vt("name"),vt("factory"),vt("configFields"),vt("partFields"),$e("apis",{}),$e("extraApis",{})]),Nc=t=>{const s=As("Sketcher for "+t.name,rC,t),a=g=>LE(s.name,s.configFields,s.factory,g),i=Gn(s.apis,vm),d=Gn(s.extraApis,(g,h)=>Ul(g,h));return{name:s.name,configFields:s.configFields,sketch:a,...i,...d}},qc=t=>{const s=As("Sketcher for "+t.name,Ql,t),a=h=>vk(s.name,s.configFields,s.partFields,s.factory,h),i=pk(s.name,s.partFields),d=Gn(s.apis,vm),g=Gn(s.extraApis,(h,v)=>Ul(h,v));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:i,...d,...g}},Bd=t=>la("input")(t)&&br(t,"type")!=="radio"||la("textarea")(t);var VE=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const UE=[vt("find")],bs=_c({fields:UE,name:"composing",apis:VE}),jE=["input","button","textarea","select"],aC=(t,s,a)=>{(s.disabled()?Cb:kk)(t,s)},M1=(t,s)=>s.useNative===!0&&fo(jE,Hs(t.element)),WE=t=>Y(t.element,"disabled"),hn=t=>{nn(t.element,"disabled","disabled")},Tg=t=>{se(t.element,"disabled")},ZE=t=>br(t.element,"aria-disabled")==="true",cC=t=>{nn(t.element,"aria-disabled","true")},B1=t=>{nn(t.element,"aria-disabled","false")},Cb=(t,s,a)=>{s.disableClass.each(d=>{ga(t.element,d)}),(M1(t,s)?hn:cC)(t),s.onDisabled(t)},kk=(t,s,a)=>{s.disableClass.each(d=>{ea(t.element,d)}),(M1(t,s)?Tg:B1)(t),s.onEnabled(t)},wk=(t,s)=>M1(t,s)?WE(t):ZE(t);var VO=Object.freeze({__proto__:null,enable:kk,disable:Cb,isDisabled:wk,onLoad:aC,set:(t,s,a,i)=>{(i?Cb:kk)(t,s)}}),P1=Object.freeze({__proto__:null,exhibit:(t,s)=>sl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Tr([Gv(ol(),(a,i)=>wk(a,t)),T0(t,s,aC)])}),GE=[Ha("disabled",Ce),$e("useNative",!0),Is("disableClass"),hs("onDisabled"),hs("onEnabled")];const ko=_c({fields:GE,name:"disabling",active:P1,apis:VO}),KE=(t,s,a,i)=>{const d=Ai(t.element,"."+s.highlightClass);lt(d,g=>{Zo(i,v=>fs(v.element,g))||(ea(g,s.highlightClass),t.getSystem().getByDom(g).each(v=>{s.onDehighlight(t,v),Ds(v,Zv())}))})},YE=(t,s,a)=>KE(t,s,a,[]),UO=(t,s,a,i)=>{xb(t,s,a,i)&&(ea(i.element,s.highlightClass),s.onDehighlight(t,i),Ds(i,Zv()))},Sb=(t,s,a,i)=>{KE(t,s,a,[i]),xb(t,s,a,i)||(ga(i.element,s.highlightClass),s.onHighlight(t,i),Ds(i,mm()))},F1=(t,s,a)=>{Ck(t,s).each(i=>{Sb(t,s,a,i)})},XE=(t,s,a)=>{Sk(t,s).each(i=>{Sb(t,s,a,i)})},JE=(t,s,a,i)=>{uC(t,s,a,i).fold(d=>{throw d},d=>{Sb(t,s,a,d)})},QE=(t,s,a,i)=>{const d=xk(t,s);X(d,i).each(h=>{Sb(t,s,a,h)})},xb=(t,s,a,i)=>rl(i.element,s.highlightClass),_k=(t,s,a)=>Wr(t.element,"."+s.highlightClass).bind(i=>t.getSystem().getByDom(i).toOptional()),uC=(t,s,a,i)=>{const d=Ai(t.element,"."+s.itemClass);return T.from(d[i]).fold(()=>Fo.error(new Error("No element found with index "+i)),t.getSystem().getByDom)},Ck=(t,s,a)=>Wr(t.element,"."+s.itemClass).bind(i=>t.getSystem().getByDom(i).toOptional()),Sk=(t,s,a)=>{const i=Ai(t.element,"."+s.itemClass);return(i.length>0?T.some(i[i.length-1]):T.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},dC=(t,s,a,i)=>{const d=Ai(t.element,"."+s.itemClass);return be(d,h=>rl(h,s.highlightClass)).bind(h=>{const v=_m(h,i,0,d.length-1);return t.getSystem().getByDom(d[v]).toOptional()})},$f=(t,s,a)=>dC(t,s,a,-1),Up=(t,s,a)=>dC(t,s,a,1),xk=(t,s,a)=>{const i=Ai(t.element,"."+s.itemClass);return Xr(De(i,d=>t.getSystem().getByDom(d).toOptional()))};var e3=Object.freeze({__proto__:null,dehighlightAll:YE,dehighlight:UO,highlight:Sb,highlightFirst:F1,highlightLast:XE,highlightAt:JE,highlightBy:QE,isHighlighted:xb,getHighlighted:_k,getFirst:Ck,getLast:Sk,getPrevious:$f,getNext:Up,getCandidates:xk}),t3=[vt("highlightClass"),vt("itemClass"),hs("onHighlight"),hs("onDehighlight")];const Fs=_c({fields:t3,name:"highlighting",apis:e3}),Tk=[8],Pd=[9],Fd=[13],If=[27],si=[32],$1=[37],jp=[38],I1=[39],Eg=[40],n3=(t,s,a)=>{const i=Fe(t.slice(0,s)),d=Fe(t.slice(s+1));return X(i.concat(d),a)},jO=(t,s,a)=>{const i=Fe(t.slice(0,s));return X(i,a)},o3=(t,s,a)=>{const i=t.slice(0,s),d=t.slice(s+1);return X(d.concat(i),a)},fC=(t,s,a)=>{const i=t.slice(s+1);return X(i,a)},ys=t=>s=>{const a=s.raw;return fo(t,a.which)},Mu=t=>s=>Me(t,a=>a(s)),Wp=t=>t.raw.shiftKey===!0,s3=t=>t.raw.ctrlKey===!0,Ag=Pe(Wp),ws=(t,s)=>({matches:t,classification:s}),r3=(t,s)=>X(t,i=>i.matches(s)).map(i=>i.classification),L1=(t,s,a)=>{s.exists(d=>a.exists(g=>fs(g,d)))||oo(t,Ay(),{prevFocus:s,newFocus:a})},H1=()=>{const t=a=>Kl(a.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().triggerFocus(i,a.element);const g=t(a);L1(a,d,g)}}},V1=()=>{const t=a=>Fs.getHighlighted(a).map(i=>i.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().getByDom(i).fold(j,h=>{Fs.highlight(a,h)});const g=t(a);L1(a,d,g)}}};var Lf;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Lf||(Lf={}));const $d=(t,s,a,i,d)=>{const g=()=>t.concat([$e("focusManager",H1()),jc("focusInside","onFocus",_l(A=>fo(["onFocus","onEnterOrSpace","onApi"],A)?Fo.value(A):Fo.error("Invalid value for focusInside"))),Dr("handler",_),Dr("state",s),Dr("sendFocusIn",d)]),h=(A,z,M,P,V)=>{const J=M(A,z,P,V);return r3(J,z.event).bind(ye=>ye(A,z,P,V))},_={schema:g,processKey:h,toEvents:(A,z)=>{const M=A.focusInside!==Lf.OnFocusMode?T.none():d(A).map(J=>kt(qu(),(ye,Je)=>{J(ye,A,z),Je.stop()})),P=(J,ye)=>{const Je=ys(si.concat(Fd))(ye.event);A.focusInside===Lf.OnEnterOrSpaceMode&&Je&&Sl(J,ye)&&d(A).each(xe=>{xe(J,A,z),ye.stop()})},V=[kt(xu(),(J,ye)=>{h(J,ye,a,A,z).fold(()=>{P(J,ye)},Je=>{ye.stop()})}),kt(hT(),(J,ye)=>{h(J,ye,i,A,z).each(Je=>{ye.stop()})})];return Tr(M.toArray().concat(V))}};return _},l=t=>{const s=[Is("onEscape"),Is("onEnter"),$e("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),$e("firstTabstop",0),$e("useTabstopAt",Oe),Is("visibilitySelector")].concat([t]),a=(xe,_e)=>{const rt=xe.visibilitySelector.bind(He=>cl(_e,He)).getOr(_e);return ln(rt)>0},i=(xe,_e)=>{const rt=Ai(xe.element,_e.selector),He=Qn(rt,Mt=>a(_e,Mt));return T.from(He[_e.firstTabstop])},d=(xe,_e)=>_e.focusManager.get(xe).bind(rt=>cl(rt,_e.selector)),g=(xe,_e)=>a(xe,_e)&&xe.useTabstopAt(_e),h=(xe,_e,rt)=>{i(xe,_e).each(He=>{_e.focusManager.set(xe,He)})},v=(xe,_e,rt,He,Mt)=>Mt(_e,rt,At=>g(He,At)).fold(()=>He.cyclic?T.some(!0):T.none(),At=>(He.focusManager.set(xe,At),T.some(!0))),_=(xe,_e,rt,He)=>{const Mt=Ai(xe.element,rt.selector);return d(xe,rt).bind(At=>be(Mt,Zt(fs,At)).bind(an=>v(xe,Mt,an,rt,He)))},A=(xe,_e,rt)=>{const He=rt.cyclic?n3:jO;return _(xe,_e,rt,He)},z=(xe,_e,rt)=>{const He=rt.cyclic?o3:fC;return _(xe,_e,rt,He)},M=xe=>Sc(xe).bind(gi).exists(_e=>fs(_e,xe)),P=(xe,_e,rt)=>d(xe,rt).filter(He=>!rt.useTabstopAt(He)).bind(He=>(M(He)?A:z)(xe,_e,rt)),V=(xe,_e,rt)=>rt.onEnter.bind(He=>He(xe,_e)),J=(xe,_e,rt)=>rt.onEscape.bind(He=>He(xe,_e)),ye=U([ws(Mu([Wp,ys(Pd)]),A),ws(ys(Pd),z),ws(Mu([Ag,ys(Fd)]),V)]),Je=U([ws(ys(If),J),ws(ys(Pd),P)]);return $d(s,Eu.init,ye,Je,()=>T.some(h))};var f=l(yc("cyclic",Ce)),p=l(yc("cyclic",Oe));const y=(t,s,a)=>(Dy(t,a,ol()),T.some(!0)),C=(t,s,a)=>Bd(a)&&ys(si)(s.event)?T.none():y(t,s,a),O=(t,s)=>T.some(!0),$=[$e("execute",C),$e("useSpace",!1),$e("useEnter",!0),$e("useControlEnter",!1),$e("useDown",!1)],W=(t,s,a)=>a.execute(t,s,t.element),te=(t,s,a,i)=>{const d=a.useSpace&&!Bd(t.element)?si:[],g=a.useEnter?Fd:[],h=a.useDown?Eg:[],v=d.concat(g).concat(h);return[ws(ys(v),W)].concat(a.useControlEnter?[ws(Mu([s3,ys(Fd)]),W)]:[])},he=(t,s,a,i)=>a.useSpace&&!Bd(t.element)?[ws(ys(si),O)]:[];var Ne=$d($,Eu.init,te,he,()=>T.none());const Ct=()=>{const t=Rr();return Wi({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,g)=>{t.set({numRows:d,numColumns:g})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var Jt=Object.freeze({__proto__:null,flatgrid:Ct,init:t=>t.state(t)});const bt=t=>(s,a,i,d)=>{const g=t(s.element);return Oo(g,s,a,i,d)},Qt=(t,s)=>{const a=tb(t,s);return bt(a)},pt=(t,s)=>{const a=tb(s,t);return bt(a)},zn=t=>(s,a,i,d)=>Oo(t,s,a,i,d),Oo=(t,s,a,i,d)=>i.focusManager.get(s).bind(h=>t(s.element,h,i,d)).map(h=>(i.focusManager.set(s,h),!0)),Go=zn,Lr=zn,Pa=zn,Ta=t=>t.offsetWidth<=0&&t.offsetHeight<=0,ri=t=>!Ta(t.dom),Og=(t,s)=>be(t,s).map(a=>({index:a,candidates:t})),Tb=(t,s,a)=>{const i=h=>fs(h,s),d=Ai(t,a),g=Qn(d,ri);return Og(g,i)},U1=(t,s)=>be(t,a=>fs(s,a)),j1=(t,s,a,i)=>{const d=Math.floor(s/a),g=s%a;return i(d,g).bind(h=>{const v=h.row*a+h.column;return v>=0&&v<t.length?T.some(t[v]):T.none()})},lr=(t,s,a,i,d)=>j1(t,s,i,(g,h)=>{const _=g===a-1?t.length-g*i:i,A=_m(h,d,0,_-1);return T.some({row:g,column:A})}),ai=(t,s,a,i,d)=>j1(t,s,i,(g,h)=>{const v=_m(g,d,0,a-1),A=v===a-1?t.length-v*i:i,z=ql(h,0,A-1);return T.some({row:v,column:z})}),Oi=(t,s,a,i)=>lr(t,s,a,i,1),Bu=(t,s,a,i)=>lr(t,s,a,i,-1),zi=(t,s,a,i)=>ai(t,s,a,i,-1),zg=(t,s,a,i)=>ai(t,s,a,i,1),ci=[vt("selector"),$e("execute",C),Ti("onEscape"),$e("captureTab",!1),zf()],Eb=(t,s,a)=>{Wr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},Ab=(t,s)=>s.focusManager.get(t).bind(a=>cl(a,s.selector)),nd=(t,s,a,i)=>Ab(t,a).bind(d=>a.execute(t,s,d)),fc=t=>(s,a,i,d)=>Tb(s,a,i.selector).bind(g=>t(g.candidates,g.index,d.getNumRows().getOr(i.initSize.numRows),d.getNumColumns().getOr(i.initSize.numColumns))),Ek=(t,s,a)=>a.captureTab?T.some(!0):T.none(),mC=(t,s,a)=>a.onEscape(t,s),gC=fc(Bu),pC=fc(Oi),a3=fc(zi),Ak=fc(zg),c3=U([ws(ys($1),Qt(gC,pC)),ws(ys(I1),pt(gC,pC)),ws(ys(jp),Go(a3)),ws(ys(Eg),Lr(Ak)),ws(Mu([Wp,ys(Pd)]),Ek),ws(Mu([Ag,ys(Pd)]),Ek),ws(ys(si.concat(Fd)),nd)]),Ob=U([ws(ys(If),mC),ws(ys(si),O)]);var i3=$d(ci,Ct,c3,Ob,()=>T.some(Eb));const hC=(t,s,a,i,d)=>{const g=v=>Hs(v)==="button"&&br(v,"disabled")==="disabled",h=(v,_,A)=>d(v,_,i,0,A.length-1,A[_],z=>g(A[z])?h(v,z,A):T.from(A[z]));return Tb(t,a,s).bind(v=>{const _=v.index,A=v.candidates;return h(_,_,A)})},WO=(t,s,a,i)=>hC(t,s,a,i,(d,g,h,v,_,A,z)=>{const M=ql(g+h,v,_);return M===d?T.from(A):z(M)}),l3=(t,s,a,i)=>hC(t,s,a,i,(d,g,h,v,_,A,z)=>{const M=_m(g,h,v,_);return M===d?T.none():z(M)}),ZO=[vt("selector"),$e("getInitial",T.none),$e("execute",C),Ti("onEscape"),$e("executeOnMove",!1),$e("allowVertical",!0),$e("allowHorizontal",!0),$e("cycles",!0)],BB=(t,s)=>s.focusManager.get(t).bind(a=>cl(a,s.selector)),u3=(t,s,a)=>BB(t,a).bind(i=>a.execute(t,s,i)),od=(t,s,a)=>{s.getInitial(t).orThunk(()=>Wr(t.element,s.selector)).each(i=>{s.focusManager.set(t,i)})},qO=(t,s,a)=>(a.cycles?l3:WO)(t,a.selector,s,-1),GO=(t,s,a)=>(a.cycles?l3:WO)(t,a.selector,s,1),KO=t=>(s,a,i,d)=>t(s,a,i,d).bind(()=>i.executeOnMove?u3(s,a,i):T.some(!0)),PB=(t,s,a)=>a.onEscape(t,s),FB=(t,s,a,i)=>{const d=[...a.allowHorizontal?$1:[]].concat(a.allowVertical?jp:[]),g=[...a.allowHorizontal?I1:[]].concat(a.allowVertical?Eg:[]);return[ws(ys(d),KO(Qt(qO,GO))),ws(ys(g),KO(pt(qO,GO))),ws(ys(Fd),u3),ws(ys(si),u3)]},W1=U([ws(ys(si),O),ws(ys(If),PB)]);var d3=$d(ZO,Eu.init,FB,W1,()=>T.some(od));const bC=(t,s,a)=>T.from(t[s]).bind(i=>T.from(i[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),yC=(t,s,a,i)=>{const g=t[s].length,h=_m(a,i,0,g-1);return bC(t,s,h)},Ok=(t,s,a,i)=>{const d=_m(a,i,0,t.length-1),g=t[d].length,h=ql(s,0,g-1);return bC(t,d,h)},vC=(t,s,a,i)=>{const g=t[s].length,h=ql(a+i,0,g-1);return bC(t,s,h)},YO=(t,s,a,i)=>{const d=ql(a+i,0,t.length-1),g=t[d].length,h=ql(s,0,g-1);return bC(t,d,h)},$B=(t,s,a)=>yC(t,s,a,1),IB=(t,s,a)=>yC(t,s,a,-1),LB=(t,s,a)=>Ok(t,a,s,-1),HB=(t,s,a)=>Ok(t,a,s,1),VB=(t,s,a)=>vC(t,s,a,-1),XO=(t,s,a)=>vC(t,s,a,1),f3=(t,s,a)=>YO(t,a,s,-1),UB=(t,s,a)=>YO(t,a,s,1),jB=[Wu("selectors",[vt("row"),vt("cell")]),$e("cycles",!0),$e("previousSelector",T.none),$e("execute",C)],WB=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return Wr(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},ZB=(t,s,a)=>Kl(t.element).bind(i=>a.execute(t,s,i)),zb=(t,s)=>De(t,a=>Ai(a,s.selectors.cell)),kC=(t,s)=>(a,i,d)=>{const g=d.cycles?t:s;return cl(i,d.selectors.row).bind(h=>{const v=Ai(h,d.selectors.cell);return U1(v,i).bind(_=>{const A=Ai(a,d.selectors.row);return U1(A,h).bind(z=>{const M=zb(A,d);return g(M,z,_).map(P=>P.cell)})})})},JO=kC(IB,VB),wC=kC($B,XO),qB=kC(LB,f3),QO=kC(HB,UB),ez=U([ws(ys($1),Qt(JO,wC)),ws(ys(I1),pt(JO,wC)),ws(ys(jp),Go(qB)),ws(ys(Eg),Lr(QO)),ws(ys(si.concat(Fd)),ZB)]),tz=U([ws(ys(si),O)]);var nz=$d(jB,Eu.init,ez,tz,()=>T.some(WB));const GB=[vt("selector"),$e("execute",C),$e("moveOnTab",!1)],oz=(t,s,a)=>a.focusManager.get(t).bind(i=>a.execute(t,s,i)),KB=(t,s,a)=>{Wr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},_C=(t,s,a)=>l3(t,a.selector,s,-1),sz=(t,s,a)=>l3(t,a.selector,s,1),YB=(t,s,a,i)=>a.moveOnTab?Pa(_C)(t,s,a,i):T.none(),XB=(t,s,a,i)=>a.moveOnTab?Pa(sz)(t,s,a,i):T.none(),JB=U([ws(ys(jp),Pa(_C)),ws(ys(Eg),Pa(sz)),ws(Mu([Wp,ys(Pd)]),YB),ws(Mu([Ag,ys(Pd)]),XB),ws(ys(Fd),oz),ws(ys(si),oz)]),rz=U([ws(ys(si),O)]);var QB=$d(GB,Eu.init,JB,rz,()=>T.some(KB));const eP=[Ti("onSpace"),Ti("onEnter"),Ti("onShiftEnter"),Ti("onLeft"),Ti("onRight"),Ti("onTab"),Ti("onShiftTab"),Ti("onUp"),Ti("onDown"),Ti("onEscape"),$e("stopSpaceKeyup",!1),Is("focusIn")],tP=(t,s,a)=>[ws(ys(si),a.onSpace),ws(Mu([Ag,ys(Fd)]),a.onEnter),ws(Mu([Wp,ys(Fd)]),a.onShiftEnter),ws(Mu([Wp,ys(Pd)]),a.onShiftTab),ws(Mu([Ag,ys(Pd)]),a.onTab),ws(ys(jp),a.onUp),ws(ys(Eg),a.onDown),ws(ys($1),a.onLeft),ws(ys(I1),a.onRight),ws(ys(si),a.onSpace)],az=(t,s,a)=>[...a.stopSpaceKeyup?[ws(ys(si),O)]:[],ws(ys(If),a.onEscape)];var nP=$d(eP,Eu.init,tP,az,t=>t.focusIn);const oP=f.schema(),cz=p.schema(),sP=d3.schema(),rP=i3.schema(),CC=nz.schema(),aP=Ne.schema(),iz=QB.schema(),Rl=nP.schema();var lz=Object.freeze({__proto__:null,acyclic:oP,cyclic:cz,flow:sP,flatgrid:rP,matrix:CC,execution:aP,menu:iz,special:Rl});const cP=t=>kr(t,"setGridSize"),so=E0({branchKey:"mode",branches:lz,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},i=>{i(t,s,a)})},setGridSize:(t,s,a,i,d)=>{cP(a)?a.setGridSize(i,d):console.error("Layout does not support setGridSize")}},state:Jt}),uz=(t,s)=>{hg(()=>{Gi(t,s,()=>De(s,t.getSystem().build))},t.element)},m3=(t,s)=>{hg(()=>{oi(t,s,()=>Wl(t.element,s,t.getSystem().buildOrPatch))},t.element)},dz=(t,s,a,i)=>{Om(s);const d=Vy(t.element,a,i,t.getSystem().buildOrPatch);El(t,d),t.syncComponents()},g3=(t,s,a)=>{const i=t.getSystem().build(a);Al(t,i,s)},fz=(t,s,a,i)=>{Dc(s),g3(t,(d,g)=>Ia(d,g,a),i)},mz=(t,s,a,i)=>(s.reuseDom?m3:uz)(t,i),gz=(t,s,a,i)=>{g3(t,Xc,i)},pz=(t,s,a,i)=>{g3(t,Gm,i)},iP=(t,s,a,i)=>{const d=SC(t);X(d,h=>fs(i.element,h.element)).each(Dc)},SC=(t,s)=>t.components(),hz=(t,s,a,i,d)=>{const g=SC(t);return T.from(g[i]).map(h=>(d.fold(()=>Dc(h),v=>{(s.reuseDom?dz:fz)(t,h,i,v)}),h))};var bz=Object.freeze({__proto__:null,append:gz,prepend:pz,remove:iP,replaceAt:hz,replaceBy:(t,s,a,i,d)=>{const g=SC(t);return be(g,i).bind(h=>hz(t,s,a,h,d))},set:mz,contents:SC});const Bo=_c({fields:[Ca("reuseDom",!0)],name:"replacing",apis:bz}),Zp=(t,s)=>{const a=Tr(s);return _c({fields:[vt("enabled")],name:t,active:{events:U(a)}})},Vo=(t,s)=>{const a=Zp(t,s);return{key:t,value:{config:{},me:a,configAsRaw:U({}),initialConfig:{},state:Eu}}},p3=(t,s)=>{s.ignore||(Gl(t.element),s.onFocus(t))};var lP=Object.freeze({__proto__:null,focus:p3,blur:(t,s)=>{s.ignore||a1(t.element)},isFocused:t=>Cp(t.element)}),vz=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return sl(a)},events:t=>Tr([kt(qu(),(s,a)=>{p3(s,t),a.stop()})].concat(t.stopMousedown?[kt(Zs(),(s,a)=>{a.event.prevent()})]:[]))}),h3=[hs("onFocus"),$e("stopMousedown",!1),$e("ignore",!1)];const wo=_c({fields:h3,name:"focusing",active:vz,apis:lP}),uP=t=>({init:()=>{const a=po(t);return{get:()=>a.get(),set:v=>a.set(v),clear:()=>a.set(t),readState:()=>a.get()}}}),qp=(t,s,a)=>{const i=s.aria;i.update(t,i,a.get())},kz=(t,s,a)=>{s.toggleClass.each(i=>{a.get()?ga(t.element,i):ea(t.element,i)})},Z1=(t,s,a,i)=>{const d=a.get();a.set(i),kz(t,s,a),qp(t,s,a),d!==i&&s.onToggled(t,i)},wz=(t,s,a)=>{Z1(t,s,a,!a.get())},dP=(t,s,a)=>{Z1(t,s,a,!0)},zk=(t,s,a)=>{Z1(t,s,a,!1)},Dk=(t,s,a)=>a.get(),b3=(t,s,a)=>{Z1(t,s,a,s.selected)};var _z=Object.freeze({__proto__:null,onLoad:b3,toggle:wz,isOn:Dk,on:dP,off:zk,set:Z1}),fP=Object.freeze({__proto__:null,exhibit:()=>sl({}),events:(t,s)=>{const a=$T(t,s,wz),i=T0(t,s,b3);return Tr(ve([t.toggleOnExecute?[a]:[],[i]]))}});const mP=(t,s,a)=>{nn(t.element,"aria-pressed",a),s.syncWithExpanded&&xC(t,s,a)},Cz=(t,s,a)=>{nn(t.element,"aria-selected",a)},Dg=(t,s,a)=>{nn(t.element,"aria-checked",a)},xC=(t,s,a)=>{nn(t.element,"aria-expanded",a)};var Sz=[$e("selected",!1),Is("toggleClass"),$e("toggleOnExecute",!0),hs("onToggled"),jc("aria",{mode:"none"},ac("mode",{pressed:[$e("syncWithExpanded",!1),Dr("update",mP)],checked:[Dr("update",Dg)],expanded:[Dr("update",xC)],selected:[Dr("update",Cz)],none:[Dr("update",j)]}))];const Ko=_c({fields:Sz,name:"toggling",active:fP,apis:_z,state:uP(!1)}),y3=()=>{const t=(s,a)=>{a.stop(),gm(s)};return[kt(im(),t),kt(Lh(),t),xd(ji()),xd(Zs())]},q1=t=>{const s=a=>Tu((i,d)=>{a(i),d.stop()});return Tr(ve([t.map(s).toArray(),y3()]))},v3="alloy.item-hover",xz="alloy.item-focus",Tz="alloy.item-toggled",Ez=t=>{(Kl(t.element).isNone()||wo.isFocused(t))&&(wo.isFocused(t)||wo.focus(t),oo(t,v3,{item:t}))},Rk=t=>{oo(t,xz,{item:t})},k3=(t,s)=>{oo(t,Tz,{item:t,state:s})},TC=U(v3),gP=U(xz),pP=U(Tz),Az=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Oz=t=>({aria:{mode:"checked"},...Rs(t,(s,a)=>a!=="exclusive"),onToggled:(s,a)=>{ot(t.onToggled)&&t.onToggled(s,a),k3(s,a)}}),zz=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:Az(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ru.augment(t.itemBehaviours,[t.toggling.fold(Ko.revoke,s=>Ko.config(Oz(s))),wo.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{Rk(s)}}),so.config({mode:"execution"}),dn.config({store:{mode:"memory",initialValue:t.data}}),Vo("item-type-events",[...y3(),kt(ic(),Ez),kt(Ih(),wo.focus)])]),components:t.components,eventOrder:t.eventOrder}),Dz=[vt("data"),vt("components"),vt("dom"),$e("hasSubmenu",!1),Is("toggling"),Ru.field("itemBehaviours",[Ko,wo,so,dn]),$e("ignoreFocus",!1),$e("domModification",{}),Dr("builder",zz),$e("eventOrder",{})],hP=t=>({dom:t.dom,components:t.components,events:Tr([By(Ih())])}),w3=[vt("dom"),vt("components"),Dr("builder",hP)],_3=U("item-widget"),C3=U([Rc({name:"widget",overrides:t=>({behaviours:$t([dn.config({store:{mode:"manual",getValue:s=>t.data,setValue:j}})])})})]),bP=t=>{const s=D1(_3(),t,C3()),a=hk(_3(),t,s.internals()),i=g=>mr(g,t,"widget").map(h=>(so.focusIn(h),h)),d=(g,h)=>Bd(h.event.target)?T.none():(()=>(t.autofocus&&h.setSource(g.element),T.none()))();return{dom:t.dom,components:a,domModification:t.domModification,events:Tr([Tu((g,h)=>{i(g).each(v=>{h.stop()})}),kt(ic(),Ez),kt(Ih(),(g,h)=>{t.autofocus?i(g):wo.focus(g)})]),behaviours:Ru.augment(t.widgetBehaviours,[dn.config({store:{mode:"memory",initialValue:t.data}}),wo.config({ignore:t.ignoreFocus,onFocus:g=>{Rk(g)}}),so.config({mode:"special",focusIn:t.autofocus?g=>{i(g)}:yn(),onLeft:d,onRight:d,onEscape:(g,h)=>!wo.isFocused(g)&&!t.autofocus?(wo.focus(g),T.some(!0)):(t.autofocus&&h.setSource(g.element),T.none())})])}},yP=[vt("uid"),vt("data"),vt("components"),vt("dom"),$e("autofocus",!1),$e("ignoreFocus",!1),Ru.field("widgetBehaviours",[dn,wo,so]),$e("domModification",{}),R1(C3()),Dr("builder",bP)],Rz=ac("type",{widget:yP,item:Dz,separator:w3}),vP=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),kP=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),Nz=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),Nk=U([ul({factory:{sketch:t=>{const s=As("menu.spec item",Rz,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Lo(s,"uid")?s:{...s,uid:Sf("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),wP=U([vt("value"),vt("items"),vt("dom"),vt("components"),$e("eventOrder",{}),Wa("menuBehaviours",[Fs,dn,bs,so]),jc("movement",{mode:"menu",moveOnTab:!0},ac("mode",{grid:[zf(),Dr("config",vP)],matrix:[Dr("config",kP),vt("rowSelector"),$e("previousSelector",T.none)],menu:[$e("moveOnTab",!0),Dr("config",Nz)]})),Af(),$e("fakeFocus",!1),$e("focusManager",H1()),hs("onHighlight"),hs("onDehighlight")]),G1=U("alloy.menu-focus"),S3=(t,s)=>{const a=Ai(t.element,'[role="menuitemradio"][aria-checked="true"]');lt(a,i=>{fs(i,s.element)||t.getSystem().getByDom(i).each(d=>{Ko.off(d)})})},Mz=(t,s,a,i)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:tc(t.menuBehaviours,[Fs.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),dn.config({store:{mode:"memory",initialValue:t.value}}),bs.config({find:T.some}),so.config(t.movement.config(t,t.movement))]),events:Tr([kt(gP(),(d,g)=>{const h=g.event;d.getSystem().getByDom(h.target).each(v=>{Fs.highlight(d,v),g.stop(),oo(d,G1(),{menu:d,item:v})})}),kt(TC(),(d,g)=>{const h=g.event.item;Fs.highlight(d,h)}),kt(pP(),(d,g)=>{const{item:h,state:v}=g.event;v&&br(h.element,"role")==="menuitemradio"&&S3(d,h)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),Gp=qc({name:"Menu",configFields:wP(),partFields:Nk(),factory:Mz}),_P=t=>to(t,(s,a)=>({k:s,v:a})),Bz=(t,s,a,i)=>Tt(a,i).bind(d=>Tt(t,d).bind(g=>{const h=Bz(t,s,a,g);return T.some([g].concat(h))})).getOr([]),Pz=(t,s)=>{const a={};qn(t,(h,v)=>{lt(h,_=>{a[_]=v})});const i=s,d=_P(s),g=Gn(d,(h,v)=>[v].concat(Bz(a,i,d,v)));return Gn(a,h=>Tt(g,h).getOr([h]))},CP=()=>{const t=po({}),s=po({}),a=po({}),i=Rr(),d=po({}),g=()=>{t.set({}),s.set({}),a.set({}),i.clear()},h=()=>i.get().isNone(),v=(Mt,At)=>{s.set({...s.get(),[Mt]:{type:"prepared",menu:At}})},_=(Mt,At,Ut,an)=>{i.set(Mt),t.set(Ut),s.set(At),d.set(an);const rs=Pz(an,Ut);a.set(rs)},A=Mt=>Yo(t.get(),(At,Ut)=>At===Mt),z=(Mt,At,Ut)=>ye(Mt).bind(an=>A(Mt).bind(rs=>At(rs).map(Un=>({triggeredMenu:an,triggeringItem:Un,triggeringPath:Ut})))),M=(Mt,At)=>{const Ut=Qn(xe(Mt).toArray(),an=>ye(an).isSome());return Tt(a.get(),Mt).bind(an=>{const rs=Fe(Ut.concat(an)),Un=ae(rs,(Io,No)=>z(Io,At,rs.slice(0,No+1)).fold(()=>Vr(i.get(),Io)?[]:[T.none()],xs=>[T.some(xs)]));return _s(Un)})},P=Mt=>Tt(t.get(),Mt).map(At=>{const Ut=Tt(a.get(),Mt).getOr([]);return[At].concat(Ut)}),V=Mt=>Tt(a.get(),Mt).bind(At=>At.length>1?T.some(At.slice(1)):T.none()),J=Mt=>Tt(a.get(),Mt),ye=Mt=>Je(Mt).bind(x3),Je=Mt=>Tt(s.get(),Mt),xe=Mt=>Tt(t.get(),Mt);return{setMenuBuilt:v,setContents:_,expand:P,refresh:J,collapse:V,lookupMenu:Je,lookupItem:xe,otherMenus:Mt=>{const At=d.get();return qe(An(At),Mt)},getPrimary:()=>i.get().bind(ye),getMenus:()=>s.get(),clear:g,isClear:h,getTriggeringPath:M}},x3=t=>t.type==="prepared"?T.some(t.menu):T.none(),Fz={init:CP,extractPreparedMenu:x3},$z=Tn("tiered-menu-item-highlight"),T3=Tn("tiered-menu-item-dehighlight");var ii;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(ii||(ii={}));const E3=(t,s)=>{const a=Rr(),i=(Gt,Pn,zo)=>Gn(zo,(us,go)=>{const $o=()=>Gp.sketch({...us,value:go,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(pr,Ls)=>{oo(pr,$z,{menuComp:pr,itemComp:Ls})},onDehighlight:(pr,Ls)=>{oo(pr,T3,{menuComp:pr,itemComp:Ls})},focusManager:t.fakeFocus?V1():H1()});return go===Pn?{type:"prepared",menu:Gt.getSystem().build($o())}:{type:"notbuilt",nbMenu:$o}}),d=Fz.init(),g=Gt=>{const Pn=i(Gt,t.data.primary,t.data.menus),zo=_();return d.setContents(t.data.primary,Pn,t.data.expansions,zo),d.getPrimary()},h=Gt=>dn.getValue(Gt).value,v=(Gt,Pn,zo)=>Rn(Pn,us=>{if(!us.getSystem().isConnected())return T.none();const go=Fs.getCandidates(us);return X(go,$o=>h($o)===zo)}),_=Gt=>Gn(t.data.menus,(Pn,zo)=>ae(Pn.items,us=>us.type==="separator"?[]:[us.data.value])),A=Fs.highlight,z=(Gt,Pn)=>{A(Gt,Pn),Fs.getHighlighted(Pn).orThunk(()=>Fs.getFirst(Pn)).each(zo=>{t.fakeFocus?Fs.highlight(Pn,zo):Dy(Gt,zo.element,Ih())})},M=(Gt,Pn)=>Xr(De(Pn,zo=>Gt.lookupMenu(zo).bind(us=>us.type==="prepared"?T.some(us.menu):T.none()))),P=(Gt,Pn,zo)=>{const us=M(Pn,Pn.otherMenus(zo));lt(us,go=>{Si(go.element,[t.markers.backgroundMenu]),t.stayInDom||Bo.remove(Gt,go)})},V=Gt=>a.get().getOrThunk(()=>{const Pn={},zo=Ai(Gt.element,`.${t.markers.item}`),us=Qn(zo,go=>br(go,"aria-haspopup")==="true");return lt(us,go=>{Gt.getSystem().getByDom(go).each($o=>{const pr=h($o);Pn[pr]=$o})}),a.set(Pn),Pn}),J=(Gt,Pn)=>{const zo=V(Gt);qn(zo,(us,go)=>{const $o=fo(Pn,go);nn(us.element,"aria-expanded",$o)})},ye=(Gt,Pn,zo)=>T.from(zo[0]).bind(us=>Pn.lookupMenu(us).bind(go=>{if(go.type==="notbuilt")return T.none();{const $o=go.menu,pr=M(Pn,zo.slice(1));return lt(pr,Ls=>{ga(Ls.element,t.markers.backgroundMenu)}),cs($o.element)||Bo.append(Gt,xi($o)),Si($o.element,[t.markers.backgroundMenu]),z(Gt,$o),P(Gt,Pn,zo),T.some($o)}}));let Je;(function(Gt){Gt[Gt.HighlightSubmenu=0]="HighlightSubmenu",Gt[Gt.HighlightParent=1]="HighlightParent"})(Je||(Je={}));const xe=(Gt,Pn,zo)=>{if(zo.type==="notbuilt"){const us=Gt.getSystem().build(zo.nbMenu());return d.setMenuBuilt(Pn,us),us}else return zo.menu},_e=(Gt,Pn,zo=Je.HighlightSubmenu)=>{if(Pn.hasConfigured(ko)&&ko.isDisabled(Pn))return T.some(Pn);{const us=h(Pn);return d.expand(us).bind(go=>(J(Gt,go),T.from(go[0]).bind($o=>d.lookupMenu($o).bind(pr=>{const Ls=xe(Gt,$o,pr);return cs(Ls.element)||Bo.append(Gt,xi(Ls)),t.onOpenSubmenu(Gt,Pn,Ls,Fe(go)),zo===Je.HighlightSubmenu?(Fs.highlightFirst(Ls),ye(Gt,d,go)):(Fs.dehighlightAll(Ls),T.some(Pn))}))))}},rt=(Gt,Pn)=>{const zo=h(Pn);return d.collapse(zo).bind(us=>(J(Gt,us),ye(Gt,d,us).map(go=>(t.onCollapseMenu(Gt,Pn,go),go))))},He=(Gt,Pn)=>{const zo=h(Pn);return d.refresh(zo).bind(us=>(J(Gt,us),ye(Gt,d,us)))},Mt=(Gt,Pn)=>Bd(Pn.element)?T.none():_e(Gt,Pn,Je.HighlightSubmenu),At=(Gt,Pn)=>Bd(Pn.element)?T.none():rt(Gt,Pn),Ut=(Gt,Pn)=>rt(Gt,Pn).orThunk(()=>t.onEscape(Gt,Pn).map(()=>Gt)),an=Gt=>(Pn,zo)=>cl(zo.getSource(),`.${t.markers.item}`).bind(us=>Pn.getSystem().getByDom(us).toOptional().bind(go=>Gt(Pn,go).map(Oe))),rs=Tr([kt(G1(),(Gt,Pn)=>{const zo=Pn.event.item;d.lookupItem(h(zo)).each(()=>{const us=Pn.event.menu;Fs.highlight(Gt,us);const go=h(Pn.event.item);d.refresh(go).each($o=>P(Gt,d,$o))})}),Tu((Gt,Pn)=>{const zo=Pn.event.target;Gt.getSystem().getByDom(zo).each(us=>{h(us).indexOf("collapse-item")===0&&rt(Gt,us),_e(Gt,us,Je.HighlightSubmenu).fold(()=>{t.onExecute(Gt,us)},j)})}),Or((Gt,Pn)=>{g(Gt).each(zo=>{Bo.append(Gt,xi(zo)),t.onOpenMenu(Gt,zo),t.highlightOnOpen===ii.HighlightMenuAndItem?z(Gt,zo):t.highlightOnOpen===ii.HighlightJustMenu&&A(Gt,zo)})}),kt($z,(Gt,Pn)=>{t.onHighlightItem(Gt,Pn.event.menuComp,Pn.event.itemComp)}),kt(T3,(Gt,Pn)=>{t.onDehighlightItem(Gt,Pn.event.menuComp,Pn.event.itemComp)}),...t.navigateOnHover?[kt(TC(),(Gt,Pn)=>{const zo=Pn.event.item;He(Gt,zo),_e(Gt,zo,Je.HighlightParent),t.onHover(Gt,zo)})]:[]]),Un=Gt=>Fs.getHighlighted(Gt).bind(Fs.getHighlighted),Io=Gt=>{Un(Gt).each(Pn=>{rt(Gt,Pn)})},No=Gt=>{d.getPrimary().each(Pn=>{z(Gt,Pn)})},xs=Gt=>T.from(Gt.components()[0]).filter(Pn=>br(Pn.element,"role")==="menu"),vs={collapseMenu:Io,highlightPrimary:No,repositionMenus:Gt=>{d.getPrimary().bind(zo=>Un(Gt).bind(us=>{const go=h(us),$o=oa(d.getMenus()),pr=Xr(De($o,Fz.extractPreparedMenu));return d.getTriggeringPath(go,Ls=>v(Gt,pr,Ls))}).map(us=>({primary:zo,triggeringPath:us}))).fold(()=>{xs(Gt).each(zo=>{t.onRepositionMenu(Gt,zo,[])})},({primary:zo,triggeringPath:us})=>{t.onRepositionMenu(Gt,zo,us)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:tc(t.tmenuBehaviours,[so.config({mode:"special",onRight:an(Mt),onLeft:an(At),onEscape:an(Ut),focusIn:(Gt,Pn)=>{d.getPrimary().each(zo=>{Dy(Gt,zo.element,Ih())})}}),Fs.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),bs.config({find:Gt=>Fs.getHighlighted(Gt)}),Bo.config({})]),eventOrder:t.eventOrder,apis:vs,events:rs}},A3=U("collapse-item"),SP=(t,s,a)=>({primary:t,menus:s,expansions:a}),xP=(t,s)=>({primary:t,menus:qt(t,s),expansions:{}}),TP=t=>({value:Tn(A3()),meta:{text:t}}),Nb=Nc({name:"TieredMenu",configFields:[v0("onExecute"),v0("onEscape"),Of("onOpenMenu"),Of("onOpenSubmenu"),hs("onRepositionMenu"),hs("onCollapseMenu"),$e("highlightOnOpen",ii.HighlightMenuAndItem),Wu("data",[vt("primary"),vt("menus"),vt("expansions")]),$e("fakeFocus",!1),hs("onHighlightItem"),hs("onDehighlightItem"),hs("onHover"),Ky(),vt("dom"),$e("navigateOnHover",!0),$e("stayInDom",!1),Wa("tmenuBehaviours",[so,Fs,bs,Bo]),$e("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:E3,extraApis:{tieredData:SP,singleData:xP,collapseItem:TP}}),Iz=(t,s,a,i,d)=>{const g=()=>t.lazySink(s),h=i.type==="horizontal"?{layouts:{onLtr:()=>Z_(),onRtl:()=>zc()}}:{},v=A=>A.length===2,_=A=>v(A)?h:{};return Nb.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,highlightOnOpen:i.menu.highlightOnOpen,fakeFocus:i.menu.fakeFocus,onEscape:()=>(is.close(s),t.onEscape.map(A=>A(s)),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(A,z)=>{Zc.positionWithinBounds(g().getOrDie(),z,a,d())},onOpenSubmenu:(A,z,M,P)=>{const V=g().getOrDie();Zc.position(V,M,{anchor:{type:"submenu",item:z,..._(P)}})},onRepositionMenu:(A,z,M)=>{const P=g().getOrDie();Zc.positionWithinBounds(P,z,a,d()),lt(M,V=>{const J=_(V.triggeringPath);Zc.position(P,V.triggeredMenu,{anchor:{type:"submenu",item:V.triggeringItem,...J}})})}})},Lz=(t,s)=>{const a=(P,V)=>t.getRelated(P).exists(ye=>mg(ye,V)),i=(P,V)=>{is.setContent(P,V)},d=(P,V,J)=>{const ye=T.none;g(P,V,J,ye)},g=(P,V,J,ye)=>{const Je=t.lazySink(P).getOrDie();is.openWhileCloaked(P,V,()=>Zc.positionWithinBounds(Je,P,J,ye())),dn.setValue(P,T.some({mode:"position",config:J,getBounds:ye}))},h=(P,V,J)=>{v(P,V,J,T.none)},v=(P,V,J,ye)=>{const Je=Iz(t,P,V,J,ye);is.open(P,Je),dn.setValue(P,T.some({mode:"menu",menu:Je}))},_=P=>{is.isOpen(P)&&(dn.setValue(P,T.none()),is.close(P))},A=P=>is.getState(P),z=P=>{is.isOpen(P)&&dn.getValue(P).each(V=>{switch(V.mode){case"menu":is.getState(P).each(Nb.repositionMenus);break;case"position":const J=t.lazySink(P).getOrDie();Zc.positionWithinBounds(J,P,V.config,V.getBounds());break}})},M={setContent:i,showAt:d,showWithinBounds:g,showMenuAt:h,showMenuWithinBounds:v,hide:_,getContent:A,reposition:z,isOpen:is.isOpen};return{uid:t.uid,dom:t.dom,behaviours:tc(t.inlineBehaviours,[is.config({isPartOf:(P,V,J)=>mg(V,J)||a(P,J),getAttachPoint:P=>t.lazySink(P).getOrDie(),onOpen:P=>{t.onShow(P)},onClose:P=>{t.onHide(P)}}),dn.config({store:{mode:"memory",initialValue:T.none()}}),Wc.config({channels:{...Fp({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({})}),...nk({...t.fireRepositionEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({}),doReposition:z})}})]),eventOrder:t.eventOrder,apis:M}},ta=Nc({name:"InlineView",configFields:[vt("lazySink"),hs("onShow"),hs("onHide"),pf("onEscape"),Wa("inlineBehaviours",[is,dn,Wc]),_a("fireDismissalEventInstead",[$e("event",fm())]),_a("fireRepositionEventInstead",[$e("event",Ey())]),$e("getRelated",T.none),$e("isExtraPart",Ce),$e("eventOrder",T.none)],factory:Lz,apis:{showAt:(t,s,a,i)=>{t.showAt(s,a,i)},showWithinBounds:(t,s,a,i,d)=>{t.showWithinBounds(s,a,i,d)},showMenuAt:(t,s,a,i)=>{t.showMenuAt(s,a,i)},showMenuWithinBounds:(t,s,a,i,d)=>{t.showMenuWithinBounds(s,a,i,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var EC=tinymce.util.Tools.resolve("tinymce.util.Delay");const Gc=Nc({name:"Button",factory:t=>{const s=q1(t.action),a=t.dom.tag,i=g=>Tt(t.dom,"attributes").bind(h=>Tt(h,g)),d=()=>{if(a==="button"){const g=i("type").getOr("button"),h=i("role").map(v=>({role:v})).getOr({});return{type:g,...h}}else return{role:t.role.getOr(i("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Ru.augment(t.buttonBehaviours,[wo.config({}),so.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[$e("uid",void 0),vt("dom"),$e("components",[]),Ru.field("buttonBehaviours",[wo,so]),Is("action"),Is("role"),$e("eventOrder",{})]}),EP=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return mt(s,(a,i)=>i.name==="class"?a:{...a,[i.name]:i.value},{})},AP=t=>Array.prototype.slice.call(t.dom.classList,0),Mm=t=>{const s=ke.fromHtml(t),a=qa(s),i=EP(s),d=AP(s),g=a.length===0?{}:{innerHtml:Py(s)};return{tag:Hs(s),classes:d,attributes:i,...g}},Js=t=>{const s=N1(t)&&kr(t,"uid")?t.uid:Sf("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Mb(t)}function O3(t,s){return O3=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},O3(t,s)}function OP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AC(t,s,a){return OP()?AC=Reflect.construct:AC=function(d,g,h){var v=[null];v.push.apply(v,g);var _=Function.bind.apply(d,v),A=new _;return h&&O3(A,h.prototype),A},AC.apply(null,arguments)}function dl(t){return zP(t)||DP(t)||Bb(t)||RP()}function zP(t){if(Array.isArray(t))return OC(t)}function DP(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bb(t,s){if(t){if(typeof t=="string")return OC(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return OC(t,s)}}function OC(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,i=new Array(s);a<s;a++)i[a]=t[a];return i}function RP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kp=Object.hasOwnProperty,Hz=Object.setPrototypeOf,NP=Object.isFrozen,sd=Object.getPrototypeOf,Vz=Object.getOwnPropertyDescriptor,Nl=Object.freeze,Hf=Object.seal,MP=Object.create,zC=typeof Reflect<"u"&&Reflect,DC=zC.apply,z3=zC.construct;DC||(DC=function(s,a,i){return s.apply(a,i)}),Nl||(Nl=function(s){return s}),Hf||(Hf=function(s){return s}),z3||(z3=function(s,a){return AC(s,dl(a))});var BP=Vf(Array.prototype.forEach),RC=Vf(Array.prototype.pop),Pb=Vf(Array.prototype.push),Mk=Vf(String.prototype.toLowerCase),Uz=Vf(String.prototype.match),Rg=Vf(String.prototype.replace),PP=Vf(String.prototype.indexOf),D3=Vf(String.prototype.trim),eu=Vf(RegExp.prototype.test),Bk=Pk(TypeError);function Vf(t){return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),d=1;d<a;d++)i[d-1]=arguments[d];return DC(t,s,i)}}function Pk(t){return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return z3(t,a)}}function rr(t,s){Hz&&Hz(t,null);for(var a=s.length;a--;){var i=s[a];if(typeof i=="string"){var d=Mk(i);d!==i&&(NP(s)||(s[a]=d),i=d)}t[i]=!0}return t}function Yp(t){var s=MP(null),a;for(a in t)DC(Kp,t,[a])&&(s[a]=t[a]);return s}function Fk(t,s){for(;t!==null;){var a=Vz(t,s);if(a){if(a.get)return Vf(a.get);if(typeof a.value=="function")return Vf(a.value)}t=sd(t)}function i(d){return console.warn("fallback value for",d),null}return i}var jz=Nl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R3=Nl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N3=Nl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),FP=Nl(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$k=Nl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Wz=Nl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M3=Nl(["#text"]),NC=Nl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B3=Nl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P3=Nl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),MC=Nl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$P=Hf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),IP=Hf(/<%[\w\W]*|[\w\W]*%>/gm),Zz=Hf(/^data-[\-\w.\u00B7-\uFFFF]/),LP=Hf(/^aria-[\-\w]+$/),HP=Hf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),F3=Hf(/^(?:\w+script|data):/i),qz=Hf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gz=Hf(/^html$/i),VP=function(){return typeof window>"u"?null:window},$3=function(s,a){if(Mb(s)!=="object"||typeof s.createPolicy!="function")return null;var i=null,d="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(d)&&(i=a.currentScript.getAttribute(d));var g="dompurify"+(i?"#"+i:"");try{return s.createPolicy(g,{createHTML:function(v){return v}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function Kz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VP(),s=function(ut){return Kz(ut)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var a=t.document,i=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,h=t.Node,v=t.Element,_=t.NodeFilter,A=t.NamedNodeMap,z=A===void 0?t.NamedNodeMap||t.MozNamedAttrMap:A,M=t.HTMLFormElement,P=t.DOMParser,V=t.trustedTypes,J=v.prototype,ye=Fk(J,"cloneNode"),Je=Fk(J,"nextSibling"),xe=Fk(J,"childNodes"),_e=Fk(J,"parentNode");if(typeof g=="function"){var rt=i.createElement("template");rt.content&&rt.content.ownerDocument&&(i=rt.content.ownerDocument)}var He=$3(V,a),Mt=He?He.createHTML(""):"",At=i,Ut=At.implementation,an=At.createNodeIterator,rs=At.createDocumentFragment,Un=At.getElementsByTagName,Io=a.importNode,No={};try{No=Yp(i).documentMode?i.documentMode:{}}catch{}var xs={};s.isSupported=typeof _e=="function"&&Ut&&typeof Ut.createHTMLDocument<"u"&&No!==9;var lo=$P,vs=IP,Gt=Zz,Pn=LP,zo=F3,us=qz,go=HP,$o=null,pr=rr({},[].concat(dl(jz),dl(R3),dl(N3),dl($k),dl(M3))),Ls=null,Ri=rr({},[].concat(dl(NC),dl(B3),dl(P3),dl(MC))),Zr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fl=null,Qd=null,_h=!0,Ch=!0,py=!1,Sh=!1,Qg=!1,DO=!1,RO=!1,Iv=!1,AB=!1,OB=!1,$Z=!0,mW=!0,NO=!1,fT={},mT=null,IZ=rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),LZ=null,HZ=rr({},["audio","video","img","source","image","track"]),gW=null,VZ=rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pW="http://www.w3.org/1998/Math/MathML",hW="http://www.w3.org/2000/svg",Lv="http://www.w3.org/1999/xhtml",zB=Lv,bW=!1,gT,cq=["application/xhtml+xml","text/html"],iq="text/html",b_,pT=null,lq=i.createElement("form"),UZ=function(ut){return ut instanceof RegExp||ut instanceof Function},yW=function(ut){pT&&pT===ut||((!ut||Mb(ut)!=="object")&&(ut={}),ut=Yp(ut),$o="ALLOWED_TAGS"in ut?rr({},ut.ALLOWED_TAGS):pr,Ls="ALLOWED_ATTR"in ut?rr({},ut.ALLOWED_ATTR):Ri,gW="ADD_URI_SAFE_ATTR"in ut?rr(Yp(VZ),ut.ADD_URI_SAFE_ATTR):VZ,LZ="ADD_DATA_URI_TAGS"in ut?rr(Yp(HZ),ut.ADD_DATA_URI_TAGS):HZ,mT="FORBID_CONTENTS"in ut?rr({},ut.FORBID_CONTENTS):IZ,Fl="FORBID_TAGS"in ut?rr({},ut.FORBID_TAGS):{},Qd="FORBID_ATTR"in ut?rr({},ut.FORBID_ATTR):{},fT="USE_PROFILES"in ut?ut.USE_PROFILES:!1,_h=ut.ALLOW_ARIA_ATTR!==!1,Ch=ut.ALLOW_DATA_ATTR!==!1,py=ut.ALLOW_UNKNOWN_PROTOCOLS||!1,Sh=ut.SAFE_FOR_TEMPLATES||!1,Qg=ut.WHOLE_DOCUMENT||!1,Iv=ut.RETURN_DOM||!1,AB=ut.RETURN_DOM_FRAGMENT||!1,OB=ut.RETURN_TRUSTED_TYPE||!1,RO=ut.FORCE_BODY||!1,$Z=ut.SANITIZE_DOM!==!1,mW=ut.KEEP_CONTENT!==!1,NO=ut.IN_PLACE||!1,go=ut.ALLOWED_URI_REGEXP||go,zB=ut.NAMESPACE||Lv,ut.CUSTOM_ELEMENT_HANDLING&&UZ(ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Zr.tagNameCheck=ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ut.CUSTOM_ELEMENT_HANDLING&&UZ(ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Zr.attributeNameCheck=ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ut.CUSTOM_ELEMENT_HANDLING&&typeof ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Zr.allowCustomizedBuiltInElements=ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),gT=cq.indexOf(ut.PARSER_MEDIA_TYPE)===-1?gT=iq:gT=ut.PARSER_MEDIA_TYPE,b_=gT==="application/xhtml+xml"?function(Zn){return Zn}:Mk,Sh&&(Ch=!1),AB&&(Iv=!0),fT&&($o=rr({},dl(M3)),Ls=[],fT.html===!0&&(rr($o,jz),rr(Ls,NC)),fT.svg===!0&&(rr($o,R3),rr(Ls,B3),rr(Ls,MC)),fT.svgFilters===!0&&(rr($o,N3),rr(Ls,B3),rr(Ls,MC)),fT.mathMl===!0&&(rr($o,$k),rr(Ls,P3),rr(Ls,MC))),ut.ADD_TAGS&&($o===pr&&($o=Yp($o)),rr($o,ut.ADD_TAGS)),ut.ADD_ATTR&&(Ls===Ri&&(Ls=Yp(Ls)),rr(Ls,ut.ADD_ATTR)),ut.ADD_URI_SAFE_ATTR&&rr(gW,ut.ADD_URI_SAFE_ATTR),ut.FORBID_CONTENTS&&(mT===IZ&&(mT=Yp(mT)),rr(mT,ut.FORBID_CONTENTS)),mW&&($o["#text"]=!0),Qg&&rr($o,["html","head","body"]),$o.table&&(rr($o,["tbody"]),delete Fl.tbody),Nl&&Nl(ut),pT=ut)},jZ=rr({},["mi","mo","mn","ms","mtext"]),WZ=rr({},["foreignobject","desc","title","annotation-xml"]),uq=rr({},["title","style","font","a","script"]),DB=rr({},R3);rr(DB,N3),rr(DB,FP);var vW=rr({},$k);rr(vW,Wz);var dq=function(ut){var Zn=_e(ut);(!Zn||!Zn.tagName)&&(Zn={namespaceURI:Lv,tagName:"template"});var jo=Mk(ut.tagName),Za=Mk(Zn.tagName);return ut.namespaceURI===hW?Zn.namespaceURI===Lv?jo==="svg":Zn.namespaceURI===pW?jo==="svg"&&(Za==="annotation-xml"||jZ[Za]):!!DB[jo]:ut.namespaceURI===pW?Zn.namespaceURI===Lv?jo==="math":Zn.namespaceURI===hW?jo==="math"&&WZ[Za]:!!vW[jo]:ut.namespaceURI===Lv?Zn.namespaceURI===hW&&!WZ[Za]||Zn.namespaceURI===pW&&!jZ[Za]?!1:!vW[jo]&&(uq[jo]||!DB[jo]):!1},hy=function(ut){Pb(s.removed,{element:ut});try{ut.parentNode.removeChild(ut)}catch{try{ut.outerHTML=Mt}catch{ut.remove()}}},RB=function(ut,Zn){try{Pb(s.removed,{attribute:Zn.getAttributeNode(ut),from:Zn})}catch{Pb(s.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(ut),ut==="is"&&!Ls[ut])if(Iv||AB)try{hy(Zn)}catch{}else try{Zn.setAttribute(ut,"")}catch{}},ZZ=function(ut){var Zn,jo;if(RO)ut="<remove></remove>"+ut;else{var Za=Uz(ut,/^[\r\n\t ]+/);jo=Za&&Za[0]}gT==="application/xhtml+xml"&&(ut='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ut+"</body></html>");var ef=He?He.createHTML(ut):ut;if(zB===Lv)try{Zn=new P().parseFromString(ef,gT)}catch{}if(!Zn||!Zn.documentElement){Zn=Ut.createDocument(zB,"template",null);try{Zn.documentElement.innerHTML=bW?"":ef}catch{}}var Iu=Zn.body||Zn.documentElement;return ut&&jo&&Iu.insertBefore(i.createTextNode(jo),Iu.childNodes[0]||null),zB===Lv?Un.call(Zn,Qg?"html":"body")[0]:Qg?Zn.documentElement:Iu},qZ=function(ut){return an.call(ut.ownerDocument||ut,ut,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},fq=function(ut){return ut instanceof M&&(typeof ut.nodeName!="string"||typeof ut.textContent!="string"||typeof ut.removeChild!="function"||!(ut.attributes instanceof z)||typeof ut.removeAttribute!="function"||typeof ut.setAttribute!="function"||typeof ut.namespaceURI!="string"||typeof ut.insertBefore!="function")},MO=function(ut){return Mb(h)==="object"?ut instanceof h:ut&&Mb(ut)==="object"&&typeof ut.nodeType=="number"&&typeof ut.nodeName=="string"},by=function(ut,Zn,jo){xs[ut]&&BP(xs[ut],function(Za){Za.call(s,Zn,jo,pT)})},GZ=function(ut){var Zn;if(by("beforeSanitizeElements",ut,null),fq(ut)||eu(/[\u0080-\uFFFF]/,ut.nodeName))return hy(ut),!0;var jo=b_(ut.nodeName);if(by("uponSanitizeElement",ut,{tagName:jo,allowedTags:$o}),ut.hasChildNodes()&&!MO(ut.firstElementChild)&&(!MO(ut.content)||!MO(ut.content.firstElementChild))&&eu(/<[/\w]/g,ut.innerHTML)&&eu(/<[/\w]/g,ut.textContent)||jo==="select"&&eu(/<template/i,ut.innerHTML))return hy(ut),!0;if(!$o[jo]||Fl[jo]){if(!Fl[jo]&&YZ(jo)&&(Zr.tagNameCheck instanceof RegExp&&eu(Zr.tagNameCheck,jo)||Zr.tagNameCheck instanceof Function&&Zr.tagNameCheck(jo)))return!1;if(mW&&!mT[jo]){var Za=_e(ut)||ut.parentNode,ef=xe(ut)||ut.childNodes;if(ef&&Za)for(var Iu=ef.length,lu=Iu-1;lu>=0;--lu)Za.insertBefore(ye(ef[lu],!0),Je(ut))}return hy(ut),!0}return ut instanceof v&&!dq(ut)||(jo==="noscript"||jo==="noembed")&&eu(/<\/no(script|embed)/i,ut.innerHTML)?(hy(ut),!0):(Sh&&ut.nodeType===3&&(Zn=ut.textContent,Zn=Rg(Zn,lo," "),Zn=Rg(Zn,vs," "),ut.textContent!==Zn&&(Pb(s.removed,{element:ut.cloneNode()}),ut.textContent=Zn)),by("afterSanitizeElements",ut,null),!1)},KZ=function(ut,Zn,jo){if($Z&&(Zn==="id"||Zn==="name")&&(jo in i||jo in lq))return!1;if(!(Ch&&!Qd[Zn]&&eu(Gt,Zn))){if(!(_h&&eu(Pn,Zn))){if(!Ls[Zn]||Qd[Zn]){if(!(YZ(ut)&&(Zr.tagNameCheck instanceof RegExp&&eu(Zr.tagNameCheck,ut)||Zr.tagNameCheck instanceof Function&&Zr.tagNameCheck(ut))&&(Zr.attributeNameCheck instanceof RegExp&&eu(Zr.attributeNameCheck,Zn)||Zr.attributeNameCheck instanceof Function&&Zr.attributeNameCheck(Zn))||Zn==="is"&&Zr.allowCustomizedBuiltInElements&&(Zr.tagNameCheck instanceof RegExp&&eu(Zr.tagNameCheck,jo)||Zr.tagNameCheck instanceof Function&&Zr.tagNameCheck(jo))))return!1}else if(!gW[Zn]){if(!eu(go,Rg(jo,us,""))){if(!((Zn==="src"||Zn==="xlink:href"||Zn==="href")&&ut!=="script"&&PP(jo,"data:")===0&&LZ[ut])){if(!(py&&!eu(zo,Rg(jo,us,"")))){if(jo)return!1}}}}}}return!0},YZ=function(ut){return ut.indexOf("-")>0},XZ=function(ut){var Zn,jo,Za,ef;by("beforeSanitizeAttributes",ut,null);var Iu=ut.attributes;if(Iu){var lu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ls};for(ef=Iu.length;ef--;){Zn=Iu[ef];var NB=Zn,uu=NB.name,JZ=NB.namespaceURI;jo=uu==="value"?Zn.value:D3(Zn.value),Za=b_(uu);var gq=jo;if(lu.attrName=Za,lu.attrValue=jo,lu.keepAttr=!0,lu.forceKeepAttr=void 0,by("uponSanitizeAttribute",ut,lu),jo=lu.attrValue,!lu.forceKeepAttr){if(!lu.keepAttr){RB(uu,ut);continue}if(eu(/\/>/i,jo)){RB(uu,ut);continue}Sh&&(jo=Rg(jo,lo," "),jo=Rg(jo,vs," "));var pq=b_(ut.nodeName);if(!KZ(pq,Za,jo)){RB(uu,ut);continue}if(jo!==gq)try{JZ?ut.setAttributeNS(JZ,uu,jo):ut.setAttribute(uu,jo)}catch{RB(uu,ut)}}}by("afterSanitizeAttributes",ut,null)}},mq=function gs(ut){var Zn,jo=qZ(ut);for(by("beforeSanitizeShadowDOM",ut,null);Zn=jo.nextNode();)by("uponSanitizeShadowNode",Zn,null),!GZ(Zn)&&(Zn.content instanceof d&&gs(Zn.content),XZ(Zn));by("afterSanitizeShadowDOM",ut,null)};return s.sanitize=function(gs,ut){var Zn,jo,Za,ef,Iu;if(bW=!gs,bW&&(gs="<!-->"),typeof gs!="string"&&!MO(gs)){if(typeof gs.toString!="function")throw Bk("toString is not a function");if(gs=gs.toString(),typeof gs!="string")throw Bk("dirty is not a string, aborting")}if(!s.isSupported){if(Mb(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof gs=="string")return t.toStaticHTML(gs);if(MO(gs))return t.toStaticHTML(gs.outerHTML)}return gs}if(DO||yW(ut),s.removed=[],typeof gs=="string"&&(NO=!1),NO){if(gs.nodeName){var lu=b_(gs.nodeName);if(!$o[lu]||Fl[lu])throw Bk("root node is forbidden and cannot be sanitized in-place")}}else if(gs instanceof h)Zn=ZZ("<!---->"),jo=Zn.ownerDocument.importNode(gs,!0),jo.nodeType===1&&jo.nodeName==="BODY"||jo.nodeName==="HTML"?Zn=jo:Zn.appendChild(jo);else{if(!Iv&&!Sh&&!Qg&&gs.indexOf("<")===-1)return He&&OB?He.createHTML(gs):gs;if(Zn=ZZ(gs),!Zn)return Iv?null:OB?Mt:""}Zn&&RO&&hy(Zn.firstChild);for(var NB=qZ(NO?gs:Zn);Za=NB.nextNode();)Za.nodeType===3&&Za===ef||GZ(Za)||(Za.content instanceof d&&mq(Za.content),XZ(Za),ef=Za);if(ef=null,NO)return gs;if(Iv){if(AB)for(Iu=rs.call(Zn.ownerDocument);Zn.firstChild;)Iu.appendChild(Zn.firstChild);else Iu=Zn;return Ls.shadowroot&&(Iu=Io.call(a,Iu,!0)),Iu}var uu=Qg?Zn.outerHTML:Zn.innerHTML;return Qg&&$o["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&eu(Gz,Zn.ownerDocument.doctype.name)&&(uu="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+uu),Sh&&(uu=Rg(uu,lo," "),uu=Rg(uu,vs," ")),He&&OB?He.createHTML(uu):uu},s.setConfig=function(gs){yW(gs),DO=!0},s.clearConfig=function(){pT=null,DO=!1},s.isValidAttribute=function(gs,ut,Zn){pT||yW({});var jo=b_(gs),Za=b_(ut);return KZ(jo,Za,Zn)},s.addHook=function(gs,ut){typeof ut=="function"&&(xs[gs]=xs[gs]||[],Pb(xs[gs],ut))},s.removeHook=function(gs){if(xs[gs])return RC(xs[gs])},s.removeHooks=function(gs){xs[gs]&&(xs[gs]=[])},s.removeAllHooks=function(){xs={}},s}var UP=Kz();const Yz=t=>UP().sanitize(t);var Pu=tinymce.util.Tools.resolve("tinymce.util.I18n");const jP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},I3="temporary-placeholder",Ik=t=>()=>Tt(t,I3).getOr("!not found!"),L3=(t,s)=>{const a=t.toLowerCase();if(Pu.isRtl()){const i=kn(a,"-rtl");return Lo(s,i)?i:a}else return a},Lk=(t,s)=>Tt(s,L3(t,s)),Xz=(t,s)=>{const a=s();return Lk(t,a).getOrThunk(Ik(a))},WP=(t,s,a)=>{const i=s();return Lk(t,i).or(a).getOrThunk(Ik(i))},ZP=t=>Pu.isRtl()?Lo(jP,t):!1,H3=()=>Vo("add-focusable",[Or(t=>{Wy(t.element,"svg").each(s=>nn(s,"focusable","false"))})]),Jz=(t,s,a,i)=>{var d,g;const h=ZP(s)?["tox-icon--flip"]:[],v=Tt(a,L3(s,a)).or(i).getOrThunk(Ik(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(h),innerHtml:v},behaviours:$t([...(g=t.behaviours)!==null&&g!==void 0?g:[],H3()])}},Id=(t,s,a,i=T.none())=>Jz(s,t,a(),i),Qz=(t,s,a)=>{const i=a(),d=X(t,g=>Lo(i,L3(g,i)));return Jz(s,d.getOr(I3),i,T.none())},qP={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Hk=Nc({name:"Notification",factory:t=>{const s=Js({dom:Mm(`<p>${Yz(t.translationProvider(t.text))}</p>`),behaviours:$t([Bo.config({})])}),a=V=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${V}%`}}}),i=V=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${V}%`}}),d=Js({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(0)]},i(0)],behaviours:$t([Bo.config({})])}),v={updateProgress:(V,J)=>{V.getSystem().isConnected()&&d.getOpt(V).each(ye=>{Bo.set(ye,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(J)]},i(J)])})},updateText:(V,J)=>{if(V.getSystem().isConnected()){const ye=s.get(V);Bo.set(ye,[$r(J)])}}},_=ve([t.icon.toArray(),t.level.toArray(),t.level.bind(V=>T.from(qP[V])).toArray()]),A=Js(Gc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Id("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:V=>{t.onAction(V)}})),z=Qz(_,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),M={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:$t([Bo.config({})])},P=[z,M];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(V=>["tox-notification","tox-notification--in",`tox-notification--${V}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:$t([wo.config({}),Vo("notification-events",[kt(Ec(),V=>{A.getOpt(V).each(wo.focus)})])]),components:P.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[A.asSpec()]:[]),apis:v}},configFields:[Is("level"),vt("progress"),Is("icon"),vt("onAction"),vt("text"),vt("iconProvider"),vt("translationProvider"),Ca("closeButton",!0)],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var Fb=(t,s,a)=>{const i=s.backstage.shared,d=()=>{const _=Fr(ke.fromDom(t.getContentAreaContainer())),A=Xa(),z=ql(A.x,_.x,_.right),M=ql(A.y,_.y,_.bottom),P=Math.max(_.right,A.right),V=Math.max(_.bottom,A.bottom);return T.some(yr(z,M,P-z,V-M))};return{open:(_,A)=>{const z=()=>{A(),ta.hide(P)},M=Ac(Hk.sketch({text:_.text,level:fo(["success","error","warning","warn","info"],_.type)?_.type:void 0,progress:_.progressBar===!0,icon:_.icon,closeButton:_.closeButton,onAction:z,iconProvider:i.providers.icons,translationProvider:i.providers.translate})),P=Ac(ta.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:i.getSink,fireDismissalEventInstead:{},...i.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));a.add(P),Ot(_.timeout)&&_.timeout>0&&EC.setEditorTimeout(t,()=>{z()},_.timeout);const J={close:z,reposition:()=>{const ye=xi(M),Je={maxHeightFunction:Rf()},xe=t.notificationManager.getNotifications();if(xe[0]===J){const _e={...i.anchors.banner(),overrides:Je};ta.showWithinBounds(P,ye,{anchor:_e},d)}else Xe(xe,J).each(_e=>{const rt=xe[_e-1].getEl(),He={type:"node",root:_r(),node:T.some(ke.fromDom(rt)),overrides:Je,layouts:{onRtl:()=>[uc],onLtr:()=>[uc]}};ta.showWithinBounds(P,ye,{anchor:He},d)})},text:ye=>{Hk.updateText(M,ye)},settings:_,getEl:()=>M.element.dom,progressBar:{value:ye=>{Hk.updateProgress(M,ye)}}};return J},close:_=>{_.close()},getArgs:_=>_.settings}},Vk=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),GP=tinymce.util.Tools.resolve("tinymce.EditorManager"),Xp=tinymce.util.Tools.resolve("tinymce.Env"),rd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(rd||(rd={}));var K1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(K1||(K1={}));const Er=t=>s=>s.options.get(t),Y1=t=>s=>T.from(t(s)),V3=t=>{const s=Xp.deviceType.isPhone(),a=Xp.deviceType.isTablet()||s,i=t.options.register,d=h=>nt(h)||h===!1,g=h=>nt(h)||Ot(h);i("skin",{processor:h=>nt(h)||h===!1,default:"oxide"}),i("skin_url",{processor:"string"}),i("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),i("width",{processor:g,default:Vk.DOM.getStyle(t.getElement(),"width")}),i("min_height",{processor:"number",default:100}),i("min_width",{processor:"number"}),i("max_height",{processor:"number"}),i("max_width",{processor:"number"}),i("style_formats",{processor:"object[]"}),i("style_formats_merge",{processor:"boolean",default:!1}),i("style_formats_autohide",{processor:"boolean",default:!1}),i("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),i("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),i("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),i("font_size_input_default_unit",{processor:"string",default:"pt"}),i("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),i("content_langs",{processor:"object[]"}),i("removed_menuitems",{processor:"string",default:""}),i("menubar",{processor:h=>nt(h)||cn(h),default:!s}),i("menu",{processor:"object",default:{}}),i("toolbar",{processor:h=>cn(h)||nt(h)||En(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),wt(9,h=>{i("toolbar"+(h+1),{processor:"string"})}),i("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),i("toolbar_groups",{processor:"object",default:{}}),i("toolbar_location",{processor:"string",default:K1.auto}),i("toolbar_persist",{processor:"boolean",default:!1}),i("toolbar_sticky",{processor:"boolean",default:t.inline}),i("toolbar_sticky_offset",{processor:"number",default:0}),i("fixed_toolbar_container",{processor:"string",default:""}),i("fixed_toolbar_container_target",{processor:"object"}),i("ui_mode",{processor:"string",default:"combined"}),i("file_picker_callback",{processor:"function"}),i("file_picker_validator_handler",{processor:"function"}),i("file_picker_types",{processor:"string"}),i("typeahead_urls",{processor:"boolean",default:!0}),i("anchor_top",{processor:d,default:"#top"}),i("anchor_bottom",{processor:d,default:"#bottom"}),i("draggable_modal",{processor:"boolean",default:!1}),i("statusbar",{processor:"boolean",default:!0}),i("elementpath",{processor:"boolean",default:!0}),i("branding",{processor:"boolean",default:!0}),i("promotion",{processor:"boolean",default:!0}),i("resize",{processor:h=>h==="both"||cn(h),default:!Xp.deviceType.isTouch()}),i("sidebar_show",{processor:"string"}),i("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},BC=Er("readonly"),U3=Er("height"),PC=Er("width"),j3=Y1(Er("min_width")),$b=Y1(Er("min_height")),FC=Y1(Er("max_width")),W3=Y1(Er("max_height")),$C=Y1(Er("style_formats")),IC=Er("style_formats_merge"),eD=Er("style_formats_autohide"),Z3=Er("content_langs"),tD=Er("removed_menuitems"),X1=Er("toolbar_mode"),LC=Er("toolbar_groups"),q3=Er("toolbar_location"),KP=Er("fixed_toolbar_container"),YP=Er("fixed_toolbar_container_target"),nD=Er("toolbar_persist"),oD=Er("toolbar_sticky_offset"),sD=Er("menubar"),HC=Er("toolbar"),rD=Er("file_picker_callback"),aD=Er("file_picker_validator_handler"),cD=Er("font_size_input_default_unit"),iD=Er("file_picker_types"),lD=Er("typeahead_urls"),VC=Er("anchor_top"),uD=Er("anchor_bottom"),dD=Er("draggable_modal"),fD=Er("statusbar"),G3=Er("elementpath"),K3=Er("branding"),mD=Er("resize"),gD=Er("paste_as_text"),pD=Er("sidebar_show"),hD=Er("promotion"),bD=Er("help_accessibility"),Uk=t=>t.options.get("skin")===!1,UC=t=>t.options.get("menubar")!==!1,yD=t=>{const s=t.options.get("skin_url");if(Uk(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return GP.baseURL+"/skins/ui/"+a}},vD=t=>t.options.get("line_height_formats").split(" "),jC=t=>{const s=HC(t),a=nt(s),i=En(s)&&s.length>0;return!jk(t)&&(i||a||s===!0)},Y3=t=>{const s=wt(9,i=>t.options.get("toolbar"+(i+1))),a=Qn(s,nt);return Kn(a.length>0,a)},jk=t=>Y3(t).fold(()=>{const s=HC(t);return xt(s,nt)&&s.length>0},Oe),X3=t=>q3(t)===K1.bottom,kD=t=>{var s;if(!t.inline)return T.none();const a=(s=KP(t))!==null&&s!==void 0?s:"";if(a.length>0)return Wr(_r(),a);const i=YP(t);return tn(i)?T.some(ke.fromDom(i)):T.none()},J1=t=>t.inline&&kD(t).isSome(),J3=t=>kD(t).getOrThunk(()=>Rt(Le(ke.fromDom(t.getElement())))),Q3=t=>t.inline&&!UC(t)&&!jC(t)&&!jk(t),Wk=t=>(t.options.get("toolbar_sticky")||t.inline)&&!J1(t)&&!Q3(t),Uf=t=>!J1(t)&&t.options.get("ui_mode")==="split",wD=t=>{const s=t.options.get("menu");return Gn(s,a=>({...a,items:a.items}))};var e4=Object.freeze({__proto__:null,get ToolbarMode(){return rd},get ToolbarLocation(){return K1},register:V3,getSkinUrl:yD,isReadOnly:BC,isSkinDisabled:Uk,getHeightOption:U3,getWidthOption:PC,getMinWidthOption:j3,getMinHeightOption:$b,getMaxWidthOption:FC,getMaxHeightOption:W3,getUserStyleFormats:$C,shouldMergeStyleFormats:IC,shouldAutoHideStyleFormats:eD,getLineHeightFormats:vD,getContentLanguages:Z3,getRemovedMenuItems:tD,isMenubarEnabled:UC,isMultipleToolbars:jk,isToolbarEnabled:jC,isToolbarPersist:nD,getMultipleToolbarsOption:Y3,getUiContainer:J3,useFixedContainer:J1,isSplitUiMode:Uf,getToolbarMode:X1,isDraggableModal:dD,isDistractionFree:Q3,isStickyToolbar:Wk,getStickyToolbarOffset:oD,getToolbarLocation:q3,isToolbarLocationBottom:X3,getToolbarGroups:LC,getMenus:wD,getMenubar:sD,getToolbar:HC,getFilePickerCallback:rD,getFilePickerTypes:iD,useTypeaheadUrls:lD,getAnchorTop:VC,getAnchorBottom:uD,getFilePickerValidatorHandler:aD,getFontSizeInputDefaultUnit:cD,useStatusBar:fD,useElementPath:G3,promotionEnabled:hD,useBranding:K3,getResize:mD,getPasteAsText:gD,getSidebarShow:pD,useHelpAccessibility:bD});const _D="[data-mce-autocompleter]",CD=t=>cl(t,_D),XP=t=>Wr(t,_D),JP={setup:(t,s)=>{const a=(d,g)=>{oo(d,xu(),{raw:g})},i=()=>t.getMenu().bind(Fs.getHighlighted);s.on("keydown",d=>{const g=d.which;t.isActive()&&(t.isMenuOpen()?g===13?(i().each(gm),d.preventDefault()):g===40?(i().fold(()=>{t.getMenu().each(Fs.highlightFirst)},h=>{a(h,d)}),d.preventDefault(),d.stopImmediatePropagation()):(g===37||g===38||g===39)&&i().each(h=>{a(h,d),d.preventDefault(),d.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",d=>{t.isActive()&&!t.isProcessingAction()&&CD(ke.fromDom(d.element)).isNone()&&t.cancelIfNecessary()})}};var WC;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(WC||(WC={}));var jf=WC;const Zk="tox-menu-nav__js",Q1="tox-collection__item",ZC="tox-swatch",t4={normal:Zk,color:ZC},qk="tox-collection__item--enabled",SD="tox-collection__group-heading",Wf="tox-collection__item-icon",Gk="tox-collection__item-label",QP="tox-collection__item-accessory",xD="tox-collection__item-caret",eF="tox-collection__item-checkmark",Kk="tox-collection__item--active",Ib="tox-collection__item-container",tF="tox-collection__item-container--column",TD="tox-collection__item-container--row",ED="tox-collection__item-container--align-right",AD="tox-collection__item-container--align-left",n4="tox-collection__item-container--valign-top",nF="tox-collection__item-container--valign-middle",o4="tox-collection__item-container--valign-bottom",qC=t=>Tt(t4,t).getOr(Zk),oF=t=>t==="color"?"tox-swatches":"tox-menu",GC=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:oF(t),tieredMenu:"tox-tiered-menu"}),Jp=t=>{const s=GC(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:qC(t)}},sF=(t,s,a)=>{const i=GC(a);return{tag:"div",classes:ve([[i.menu,`tox-menu-${s}-column`],t?[i.hasIcons]:[]])}},rF=[Gp.parts.items({})],KC=(t,s,a)=>{const i=GC(a);return{dom:{tag:"div",classes:ve([[i.tieredMenu]])},markers:Jp(a)}},OD=U([Is("data"),$e("inputAttributes",{}),$e("inputStyles",{}),$e("tag","input"),$e("inputClasses",[]),hs("onSetValue"),$e("styles",{}),$e("eventOrder",{}),Wa("inputBehaviours",[dn,wo]),$e("selectOnFocus",!0)]),zD=t=>$t([wo.config({onFocus:t.selectOnFocus?s=>{const a=s.element,i=pa(a);a.dom.setSelectionRange(0,i.length)}:j})]),aF=t=>({...zD(t),...tc(t.inputBehaviours,[dn.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>pa(s.element),setValue:(s,a)=>{pa(s.element)!==a&&Sa(s.element,a)}},onSetValue:t.onSetValue})])}),s4=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),DD=(t,s)=>({uid:t.uid,dom:s4(t),components:[],behaviours:aF(t),eventOrder:t.eventOrder}),Lb=Nc({name:"Input",configFields:OD(),factory:DD}),r4=Tn("refetch-trigger-event"),a4=Tn("redirect-menu-item-interaction"),ev="tox-menu__searcher",Yk=t=>Wr(t.element,`.${ev}`).bind(s=>t.getSystem().getByDom(s).toOptional()),RD=Yk,cF=(t,s)=>{dn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},c4=t=>{const s=dn.getValue(t),a=t.element.dom.selectionStart,i=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:i}},iF=(t,s)=>{B(s.element,"id").each(a=>nn(t.element,"aria-activedescendant",a))},lF=t=>{const s=(d,g)=>(g.cut(),T.none()),a=(d,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return oo(d,a4,h),T.some(!0)},i="searcher-events";return{dom:{tag:"div",classes:[Q1]},components:[Lb.sketch({inputClasses:[ev,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:$t([Vo(i,[kt(og(),d=>{Ds(d,r4)}),kt(xu(),(d,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),so.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[i,so.name()]}})]}},Xk="tox-collection--results__js",i4=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Tn("aria-item-search-result-id"),"aria-selected":"false"}}}:t},YC=(t,s)=>a=>{const i=fn(a,s);return De(i,d=>({dom:t,components:d}))},ND=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Gp.parts.items({preprocess:t!=="auto"?YC({tag:"div",classes:["tox-swatches__row"]},t):at})]}]}),uF=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Gp.parts.items({preprocess:YC({tag:"div",classes:["tox-collection__group"]},t)})]}),MD=(t,s)=>{const a=[];let i=[];return lt(t,(d,g)=>{s(d,g)?(i.length>0&&a.push(i),i=[],(Lo(d.dom,"innerHtml")||d.components&&d.components.length>0)&&i.push(d)):i.push(d)}),i.length>0&&a.push(i),De(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},XC=(t,s,a)=>Gp.parts.items({preprocess:i=>{const d=De(i,a);return t!=="auto"&&t>1?YC({tag:"div",classes:["tox-collection__group"]},t)(d):MD(d,(g,h)=>s[h].type==="separator")}}),JC=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[XC(t,s,at)]}),l4=(t,s,a=!0)=>{const i=Tn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Xk].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:i}},components:[XC(t,s,i4)]}},BD=(t,s,a)=>{const i=Tn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[lF({i18n:Pu.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Xk],attributes:{id:i}},components:[XC(t,s,i4)]}]}},PD=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Gp.parts.items({preprocess:a=>MD(a,(i,d)=>t[d].type==="separator")})]}),Jk=t=>Zo(t,s=>"icon"in s&&s.icon!==void 0),Ng=t=>(console.error(_u(t)),console.log(t),T.none()),u4=(t,s,a,i,d)=>{const g=PD(a);return{value:t,dom:g.dom,components:g.components,items:a}},d4=(t,s,a,i,d)=>{const g=()=>d.menuType!=="searchable"?JC(i,a):d.searchMode.searchMode==="search-with-field"?BD(i,a,d.searchMode):l4(i,a);if(d.menuType==="color"){const h=ND(i);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"&&i==="auto"){const h=JC(i,a);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const h=g();return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="listpreview"&&i!=="auto"){const h=uF(i);return{value:t,dom:h.dom,components:h.components,items:a}}else return{value:t,dom:sF(s,i,d.menuType),components:rF,items:a}},Ea=ua("type"),QC=ua("name"),Mg=ua("label"),Bg=ua("text"),eS=ua("title"),Qk=ua("icon"),ew=ua("value"),FD=wi("fetch"),$D=wi("getSubmenuItems"),Hb=wi("onAction"),f4=wi("onItemAction"),Qp=Ha("onSetup",()=>j),dF=vc("name"),Pg=vc("text"),Fu=vc("icon"),tw=vc("tooltip"),tS=vc("label"),fF=vc("shortcut"),ID=pf("select"),nS=Ca("active",!1),mF=Ca("borderless",!1),Ld=Ca("enabled",!0),oS=Ca("primary",!1),m4=t=>$e("columns",t),Vb=$e("meta",{}),sS=Ha("onAction",j),Ub=t=>Vi("type",t),g4=t=>cc("name","name",Jc(()=>Tn(`${t}-name`)),Ja),gF=t=>cc("value","value",Jc(()=>Tn(`${t}-value`)),Qc()),LD=Jn([Ea,Pg]),pF=t=>jr("separatormenuitem",LD,t),rS=Jn([Ub("autocompleteitem"),nS,Ld,Vb,ew,Pg,Fu]),hF=t=>jr("Autocompleter.Separator",LD,t),HD=t=>jr("Autocompleter.Item",rS,t),nw=[Ld,tw,Fu,Pg,Qp],VD=Jn([Ea,Hb].concat(nw)),p4=t=>jr("toolbarbutton",VD,t),h4=[nS].concat(nw),UD=Jn(h4.concat([Ea,Hb])),b4=t=>jr("ToggleButton",UD,t),y4=[Ha("predicate",Ce),Ui("scope","node",["node","editor"]),Ui("position","selection",["node","selection","line"])],jD=nw.concat([Ub("contextformbutton"),oS,Hb,yc("original",at)]),bF=h4.concat([Ub("contextformbutton"),oS,Hb,yc("original",at)]),yF=nw.concat([Ub("contextformbutton")]),vF=h4.concat([Ub("contextformtogglebutton")]),kF=ac("type",{contextformbutton:jD,contextformtogglebutton:bF}),WD=Jn([Ub("contextform"),Ha("initValue",U("")),tS,Li("commands",kF),Cu("launch",ac("type",{contextformbutton:yF,contextformtogglebutton:vF}))].concat(y4)),ZD=t=>jr("ContextForm",WD,t),wF=Jn([Ub("contexttoolbar"),ua("items")].concat(y4)),_F=t=>jr("ContextToolbar",wF,t),CF=[Ea,ua("src"),vc("alt"),Ci("classes",[],Ja)],SF=Jn(CF),xF=[Ea,Bg,dF,Ci("classes",["tox-collection__item-label"],Ja)],qD=Jn(xF),GD=La(()=>mf("type",{cardimage:SF,cardtext:qD,cardcontainer:TF})),TF=Jn([Ea,Vi("direction","horizontal"),Vi("align","left"),Vi("valign","middle"),Li("items",GD)]),eh=[Ld,Pg,fF,gF("menuitem"),Vb],KD=Jn([Ea,tS,Li("items",GD),Qp,sS].concat(eh)),EF=t=>jr("cardmenuitem",KD,t),AF=Jn([Ea,nS,Fu].concat(eh)),YD=t=>jr("choicemenuitem",AF,t),XD=[Ea,ua("fancytype"),sS],OF=[$e("initData",{})].concat(XD),JD=[pf("select"),Fh("initData",{},[Ca("allowCustomColors",!0),Vi("storageKey","default"),Sy("colors",Qc())])].concat(XD),QD=ac("fancytype",{inserttable:OF,colorswatch:JD}),e6=t=>jr("fancymenuitem",QD,t),zF=Jn([Ea,Qp,sS,Fu].concat(eh)),DF=t=>jr("menuitem",zF,t),RF=Jn([Ea,$D,Qp,Fu].concat(eh)),NF=t=>jr("nestedmenuitem",RF,t),MF=Jn([Ea,Fu,nS,Qp,Hb].concat(eh)),jb=t=>jr("togglemenuitem",MF,t),ow=(t,s,a)=>{const i=Ai(t.element,"."+a);if(i.length>0){const d=be(i,g=>{const h=g.dom.getBoundingClientRect().top,v=i[0].dom.getBoundingClientRect().top;return Math.abs(h-v)>s}).getOr(i.length);return T.some({numColumns:d,numRows:Math.ceil(i.length/d)})}else return T.none()},t6=(t,s)=>$t([Vo(t,s)]),tu={namedEvents:t6,unnamedEvents:t=>t6(Tn("unnamed-events"),t)},n6=Tn("tooltip.exclusive"),sw=Tn("tooltip.show"),rw=Tn("tooltip.hide"),aS=(t,s,a)=>{t.getSystem().broadcastOn([n6],{})};var BF=Object.freeze({__proto__:null,hideAllExclusive:aS,setComponents:(t,s,a,i)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Bo.set(d,i)})}}),FF=Object.freeze({__proto__:null,events:(t,s)=>{const a=d=>{s.getTooltip().each(g=>{Dc(g),t.onHide(d,g),s.clearTooltip()}),s.clearTimer()},i=d=>{if(!s.isShowing()){aS(d);const g=t.lazySink(d).getOrDie(),h=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Tr(t.mode==="normal"?[kt(ic(),v=>{Ds(d,sw)}),kt(ti(),v=>{Ds(d,rw)})]:[]),behaviours:$t([Bo.config({})])});s.setTooltip(h),ha(g,h),t.onShow(d,h),Zc.position(g,h,{anchor:t.anchor(d)})}};return Tr(ve([[kt(sw,d=>{s.resetTimer(()=>{i(d)},t.delay)}),kt(rw,d=>{s.resetTimer(()=>{a(d)},t.delay)}),kt(Sd(),(d,g)=>{const h=g;h.universal||fo(h.channels,n6)&&a(d)}),Td(d=>{a(d)})],t.mode==="normal"?[kt(Ec(),d=>{Ds(d,sw)}),kt(um(),d=>{Ds(d,rw)}),kt(ic(),d=>{Ds(d,sw)}),kt(ti(),d=>{Ds(d,rw)})]:[kt(mm(),(d,g)=>{Ds(d,sw)}),kt(Zv(),d=>{Ds(d,rw)})]]))}}),$F=[vt("lazySink"),vt("tooltipDom"),$e("exclusive",!0),$e("tooltipComponents",[]),$e("delay",300),Ui("mode","normal",["normal","follow-highlight"]),$e("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:U([uc,wc,Ua,qi,kc,Ir]),onRtl:U([uc,wc,Ua,qi,kc,Ir])}})),hs("onHide"),hs("onShow")],nu=Object.freeze({__proto__:null,init:()=>{const t=Rr(),s=Rr(),a=()=>{t.on(clearTimeout)},i=(g,h)=>{a(),t.set(setTimeout(g,h))},d=U("not-implemented");return Wi({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:a,resetTimer:i,readState:d})}});const Zf=_c({fields:$F,name:"tooltipping",active:FF,state:nu,apis:BF}),IF=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k4="silver.readonly",cS=Jn([fp("readonly")]),tv=(t,s)=>{const i=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&lt(d,g=>{g.broadcastOn([Yl()],{target:i})}),lt(d,g=>{g.broadcastOn([k4],{readonly:s})})},o6=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&tv(s,!0)}),t.on("SwitchMode",()=>tv(s,t.mode.isReadOnly())),BC(t)&&t.mode.set("readonly")},mc=()=>Wc.config({channels:{[k4]:{schema:cS,onReceive:(t,s)=>{ko.set(t,s.readonly)}}}}),Hd={item:t=>ko.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>ko.config({disabled:t}),splitButton:t=>ko.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>ko.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},lS=(t,s)=>{const a=t.getApi(s);return i=>{i(a)}},Mc=(t,s)=>Or(a=>{lS(t,a)(d=>{const g=t.onSetup(d);ot(g)&&s.set(g)})}),Bm=(t,s)=>Td(a=>lS(t,a)(s.get())),qf=(t,s)=>Tu((a,i)=>{lS(t,a)(t.onAction),!t.triggersSubmenu&&s===jf.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Ds(a,ma()),i.stop())}),LF={[ol()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Qs=Xr,Vd=(t,s,a,i)=>{const d=po(j);return{type:"item",dom:s.dom,components:Qs(s.optComponents),data:t.data,eventOrder:LF,hasSubmenu:t.triggersSubmenu,itemBehaviours:$t([Vo("item-events",[qf(t,a),Mc(t,d),Bm(t,d)]),Hd.item(()=>!t.enabled||i.isDisabled()),mc(),Bo.config({})].concat(t.itemBehaviours))}},Fg=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),_4=t=>{const s=Xp.os.isMacOS()||Xp.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),h=De(g,v=>{const _=v.toLowerCase().trim();return Lo(d,_)?d[_]:v});return s?h.join(""):h.join("+")},aw=(t,s,a=[Wf])=>Id(t,{tag:"div",classes:a},s),uS=t=>({dom:{tag:"div",classes:[Gk]},components:[$r(Pu.translate(t))]}),s6=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),C4=(t,s)=>({dom:{tag:"div",classes:[Gk]},components:[{dom:{tag:t.tag,styles:t.styles},components:[$r(Pu.translate(s))]}]}),HF=t=>({dom:{tag:"div",classes:[QP]},components:[$r(_4(t))]}),S4=t=>aw("checkmark",t,[eF]),r6=t=>aw("chevron-right",t,[xD]),x4=t=>aw("chevron-down",t,[xD]),a6=(t,s)=>{const a=t.direction==="vertical"?tF:TD,i=t.align==="left"?AD:ED;return{dom:{tag:"div",classes:[Ib,a,i,(()=>{switch(t.valign){case"top":return n4;case"middle":return nF;case"bottom":return o4}})()]},components:s}},dS=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),VF=(t,s,a)=>{const i="custom",d="remove",g=t.ariaLabel,h=t.value,v=t.iconContent.map(A=>WP(A,s.icons,a));return{dom:(()=>{const A=ZC,z=v.getOr(""),P={tag:"div",attributes:g.map(V=>({title:s.translate(V)})).getOr({}),classes:[A]};return h===i?{...P,tag:"button",classes:[...P.classes,"tox-swatches__picker-btn"],innerHtml:z}:h===d?{...P,classes:[...P.classes,"tox-swatch--remove"],innerHtml:z}:tn(h)?{...P,attributes:{...P.attributes,"data-mce-color":h},styles:{"background-color":h},innerHtml:z}:P})(),optComponents:[]}},c6=t=>{const s=t.map(a=>({attributes:{title:Pu.translate(a),id:Tn("menu-item")}})).getOr({});return{tag:"div",classes:[Zk,Q1],...s}},UF=(t,s,a,i)=>{const d={tag:"div",classes:[Wf]},g=P=>Id(P,d,s.icons,i),h=()=>T.some({dom:d}),v=a?t.iconContent.map(g).orThunk(h):T.none(),_=t.checkMark,A=T.from(t.meta).fold(()=>uS,P=>Lo(P,"style")?Zt(C4,P.style):uS),z=t.htmlContent.fold(()=>t.textContent.map(A),P=>T.some(s6(P,[Gk])));return{dom:c6(t.ariaLabel),optComponents:[v,z,t.shortcutContent.map(HF),_,t.caret]}},cw=(t,s,a,i=T.none())=>t.presets==="color"?VF(t,s,i):UF(t,s,a,i),i6=(t,s)=>Tt(t,"tooltipWorker").map(a=>[Zf.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:i=>({type:"submenu",item:i,overrides:{maxHeightFunction:Rf}}),mode:"follow-highlight",onShow:(i,d)=>{a(g=>{Zf.setComponents(i,[m0({element:ke.fromDom(g)})])})}})]).getOr([]),jF=t=>Vk.DOM.encode(t),l6=(t,s)=>{const a=Pu.translate(t),i=jF(a);if(s.length>0){const d=new RegExp(IF(s),"gi");return i.replace(d,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return i},WF=(t,s,a,i,d,g,h,v=!0)=>{const _=cw({presets:i,textContent:T.none(),htmlContent:a?t.text.map(A=>l6(A,s)):T.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:t.value},h.providers,v,t.icon);return Vd({data:Fg(t),enabled:t.enabled,getApi:U({}),onAction:A=>d(t.value,t.meta),onSetup:U(j),triggersSubmenu:!1,itemBehaviours:i6(t.meta,h)},_,g,h.providers)},u6=(t,s)=>De(t,a=>{switch(a.type){case"cardcontainer":return a6(a,u6(a.items,s));case"cardimage":return dS(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(g=>fo(s.cardText.highlightOn,g))?T.from(s.cardText.matchText).getOr(""):"";return s6(l6(a.text,d),a.classes)}}),ZF=(t,s,a,i)=>{const d=h=>({isEnabled:()=>!ko.isDisabled(h),setEnabled:v=>{ko.set(h,!v),lt(Ai(h.element,"*"),_=>{h.getSystem().getByDom(_).each(A=>{A.hasConfigured(ko)&&ko.set(A,!v)})})}}),g={dom:c6(t.label),optComponents:[T.some({dom:{tag:"div",classes:[Ib,TD]},components:u6(t.items,i)})]};return Vd({data:Fg({text:T.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(i.itemBehaviours).getOr([])},g,s,a.providers)},d6=(t,s,a,i,d,g,h,v=!0)=>{const _=z=>({setActive:M=>{Ko.set(z,M)},isActive:()=>Ko.isOn(z),isEnabled:()=>!ko.isDisabled(z),setEnabled:M=>ko.set(z,!M)}),A=cw({presets:a,textContent:s?t.text:T.none(),htmlContent:T.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:T.none(),checkMark:s?T.some(S4(h.icons)):T.none(),caret:T.none(),value:t.value},h,v);return sr(Vd({data:Fg(t),enabled:t.enabled,getApi:_,onAction:z=>i(t.value),onSetup:z=>(z.setActive(d),j),triggersSubmenu:!1,itemBehaviours:[]},A,g,h),{toggling:{toggleClass:qk,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},f6=pk(_3(),C3()),T4=t=>({value:h6(t)}),m6=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,g6=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,p6=t=>m6.test(t)||g6.test(t),h6=t=>Wt(t,"#").toUpperCase(),qF=t=>p6(t)?T.some({value:h6(t)}):T.none(),GF=t=>({value:t.value.replace(m6,(a,i,d,g)=>i+i+d+d+g+g)}),b6=t=>{const s=GF(t),a=g6.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},ad=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},iw=t=>{const s=ad(t.red)+ad(t.green)+ad(t.blue);return T4(s)},fS=Math.min,E4=Math.max,lw=Math.round,y6=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,v6=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,$g=(t,s,a,i)=>({red:t,green:s,blue:a,alpha:i}),A4=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},k6=t=>{let s,a,i;const d=(t.hue||0)%360;let g=t.saturation/100,h=t.value/100;if(g=E4(0,fS(g,1)),h=E4(0,fS(h,1)),g===0)return s=a=i=lw(255*h),$g(s,a,i,1);const v=d/60,_=h*g,A=_*(1-Math.abs(v%2-1)),z=h-_;switch(Math.floor(v)){case 0:s=_,a=A,i=0;break;case 1:s=A,a=_,i=0;break;case 2:s=0,a=_,i=A;break;case 3:s=0,a=A,i=_;break;case 4:s=A,a=0,i=_;break;case 5:s=_,a=0,i=A;break;default:s=a=i=0}return s=lw(255*(s+z)),a=lw(255*(a+z)),i=lw(255*(i+z)),$g(s,a,i,1)},uw=t=>{const s=b6(t),a=parseInt(s[1],16),i=parseInt(s[2],16),d=parseInt(s[3],16);return $g(a,i,d,1)},w6=(t,s,a,i)=>{const d=parseInt(t,10),g=parseInt(s,10),h=parseInt(a,10),v=parseFloat(i);return $g(d,g,h,v)},mS=t=>{if(t==="transparent")return T.some($g(0,0,0,0));const s=y6.exec(t);if(s!==null)return T.some(w6(s[1],s[2],s[3],"1"));const a=v6.exec(t);return a!==null?T.some(w6(a[1],a[2],a[3],a[4])):T.none()},O4=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,z4=$g(255,0,0,1),KF=t=>{t.dispatch("SkinLoaded")},YF=(t,s)=>{t.dispatch("SkinLoadError",s)},XF=t=>{t.dispatch("ResizeEditor")},th=(t,s)=>{t.dispatch("ResizeContent",s)},JF=(t,s)=>{t.dispatch("ScrollContent",s)},D4=(t,s)=>{t.dispatch("TextColorChange",s)},_6=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},C6=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),R4=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},dw=(t,s)=>()=>{t(),s()},li=t=>nh(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),S6=(t,s)=>a=>{const i=Tp(),d=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);i.set(g)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),i.clear()}},gS=(t,s)=>a=>{const i=li(t)(a),d=S6(t,s)(a);return()=>{i(),d()}},nh=(t,s,a)=>i=>{const d=()=>a(i),g=()=>{a(i),t.on(s,d)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,d)}},x6=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},ou=(t,s)=>()=>t.execCommand(s);var Zb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const N4={},T6=(t,s=10)=>{const a=Zb.getItem(t),i=nt(a)?JSON.parse(a):[],g=(A=>s-A.length<0?A.slice(0,s):A)(i),h=A=>{Xe(g,A).each(v),g.unshift(A),g.length>s&&g.pop(),Zb.setItem(t,JSON.stringify(g))},v=A=>{g.splice(A,1)};return{add:h,state:()=>g.slice(0)}},M4=t=>Tt(N4,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Zb.getItem(s);if(It(a)){const d=Zb.getItem("tinymce-custom-colors");Zb.setItem(s,tn(d)?d:"[]")}const i=T6(s,10);return N4[t]=i,i}),QF=t=>De(M4(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),E6=(t,s)=>{M4(t).add(s)},fw=(t,s,a)=>({hue:t,saturation:s,value:a}),B4=t=>{let s=0,a=0,i=0;const d=t.red/255,g=t.green/255,h=t.blue/255,v=Math.min(d,Math.min(g,h)),_=Math.max(d,Math.max(g,h));if(v===_)return i=v,fw(0,0,i*100);const A=d===v?g-h:h===v?d-g:h-d;return s=d===v?3:h===v?1:5,s=60*(s-A/(_-v)),a=(_-v)/_,i=_,fw(Math.round(s),Math.round(a*100),Math.round(i*100))},e$=t=>B4(uw(t)),A6=t=>iw(k6(t)),t$=t=>qF(t).orThunk(()=>mS(t).map(iw)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const i=a.getImageData(0,0,1,1).data,d=i[0],g=i[1],h=i[2],v=i[3];return iw($g(d,g,h,v))}),P4="forecolor",F4="hilitecolor",n$=5,o$=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+t$(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},Gf=t=>s=>s.options.get(t),$4="#000000",s$=t=>{const s=t.options.register,a=d=>xt(d,nt)?{value:o$(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},i=d=>Ot(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:i,default:L4(t)}),s("color_cols_foreground",{processor:i,default:O6(t,P4)}),s("color_cols_background",{processor:i,default:O6(t,F4)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:$4}),s("color_default_background",{processor:"string",default:$4})},I4=(t,s)=>s===P4&&t.options.isSet("color_map_foreground")?Gf("color_map_foreground")(t):s===F4&&t.options.isSet("color_map_background")?Gf("color_map_background")(t):Gf("color_map")(t),L4=(t,s="default")=>Math.max(n$,Math.ceil(Math.sqrt(I4(t,s).length))),O6=(t,s)=>{const a=Gf("color_cols")(t),i=L4(t,s);return a===L4(t)?i:a},mw=(t,s="default")=>Math.round((()=>s===P4?Gf("color_cols_foreground")(t):s===F4?Gf("color_cols_background")(t):Gf("color_cols")(t))()),H4=Gf("custom_colors"),r$=Gf("color_default_foreground"),a$=Gf("color_default_background"),c$="rgba(0, 0, 0, 0)",i$=t=>mS(t).exists(s=>s.alpha!==0),l$=t=>nl(t,s=>{if(yo(s)){const a=Ws(s,"background-color");return Kn(i$(a),a)}else return T.none()}).getOr(c$),z6=(t,s)=>{const a=ke.fromDom(t.selection.getStart()),i=s==="hilitecolor"?l$(a):Ws(a,"color");return mS(i).map(d=>"#"+iw(d).value)},V4=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},D6=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},R6=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{V4(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{D6(t,s)})},N6=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},gw=(t,s,a,i)=>{a==="custom"?I6(t)(g=>{g.each(h=>{E6(s,h),t.execCommand("mceApplyTextcolor",s,h),i(h)})},z6(t,s).getOr($4)):a==="remove"?(i(""),t.execCommand("mceRemoveTextcolor",s)):(i(a),t.execCommand("mceApplyTextcolor",s,a))},M6=(t,s,a)=>t.concat(QF(s).concat(N6(a))),B6=(t,s,a)=>i=>{i(M6(t,s,a))},U4=(t,s,a)=>{const i=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(i,a)},P6=(t,s)=>a=>{const i=z6(t,s);return Vr(i,a.toUpperCase())},F6=(t,s,a,i,d)=>{t.ui.registry.addSplitButton(s,{tooltip:i,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:P6(t,a),columns:mw(t,a),fetch:B6(I4(t,a),a,H4(t)),onAction:g=>{gw(t,a,d.get(),j)},onItemAction:(g,h)=>{gw(t,a,h,v=>{d.set(v),D4(t,{name:s,color:v})})},onSetup:g=>{U4(g,s,d.get());const h=v=>{v.name===s&&U4(g,v.name,v.color)};return t.on("TextColorChange",h),dw(li(t)(g),()=>{t.off("TextColorChange",h)})}})},$6=(t,s,a,i,d)=>{t.ui.registry.addNestedMenuItem(s,{text:i,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(U4(g,s,d.get()),li(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:P6(t,a),initData:{storageKey:a},onAction:g=>{gw(t,a,g.value,h=>{d.set(h),D4(t,{name:s,color:h})})}}]})},I6=t=>(s,a)=>{let i=!1;const d=v=>{const A=v.getData().colorpicker;i?(s(T.from(A)),v.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",A]))},g=(v,_)=>{_.name==="hex-valid"&&(i=_.value)},h={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:g,onSubmit:d,onClose:j,onCancel:()=>{s(T.none())}})},u$=t=>{R6(t);const s=r$(t),a=a$(t),i=po(s),d=po(a);F6(t,"forecolor","forecolor","Text color",i),F6(t,"backcolor","hilitecolor","Background color",d),$6(t,"forecolor","forecolor","Text color",i),$6(t,"backcolor","hilitecolor","Background color",d)},j4=(t,s,a,i,d,g,h,v)=>{const _=Jk(s),z=d$(s,a,i,d!=="color"?"normal":"color",g,h,v);return d4(t,_,z,i,{menuType:d})},d$=(t,s,a,i,d,g,h)=>Xr(De(t,v=>v.type==="choiceitem"?YD(v).fold(Ng,_=>T.some(d6(_,a===1,i,s,g(_.value),d,h,Jk(t)))):T.none())),qb=(t,s)=>{const a=Jp(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?Wr(d.element,"[aria-checked=true]"):T.none()}},W4=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${ZC}`:`.${Q1}`}},Z4=(t,s)=>{const a=L6(t,s),i=s.colorinput.getColorCols(t.initData.storageKey),d="color",h={...j4(Tn("menu-value"),a,v=>{t.onAction({value:v})},i,d,jf.CLOSE_ON_EXECUTE,t.select.getOr(Ce),s.shared.providers),markers:Jp(d),movement:qb(i,d)};return{type:"widget",data:{value:Tn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[f6.widget(Gp.sketch(h))]}},L6=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>M6(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),i=>i.concat(N6(a)))},H6=Tn("cell-over"),V6=Tn("cell-execute"),q4=t=>(s,a)=>t.shared.providers.translate(`${a} columns, ${s} rows`),G4=(t,s,a)=>{const i=h=>oo(h,H6,{row:t,col:s}),d=h=>oo(h,V6,{row:t,col:s}),g=(h,v)=>{v.stop(),d(h)};return Ac({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:$t([Vo("insert-table-picker-cell",[kt(ic(),wo.focus),kt(ol(),d),kt(im(),g),kt(Lh(),g)]),Ko.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),wo.config({onFocus:i})])})},pS=(t,s,a)=>{const i=[];for(let d=0;d<s;d++){const g=[];for(let h=0;h<a;h++){const v=t(d+1,h+1);g.push(G4(d,h,v))}i.push(g)}return i},U6=(t,s,a,i,d)=>{for(let g=0;g<i;g++)for(let h=0;h<d;h++)Ko.set(t[g][h],g<=s&&h<=a)},f$=t=>ae(t,s=>De(s,xi)),j6=(t,s)=>$r(`${s}x${t}`),m$={inserttable:(t,s)=>{const d=q4(s),g=pS(d,10,10),h=j6(0,0),v=Js({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:$t([Bo.config({})])});return{type:"widget",data:{value:Tn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[f6.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:f$(g).concat(v.asSpec()),behaviours:$t([Vo("insert-table-picker",[Or(_=>{Bo.set(v.get(_),[h])}),Yv(H6,(_,A,z)=>{const{row:M,col:P}=z.event;U6(g,M,P,10,10),Bo.set(v.get(_),[j6(M+1,P+1)])}),Yv(V6,(_,A,z)=>{const{row:M,col:P}=z.event;t.onAction({numRows:M+1,numColumns:P+1}),Ds(_,ma())})]),so.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:Z4},g$=(t,s)=>Tt(m$,t.fancytype).map(a=>a(t,s)),p$=(t,s,a,i=!0,d=!1)=>{const g=d?x4(a.icons):r6(a.icons),h=_=>({isEnabled:()=>!ko.isDisabled(_),setEnabled:A=>ko.set(_,!A),setIconFill:(A,z)=>{Wr(_.element,`svg path[class="${A}"], rect[class="${A}"]`).each(M=>{nn(M,"fill",z)})}}),v=cw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:T.none(),ariaLabel:t.text,caret:T.some(g),checkMark:T.none(),shortcutContent:t.shortcut},a,i);return Vd({data:Fg(t),getApi:h,enabled:t.enabled,onAction:j,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},v,s,a)},h$=(t,s,a,i=!0)=>{const d=h=>({isEnabled:()=>!ko.isDisabled(h),setEnabled:v=>ko.set(h,!v)}),g=cw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:T.none(),ariaLabel:t.text,caret:T.none(),checkMark:T.none(),shortcutContent:t.shortcut},a,i);return Vd({data:Fg(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},b$=t=>({type:"separator",dom:{tag:"div",classes:[Q1,SD]},components:t.text.map($r).toArray()}),y$=(t,s,a,i=!0)=>{const d=h=>({setActive:v=>{Ko.set(h,v)},isActive:()=>Ko.isOn(h),isEnabled:()=>!ko.isDisabled(h),setEnabled:v=>ko.set(h,!v)}),g=cw({iconContent:t.icon,textContent:t.text,htmlContent:T.none(),ariaLabel:t.text,checkMark:T.some(S4(a.icons)),caret:T.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,i);return sr(Vd({data:Fg(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:qk,toggleOnExecute:!1,selected:t.active}})},v$=WF,W6=b$,k$=h$,w$=p$,Z6=y$,_$=g$,C$=ZF;var S$=Object.freeze({__proto__:null,getCoupled:(t,s,a,i)=>a.getOrCreate(t,s,i),getExistingCoupled:(t,s,a,i)=>a.getExisting(t,s,i)}),K4=[fr("others",up(Fo.value,Qc()))],x$=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,h)=>{if(An(g.others).length===0)throw new Error("Cannot find any known coupled components");return Tt(t,h)},a=(g,h,v)=>s(h,v).getOrThunk(()=>{const A=Tt(h.others,v).getOrDie("No information found for coupled component: "+v)(g),z=g.getSystem().build(A);return t[v]=z,z}),i=(g,h,v)=>s(h,v).orThunk(()=>(Tt(h.others,v).getOrDie("No information found for coupled component: "+v),T.none())),d=U({});return Wi({readState:d,getExisting:i,getOrCreate:a})}});const ba=_c({fields:K4,name:"coupling",apis:S$,state:x$}),Y4=t=>{let s=T.none(),a=[];const i=A=>Y4(z=>{d(M=>{z(A(M))})}),d=A=>{h()?_(A):a.push(A)},g=A=>{h()||(s=T.some(A),v(a),a=[])},h=()=>s.isSome(),v=A=>{lt(A,_)},_=A=>{s.each(z=>{setTimeout(()=>{A(z)},0)})};return t(g),{get:d,map:i,isReady:h}},T$={nu:Y4,pure:t=>Y4(s=>{s(t)})},E$=t=>{setTimeout(()=>{throw t},0)},nv=t=>{const s=_=>{t().then(_,E$)};return{map:_=>nv(()=>t().then(_)),bind:_=>nv(()=>t().then(A=>_(A).toPromise())),anonBind:_=>nv(()=>t().then(()=>_.toPromise())),toLazy:()=>T$.nu(s),toCached:()=>{let _=null;return nv(()=>(_===null&&(_=t()),_))},toPromise:t,get:s}},ui={nu:t=>nv(()=>new Promise(t)),pure:t=>nv(()=>Promise.resolve(t))},q6=U("sink"),G6=U(Dl({name:q6(),overrides:U({dom:{tag:"div"},behaviours:$t([Zc.config({useFixed:Oe})]),events:Tr([xd(xu()),xd(Zs()),xd(im())])})})),K6=(t,s)=>{const a=t.getHotspot(s).getOr(s),i="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:i,hotspot:a,overrides:d}),g=>({type:i,hotspot:a,overrides:d,layouts:g}))},A$=(t,s,a)=>{const i=t.fetch;return i(a).map(s)},O$=(t,s,a,i,d,g,h)=>{const v=A$(t,s,i),_=Y6(i,t);return v.map(A=>A.bind(z=>T.from(Nb.sketch({...g.menu(),uid:Sf(""),data:z,highlightOnOpen:h,onOpenMenu:(M,P)=>{const V=_().getOrDie();Zc.position(V,P,{anchor:a}),is.decloak(d)},onOpenSubmenu:(M,P,V)=>{const J=_().getOrDie();Zc.position(J,V,{anchor:{type:"submenu",item:P}}),is.decloak(d)},onRepositionMenu:(M,P,V)=>{const J=_().getOrDie();Zc.position(J,P,{anchor:a}),lt(V,ye=>{Zc.position(J,ye.triggeredMenu,{anchor:{type:"submenu",item:ye.triggeringItem}})})},onEscape:()=>(wo.focus(i),is.close(d),T.some(!0))}))))},hS=(t,s,a,i,d,g,h)=>{const v=K6(t,a);return O$(t,s,v,a,i,d,h).map(A=>(A.fold(()=>{is.isOpen(i)&&is.close(i)},z=>{is.cloak(i),is.open(i,z),g(i)}),i))},z$=(t,s,a,i,d,g,h)=>(is.close(i),ui.pure(i)),X4=(t,s,a,i,d,g)=>{const h=ba.getCoupled(a,"sandbox");return(is.isOpen(h)?z$:hS)(t,s,a,h,i,d,g)},D$=(t,s,a)=>{const i=bs.getCurrent(s).getOr(s),d=or(t.element);a?Cn(i.element,"min-width",d+"px"):Xs(i.element,d)},Y6=(t,s)=>t.getSystem().getByUid(s.uid+"-"+q6()).map(a=>()=>Fo.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Fo.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),X6=t=>{is.getState(t).each(s=>{Nb.repositionMenus(s)})},J4=(t,s,a)=>{const i=h0(),d=(v,_)=>{const A=K6(t,s);i.link(s.element),t.matchWidth&&D$(A.hotspot,_,t.useMinWidth),t.onOpen(A,v,_),a!==void 0&&a.onOpen!==void 0&&a.onOpen(v,_)},g=(v,_)=>{i.unlink(s.element),a!==void 0&&a.onClose!==void 0&&a.onClose(v,_)},h=Y6(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:i.id,role:"listbox"}},behaviours:Ru.augment(t.sandboxBehaviours,[dn.config({store:{mode:"memory",initialValue:s}}),is.config({onOpen:d,onClose:g,isPartOf:(v,_,A)=>mg(_,A)||mg(s,A),getAttachPoint:()=>h().getOrDie()}),bs.config({find:v=>is.getState(v).bind(_=>bs.getCurrent(_))}),Wc.config({channels:{...Fp({isExtraPart:Ce}),...nk({doReposition:X6})}})])}},J6=t=>{const s=ba.getCoupled(t,"sandbox");X6(s)},Q4=()=>[$e("sandboxClasses",[]),Ru.field("sandboxBehaviours",[bs,Wc,is,dn])],R$=U([vt("dom"),vt("fetch"),hs("onOpen"),Ti("onExecute"),$e("getHotspot",T.some),$e("getAnchorOverrides",U({})),Ju(),Wa("dropdownBehaviours",[Ko,ba,so,wo]),vt("toggleClass"),$e("eventOrder",{}),Is("lazySink"),$e("matchWidth",!1),$e("useMinWidth",!1),Is("role")].concat(Q4())),Q6=U([Jl({schema:[Ky(),$e("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),G6()]),N$=(t,s,a,i)=>{const d=z=>Tt(t.dom,"attributes").bind(M=>Tt(M,z)),g=z=>{is.getState(z).each(M=>{Nb.highlightPrimary(M)})},h=(z,M,P)=>X4(t,at,z,i,M,P),v=z=>{h(z,g,ii.HighlightMenuAndItem).get(j)},_={expand:z=>{Ko.isOn(z)||h(z,j,ii.HighlightNone).get(j)},open:z=>{Ko.isOn(z)||h(z,j,ii.HighlightMenuAndItem).get(j)},refetch:z=>ba.getExistingCoupled(z,"sandbox").fold(()=>h(z,j,ii.HighlightMenuAndItem).map(j),P=>hS(t,at,z,P,i,j,ii.HighlightMenuAndItem).map(j)),isOpen:Ko.isOn,close:z=>{Ko.isOn(z)&&h(z,j,ii.HighlightMenuAndItem).get(j)},repositionMenus:z=>{Ko.isOn(z)&&J6(z)}},A=(z,M)=>(gm(z),T.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:tc(t.dropdownBehaviours,[Ko.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),ba.config({others:{sandbox:z=>J4(t,z,{onOpen:()=>Ko.on(z),onClose:()=>Ko.off(z)})}}),so.config({mode:"special",onSpace:A,onEnter:A,onDown:(z,M)=>{if(cd.isOpen(z)){const P=ba.getCoupled(z,"sandbox");g(P)}else cd.open(z);return T.some(!0)},onEscape:(z,M)=>cd.isOpen(z)?(cd.close(z),T.some(!0)):T.none()}),wo.config({})]),events:q1(T.some(v)),eventOrder:{...t.eventOrder,[ol()]:["disabling","toggling","alloy.base.behaviour"]},apis:_,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),z=>({role:z})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},cd=qc({name:"Dropdown",configFields:R$(),partFields:Q6(),factory:N$,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),M$=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},eR=t=>{const s=dn.getValue(t),a=Yk(t).map(c4);cd.refetch(s).get(()=>{const i=ba.getCoupled(s,"sandbox");a.each(d=>Yk(i).each(g=>cF(g,d)))})},B$=(t,s)=>{P$(t).each(a=>{yT(t,a.element,s.event.eventType,s.event.interactionEvent)})},P$=t=>is.getState(t).bind(Fs.getHighlighted).bind(Fs.getHighlighted),F$=t=>rl(t.element,Xk)?T.some(t.element):Wr(t.element,"."+Xk),eA=(t,s,a)=>{RD(t).each(i=>{iF(i,a),F$(s).each(g=>{B(g,"id").each(h=>nn(i.element,"aria-controls",h))})}),nn(a.element,"aria-selected","true")},$$=(t,s,a)=>{nn(a.element,"aria-selected","false")},I$=t=>{RD(t).each(s=>wo.focus(s))},L$=t=>ba.getExistingCoupled(t,"sandbox").bind(Yk).map(c4).map(a=>a.fetchPattern).getOr("");var bS;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(bS||(bS={}));const tR=(t,s,a,i,d)=>{const g=a.shared.providers,h=v=>d?{...v,shortcut:T.none(),icon:v.text.isSome()?T.none():v.icon}:v;switch(t.type){case"menuitem":return DF(t).fold(Ng,v=>T.some(k$(h(v),s,g,i)));case"nestedmenuitem":return NF(t).fold(Ng,v=>T.some(w$(h(v),s,g,i,d)));case"togglemenuitem":return jb(t).fold(Ng,v=>T.some(Z6(h(v),s,g,i)));case"separator":return pF(t).fold(Ng,v=>T.some(W6(v)));case"fancymenuitem":return e6(t).fold(Ng,v=>_$(v,a));default:return console.error("Unknown item in general menu",t),T.none()}},H$=(t,s,a,i,d,g,h)=>{const v=i===1,_=!v||Jk(t);return Xr(De(t,A=>{switch(A.type){case"separator":return hF(A).fold(Ng,z=>T.some(W6(z)));case"cardmenuitem":return EF(A).fold(Ng,z=>T.some(C$({...z,onAction:M=>{z.onAction(M),a(z.value,z.meta)}},d,g,{itemBehaviours:i6(z.meta,g),cardText:{matchText:s,highlightOn:h}})));case"autocompleteitem":default:return HD(A).fold(Ng,z=>T.some(v$(z,s,v,"normal",a,d,g,_)))}}))},tA=(t,s,a,i,d,g)=>{const h=Jk(s),v=Xr(De(s,z=>{const M=V=>d?!Lo(V,"text"):h,P=V=>tR(V,a,i,M(V),d);return z.type==="nestedmenuitem"&&z.getSubmenuItems().length<=0?P({...z,enabled:!1}):P(z)})),_=M$(g);return(d?u4:d4)(t,h,v,1,_)},nA=t=>Nb.singleData(t.value,t),nR=(t,s,a,i)=>{const d=qb(s,i),g=Jp(i);return{data:nA({...t,movement:d,menuBehaviours:tu.unnamedEvents(s!=="auto"?[]:[Or((h,v)=>{ow(h,4,g.item).each(({numColumns:_,numRows:A})=>{so.setGridSize(h,A,_)})})])}),menu:{markers:Jp(i),fakeFocus:a===bS.ContentFocus}}},V$=(t,s)=>CD(ke.fromDom(s.startContainer)).map(a=>{const i=t.createRng();return i.selectNode(a.dom),i}),U$={register:(t,s)=>{const a=po(!1),i=po(!1),d=Ac(ta.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:$t([Vo("dismissAutocompleter",[kt(fm(),()=>A())])]),lazySink:s.getSink})),g=()=>ta.isOpen(d),h=i.get,v=()=>{g()&&ta.hide(d)},_=()=>ta.getContent(d).bind(J=>Ie(J.components(),0)),A=()=>t.execCommand("mceAutocompleterClose"),z=J=>{const ye=Rn(J,Je=>T.from(Je.columns)).getOr(1);return ae(J,Je=>{const xe=Je.items;return H$(xe,Je.matchText,(_e,rt)=>{const He=t.selection.getRng();V$(t.dom,He).each(Mt=>{const At={hide:()=>A(),reload:Ut=>{v(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ut})}};a.set(!0),Je.onAction(At,Mt,_e,rt),a.set(!1)})},ye,jf.BUBBLE_TO_SANDBOX,s,Je.highlightOn)})},M=(J,ye)=>{XP(ke.fromDom(t.getBody())).each(Je=>{const xe=Rn(J,_e=>T.from(_e.columns)).getOr(1);ta.showMenuAt(d,{anchor:{type:"node",root:ke.fromDom(t.getBody()),node:T.from(Je)}},nR(d4("autocompleter-value",!0,ye,xe,{menuType:"normal"}),xe,bS.ContentFocus,"normal"))}),_().each(Fs.highlightFirst)},P=J=>{const ye=z(J);ye.length>0?M(J,ye):v()};t.on("AutocompleterStart",({lookupData:J})=>{i.set(!0),a.set(!1),P(J)}),t.on("AutocompleterUpdate",({lookupData:J})=>P(J)),t.on("AutocompleterEnd",()=>{v(),i.set(!1),a.set(!1)});const V={cancelIfNecessary:A,isMenuOpen:g,isActive:h,isProcessingAction:a.get,getMenu:_};JP.setup(V,t)}},j$=["visible","hidden","clip"],oR=t=>cr(t).length>0&&!fo(j$,t),sR=t=>{if(oc(t)){const s=Ws(t,"overflow-x"),a=Ws(t,"overflow-y");return oR(s)||oR(a)}else return!1},W$=t=>{const s=Op(t,sR),a=s.length===0?ps(t).map(Ys).map(i=>Op(i,sR)).getOr([]):s;return zt(a).map(i=>({element:i,others:a.slice(1)}))},Gb=(t,s)=>Uf(t)?W$(s):T.none(),ov=t=>{const s=[...De(t.others,Fr),Xa()];return Jm(Fr(t.element),s)},pw=(t,s,a)=>cl(t,s,a).isSome(),rR=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},aR=5,cR=400,iR=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?T.none():T.some(s.touches[0])},Z$=(t,s)=>{const a=Math.abs(t.clientX-s.x),i=Math.abs(t.clientY-s.y);return a>aR||i>aR},q$=t=>{const s=Rr(),a=po(!1),i=rR(A=>{t.triggerEvent(bT(),A),a.set(!0)},cR),d=A=>(iR(A).each(z=>{i.cancel();const M={x:z.clientX,y:z.clientY,target:A.target};i.schedule(A),a.set(!1),s.set(M)}),T.none()),g=A=>(i.cancel(),iR(A).each(z=>{s.on(M=>{Z$(z,M)&&s.clear()})}),T.none()),h=A=>{i.cancel();const z=M=>fs(M.target,A.target);return s.get().filter(z).map(M=>a.get()?(A.prevent(),!1):t.triggerEvent(Lh(),A))},v=vo([{key:ji(),value:d},{key:ng(),value:g},{key:vf(),value:h}]);return{fireIfReady:(A,z)=>Tt(v,z).bind(M=>M(A))}},G$=t=>t.raw.which===Tk[0]&&!fo(["input","textarea"],Hs(t.target))&&!pw(t.target,'[contenteditable="true"]'),K$=(t,s)=>{const a={stopBackspace:!0,...s},i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=q$(a),g=De(i.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),V=>Ei(t,V,J=>{d.fireIfReady(J,V).each(Je=>{Je&&J.kill()}),a.triggerEvent(V,J)&&J.kill()})),h=Rr(),v=Ei(t,"paste",V=>{d.fireIfReady(V,"paste").each(ye=>{ye&&V.kill()}),a.triggerEvent("paste",V)&&V.kill(),h.set(setTimeout(()=>{a.triggerEvent(rg(),V)},0))}),_=Ei(t,"keydown",V=>{a.triggerEvent("keydown",V)?V.kill():a.stopBackspace&&G$(V)&&V.prevent()}),A=Ei(t,"focusin",V=>{a.triggerEvent("focusin",V)&&V.kill()}),z=Rr(),M=Ei(t,"focusout",V=>{a.triggerEvent("focusout",V)&&V.kill(),z.set(setTimeout(()=>{a.triggerEvent(um(),V)},0))});return{unbind:()=>{lt(g,V=>{V.unbind()}),_.unbind(),A.unbind(),M.unbind(),v.unbind(),h.on(clearTimeout),z.on(clearTimeout)}}},yS=(t,s)=>{const a=Tt(t,"target").getOr(s);return po(a)},Y$=(t,s)=>{const a=po(!1),i=po(!1);return{stop:()=>{a.set(!0)},cut:()=>{i.set(!0)},isStopped:a.get,isCut:i.get,event:t,setSource:s.set,getSource:s.get}},X$=t=>{const s=po(!1);return{stop:()=>{s.set(!0)},cut:j,isStopped:s.get,isCut:Ce,event:t,setSource:ie("Cannot set source of a broadcasted event"),getSource:ie("Cannot get source of a broadcasted event")}},hw=S.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),oA=(t,s,a,i,d,g)=>{const h=t(s,i),v=Y$(a,d);return h.fold(()=>(g.logEventNoHandlers(s,i),hw.complete()),_=>{const A=_.descHandler;return lg(A)(v),v.isStopped()?(g.logEventStopped(s,_.element,A.purpose),hw.stopped()):v.isCut()?(g.logEventCut(s,_.element,A.purpose),hw.complete()):Da(_.element).fold(()=>(g.logNoParent(s,_.element,A.purpose),hw.complete()),M=>(g.logEventResponse(s,_.element,A.purpose),hw.resume(M)))})},sA=(t,s,a,i,d,g)=>oA(t,s,a,i,d,g).fold(Oe,h=>sA(t,s,a,h,d,g),Ce),J$=(t,s,a,i,d)=>{const g=yS(a,i);return oA(t,s,a,i,g,d)},Q$=(t,s,a)=>{const i=X$(s);return lt(t,d=>{const g=d.descHandler;lg(g)(i)}),i.isStopped()},lR=(t,s,a,i)=>uR(t,s,a,a.target,i),uR=(t,s,a,i,d)=>{const g=yS(a,i);return sA(t,s,a,i,g,d)},eI=(t,s)=>({element:t,descHandler:s}),tI=(t,s)=>({id:t,descHandler:s}),nI=()=>{const t={},s=(h,v,_)=>{qn(_,(A,z)=>{const M=t[z]!==void 0?t[z]:{};M[v]=S_(A,h),t[z]=M})},a=(h,v)=>ym(v).bind(_=>Tt(h,_)).map(_=>eI(v,_));return{registerId:s,unregisterId:h=>{qn(t,(v,_)=>{Lo(v,h)&&delete v[h]})},filterByType:h=>Tt(t,h).map(v=>Ts(v,(_,A)=>tI(A,_))).getOr([]),find:(h,v,_)=>Tt(t,v).bind(A=>nl(_,z=>a(A,z),h))}},oI=()=>{const t=nI(),s={},a=A=>{const z=A.element;return ym(z).getOrThunk(()=>CT("uid-",A.element))},i=(A,z)=>{const M=s[z];if(M===A)g(A);else throw new Error('The tagId "'+z+'" is already used by: '+hm(M.element)+`
Cannot use it for: `+hm(A.element)+`
The conflicting element is`+(cs(M.element)?" ":" not ")+"already in the DOM")},d=A=>{const z=a(A);kr(s,z)&&i(A,z);const M=[A];t.registerId(M,z,A.events),s[z]=A},g=A=>{ym(A.element).each(z=>{delete s[z],t.unregisterId(z)})};return{find:(A,z,M)=>t.find(A,z,M),filter:A=>t.filterByType(A),register:d,unregister:g,getById:A=>Tt(s,A)}},$u=Nc({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:Du(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[$e("components",[]),Wa("containerBehaviours",[]),$e("events",{}),$e("domModification",{}),$e("eventOrder",{})]}),rA=t=>{const s=xe=>Da(t.element).fold(Oe,_e=>fs(xe,_e)),a=oI(),i=(xe,_e)=>a.find(s,xe,_e),d=K$(t.element,{triggerEvent:(xe,_e)=>qy(xe,_e.target,rt=>lR(i,xe,_e,rt))}),g={debugInfo:U("real"),triggerEvent:(xe,_e,rt)=>{qy(xe,_e,He=>uR(i,xe,rt,_e,He))},triggerFocus:(xe,_e)=>{ym(xe).fold(()=>{Gl(xe)},rt=>{qy(qu(),xe,He=>(J$(i,qu(),{originator:_e,kill:j,prevent:j,target:xe},xe,He),!1))})},triggerEscape:(xe,_e)=>{g.triggerEvent("keydown",xe.element,_e.event)},getByUid:xe=>ye(xe),getByDom:xe=>Je(xe),build:Ac,buildOrPatch:Tf,addToGui:xe=>{_(xe)},removeFromGui:xe=>{A(xe)},addToWorld:xe=>{h(xe)},removeFromWorld:xe=>{v(xe)},broadcast:xe=>{P(xe)},broadcastOn:(xe,_e)=>{V(xe,_e)},broadcastEvent:(xe,_e)=>{J(xe,_e)},isConnected:Oe},h=xe=>{xe.connect(g),os(xe.element)||(a.register(xe),lt(xe.components(),h),g.triggerEvent(dm(),xe.element,{target:xe.element}))},v=xe=>{os(xe.element)||(lt(xe.components(),v),a.unregister(xe)),xe.disconnect()},_=xe=>{ha(t,xe)},A=xe=>{Dc(xe)},z=()=>{d.unbind(),ki(t.element)},M=xe=>{const _e=a.filter(Sd());lt(_e,rt=>{const He=rt.descHandler;lg(He)(xe)})},P=xe=>{M({universal:!0,data:xe})},V=(xe,_e)=>{M({universal:!1,channels:xe,data:_e})},J=(xe,_e)=>{const rt=a.filter(xe);return Q$(rt,_e)},ye=xe=>a.getById(xe).fold(()=>Fo.error(new Error('Could not find component with uid: "'+xe+'" in system.')),Fo.value),Je=xe=>{const _e=ym(xe).getOr("not found");return ye(_e)};return h(t),{root:t,element:t.element,destroy:z,add:_,remove:A,getByUid:ye,getByDom:Je,addToWorld:h,removeFromWorld:v,broadcast:P,broadcastOn:V,broadcastEvent:J}},vS=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:De(t.items,s.interpreter)}),sI=U([$e("prefix","form-field"),Wa("fieldBehaviours",[bs,dn])]),rI=U([Dl({schema:[vt("dom")],name:"label"}),Dl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[vt("text")],name:"aria-descriptor"}),Rc({factory:{sketch:t=>{const s=Pt(t,["factory"]);return t.factory.sketch(s)}},schema:[vt("factory")],name:"field"})]),aI=(t,s,a,i)=>{const d=tc(t.fieldBehaviours,[bs.config({find:v=>mr(v,t,"field")}),dn.config({store:{mode:"manual",getValue:v=>bs.getCurrent(v).bind(dn.getValue),setValue:(v,_)=>{bs.getCurrent(v).each(A=>{dn.setValue(A,_)})}}})]),g=Tr([Or((v,_)=>{const A=Lp(v,t,["label","field","aria-descriptor"]);A.field().each(z=>{const M=Tn(t.prefix);A.label().each(P=>{nn(P.element,"for",M),nn(z.element,"id",M)}),A["aria-descriptor"]().each(P=>{const V=Tn(t.prefix);nn(P.element,"id",V),nn(z.element,"aria-describedby",V)})})})]),h={getField:v=>mr(v,t,"field"),getLabel:v=>mr(v,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:g,apis:h}},er=qc({name:"FormField",configFields:sI(),partFields:rI(),factory:aI,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var kS=Object.freeze({__proto__:null,exhibit:(t,s)=>sl({attributes:vo([{key:s.tabAttr,value:"true"}])})}),sv=[$e("tabAttr","data-alloy-tabstop")];const na=_c({fields:sv,name:"tabstopping",active:kS});var dR=tinymce.util.Tools.resolve("tinymce.html.Entities");const bw=(t,s,a,i)=>{const d=iI(t,s,a,i);return er.sketch(d)},cI=(t,s)=>bw(t,s,[],[]),iI=(t,s,a,i)=>({dom:fR(a),components:t.toArray().concat([s]),fieldBehaviours:$t(i)}),lI=()=>fR([]),fR=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),oh=(t,s)=>er.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$r(s.translate(t))]}),su=Tn("form-component-change"),yw=Tn("form-close"),sh=Tn("form-cancel"),Pm=Tn("form-action"),vw=Tn("form-submit"),wS=Tn("form-block"),rh=Tn("form-unblock"),ah=Tn("form-tabchange"),mR=Tn("form-resize"),gR=(t,s,a)=>{const i=t.label.map(M=>oh(M,s)),d=M=>(P,V)=>{cl(V.event.target,"[data-collection-item-value]").each(J=>{M(P,V,J,br(J,"data-collection-item-value"))})},g=(M,P)=>{const V=De(P,Je=>{const xe=Pu.translate(Je.text),_e=t.columns===1?`<div class="tox-collection__item-label">${xe}</div>`:"",rt=`<div class="tox-collection__item-icon">${Je.icon}</div>`,He={_:" "," - ":" ","-":" "},Mt=xe.replace(/\_| \- |\-/g,Ut=>He[Ut]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${dR.encodeAllRaw(Je.value)}" title="${Mt}" aria-label="${Mt}">${rt}${_e}</div>`}),J=t.columns!=="auto"&&t.columns>1?fn(V,t.columns):[V],ye=De(J,Je=>`<div class="tox-collection__group">${Je.join("")}</div>`);_f(M.element,ye.join(""))},h=d((M,P,V,J)=>{P.stop(),s.isDisabled()||oo(M,Pm,{name:t.name,value:J})}),v=[kt(ic(),d((M,P,V)=>{Gl(V)})),kt(im(),h),kt(Lh(),h),kt(Ec(),d((M,P,V)=>{Wr(M.element,"."+Kk).each(J=>{ea(J,Kk)}),ga(V,Kk)})),kt(Cd(),d(M=>{Wr(M.element,"."+Kk).each(P=>{ea(P,Kk)})})),Tu(d((M,P,V,J)=>{oo(M,Pm,{name:t.name,value:J})}))],_=(M,P)=>De(Ai(M.element,".tox-collection__item"),P),A=er.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:at},behaviours:$t([ko.config({disabled:s.isDisabled,onDisabled:M=>{_(M,P=>{ga(P,"tox-collection__item--state-disabled"),nn(P,"aria-disabled",!0)})},onEnabled:M=>{_(M,P=>{ea(P,"tox-collection__item--state-disabled"),se(P,"aria-disabled")})}}),mc(),Bo.config({}),dn.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(M,P)=>{g(M,P),t.columns==="auto"&&ow(M,5,"tox-collection__item").each(({numRows:V,numColumns:J})=>{so.setGridSize(M,V,J)}),Ds(M,mR)}}),na.config({}),so.config(W4(t.columns,"normal")),Vo("collection-events",v)]),eventOrder:{[ol()]:["disabling","alloy.base.behaviour","collection-events"]}});return bw(i,A,["tox-form__group--collection"],[])},pR=["input","textarea"],kw=t=>{const s=Hs(t);return fo(pR,s)},hR=(t,s)=>{const a=s.getRoot(t).getOr(t.element);ea(a,s.invalidClass),s.notify.each(i=>{kw(t.element)&&nn(t.element,"aria-invalid",!1),i.getContainer(t).each(d=>{_f(d,i.validHtml)}),i.onValid(t)})},rv=(t,s,a,i)=>{const d=s.getRoot(t).getOr(t.element);ga(d,s.invalidClass),s.notify.each(g=>{kw(t.element)&&nn(t.element,"aria-invalid",!0),g.getContainer(t).each(h=>{_f(h,i)}),g.onInvalid(t,i)})},av=(t,s,a)=>s.validator.fold(()=>ui.pure(Fo.value(!0)),i=>i.validate(t)),aA=(t,s,a)=>(s.notify.each(i=>{i.onValidate(t)}),av(t,s).map(i=>t.getSystem().isConnected()?i.fold(d=>(rv(t,s,a,d),Fo.error(d)),d=>(hR(t,s),Fo.value(d))):Fo.error("No longer in system")));var uI=Object.freeze({__proto__:null,markValid:hR,markInvalid:rv,query:av,run:aA,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return rl(a,s.invalidClass)}}),dI=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Tr([kt(a.onEvent,i=>{aA(i,t,s).get(at)})].concat(a.validateOnLoad?[Or(i=>{aA(i,t,s).get(j)})]:[]))).getOr({})}),fI=[vt("invalidClass"),$e("getRoot",T.none),_a("notify",[$e("aria","alert"),$e("getContainer",T.none),$e("validHtml",""),hs("onValid"),hs("onInvalid"),hs("onValidate")]),_a("validator",[vt("validate"),$e("onEvent","input"),$e("validateOnLoad",!0)])];const id=_c({fields:fI,name:"invalidating",active:dI,apis:uI,extra:{validation:t=>s=>{const a=dn.getValue(s);return ui.pure(t(a))}}});var mI=Object.freeze({__proto__:null,events:()=>Tr([Gv(jv(),Oe)]),exhibit:()=>sl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const cv=_c({fields:[],name:"unselecting",active:mI}),gI=(t,s)=>cd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:$t([Hd.button(s.providers.isDisabled),mc(),cv.config({}),na.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>ui.nu(i=>t.fetch(i)).map(i=>T.from(nA(sr(j4(Tn("menu-value"),i,d=>{t.onItemAction(a,d)},t.columns,t.presets,jf.CLOSE_ON_EXECUTE,Ce,s.providers),{movement:qb(t.columns,t.presets)})))),parts:{menu:KC(!1,1,t.presets)}}),bR=Tn("color-input-change"),yR=Tn("color-swatch-change"),cA=Tn("color-picker-cancel"),pI=(t,s,a,i)=>{const d=er.parts.field({factory:Lb,inputClasses:["tox-textfield"],data:i,onSetValue:A=>id.run(A).get(j),inputBehaviours:$t([ko.config({disabled:s.providers.isDisabled}),mc(),na.config({}),id.config({invalidClass:"tox-textbox-field-invalid",getRoot:A=>xc(A.element),notify:{onValid:A=>{const z=dn.getValue(A);oo(A,bR,{color:z})}},validator:{validateOnLoad:!1,validate:A=>{const z=dn.getValue(A);if(z.length===0)return ui.pure(Fo.value(!0));{const M=ke.fromTag("span");Cn(M,"background-color",z);const P=zr(M,"background-color").fold(()=>Fo.error("blah"),V=>Fo.value(z));return ui.pure(P)}}}})]),selectOnFocus:!1}),g=t.label.map(A=>oh(A,s.providers)),h=(A,z)=>{oo(A,yR,{value:z})},v=(A,z)=>{_.getOpt(A).each(M=>{z==="custom"?a.colorPicker(P=>{P.fold(()=>Ds(M,cA),V=>{h(M,V),E6(t.storageKey,V)})},"#ffffff"):z==="remove"?h(M,""):h(M,z)})},_=Js(gI({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[kc,Ua,uc],onLtr:()=>[Ua,kc,uc]},components:[],fetch:B6(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:v},s));return er.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,_.asSpec()]}]),fieldBehaviours:$t([Vo("form-field-events",[kt(bR,(A,z)=>{_.getOpt(A).each(M=>{Cn(M.element,"background-color",z.event.color)}),oo(A,su,{name:t.name})}),kt(yR,(A,z)=>{er.getField(A).each(M=>{dn.setValue(M,z.event.value),bs.getCurrent(A).each(wo.focus)})}),kt(cA,(A,z)=>{er.getField(A).each(M=>{bs.getCurrent(A).each(wo.focus)})})])])})},hI=Dl({schema:[vt("dom")],name:"label"}),ch=t=>Dl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),i=>({events:Tr([Ny(ji(),(d,g,h)=>i(d,h),[s]),Ny(Zs(),(d,g,h)=>i(d,h),[s]),Ny(Va(),(d,g,h)=>{h.mouseIsDown.get()&&i(d,h)},[s])])}))}),bI=ch("top-left"),yI=ch("top"),vR=ch("top-right"),kR=ch("right"),vI=ch("bottom-right"),kI=ch("bottom"),wI=ch("bottom-left"),_I=ch("left"),CI=Rc({name:"thumb",defaults:U({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Tr([pm(ji(),t,"spectrum"),pm(ng(),t,"spectrum"),pm(vf(),t,"spectrum"),pm(Zs(),t,"spectrum"),pm(Va(),t,"spectrum"),pm($h(),t,"spectrum")])})}),wR=Rc({schema:[yc("mouseIsDown",()=>po(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,i=(d,g)=>a.getValueFromEvent(g).map(h=>a.setValueFrom(d,t,h));return{behaviours:$t([so.config({mode:"special",onLeft:d=>a.onLeft(d,t),onRight:d=>a.onRight(d,t),onUp:d=>a.onUp(d,t),onDown:d=>a.onDown(d,t)}),wo.config({})]),events:Tr([kt(ji(),i),kt(ng(),i),kt(Zs(),i),kt(Va(),(d,g)=>{t.mouseIsDown.get()&&i(d,g)})])}}});var iv=[hI,_I,kR,yI,kI,bI,vR,wI,vI,CI,wR];const ww=U("slider.change.value"),SI=t=>t.type.indexOf("touch")!==-1,lv=t=>{const s=t.event.raw;if(SI(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?T.some(a.touches[0]).map(i=>ts(i.clientX,i.clientY)):T.none()}else{const a=s;return a.clientX!==void 0?T.some(a).map(i=>ts(i.clientX,i.clientY)):T.none()}},ld="top",iA="right",_R="bottom",xI="left",Kb=t=>t.model.minX,Yb=t=>t.model.minY,_S=t=>t.model.minX-1,_w=t=>t.model.minY-1,ih=t=>t.model.maxX,Xb=t=>t.model.maxY,CS=t=>t.model.maxX+1,Cw=t=>t.model.maxY+1,CR=(t,s,a)=>s(t)-a(t),SS=t=>CR(t,ih,Kb),xS=t=>CR(t,Xb,Yb),lA=t=>SS(t)/2,SR=t=>xS(t)/2,uv=t=>t.stepSize,xR=t=>t.snapToGrid,TR=t=>t.snapStart,ER=t=>t.rounded,TS=(t,s)=>t[s+"-edge"]!==void 0,ES=t=>TS(t,xI),AR=t=>TS(t,iA),uA=t=>TS(t,ld),OR=t=>TS(t,_R),Lg=t=>t.model.value.get(),lh=(t,s)=>({x:t,y:s}),Ud=(t,s)=>{oo(t,ww(),{value:s})},TI=(t,s)=>{Ud(t,lh(_S(s),_w(s)))},EI=(t,s)=>{Ud(t,_w(s))},AI=(t,s)=>{Ud(t,lh(lA(s),_w(s)))},zR=(t,s)=>{Ud(t,lh(CS(s),_w(s)))},DR=(t,s)=>{Ud(t,CS(s))},OI=(t,s)=>{Ud(t,lh(CS(s),SR(s)))},zI=(t,s)=>{Ud(t,lh(CS(s),Cw(s)))},DI=(t,s)=>{Ud(t,Cw(s))},RI=(t,s)=>{Ud(t,lh(lA(s),Cw(s)))},NI=(t,s)=>{Ud(t,lh(_S(s),Cw(s)))},RR=(t,s)=>{Ud(t,_S(s))},NR=(t,s)=>{Ud(t,lh(_S(s),SR(s)))},AS=(t,s,a,i)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-i),Sw=(t,s,a,i)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+i),MR=(t,s,a)=>Math.max(s,Math.min(a,t)),BR=(t,s,a,i,d)=>d.fold(()=>{const g=t-s,h=Math.round(g/i)*i;return MR(s+h,s-1,a+1)},g=>{const h=(t-g)%i,v=Math.round(h/i),_=Math.floor((t-g)/i),A=Math.floor((a-g)/i),z=Math.min(A,_+v),M=g+z*i;return Math.max(g,M)}),MI=(t,s,a)=>Math.min(a,Math.max(t,s))-s,PR=t=>{const{min:s,max:a,range:i,value:d,step:g,snap:h,snapStart:v,rounded:_,hasMinEdge:A,hasMaxEdge:z,minBound:M,maxBound:P,screenRange:V}=t,J=A?s-1:s,ye=z?a+1:a;if(d<M)return J;if(d>P)return ye;{const Je=MI(d,M,P),xe=MR(Je/V*i+s,J,ye);return h&&xe>=s&&xe<=a?BR(xe,s,a,g,v):_?Math.round(xe):xe}},FR=t=>{const{min:s,max:a,range:i,value:d,hasMinEdge:g,hasMaxEdge:h,maxBound:v,maxOffset:_,centerMinEdge:A,centerMaxEdge:z}=t;return d<s?g?0:A:d>a?h?v:z:(d-s)/i*_},dA="top",OS="right",Fm="bottom",fA="left",xw="width",BI="height",jd=t=>t.element.dom.getBoundingClientRect(),Wd=(t,s)=>t[s],zS=t=>{const s=jd(t);return Wd(s,fA)},$R=t=>{const s=jd(t);return Wd(s,OS)},Tw=t=>{const s=jd(t);return Wd(s,dA)},IR=t=>{const s=jd(t);return Wd(s,Fm)},DS=t=>{const s=jd(t);return Wd(s,xw)},RS=t=>{const s=jd(t);return Wd(s,BI)},NS=(t,s,a)=>(t+s)/2-a,LR=(t,s)=>{const a=jd(t),i=jd(s),d=Wd(a,fA),g=Wd(a,OS),h=Wd(i,fA);return NS(d,g,h)},ru=(t,s)=>{const a=jd(t),i=jd(s),d=Wd(a,dA),g=Wd(a,Fm),h=Wd(i,dA);return NS(d,g,h)},MS=(t,s)=>{oo(t,ww(),{value:s})},mA=(t,s,a)=>{const i={min:Kb(s),max:ih(s),range:SS(s),value:a,step:uv(s),snap:xR(s),snapStart:TR(s),rounded:ER(s),hasMinEdge:ES(s),hasMaxEdge:AR(s),minBound:zS(t),maxBound:$R(t),screenRange:DS(t)};return PR(i)},HR=(t,s,a)=>{const i=mA(t,s,a);return MS(t,i),i},VR=(t,s)=>{const a=Kb(s);MS(t,a)},PI=(t,s)=>{const a=ih(s);MS(t,a)},FI=(t,s,a)=>{const d=(t>0?Sw:AS)(Lg(a),Kb(a),ih(a),uv(a));return MS(s,d),T.some(d)},UR=t=>(s,a)=>FI(t,s,a).map(Oe),$I=t=>lv(t).map(a=>a.left),II=(t,s,a,i,d)=>{const h=DS(t),v=i.bind(z=>T.some(LR(z,t))).getOr(0),_=d.bind(z=>T.some(LR(z,t))).getOr(h),A={min:Kb(s),max:ih(s),range:SS(s),value:a,hasMinEdge:ES(s),hasMaxEdge:AR(s),minBound:zS(t),minOffset:0,maxBound:$R(t),maxOffset:h,centerMinEdge:v,centerMaxEdge:_};return FR(A)},gA=(t,s,a,i,d,g)=>{const h=II(s,g,a,i,d);return zS(s)-zS(t)+h},LI=(t,s,a,i)=>{const d=Lg(a),g=gA(t,i.getSpectrum(t),d,i.getLeftEdge(t),i.getRightEdge(t),a),h=or(s.element)/2;Cn(s.element,"left",g-h+"px")},jR=UR(-1),HI=UR(1),VI=T.none,UI=T.none,WR={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some(DR),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some(RR)};var pA=Object.freeze({__proto__:null,setValueFrom:HR,setToMin:VR,setToMax:PI,findValueOfOffset:mA,getValueFromEvent:$I,findPositionOfValue:gA,setPositionFromValue:LI,onLeft:jR,onRight:HI,onUp:VI,onDown:UI,edgeActions:WR});const BS=(t,s)=>{oo(t,ww(),{value:s})},Ew=(t,s,a)=>{const i={min:Yb(s),max:Xb(s),range:xS(s),value:a,step:uv(s),snap:xR(s),snapStart:TR(s),rounded:ER(s),hasMinEdge:uA(s),hasMaxEdge:OR(s),minBound:Tw(t),maxBound:IR(t),screenRange:RS(t)};return PR(i)},dv=(t,s,a)=>{const i=Ew(t,s,a);return BS(t,i),i},ZR=(t,s)=>{const a=Yb(s);BS(t,a)},qR=(t,s)=>{const a=Xb(s);BS(t,a)},GR=(t,s,a)=>{const d=(t>0?Sw:AS)(Lg(a),Yb(a),Xb(a),uv(a));return BS(s,d),T.some(d)},KR=t=>(s,a)=>GR(t,s,a).map(Oe),jI=t=>lv(t).map(a=>a.top),PS=(t,s,a,i,d)=>{const h=RS(t),v=i.bind(z=>T.some(ru(z,t))).getOr(0),_=d.bind(z=>T.some(ru(z,t))).getOr(h),A={min:Yb(s),max:Xb(s),range:xS(s),value:a,hasMinEdge:uA(s),hasMaxEdge:OR(s),minBound:Tw(t),minOffset:0,maxBound:IR(t),maxOffset:h,centerMinEdge:v,centerMaxEdge:_};return FR(A)},hA=(t,s,a,i,d,g)=>{const h=PS(s,g,a,i,d);return Tw(s)-Tw(t)+h},WI=(t,s,a,i)=>{const d=Lg(a),g=hA(t,i.getSpectrum(t),d,i.getTopEdge(t),i.getBottomEdge(t),a),h=ln(s.element)/2;Cn(s.element,"top",g-h+"px")},YR=T.none,XR=T.none,bA=KR(-1),JR=KR(1),fl={"top-left":T.none(),top:T.some(EI),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some(DI),"bottom-left":T.none(),left:T.none()};var QR=Object.freeze({__proto__:null,setValueFrom:dv,setToMin:ZR,setToMax:qR,findValueOfOffset:Ew,getValueFromEvent:jI,findPositionOfValue:hA,setPositionFromValue:WI,onLeft:YR,onRight:XR,onUp:bA,onDown:JR,edgeActions:fl});const FS=(t,s)=>{oo(t,ww(),{value:s})},$S=(t,s)=>({x:t,y:s}),eN=(t,s,a)=>{const i=mA(t,s,a.left),d=Ew(t,s,a.top),g=$S(i,d);return FS(t,g),g},ZI=(t,s,a,i)=>{const d=t>0?Sw:AS,g=s?Lg(i).x:d(Lg(i).x,Kb(i),ih(i),uv(i)),h=s?d(Lg(i).y,Yb(i),Xb(i),uv(i)):Lg(i).y;return FS(a,$S(g,h)),T.some(g)},IS=(t,s)=>(a,i)=>ZI(t,s,a,i).map(Oe),qI=(t,s)=>{const a=Kb(s),i=Yb(s);FS(t,$S(a,i))},tN=(t,s)=>{const a=ih(s),i=Xb(s);FS(t,$S(a,i))},$m=t=>lv(t),yA=(t,s,a,i)=>{const d=Lg(a),g=gA(t,i.getSpectrum(t),d.x,i.getLeftEdge(t),i.getRightEdge(t),a),h=hA(t,i.getSpectrum(t),d.y,i.getTopEdge(t),i.getBottomEdge(t),a),v=or(s.element)/2,_=ln(s.element)/2;Cn(s.element,"left",g-v+"px"),Cn(s.element,"top",h-_+"px")},nN=IS(-1,!1),LS=IS(1,!1),vA=IS(-1,!0),GI=IS(1,!0),KI={"top-left":T.some(TI),top:T.some(AI),"top-right":T.some(zR),right:T.some(OI),"bottom-right":T.some(zI),bottom:T.some(RI),"bottom-left":T.some(NI),left:T.some(NR)};var YI=Object.freeze({__proto__:null,setValueFrom:eN,setToMin:qI,setToMax:tN,getValueFromEvent:$m,setPositionFromValue:yA,onLeft:nN,onRight:LS,onUp:vA,onDown:GI,edgeActions:KI});const XI=[$e("stepSize",1),$e("onChange",j),$e("onChoose",j),$e("onInit",j),$e("onDragStart",j),$e("onDragEnd",j),$e("snapToGrid",!1),$e("rounded",!0),Is("snapStart"),fr("model",ac("mode",{x:[$e("minX",0),$e("maxX",100),yc("value",t=>po(t.mode.minX)),vt("getInitialValue"),Dr("manager",pA)],y:[$e("minY",0),$e("maxY",100),yc("value",t=>po(t.mode.minY)),vt("getInitialValue"),Dr("manager",QR)],xy:[$e("minX",0),$e("maxX",100),$e("minY",0),$e("maxY",100),yc("value",t=>po({x:t.mode.minX,y:t.mode.minY})),vt("getInitialValue"),Dr("manager",YI)]})),Wa("sliderBehaviours",[so,dn]),yc("mouseIsDown",()=>po(!1))],Zd=qc({name:"Slider",configFields:XI,partFields:iv,factory:(t,s,a,i)=>{const d=He=>Ff(He,t,"thumb"),g=He=>Ff(He,t,"spectrum"),h=He=>mr(He,t,"left-edge"),v=He=>mr(He,t,"right-edge"),_=He=>mr(He,t,"top-edge"),A=He=>mr(He,t,"bottom-edge"),z=t.model,M=z.manager,P=(He,Mt)=>{M.setPositionFromValue(He,Mt,t,{getLeftEdge:h,getRightEdge:v,getTopEdge:_,getBottomEdge:A,getSpectrum:g})},V=(He,Mt)=>{z.value.set(Mt);const At=d(He);P(He,At)},J=(He,Mt)=>{V(He,Mt);const At=d(He);return t.onChange(He,At,Mt),T.some(!0)},ye=He=>{M.setToMin(He,t)},Je=He=>{M.setToMax(He,t)},xe=He=>{const Mt=()=>{mr(He,t,"thumb").each(Ut=>{const an=z.value.get();t.onChoose(He,Ut,an)})},At=t.mouseIsDown.get();t.mouseIsDown.set(!1),At&&Mt()},_e=(He,Mt)=>{Mt.stop(),t.mouseIsDown.set(!0),t.onDragStart(He,d(He))},rt=(He,Mt)=>{Mt.stop(),t.onDragEnd(He,d(He)),xe(He)};return{uid:t.uid,dom:t.dom,components:s,behaviours:tc(t.sliderBehaviours,[so.config({mode:"special",focusIn:He=>mr(He,t,"spectrum").map(so.focusIn).map(Oe)}),dn.config({store:{mode:"manual",getValue:He=>z.value.get(),setValue:V}}),Wc.config({channels:{[tk()]:{onReceive:xe}}})]),events:Tr([kt(ww(),(He,Mt)=>{J(He,Mt.event.value)}),Or((He,Mt)=>{const At=z.getInitialValue();z.value.set(At);const Ut=d(He);P(He,Ut);const an=g(He);t.onInit(He,Ut,an,z.value.get())}),kt(ji(),_e),kt(vf(),rt),kt(Zs(),_e),kt($h(),rt)]),apis:{resetToMin:ye,resetToMax:Je,setValue:V,refresh:P},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),kA=Tn("rgb-hex-update"),wA=Tn("slider-update"),oN=Tn("palette-update"),Im=(t,s)=>{const a=Zd.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=Zd.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Zd.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:U(0)},components:[a,i],sliderBehaviours:$t([wo.config({})]),onChange:(d,g,h)=>{oo(d,wA,{value:h})}})},Aw="form",JI=[Wa("formBehaviours",[dn])],sN=t=>"<alloy.field."+t+">",rN=t=>{const s=(()=>{const g=[];return{field:(v,_)=>(g.push(v),Q2(Aw,sN(v),_)),record:U(g)}})(),a=t(s),i=s.record(),d=De(i,g=>Rc({name:g,pname:sN(g)}));return vk(Aw,JI,d,_A,a)},aN=(t,s)=>t.fold(()=>Fo.error(s),Fo.value),_A=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:tc(t.formBehaviours,[dn.config({store:{mode:"manual",getValue:a=>{const i=bk(a,t);return Gn(i,(d,g)=>d().bind(h=>{const v=bs.getCurrent(h);return aN(v,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+hm(h.element)))}).map(dn.getValue))},setValue:(a,i)=>{qn(i,(d,g)=>{mr(a,t,g).each(h=>{bs.getCurrent(h).each(v=>{dn.setValue(v,d)})})})}}})]),apis:{getField:(a,i)=>mr(a,t,i).bind(bs.getCurrent)}}),Hg={getField:vm((t,s,a)=>t.getField(s,a)),sketch:rN},fv=Tn("valid-input"),mv=Tn("invalid-input"),CA=Tn("validating-input"),HS="colorcustom.rgb.",cN=(t,s,a,i)=>{const d=(P,V)=>id.config({invalidClass:s("invalid"),notify:{onValidate:J=>{oo(J,CA,{type:P})},onValid:J=>{oo(J,fv,{type:P,value:dn.getValue(J)})},onInvalid:J=>{oo(J,mv,{type:P,value:dn.getValue(J)})}},validator:{validate:J=>{const ye=dn.getValue(J),Je=V(ye)?Fo.value(!0):Fo.error(t("aria.input.invalid"));return ui.pure(Je)},validateOnLoad:!1}}),g=(P,V,J,ye,Je)=>{const xe=t(HS+"range"),_e=er.parts.label({dom:{tag:"label",attributes:{"aria-label":ye}},components:[$r(J)]}),rt=er.parts.field({data:Je,factory:Lb,inputAttributes:{type:"text",...V==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:$t([d(V,P),na.config({})]),onSetValue:Ut=>{id.isInvalid(Ut)&&id.run(Ut).get(j)}}),He=[_e,rt],Mt=V!=="hex"?[er.parts["aria-descriptor"]({text:xe})]:[],At=He.concat(Mt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:At}},h=(P,V)=>{const J=iw(V);return Hg.getField(P,"hex").each(ye=>{wo.isFocused(ye)||dn.setValue(P,{hex:J.value})}),J},v=(P,V)=>{const J=V.red,ye=V.green,Je=V.blue;dn.setValue(P,{red:J,green:ye,blue:Je})},_=Js({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),A=(P,V)=>{_.getOpt(P).each(J=>{Cn(J.element,"background-color","#"+V.value)})};return Nc({factory:()=>{const P={red:po(T.some(255)),green:po(T.some(255)),blue:po(T.some(255)),hex:po(T.some("ffffff"))},V=(No,xs)=>{const lo=uw(xs);v(No,lo),xe(lo)},J=No=>P[No].get(),ye=(No,xs)=>{P[No].set(xs)},Je=()=>J("red").bind(No=>J("green").bind(xs=>J("blue").map(lo=>$g(No,xs,lo,1)))),xe=No=>{const xs=No.red,lo=No.green,vs=No.blue;ye("red",T.some(xs)),ye("green",T.some(lo)),ye("blue",T.some(vs))},_e=(No,xs)=>{const lo=xs.event;lo.type!=="hex"?ye(lo.type,T.none()):i(No)},rt=(No,xs)=>{a(No);const lo=T4(xs);ye("hex",T.some(lo.value));const vs=uw(lo);v(No,vs),xe(vs),oo(No,kA,{hex:lo}),A(No,lo)},He=(No,xs,lo)=>{const vs=parseInt(lo,10);ye(xs,T.some(vs)),Je().each(Gt=>{const Pn=h(No,Gt);oo(No,kA,{hex:Pn}),A(No,Pn)})},Mt=No=>No.type==="hex",At=(No,xs)=>{const lo=xs.event;Mt(lo)?rt(No,lo.value):He(No,lo.type,lo.value)},Ut=No=>({label:t(HS+No+".label"),description:t(HS+No+".description")}),an=Ut("red"),rs=Ut("green"),Un=Ut("blue"),Io=Ut("hex");return sr(Hg.sketch(No=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[No.field("red",er.sketch(g(A4,"red",an.label,an.description,255))),No.field("green",er.sketch(g(A4,"green",rs.label,rs.description,255))),No.field("blue",er.sketch(g(A4,"blue",Un.label,Un.description,255))),No.field("hex",er.sketch(g(p6,"hex",Io.label,Io.description,"ffffff"))),_.asSpec()],formBehaviours:$t([id.config({invalidClass:s("form-invalid")}),Vo("rgb-form-events",[kt(fv,At),kt(mv,_e),kt(CA,_e)])])})),{apis:{updateHex:(No,xs)=>{dn.setValue(No,{hex:xs.value}),V(No,xs),A(No,xs)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(P,V,J)=>{P.updateHex(V,J)}},extraApis:{}})},iN=(t,s)=>{const a=Zd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),i=Zd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(A,z)=>{const{width:M,height:P}=A,V=A.getContext("2d");if(V===null)return;V.fillStyle=z,V.fillRect(0,0,M,P);const J=V.createLinearGradient(0,0,M,0);J.addColorStop(0,"rgba(255,255,255,1)"),J.addColorStop(1,"rgba(255,255,255,0)"),V.fillStyle=J,V.fillRect(0,0,M,P);const ye=V.createLinearGradient(0,0,0,P);ye.addColorStop(0,"rgba(0,0,0,0)"),ye.addColorStop(1,"rgba(0,0,0,1)"),V.fillStyle=ye,V.fillRect(0,0,M,P)},g=(A,z)=>{const M=A.components()[0].element.dom,P=fw(z,100,100),V=k6(P);d(M,O4(V))},h=(A,z)=>{const M=B4(uw(z));Zd.setValue(A,{x:M.saturation,y:100-M.value})};return Nc({factory:A=>{const z=U({x:0,y:0}),M=(J,ye,Je)=>{oo(J,oN,{value:Je})},P=(J,ye,Je,xe)=>{d(Je.element.dom,O4(z4))},V=$t([bs.config({find:T.some}),wo.config({})]);return Zd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:z},rounded:!1,components:[a,i],onChange:M,onInit:P,sliderBehaviours:V})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(A,z,M)=>{g(z,M)},setThumb:(A,z,M)=>{h(z,M)}},extraApis:{}})},QI=(t,s)=>{const a=d=>{const g=cN(t,s,d.onValidHex,d.onInvalidHex),h=iN(t,s),v=At=>(100-At)/100*360,_=At=>100-At/360*100,A={paletteRgba:po(z4),paletteHue:po(0)},z=Js(Im(t,s)),M=Js(h.sketch({})),P=Js(g.sketch({})),V=(At,Ut,an)=>{M.getOpt(At).each(rs=>{h.setHue(rs,an)})},J=(At,Ut)=>{P.getOpt(At).each(an=>{g.updateHex(an,Ut)})},ye=(At,Ut,an)=>{z.getOpt(At).each(rs=>{Zd.setValue(rs,_(an))})},Je=(At,Ut)=>{M.getOpt(At).each(an=>{h.setThumb(an,Ut)})},xe=(At,Ut)=>{const an=uw(At);A.paletteRgba.set(an),A.paletteHue.set(Ut)},_e=(At,Ut,an,rs)=>{xe(Ut,an),lt(rs,Un=>{Un(At,Ut,an)})},rt=()=>{const At=[J];return(Ut,an)=>{const rs=an.event.value,Un=A.paletteHue.get(),Io=fw(Un,rs.x,100-rs.y),No=A6(Io);_e(Ut,No,Un,At)}},He=()=>{const At=[V,J];return(Ut,an)=>{const rs=v(an.event.value),Un=A.paletteRgba.get(),Io=B4(Un),No=fw(rs,Io.saturation,Io.value),xs=A6(No);_e(Ut,xs,rs,At)}},Mt=()=>{const At=[V,ye,Je];return(Ut,an)=>{const rs=an.event.hex,Un=e$(rs);_e(Ut,rs,Un.hue,At)}};return{uid:d.uid,dom:d.dom,components:[M.asSpec(),z.asSpec(),P.asSpec()],behaviours:$t([Vo("colour-picker-events",[kt(kA,Mt()),kt(oN,rt()),kt(wA,He())]),bs.config({find:At=>P.getOpt(At)}),so.config({mode:"acyclic"})])}};return Nc({name:"ColourPicker",configFields:[vt("dom"),$e("onValidHex",j),$e("onInvalidHex",j)],factory:a})},qd={self:()=>bs.config({find:T.some}),memento:t=>bs.config({find:t.getOpt}),childAt:t=>bs.config({find:s=>Kc(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},lN=Jn([$e("preprocess",at),$e("postprocess",at)]),uN=(t,s)=>{const a=As("RepresentingConfigs.memento processors",lN,s);return dn.config({store:{mode:"manual",getValue:i=>{const d=t.get(i),g=dn.getValue(d);return a.postprocess(g)},setValue:(i,d)=>{const g=a.preprocess(d),h=t.get(i);dn.setValue(h,g)}}})},Jb=(t,s,a)=>dn.config({store:{mode:"manual",...t.map(i=>({initialValue:i})).getOr({}),getValue:s,setValue:a}}),SA=(t,s,a)=>Jb(t,i=>s(i.element),(i,d)=>a(i.element,d)),eL=t=>SA(t,Py,_f),Ow=t=>dn.config({store:{mode:"memory",initialValue:t}}),zw={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},tL=t=>s=>t.translate(zw[s]),dN=(t,s,a)=>{const i=_=>"tox-"+_,d=QI(tL(s),i),g=_=>{oo(_,Pm,{name:"hex-valid",value:!0})},h=_=>{oo(_,Pm,{name:"hex-valid",value:!1})},v=Js(d.sketch({dom:{tag:"div",classes:[i("color-picker-container")],attributes:{role:"presentation"}},onValidHex:g,onInvalidHex:h}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:$t([Jb(a,_=>{const A=v.get(_);return bs.getCurrent(A).bind(P=>dn.getValue(P).hex).map(P=>"#"+Wt(P,"#")).getOr("")},(_,A)=>{const z=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,M=T.from(z.exec(A)).bind(J=>Ie(J,1)),P=v.get(_);bs.getCurrent(P).fold(()=>{console.log("Can not find form")},J=>{dn.setValue(J,{hex:M.getOr("")}),Hg.getField(J,"hex").each(ye=>{Ds(ye,og())})})}),qd.self()])}};var nL=tinymce.util.Tools.resolve("tinymce.Resource");const oL=t=>Lo(t,"init"),sL=t=>{const s=Rr(),a=Js({dom:{tag:t.tag}}),i=Rr();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:$t([Vo("custom-editor-events",[Or(d=>{a.getOpt(d).each(g=>{(oL(t)?t.init(g.element.dom):nL.load(t.scriptId,t.scriptUrl).then(h=>h(g.element.dom,t.settings))).then(h=>{i.on(v=>{h.setValue(v)}),i.clear(),s.set(h)})})})]),Jb(T.none(),()=>s.get().fold(()=>i.get().getOr(""),d=>d.getValue()),(d,g)=>{s.get().fold(()=>i.set(g),h=>h.setValue(g))}),qd.self()]),components:[a.asSpec()]}};var Vg=tinymce.util.Tools.resolve("tinymce.util.Tools");const fN=(t,s)=>{const a=Vg.explode(s.getOption("images_file_types")),i=d=>Zo(a,g=>wr(d.name.toLowerCase(),`.${g.toLowerCase()}`));return Qn(Dn(t),i)},rL=(t,s,a)=>{const i=(P,V)=>{V.stop()},d=P=>(V,J)=>{lt(P,ye=>{ye(V,J)})},g=(P,V)=>{var J;if(!ko.isDisabled(P)){const ye=V.event.raw;v(P,(J=ye.dataTransfer)===null||J===void 0?void 0:J.files)}},h=(P,V)=>{const J=V.event.raw.target;v(P,J.files)},v=(P,V)=>{V&&(dn.setValue(P,fN(V,s)),oo(P,su,{name:t.name}))},_=Js({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:$t([Vo("input-file-events",[xd(im()),xd(Lh())])])}),A=P=>({uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:$t([Ow(a.getOr([])),qd.self(),ko.config({}),Ko.config({toggleClass:"dragenter",toggleOnExecute:!1}),Vo("dropzone-events",[kt("dragenter",d([i,Ko.toggle])),kt("dragleave",d([i,Ko.toggle])),kt("dragover",i),kt("drop",d([i,g])),kt(sg(),h)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$r(s.translate("Drop an image here"))]},Gc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$r(s.translate("Browse for an image")),_.asSpec()],action:V=>{_.get(V).element.dom.click()},buttonBehaviours:$t([na.config({}),Hd.button(s.isDisabled),mc()])})]}]}),z=t.label.map(P=>oh(P,s)),M=er.parts.field({factory:{sketch:A}});return bw(z,M,["tox-form__group--stretched"],[])},mN=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:De(t.items,s.interpreter)}),xA=(t,s)=>{let a=null,i=null;return{cancel:()=>{_o(a)||(clearTimeout(a),a=null,i=null)},throttle:(...h)=>{i=h,_o(a)&&(a=setTimeout(()=>{const v=i;a=null,i=null,t.apply(null,v)},s))}}},Ug=(t,s)=>{let a=null;return{cancel:()=>{_o(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{_o(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},Dw=(t,s)=>{let a=null;const i=()=>{_o(a)||(clearTimeout(a),a=null)};return{cancel:i,throttle:(...g)=>{i(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},VS=Tn("alloy-fake-before-tabstop"),US=Tn("alloy-fake-after-tabstop"),jS=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:$t([wo.config({ignore:!0}),na.config({})])}),TA=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[jS([VS]),s,jS([US])],behaviours:$t([qd.childAt(1)])}),Rw=(t,s)=>{oo(t,xu(),{raw:{which:9,shiftKey:s}})},gN=(t,s)=>{const a=s.element;rl(a,VS)?Rw(t,!0):rl(a,US)&&Rw(t,!1)},gv=t=>pw(t,["."+VS,"."+US].join(","),Ce),EA=Tn("update-dialog"),pN=Tn("update-title"),hN=Tn("update-body"),bN=Tn("update-footer"),yN=Tn("body-send-message"),Nw=Tn("dialog-focus-shifted"),WS=Qi().browser,Mw=WS.isSafari(),aL=WS.isFirefox(),vN=Mw||aL,ZS=WS.isChromium(),cL=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,kN=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),wN=(t,s)=>{const a=t.body;return T.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!ZS&&!Mw||tn(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},AA=(t,s,a)=>{const i=t.dom;T.from(i.contentDocument).fold(a,d=>{let g=0;const h=wN(d,s).map(_=>(g=_.scrollTop,_)).forall(cL),v=()=>{const _=i.contentWindow;tn(_)&&(h?kN(_,"bottom"):!h&&vN&&g!==0&&kN(_,g))};Mw&&i.addEventListener("load",v,{once:!0}),d.open(),d.write(s),d.close(),Mw||v()})},iL=Kn(vN,Mw?500:200).map(t=>xA(AA,t)),OA=(t,s)=>{const a=po(t.getOr(""));return{getValue:i=>a.get(),setValue:(i,d)=>{if(a.get()!==d){const g=i.element,h=()=>nn(g,"srcdoc",d);s?iL.fold(U(AA),v=>v.throttle)(g,d,h):h()}a.set(d)}}},lL=(t,s,a)=>{const i="tox-dialog__iframe",d=t.transparent?[]:[`${i}--opaque`],g=t.border?["tox-navobj-bordered"]:[],h={...t.label.map(M=>({title:M})).getOr({}),...a.map(M=>({srcdoc:M})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},v=OA(a,t.streamContent),_=t.label.map(M=>oh(M,s)),A=M=>TA(T.from(g),{uid:M.uid,dom:{tag:"iframe",attributes:h,classes:[i,...d]},behaviours:$t([na.config({}),wo.config({}),Jb(a,v.getValue,v.setValue),Wc.config({channels:{[Nw]:{onReceive:(P,V)=>{V.newFocus.each(J=>{xc(P.element).each(ye=>{(fs(P.element,J)?ga:ea)(ye,"tox-navobj-bordered-focus")})})}}}})])}),z=er.parts.field({factory:{sketch:A}});return bw(_,z,["tox-form__group--stretched"],[])},_N=t=>new Promise((s,a)=>{const i=()=>{g(),s(t)},d=[Ei(t,"load",i),Ei(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>lt(d,h=>h.unbind());t.dom.complete&&i()}),uL=(t,s,a,i,d)=>{const g=a*d,h=i*d,v=Math.max(0,t/2-g/2),_=Math.max(0,s/2-h/2);return{left:v.toString()+"px",top:_.toString()+"px",width:g.toString()+"px",height:h.toString()+"px"}},dL=(t,s,a)=>{const i=or(t),d=ln(t);return Math.min(i/s,d/a,1)},fL=(t,s)=>{const a=po(s.getOr({url:""})),i=Js({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(_=>({src:_.url})).getOr({})}}),d=Js({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[i.asSpec()]}),g=(_,A)=>{const z={url:A.url};A.zoom.each(P=>z.zoom=P),A.cachedWidth.each(P=>z.cachedWidth=P),A.cachedHeight.each(P=>z.cachedHeight=P),a.set(z);const M=()=>{const{cachedWidth:P,cachedHeight:V,zoom:J}=z;if(!jt(P)&&!jt(V)){if(jt(J)){const Je=dL(_.element,P,V);z.zoom=Je}const ye=uL(or(_.element),ln(_.element),P,V,z.zoom);d.getOpt(_).each(Je=>{dr(Je.element,ye)})}};i.getOpt(_).each(P=>{const V=P.element;A.url!==br(V,"src")&&(nn(V,"src",A.url),ea(_.element,"tox-imagepreview__loaded")),M(),_N(V).then(J=>{_.getSystem().isConnected()&&(ga(_.element,"tox-imagepreview__loaded"),z.cachedWidth=J.dom.naturalWidth,z.cachedHeight=J.dom.naturalHeight,M())})})},h={};t.height.each(_=>h.height=_);const v=s.map(_=>({url:_.url,zoom:T.from(_.zoom),cachedWidth:T.from(_.cachedWidth),cachedHeight:T.from(_.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:h,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:$t([qd.self(),Jb(v,()=>a.get(),g)])}},CN=(t,s)=>{const a="tox-label",i=t.align==="center"?[`${a}--center`]:[],d=t.align==="end"?[`${a}--end`]:[],g={dom:{tag:"label",classes:[a,...i,...d]},components:[$r(s.providers.translate(t.label))]},h=De(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[g,...h],behaviours:$t([qd.self(),Bo.config({}),eL(T.none()),so.config({mode:"acyclic"})])}},zA=Tn("toolbar.button.execute"),mL=t=>Tu((s,a)=>{lS(t,s)(i=>{oo(s,zA,{buttonApi:i}),t.onAction(i)})}),Qb=Tn("common-button-display-events"),SN={[ol()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Vl()]:["toolbar-button-events",Qb],[Zs()]:["focusing","alloy.base.behaviour",Qb]},DA=t=>Cn(t.element,"width",Ws(t.element,"width")),RA=(t,s,a)=>Id(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),NA=(t,s)=>RA(t,s,[]),jg=(t,s)=>RA(t,s,[Bo.config({})]),xN=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[$r(a.translate(t))],behaviours:$t([Bo.config({})])}),ud=Tn("update-menu-text"),ey=Tn("update-menu-icon"),MA=(t,s,a)=>{const i=po(j),d=t.text.map(P=>Js(xN(P,s,a.providers))),g=t.icon.map(P=>Js(jg(P,a.providers.icons))),h=(P,V)=>{const J=dn.getValue(P);return wo.focus(J),oo(J,"keydown",{raw:V.event.raw}),cd.close(J),T.some(!0)},v=t.role.fold(()=>({}),P=>({role:P})),_=t.tooltip.fold(()=>({}),P=>{const V=a.providers.translate(P);return{title:V,"aria-label":V}}),A=Id("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),z=Tn("common-button-display-events");return Js(cd.sketch({...t.uid?{uid:t.uid}:{},...v,dom:{tag:"button",classes:[s,`${s}--select`].concat(De(t.classes,P=>`${s}--${P}`)),attributes:{..._}},components:Qs([g.map(P=>P.asSpec()),d.map(P=>P.asSpec()),T.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:(P,V,J)=>{t.searchable&&I$(J)},dropdownBehaviours:$t([...t.dropdownBehaviours,Hd.button(()=>t.disabled||a.providers.isDisabled()),mc(),cv.config({}),Bo.config({}),Vo("dropdown-events",[Mc(t,i),Bm(t,i)]),Vo(z,[Or((P,V)=>DA(P))]),Vo("menubutton-update-display-text",[kt(ud,(P,V)=>{d.bind(J=>J.getOpt(P)).each(J=>{Bo.set(J,[$r(a.providers.translate(V.event.text))])})}),kt(ey,(P,V)=>{g.bind(J=>J.getOpt(P)).each(J=>{Bo.set(J,[jg(V.event.icon,a.providers.icons)])})})])]),eventOrder:sr(SN,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Vl()]:["toolbar-button-events","dropdown-events",z]}),sandboxBehaviours:$t([so.config({mode:"special",onLeft:h,onRight:h}),Vo("dropdown-sandbox-events",[kt(r4,(P,V)=>{eR(P),V.stop()}),kt(a4,(P,V)=>{B$(P,V),V.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...KC(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:eA,onCollapseMenu:(P,V,J)=>{Fs.getHighlighted(J).each(ye=>{eA(P,J,ye)})},onDehighlightItem:$$}},getAnchorOverrides:()=>({maxHeightFunction:(P,V)=>{N0()(P,V-10)}}),fetch:P=>ui.nu(Zt(t.fetch,P))})).asSpec()},gL=t=>nt(t),TN=t=>t.type==="separator",pL=t=>Lo(t,"getSubmenuItems"),hL={type:"separator"},bL=(t,s)=>{const a=mt(t,(i,d)=>gL(d)?d===""?i:d==="|"?i.length>0&&!TN(i[i.length-1])?i.concat([hL]):i:Lo(s,d.toLowerCase())?i.concat([s[d.toLowerCase()]]):i:i.concat([d]),[]);return a.length>0&&TN(a[a.length-1])&&a.pop(),a},BA=(t,s)=>{const a=t.getSubmenuItems(),i=EN(a,s),d=sr(i.menus,{[t.value]:i.items}),g=sr(i.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:g}},yL=t=>{const s=Tt(t,"value").getOrThunk(()=>Tn("generated-menu-item"));return sr({value:s},t)},EN=(t,s)=>{const a=bL(nt(t)?t.split(" "):t,s);return ft(a,(i,d)=>{if(pL(d)){const g=yL(d),h=BA(g,s);return{menus:sr(i.menus,h.menus),items:[h.item,...i.items],expansions:sr(i.expansions,h.expansions)}}else return{...i,items:[d,...i.items]}},{menus:{},expansions:{},items:[]})},vL=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),Bw=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),uh=(t,s,a,i)=>{const d=Tn("primary-menu"),g=EN(t,a.shared.providers.menuItems());if(g.items.length===0)return T.none();const h=vL(i),v=tA(d,g.items,s,a,i.isHorizontalMenu,h),_=Bw(i),A=Gn(g.menus,(M,P)=>tA(P,M,s,a,!1,_)),z=sr(A,qt(d,v));return T.from(Nb.tieredData(d,z,g.expansions))},PA=t=>!Lo(t,"items"),AN="data-value",qS=(t,s,a,i)=>De(a,d=>PA(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===i,onAction:()=>{dn.setValue(t,d.value),oo(t,su,{name:s}),wo.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:()=>qS(t,s,d.items,i)}),FA=(t,s)=>Rn(t,a=>PA(a)?Kn(a.value===s,a):FA(a.items,s)),$A=(t,s,a)=>{const i=s.shared.providers,d=a.bind(_=>FA(t.items,_)).orThunk(()=>zt(t.items).filter(PA)),g=t.label.map(_=>oh(_,i)),h=er.parts.field({dom:{},factory:{sketch:_=>MA({uid:_.uid,text:d.map(A=>A.text),icon:T.none(),tooltip:t.label,role:T.none(),fetch:(A,z)=>{const M=qS(A,t.name,t.items,dn.getValue(A));z(uh(M,jf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:T.none()}))},onSetup:U(j),getApi:U({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[na.config({}),Jb(d.map(A=>A.value),A=>br(A.element,AN),(A,z)=>{FA(t.items,z).each(M=>{nn(A.element,AN,M.value),oo(A,ud,{text:M.text})})})]},"tox-listbox",s.shared)}}),v={dom:{tag:"div",classes:["tox-listboxfield"]},components:[h]};return er.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ve([g.toArray(),[v]]),fieldBehaviours:$t([ko.config({disabled:U(!t.enabled),onDisabled:_=>{er.getField(_).each(ko.disable)},onEnabled:_=>{er.getField(_).each(ko.enable)}})])})},ON=(t,s)=>({dom:{tag:"div",classes:t.classes},components:De(t.items,s.shared.interpreter)}),kL=(t,s)=>{const a=De(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),i=t.data.map(d=>qt("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:tc(t.selectBehaviours,[wo.config({}),dn.config({store:{mode:"manual",getValue:d=>pa(d.element),setValue:(d,g)=>{const h=zt(t.options);X(t.options,_=>_.value===g).isSome()?Sa(d.element,g):d.element.dom.selectedIndex===-1&&g===""&&h.each(_=>Sa(d.element,_.value))},...i}})])}},wL=Nc({name:"HtmlSelect",configFields:[vt("options"),Wa("selectBehaviours",[wo,dn]),$e("selectClasses",[]),$e("selectAttributes",{}),Is("data")],factory:kL}),zN=(t,s,a)=>{const i=De(t.items,_=>({text:s.translate(_.text),value:_.value})),d=t.label.map(_=>oh(_,s)),g=er.parts.field({dom:{},...a.map(_=>({data:_})).getOr({}),selectAttributes:{size:t.size},options:i,factory:wL,selectBehaviours:$t([ko.config({disabled:()=>!t.enabled||s.isDisabled()}),na.config({}),Vo("selectbox-change",[kt(sg(),(_,A)=>{oo(_,su,{name:t.name})})])])}),h=t.size>1?T.none():T.some(Id("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),v={dom:{tag:"div",classes:["tox-selectfield"]},components:ve([[g],h.toArray()])};return er.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ve([d.toArray(),[v]]),fieldBehaviours:$t([ko.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{er.getField(_).each(ko.disable)},onEnabled:_=>{er.getField(_).each(ko.enable)}}),mc()])})},DN=U([$e("field1Name","field1"),$e("field2Name","field2"),Of("onLockedChange"),il(["lockClass"]),$e("locked",!1),Ru.field("coupledFieldBehaviours",[bs,dn])]),_L=(t,s,a)=>mr(t,s,a).bind(bs.getCurrent),IA=(t,s)=>Rc({factory:er,name:t,overrides:a=>({fieldBehaviours:$t([Vo("coupled-input-behaviour",[kt(og(),i=>{_L(i,a,s).each(d=>{mr(i,a,"lock").each(g=>{Ko.isOn(g)&&a.onLockedChange(i,d,g)})})})])])})}),RN=U([IA("field1","field2"),IA("field2","field1"),Rc({factory:Gc,schema:[vt("dom")],name:"lock",overrides:t=>({buttonBehaviours:$t([Ko.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),CL=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Ru.augment(t.coupledFieldBehaviours,[bs.config({find:T.some}),dn.config({store:{mode:"manual",getValue:d=>{const g=yk(d,t,["field1","field2"]);return{[t.field1Name]:dn.getValue(g.field1()),[t.field2Name]:dn.getValue(g.field2())}},setValue:(d,g)=>{const h=yk(d,t,["field1","field2"]);kr(g,t.field1Name)&&dn.setValue(h.field1(),g[t.field1Name]),kr(g,t.field2Name)&&dn.setValue(h.field2(),g[t.field2Name])}}})]),apis:{getField1:d=>mr(d,t,"field1"),getField2:d=>mr(d,t,"field2"),getLock:d=>mr(d,t,"lock")}}),au=qc({name:"FormCoupledInputs",configFields:DN(),partFields:RN(),factory:CL,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),NN=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let i=t.value.toFixed(a(t.unit));return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+t.unit},GS=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const i=parseFloat(a[1]),d=a[2];return Fo.value({value:i,unit:d})}else return Fo.error(t)},MN=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},i=d=>Lo(a,d);return t.unit===s?T.some(t.value):i(t.unit)&&i(s)?a[t.unit]===a[s]?T.some(t.value):T.some(t.value/a[t.unit]*a[s]):T.none()},LA=t=>T.none(),SL=(t,s)=>a=>MN(a,s).map(i=>({value:i*t,unit:s})),BN=(t,s)=>{const a=GS(t).toOptional(),i=GS(s).toOptional();return ia(a,i,(d,g)=>MN(d,g.unit).map(h=>g.value/h).map(h=>SL(h,g.unit)).getOr(LA)).getOr(LA)},xL=(t,s)=>{let a=LA;const i=Tn("ratio-event"),d=M=>Id(M,{tag:"span",classes:["tox-icon","tox-lock-icon__"+M]},s.icons),g=au.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:$t([ko.config({disabled:()=>!t.enabled||s.isDisabled()}),mc(),na.config({})])}),h=M=>({dom:{tag:"div",classes:["tox-form__group"]},components:M}),v=M=>er.parts.field({factory:Lb,inputClasses:["tox-textfield"],inputBehaviours:$t([ko.config({disabled:()=>!t.enabled||s.isDisabled()}),mc(),na.config({}),Vo("size-input-events",[kt(Ec(),(P,V)=>{oo(P,i,{isField1:M})}),kt(sg(),(P,V)=>{oo(P,su,{name:t.name})})])]),selectOnFocus:!1}),_=M=>({dom:{tag:"label",classes:["tox-label"]},components:[$r(s.translate(M))]}),A=au.parts.field1(h([er.parts.label(_("Width")),v(!0)])),z=au.parts.field2(h([er.parts.label(_("Height")),v(!1)]));return au.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[A,z,h([_(_2),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(M,P,V)=>{GS(dn.getValue(M)).each(J=>{a(J).each(ye=>{dn.setValue(P,NN(ye))})})},coupledFieldBehaviours:$t([ko.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:M=>{au.getField1(M).bind(er.getField).each(ko.disable),au.getField2(M).bind(er.getField).each(ko.disable),au.getLock(M).each(ko.disable)},onEnabled:M=>{au.getField1(M).bind(er.getField).each(ko.enable),au.getField2(M).bind(er.getField).each(ko.enable),au.getLock(M).each(ko.enable)}}),mc(),Vo("size-input-events2",[kt(i,(M,P)=>{const V=P.event.isField1,J=V?au.getField1(M):au.getField2(M),ye=V?au.getField2(M):au.getField1(M),Je=J.map(dn.getValue).getOr(""),xe=ye.map(dn.getValue).getOr("");a=BN(Je,xe)})])])})},PN=(t,s,a)=>{const i=Zd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$r(s.translate(t.label))]}),d=Zd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Zd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Zd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:U(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[i,d,g],sliderBehaviours:$t([qd.self(),wo.config({})]),onChoose:(h,v,_)=>{oo(h,su,{name:t.name,value:_})}})},TL=(t,s)=>{const a=v=>({dom:{tag:"th",innerHtml:s.translate(v)}}),i=v=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:De(v,a)}]}),d=v=>({dom:{tag:"td",innerHtml:s.translate(v)}}),g=v=>({dom:{tag:"tr"},components:De(v,d)}),h=v=>({dom:{tag:"tbody"},components:De(v,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[i(t.header),h(t.cells)],behaviours:$t([na.config({}),wo.config({})])}},FN=(t,s)=>{const a=t.label.map(V=>oh(V,s)),i=[ko.config({disabled:()=>t.disabled||s.isDisabled()}),mc(),so.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:V=>(Ds(V,vw),T.some(!0))}),Vo("textfield-change",[kt(og(),(V,J)=>{oo(V,su,{name:t.name})}),kt(rg(),(V,J)=>{oo(V,su,{name:t.name})})]),na.config({})],d=t.validation.map(V=>id.config({getRoot:J=>xc(J.element),invalidClass:"tox-invalid",validator:{validate:J=>{const ye=dn.getValue(J),Je=V.validator(ye);return ui.pure(Je===!0?Fo.value(ye):Fo.error(Je))},validateOnLoad:V.validateOnLoad}})).toArray(),g=t.placeholder.fold(U({}),V=>({placeholder:s.translate(V)})),h=t.inputMode.fold(U({}),V=>({inputmode:V})),v={...g,...h},_=er.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(V=>({data:V})).getOr({}),inputAttributes:v,inputClasses:[t.classname],inputBehaviours:$t(ve([i,d])),selectOnFocus:!1,factory:Lb}),A=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[_]}:_,M=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),P=[ko.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:V=>{er.getField(V).each(ko.disable)},onEnabled:V=>{er.getField(V).each(ko.enable)}}),mc()];return bw(a,A,M,P)},HA=(t,s,a)=>FN({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:T.none(),maximized:t.maximized,data:a},s),EL=(t,s,a)=>FN({name:t.name,multiline:!0,label:t.label,inputMode:T.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:T.none(),maximized:t.maximized,data:a},s),Pw=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Wg=t=>t.dimension.property,dh=(t,s)=>t.dimension.getDimension(s),KS=(t,s)=>{const a=Pw(t,s);Si(a,[s.shrinkingClass,s.growingClass])},YS=(t,s)=>{ea(t.element,s.openClass),ga(t.element,s.closedClass),Cn(t.element,Wg(s),"0px"),ue(t.element)},VA=(t,s)=>{ea(t.element,s.closedClass),ga(t.element,s.openClass),q(t.element,Wg(s))},UA=(t,s,a,i)=>{a.setCollapsed(),Cn(t.element,Wg(s),dh(s,t.element)),KS(t,s),YS(t,s),s.onStartShrink(t),s.onShrunk(t)},AL=(t,s,a,i)=>{const d=i.getOrThunk(()=>dh(s,t.element));a.setCollapsed(),Cn(t.element,Wg(s),d),ue(t.element);const g=Pw(t,s);ea(g,s.growingClass),ga(g,s.shrinkingClass),YS(t,s),s.onStartShrink(t)},$N=(t,s,a)=>{const i=dh(s,t.element);(i==="0px"?UA:AL)(t,s,a,T.some(i))},IN=(t,s,a)=>{const i=Pw(t,s),d=rl(i,s.shrinkingClass),g=dh(s,t.element);VA(t,s);const h=dh(s,t.element);(d?()=>{Cn(t.element,Wg(s),g),ue(t.element)}:()=>{YS(t,s)})(),ea(i,s.shrinkingClass),ga(i,s.growingClass),VA(t,s),Cn(t.element,Wg(s),h),a.setExpanded(),s.onStartGrow(t)},OL=(t,s,a)=>{if(a.isExpanded()){q(t.element,Wg(s));const i=dh(s,t.element);Cn(t.element,Wg(s),i)}},LN=(t,s,a)=>{a.isExpanded()||IN(t,s,a)},zL=(t,s,a)=>{a.isExpanded()&&$N(t,s,a)},DL=(t,s,a)=>{a.isExpanded()&&UA(t,s,a)},HN=(t,s,a)=>a.isExpanded(),RL=(t,s,a)=>a.isCollapsed(),VN=(t,s,a)=>{const i=Pw(t,s);return rl(i,s.growingClass)===!0},UN=(t,s,a)=>{const i=Pw(t,s);return rl(i,s.shrinkingClass)===!0};var ML=Object.freeze({__proto__:null,refresh:OL,grow:LN,shrink:zL,immediateShrink:DL,hasGrown:HN,hasShrunk:RL,isGrowing:VN,isShrinking:UN,isTransitioning:(t,s,a)=>VN(t,s)||UN(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?$N:IN)(t,s,a)},disableTransitions:KS,immediateGrow:(t,s,a)=>{a.isExpanded()||(VA(t,s),Cn(t.element,Wg(s),dh(s,t.element)),KS(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),jN=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const i=s.expanded;return sl(i?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:qt(s.dimension.property,"0px")})},events:(t,s)=>Tr([ig(mp(),(a,i)=>{i.event.raw.propertyName===t.dimension.property&&(KS(a,t),s.isExpanded()&&q(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),XS=[vt("closedClass"),vt("openClass"),vt("shrinkingClass"),vt("growingClass"),Is("getAnimationRoot"),hs("onShrunk"),hs("onStartShrink"),hs("onGrown"),hs("onStartGrow"),$e("expanded",!1),fr("dimension",ac("property",{width:[Dr("property","width"),Dr("getDimension",t=>or(t)+"px")],height:[Dr("property","height"),Dr("getDimension",t=>ln(t)+"px")]}))],FL=Object.freeze({__proto__:null,init:t=>{const s=po(t.expanded),a=()=>"expanded: "+s.get();return Wi({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Zt(s.set,!1),setExpanded:Zt(s.set,!0),readState:a})}});const cu=_c({fields:XS,name:"sliding",active:jN,apis:ML,state:FL}),WN=t=>({isEnabled:()=>!ko.isDisabled(t),setEnabled:s=>ko.set(t,!s),setActive:s=>{const a=t.element;s?(ga(a,"tox-tbtn--enabled"),nn(a,"aria-pressed",!0)):(ea(a,"tox-tbtn--enabled"),se(a,"aria-pressed"))},isActive:()=>rl(t.element,"tox-tbtn--enabled"),setText:s=>{oo(t,ud,{text:s})},setIcon:s=>oo(t,ey,{icon:s})}),pv=(t,s,a,i,d=!0)=>MA({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:i,fetch:(g,h)=>{const v={pattern:t.search.isSome()?L$(g):""};t.fetch(_=>{h(uh(_,jf.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},v,WN(g))},onSetup:t.onSetup,getApi:WN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[na.config({})]:[]]},s,a.shared),$L=(t,s,a)=>{const i=g=>h=>{const v=!h.isActive();h.setActive(v),g.storage.set(v),a.shared.getSink().each(_=>{s().getOpt(_).each(A=>{Gl(A.element),oo(A,Pm,{name:g.name,value:g.storage.get()})})})},d=g=>h=>{h.setActive(g.storage.get())};return g=>{g(De(t,h=>{const v=h.text.fold(()=>({}),_=>({text:_}));return{type:h.type,active:!1,...v,onAction:i(h),onSetup:d(h)}}))}},ZN=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[$r(t)]}),qN=Tn("leaf-label-event-id"),JS=({leaf:t,onLeafAction:s,visible:a,treeId:i,selectedId:d,backstage:g})=>{const h=t.menu.map(_=>pv(_,"tox-mbtn",g,T.none(),a)),v=[ZN(t.title)];return h.each(_=>v.push(_)),Gc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:v,role:"treeitem",action:_=>{s(t.id),_.getSystem().broadcastOn([`update-active-item-${i}`],{value:t.id})},eventOrder:{[xu()]:[qN,"keying"]},buttonBehaviours:$t([...a?[na.config({})]:[],Ko.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Wc.config({channels:{[`update-active-item-${i}`]:{onReceive:(_,A)=>{(A.value===t.id?Ko.on:Ko.off)(_)}}}}),Vo(qN,[Or((_,A)=>{d.each(z=>{(z===t.id?Ko.on:Ko.off)(_)})}),kt(xu(),(_,A)=>{const z=A.event.raw.code==="ArrowLeft",M=A.event.raw.code==="ArrowRight";z?(Ef(_.element,".tox-tree--directory").each(P=>{_.getSystem().getByDom(P).each(V=>{Wy(P,".tox-tree--directory__label").each(J=>{V.getSystem().getByDom(J).each(wo.focus)})})}),A.stop()):M&&A.stop()})])])})},GN=(t,s,a)=>Id(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),IL=(t,s)=>GN(t,s,[]),KN=Tn("directory-label-event-id"),YN=({directory:t,visible:s,noChildren:a,backstage:i})=>{const d=t.menu.map(v=>pv(v,"tox-mbtn",i,T.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[IL("chevron-right",i.shared.providers.icons)]},ZN(t.title)];d.each(v=>{g.push(v)});const h=v=>{Ef(v.element,".tox-tree--directory").each(_=>{v.getSystem().getByDom(_).each(A=>{const z=!Ko.isOn(A);Ko.toggle(A),oo(v,"expand-tree-node",{expanded:z,node:t.id})})})};return Gc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:h,eventOrder:{[xu()]:[KN,"keying"]},buttonBehaviours:$t([...s?[na.config({})]:[],Vo(KN,[kt(xu(),(v,_)=>{const A=_.event.raw.code==="ArrowRight",z=_.event.raw.code==="ArrowLeft";A&&a&&_.stop(),(A||z)&&Ef(v.element,".tox-tree--directory").each(M=>{v.getSystem().getByDom(M).each(P=>{!Ko.isOn(P)&&A||Ko.isOn(P)&&z?(h(v),_.stop()):z&&!Ko.isOn(P)&&(Ef(P.element,".tox-tree--directory").each(V=>{Wy(V,".tox-tree--directory__label").each(J=>{P.getSystem().getByDom(J).each(wo.focus)})}),_.stop())})})})])])})},LL=({children:t,onLeafAction:s,visible:a,treeId:i,expandedIds:d,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(v=>v.type==="leaf"?JS({leaf:v,selectedId:g,onLeafAction:s,visible:a,treeId:i,backstage:h}):To({directory:v,expandedIds:d,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:h})),behaviours:$t([cu.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Bo.config({})])}),HL=Tn("directory-event-id"),To=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:d,expandedIds:g,selectedId:h})=>{const{children:v}=t,_=po(g),A=M=>v.map(P=>P.type==="leaf"?JS({leaf:P,selectedId:h,onLeafAction:s,visible:M,treeId:i,backstage:d}):To({directory:P,expandedIds:_.get(),selectedId:h,onLeafAction:s,labelTabstopping:M,treeId:i,backstage:d})),z=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[YN({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),LL({children:v,expandedIds:g,selectedId:h,onLeafAction:s,visible:z,treeId:i,backstage:d})],behaviours:$t([Vo(HL,[Or((M,P)=>{Ko.set(M,z)}),kt("expand-tree-node",(M,P)=>{const{expanded:V,node:J}=P.event;_.set(V?[..._.get(),J]:_.get().filter(ye=>ye!==J))})]),Ko.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,P)=>{const V=M.components()[1],J=A(P);P?cu.grow(V):cu.shrink(V),Bo.set(V,J)}})])}},Fw=Tn("tree-event-id"),XN=(t,s)=>{const a=t.onLeafAction.getOr(j),i=t.onToggleExpand.getOr(j),d=t.defaultExpandedIds,g=po(d),h=po(t.defaultSelectedId),v=Tn("tree-id"),_=(A,z)=>t.items.map(M=>M.type==="leaf"?JS({leaf:M,selectedId:A,onLeafAction:a,visible:!0,treeId:v,backstage:s}):To({directory:M,selectedId:A,onLeafAction:a,expandedIds:z,labelTabstopping:!0,treeId:v,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:_(h.get(),g.get()),behaviours:$t([so.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Vo(Fw,[kt("expand-tree-node",(A,z)=>{const{expanded:M,node:P}=z.event;g.set(M?[...g.get(),P]:g.get().filter(V=>V!==P)),i(g.get(),{expanded:M,node:P})})]),Wc.config({channels:{[`update-active-item-${v}`]:{onReceive:(A,z)=>{h.set(T.some(z.value)),Bo.set(A,_(T.some(z.value),g.get()))}}}}),Bo.config({})])}};var JN=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.stream.streams.setup(t,s);return Tr([kt(t.event,i),Td(()=>s.cancel())].concat(t.cancelEvent.map(d=>[kt(d,()=>s.cancel())]).getOr([])))}});const jA=t=>{const s=po(null);return Wi({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var XW=Object.freeze({__proto__:null,throttle:jA,init:t=>t.stream.streams.state(t)});const $w=(t,s)=>{const a=t.stream,i=Dw(t.onStream,a.delay);return s.setTimer(i),(d,g)=>{i.throttle(d,g),a.stopEvent&&g.stop()}};var jL=[fr("stream",ac("mode",{throttle:[vt("delay"),$e("stopEvent",!0),Dr("streams",{setup:$w,state:jA})]})),$e("event","input"),Is("cancelEvent"),Of("onStream")];const QS=_c({fields:jL,name:"streaming",active:JN,state:XW}),ex=(t,s,a)=>{const i=dn.getValue(a);dn.setValue(s,i),eM(s)},QN=(t,s)=>{const a=t.element,i=pa(a),d=a.dom;br(a,"type")!=="number"&&s(d,i)},eM=t=>{QN(t,(s,a)=>s.setSelectionRange(a.length,a.length))},tM=(t,s)=>{QN(t,(a,i)=>a.setSelectionRange(s,i.length))},WA=(t,s,a)=>{if(t.selectsOver){const i=dn.getValue(s),d=t.getDisplayText(i),g=dn.getValue(a);return t.getDisplayText(g).indexOf(d)===0?T.some(()=>{ex(t,s,a),tM(s,d.length)}):T.none()}else return T.none()},tx=U("alloy.typeahead.itemexecute"),WL=(t,s,a,i)=>{const d=(M,P,V)=>{t.previewing.set(!1);const J=ba.getCoupled(M,"sandbox");if(is.isOpen(J))bs.getCurrent(J).each(ye=>{Fs.getHighlighted(ye).fold(()=>{V(ye)},()=>{qv(J,ye.element,"keydown",P)})});else{const ye=Je=>{bs.getCurrent(Je).each(V)};hS(t,h(M),M,J,i,ye,ii.HighlightMenuAndItem).get(j)}},g=zD(t),h=M=>P=>P.map(V=>{const J=oa(V.menus),ye=ae(J,xe=>Qn(xe.items,_e=>_e.type==="item"));return dn.getState(M).update(De(ye,xe=>xe.data)),V}),v=M=>bs.getCurrent(M),_="typeaheadevents",A=[wo.config({}),dn.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:M=>pa(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,P)=>{Sa(M.element,t.model.getDisplayText(P))},...t.initialData.map(M=>qt("initialValue",M)).getOr({})}}),QS.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(M,P)=>{const V=ba.getCoupled(M,"sandbox");if(wo.isFocused(M)&&pa(M.element).length>=t.minChars){const ye=v(V).bind(xe=>Fs.getHighlighted(xe).map(dn.getValue));t.previewing.set(!0);const Je=xe=>{v(V).each(_e=>{ye.fold(()=>{t.model.selectsOver&&Fs.highlightFirst(_e)},rt=>{Fs.highlightBy(_e,He=>dn.getValue(He).value===rt.value),Fs.getHighlighted(_e).orThunk(()=>(Fs.highlightFirst(_e),T.none()))})})};hS(t,h(M),M,V,i,Je,ii.HighlightJustMenu).get(j)}},cancelEvent:ag()}),so.config({mode:"special",onDown:(M,P)=>(d(M,P,Fs.highlightFirst),T.some(!0)),onEscape:M=>{const P=ba.getCoupled(M,"sandbox");return is.isOpen(P)?(is.close(P),T.some(!0)):T.none()},onUp:(M,P)=>(d(M,P,Fs.highlightLast),T.some(!0)),onEnter:M=>{const P=ba.getCoupled(M,"sandbox"),V=is.isOpen(P);if(V&&!t.previewing.get())return v(P).bind(J=>Fs.getHighlighted(J)).map(J=>(oo(M,tx(),{item:J}),!0));{const J=dn.getValue(M);return Ds(M,ag()),t.onExecute(P,M,J),V&&is.close(P),T.some(!0)}}}),Ko.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),ba.config({others:{sandbox:M=>J4(t,M,{onOpen:()=>Ko.on(M),onClose:()=>{t.lazyTypeaheadComp.get().each(P=>se(P.element,"aria-activedescendant")),Ko.off(M)}})}}),Vo(_,[Or(M=>{t.lazyTypeaheadComp.set(T.some(M))}),Td(M=>{t.lazyTypeaheadComp.set(T.none())}),Tu(M=>{const P=j;X4(t,h(M),M,i,P,ii.HighlightMenuAndItem).get(j)}),kt(tx(),(M,P)=>{const V=ba.getCoupled(M,"sandbox");ex(t.model,M,P.event.item),Ds(M,ag()),t.onItemExecute(M,V,P.event.item,dn.getValue(M)),is.close(V),eM(M)})].concat(t.dismissOnBlur?[kt(um(),M=>{const P=ba.getCoupled(M,"sandbox");Kl(P.element).isNone()&&is.close(P)})]:[]))],z={[cg()]:[dn.name(),QS.name(),_],...t.eventOrder};return{uid:t.uid,dom:s4(sr(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...tc(t.typeaheadBehaviours,A)},eventOrder:z}},ZL=U([Is("lazySink"),vt("fetch"),$e("minChars",5),$e("responseTime",1e3),hs("onOpen"),$e("getHotspot",T.some),$e("getAnchorOverrides",U({})),$e("layouts",T.none()),$e("eventOrder",{}),Fh("model",{},[$e("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),$e("selectsOver",!0),$e("populateFromBrowse",!0)]),hs("onSetValue"),Ti("onExecute"),hs("onItemExecute"),$e("inputClasses",[]),$e("inputAttributes",{}),$e("inputStyles",{}),$e("matchWidth",!0),$e("useMinWidth",!1),$e("dismissOnBlur",!0),il(["openClass"]),Is("initialData"),Wa("typeaheadBehaviours",[wo,dn,QS,so,Ko,ba]),yc("lazyTypeaheadComp",()=>po(T.none)),yc("previewing",()=>po(!0))].concat(OD()).concat(Q4())),qL=U([Jl({schema:[Ky()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,i)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{WA(t.model,d,i).fold(()=>{t.model.selectsOver?(Fs.dehighlight(a,i),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&ex(t.model,d,i),B(i.element,"id").each(g=>nn(d.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(i=>(oo(i,tx(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(i=>{t.model.populateFromBrowse&&ex(t.model,i,a)})}})})]),GL=qc({name:"Typeahead",configFields:ZL(),partFields:qL(),factory:WL}),Gd=t=>({...t,toCached:()=>Gd(t.toCached()),bindFuture:_=>Gd(t.bind(A=>A.fold(z=>ui.pure(Fo.error(z)),z=>_(z)))),bindResult:_=>Gd(t.map(A=>A.bind(_))),mapResult:_=>Gd(t.map(A=>A.map(_))),mapError:_=>Gd(t.map(A=>A.mapError(_))),foldResult:(_,A)=>t.map(z=>z.fold(_,A)),withTimeout:(_,A)=>Gd(ui.nu(z=>{let M=!1;const P=setTimeout(()=>{M=!0,z(Fo.error(A()))},_);t.get(V=>{M||(clearTimeout(P),z(V))})}))}),ZA=t=>Gd(ui.nu(t)),nM=t=>Gd(ui.pure(Fo.value(t))),KL={nu:ZA,wrap:Gd,pure:nM,value:nM,error:t=>Gd(ui.pure(Fo.error(t))),fromResult:t=>Gd(ui.pure(t)),fromFuture:t=>Gd(t.map(Fo.value)),fromPromise:t=>ZA(s=>{t.then(a=>{s(Fo.value(a))},a=>{s(Fo.error(a))})})},nx=(t,s,a=[],i,d,g)=>{const h=s.fold(()=>({}),A=>({action:A})),v={buttonBehaviours:$t([Hd.button(()=>!t.enabled||g.isDisabled()),mc(),na.config({}),Vo("button press",[Kv("click"),Kv("mousedown")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...h},_=sr(v,{dom:i});return sr(_,{components:d})},YL=(t,s,a,i=[])=>{const d=t.tooltip.map(_=>({"aria-label":a.translate(_),title:a.translate(_)})).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},h=t.icon.map(_=>NA(_,a.icons)),v=Qs([h]);return nx(t,s,i,g,v,a)},qA=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},oM=(t,s,a,i=[],d=[])=>{const g=a.translate(t.text),h=t.icon.map(P=>NA(P,a.icons)),v=[h.getOrThunk(()=>$r(g))],_=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),M={tag:"button",classes:[...qA(_),...h.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{title:g}};return nx(t,s,i,M,v,a)},sM=(t,s,a,i=[],d=[])=>{const g=oM(t,T.some(s),a,i,d);return Gc.sketch(g)},GA=(t,s)=>a=>{s==="custom"?oo(a,Pm,{name:t,value:{}}):s==="submit"?Ds(a,vw):s==="cancel"?Ds(a,sh):console.error("Unknown button type: ",s)},XL=(t,s)=>s==="menu",JL=(t,s)=>s==="custom"||s==="cancel"||s==="submit",QL=(t,s)=>s==="togglebutton",e9=(t,s)=>{var a,i;const d=t.icon.map(_e=>jg(_e,s.icons)).map(Js),g=_e=>{oo(_e,Pm,{name:t.name,value:{setIcon:rt=>{d.map(He=>He.getOpt(_e).each(Mt=>{Bo.set(Mt,[jg(rt,s.icons)])}))}}})},h=t.buttonType.getOr(t.primary?"primary":"secondary"),v={...t,name:(a=t.name)!==null&&a!==void 0?a:"",primary:h==="primary",tooltip:T.from(t.tooltip),enabled:(i=t.enabled)!==null&&i!==void 0?i:!1,borderless:!1},_=v.tooltip.map(_e=>({"aria-label":s.translate(_e),title:s.translate(_e)})).getOr({}),A=qA(h??"secondary"),z=t.icon.isSome()&&t.text.isSome(),M={tag:"button",classes:[...A.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...z?["tox-button--icon-and-text"]:[]],attributes:_},P=[],V=s.translate(t.text.getOr("")),J=$r(V),Je=[...Qs([d.map(_e=>_e.asSpec())]),...t.text.isSome()?[J]:[]],xe=nx(v,T.some(g),P,M,Je,s);return Gc.sketch(xe)},ox=(t,s,a)=>{if(XL(t,s)){const i=()=>h,d=t,g={...t,type:"menubutton",search:T.none(),onSetup:v=>(v.setEnabled(t.enabled),j),fetch:$L(d.items,i,a)},h=Js(pv(g,"tox-tbtn",a,T.none()));return h.asSpec()}else if(JL(t,s)){const i=GA(t.name,s),d={...t,borderless:!1};return sM(d,i,a.shared.providers,[])}else{if(QL(t,s))return e9(t,a.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},t9=(t,s)=>{const a=GA(t.name,"custom");return cI(T.none(),er.parts.field({factory:Gc,...oM(t,T.some(a),s,[Ow(""),qd.self()])}))},rM={type:"separator"},n9=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:j}),sx=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:j}),o9=t=>De(t,n9),aM=(t,s)=>Qn(s,a=>a.type===t),KA=(t,s)=>o9(aM(t,s)),YA=t=>KA("header",t.targets),s9=t=>KA("anchor",t.targets),cM=t=>T.from(t.anchorTop).map(s=>sx("<top>",s)).toArray(),iM=t=>T.from(t.anchorBottom).map(s=>sx("<bottom>",s)).toArray(),r9=t=>De(t,s=>sx(s,s)),lM=t=>mt(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(rM,a),[]),XA=(t,s)=>{const a=t.toLowerCase();return Qn(s,i=>{var d;const g=i.meta!==void 0&&i.meta.text!==void 0?i.meta.text:i.text,h=(d=i.value)!==null&&d!==void 0?d:"";return Eo(g.toLowerCase(),a)||Eo(h.toLowerCase(),a)})},a9=(t,s,a)=>{var i,d;const g=dn.getValue(s),h=(d=(i=g==null?void 0:g.meta)===null||i===void 0?void 0:i.text)!==null&&d!==void 0?d:g.value;return a.getLinkInformation().fold(()=>[],_=>{const A=XA(h,r9(a.getHistory(t)));return t==="file"?lM([A,XA(h,YA(_)),XA(h,ve([cM(_),s9(_),iM(_)]))]):A})},Kd=Tn("aria-invalid"),rx=(t,s,a,i)=>{const d=s.shared.providers,g=_e=>{const rt=dn.getValue(_e);a.addToHistory(rt.value,t.filetype)},h={...i.map(_e=>({initialData:_e})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Kd,type:"url"},minChars:0,responseTime:0,fetch:_e=>{const rt=a9(t.filetype,_e,a),He=uh(rt,jf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:T.none()});return ui.pure(He)},getHotspot:_e=>J.getOpt(_e),onSetValue:(_e,rt)=>{_e.hasConfigured(id)&&id.run(_e).get(j)},typeaheadBehaviours:$t([...a.getValidationHandler().map(_e=>id.config({getRoot:rt=>xc(rt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(rt,He)=>{z.getOpt(rt).each(Mt=>{nn(Mt.element,"title",d.translate(He))})}},validator:{validate:rt=>{const He=dn.getValue(rt);return KL.nu(Mt=>{_e({type:t.filetype,url:He.value},At=>{if(At.status==="invalid"){const Ut=Fo.error(At.message);Mt(Ut)}else{const Ut=Fo.value(At.message);Mt(Ut)}})})},validateOnLoad:!1}})).toArray(),ko.config({disabled:()=>!t.enabled||d.isDisabled()}),na.config({}),Vo("urlinput-events",[kt(og(),_e=>{const rt=pa(_e.element),He=rt.trim();He!==rt&&Sa(_e.element,He),t.filetype==="file"&&oo(_e,su,{name:t.name})}),kt(sg(),_e=>{oo(_e,su,{name:t.name}),g(_e)}),kt(rg(),_e=>{oo(_e,su,{name:t.name}),g(_e)})])]),eventOrder:{[og()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:_e=>_e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:KC(!1,1,"normal")},onExecute:(_e,rt,He)=>{oo(rt,vw,{})},onItemExecute:(_e,rt,He,Mt)=>{g(_e),oo(_e,su,{name:t.name})}},v=er.parts.field({...h,factory:GL}),_=t.label.map(_e=>oh(_e,d)),z=Js(((_e,rt,He=_e,Mt=_e)=>Id(He,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_e],attributes:{title:d.translate(Mt),"aria-live":"polite",...rt.fold(()=>({}),At=>({id:At}))}},d.icons))("invalid",T.some(Kd),"warning")),M=Js({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),P=a.getUrlPicker(t.filetype),V=Tn("browser.url.event"),J=Js({dom:{tag:"div",classes:["tox-control-wrap"]},components:[v,M.asSpec()],behaviours:$t([ko.config({disabled:()=>!t.enabled||d.isDisabled()})])}),ye=Js(sM({name:t.name,icon:T.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:T.none(),borderless:!0},_e=>Ds(_e,V),d,[],["tox-browse-url"])),Je=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ve([[J.asSpec()],P.map(()=>ye.asSpec()).toArray()])}),xe=_e=>{bs.getCurrent(_e).each(rt=>{const He=dn.getValue(rt),Mt={fieldname:t.name,...He};P.each(At=>{At(Mt).get(Ut=>{dn.setValue(rt,Ut),oo(_e,su,{name:t.name})})})})};return er.sketch({dom:lI(),components:_.toArray().concat([Je()]),fieldBehaviours:$t([ko.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:_e=>{er.getField(_e).each(ko.disable),ye.getOpt(_e).each(ko.disable)},onEnabled:_e=>{er.getField(_e).each(ko.enable),ye.getOpt(_e).each(ko.enable)}}),mc(),Vo("url-input-events",[kt(V,xe)])])})},ax=(t,s)=>{const a=Xz(t.icon,s.icons);return $u.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Gc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:i=>oo(i,Pm,{name:"alert-banner",value:t.url}),buttonBehaviours:$t([H3()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},c9=(t,s)=>{t.dom.checked=s},JA=t=>t.dom.checked,i9=(t,s,a)=>{const i=_=>(_.element.dom.click(),T.some(!0)),d=er.parts.field({factory:{sketch:at},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:$t([qd.self(),ko.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{xc(_.element).each(A=>ga(A,"tox-checkbox--disabled"))},onEnabled:_=>{xc(_.element).each(A=>ea(A,"tox-checkbox--disabled"))}}),na.config({}),wo.config({}),SA(a,JA,c9),so.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Vo("checkbox-events",[kt(sg(),(_,A)=>{oo(_,su,{name:t.name})})])])}),g=er.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$r(s.translate(t.label))],behaviours:$t([cv.config({})])}),h=_=>Id(_==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+_]},s.icons),v=Js({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return er.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,v.asSpec(),g],fieldBehaviours:$t([ko.config({disabled:()=>!t.enabled||s.isDisabled()}),mc()])})},QA=t=>t.presets==="presentation"?$u.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):$u.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:$t([na.config({}),wo.config({})])}),nc=t=>(s,a,i,d)=>Tt(a,"name").fold(()=>t(a,d,T.none()),g=>s.field(g,t(a,d,Tt(i,g)))),e5=t=>(s,a,i,d)=>{const g=sr(a,{source:"dynamic"});return nc(t)(s,g,i,d)},l9={bar:nc((t,s)=>vS(t,s.shared)),collection:nc((t,s,a)=>gR(t,s.shared.providers,a)),alertbanner:nc((t,s)=>ax(t,s.shared.providers)),input:nc((t,s,a)=>HA(t,s.shared.providers,a)),textarea:nc((t,s,a)=>EL(t,s.shared.providers,a)),label:nc((t,s)=>CN(t,s.shared)),iframe:e5((t,s,a)=>lL(t,s.shared.providers,a)),button:nc((t,s)=>t9(t,s.shared.providers)),checkbox:nc((t,s,a)=>i9(t,s.shared.providers,a)),colorinput:nc((t,s,a)=>pI(t,s.shared,s.colorinput,a)),colorpicker:nc((t,s,a)=>dN(t,s.shared.providers,a)),dropzone:nc((t,s,a)=>rL(t,s.shared.providers,a)),grid:nc((t,s)=>mN(t,s.shared)),listbox:nc((t,s,a)=>$A(t,s,a)),selectbox:nc((t,s,a)=>zN(t,s.shared.providers,a)),sizeinput:nc((t,s)=>xL(t,s.shared.providers)),slider:nc((t,s,a)=>PN(t,s.shared.providers,a)),urlinput:nc((t,s,a)=>rx(t,s,s.urlinput,a)),customeditor:nc(sL),htmlpanel:nc(QA),imagepreview:nc((t,s,a)=>fL(t,a)),table:nc((t,s)=>TL(t,s.shared.providers)),tree:nc((t,s)=>XN(t,s)),panel:nc((t,s)=>ON(t,s))},uM={field:(t,s)=>s,record:U([])},t5=(t,s,a,i)=>{const d=sr(i,{shared:{interpreter:g=>Iw(t,g,a,d)}});return Iw(t,s,a,d)},Iw=(t,s,a,i)=>Tt(l9,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),d=>d(t,s,a,i)),dM=(t,s,a)=>Iw(uM,t,s,a),fh="layout-inset",cx=t=>t.x,fM=(t,s)=>t.x+t.width/2-s.width/2,n5=(t,s)=>t.x+t.width-s.width,ix=t=>t.y,lx=(t,s)=>t.y+t.height-s.height,mM=(t,s)=>t.y+t.height/2-s.height/2,ux=(t,s,a)=>xa(n5(t,s),lx(t,s),a.insetSouthwest(),Xh(),"southwest",Oc(t,{right:0,bottom:3}),fh),dx=(t,s,a)=>xa(cx(t),lx(t,s),a.insetSoutheast(),Tl(),"southeast",Oc(t,{left:1,bottom:3}),fh),Lw=(t,s,a)=>xa(n5(t,s),ix(t),a.insetNorthwest(),zd(),"northwest",Oc(t,{right:0,top:2}),fh),hv=(t,s,a)=>xa(cx(t),ix(t),a.insetNortheast(),Xy(),"northeast",Oc(t,{left:1,top:2}),fh),Bc=(t,s,a)=>xa(fM(t,s),ix(t),a.insetNorth(),Jy(),"north",Oc(t,{top:2}),fh),ty=(t,s,a)=>xa(fM(t,s),lx(t,s),a.insetSouth(),w0(),"south",Oc(t,{bottom:3}),fh),gM=(t,s,a)=>xa(n5(t,s),mM(t,s),a.insetEast(),H_(),"east",Oc(t,{right:0}),fh),pM=(t,s,a)=>xa(cx(t),mM(t,s),a.insetWest(),Qy(),"west",Oc(t,{left:1}),fh),u9=t=>{switch(t){case"north":return Bc;case"northeast":return hv;case"northwest":return Lw;case"south":return ty;case"southeast":return dx;case"southwest":return ux;case"east":return gM;case"west":return pM}},hM=(t,s,a,i,d)=>o2(i).map(u9).getOr(Bc)(t,s,a,i,d),d9=t=>{switch(t){case"north":return ty;case"northeast":return dx;case"northwest":return ux;case"south":return Bc;case"southeast":return hv;case"southwest":return Lw;case"east":return pM;case"west":return gM}},bM=(t,s,a,i,d)=>o2(i).map(d9).getOr(Bc)(t,s,a,i,d),bv={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},nZ=(t,s,a)=>{const d={maxHeightFunction:Rf()},g=()=>({type:"node",root:Rt(Le(t())),node:T.from(t()),bubble:Nf(12,12,bv),layouts:{onRtl:()=>[hv],onLtr:()=>[Lw]},overrides:d}),h=()=>({type:"hotspot",hotspot:s(),bubble:Nf(-12,12,bv),layouts:{onRtl:()=>[Ua,kc,uc],onLtr:()=>[kc,Ua,uc]},overrides:d});return()=>a()?g():h()},oZ=(t,s,a,i)=>{const g={maxHeightFunction:Rf()},h=()=>({type:"node",root:Rt(Le(s())),node:T.from(s()),bubble:Nf(12,12,bv),layouts:{onRtl:()=>[Bc],onLtr:()=>[Bc]},overrides:g}),v=()=>t?{type:"node",root:Rt(Le(s())),node:T.from(s()),bubble:Nf(0,-Jo(s()),bv),layouts:{onRtl:()=>[wc],onLtr:()=>[wc]},overrides:g}:{type:"hotspot",hotspot:a(),bubble:Nf(0,0,bv),layouts:{onRtl:()=>[wc],onLtr:()=>[wc]},overrides:g};return()=>i()?h():v()},di=(t,s,a)=>{const i=()=>({type:"node",root:Rt(Le(t())),node:T.from(t()),layouts:{onRtl:()=>[Bc],onLtr:()=>[Bc]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[uc],onLtr:()=>[uc]}});return()=>a()?i():d()},o5=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),i=t.model.table.getSelectedCells();if(i.length>1){const d=i[0],g=i[i.length-1],h={firstCell:ke.fromDom(d),lastCell:ke.fromDom(g)};return T.some(h)}return T.some(sb.range(ke.fromDom(a.startContainer),a.startOffset,ke.fromDom(a.endContainer),a.endOffset))}}),f9=t=>s=>({type:"node",root:t(),node:s}),fx=(t,s,a,i)=>{const d=J1(t),g=()=>ke.fromDom(t.getBody()),h=()=>ke.fromDom(t.getContentAreaContainer()),v=()=>d||!i();return{inlineDialog:nZ(h,s,v),inlineBottomDialog:oZ(t.inline,h,a,v),banner:di(h,s,v),cursor:o5(t,g),node:f9(g)}},m9=t=>(s,a)=>{I6(t)(s,a)},g9=t=>()=>H4(t),p9=t=>s=>I4(t,s),h9=t=>s=>mw(t,s),b9=t=>({colorPicker:m9(t),hasCustomColors:g9(t),getColors:p9(t),getColorCols:h9(t)}),y9=t=>()=>dD(t),v9=t=>({isDraggableModal:y9(t)}),k9=t=>{const s=po(X3(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},s5=t=>kr(t,"items"),Hw=t=>kr(t,"format"),yM=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],vM=t=>Lo(t,"items"),w9=t=>Lo(t,"block"),kM=t=>Lo(t,"inline"),_9=t=>Lo(t,"selector"),wM=t=>mt(t,(s,a)=>{if(vM(a)){const i=wM(a.items);return{customFormats:s.customFormats.concat(i.customFormats),formats:s.formats.concat([{title:a.title,items:i.formats}])}}else if(kM(a)||w9(a)||_9(a)){const d=`custom-${nt(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),_M=(t,s)=>{const a=wM(s),i=d=>{lt(d,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?i(a.customFormats):t.on("init",()=>{i(a.customFormats)}),a.formats},C9=t=>$C(t).map(s=>{const a=_M(t,s);return IC(t)?yM.concat(a):a}).getOr(yM),sZ=t=>{const s=An(t);return s.length===1&&fo(s,"title")},CM=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),SM=(t,s,a,i)=>{const d=_=>CM(_,a,i),g=_=>{const A=v(_.items);return{..._,type:"submenu",getStyleItems:U(A)}},h=_=>{const A=nt(_.name)?_.name:Tn(_.title),z=`custom-${A}`,M={..._,type:"formatter",format:z,isSelected:a(z),getStylePreview:i(z)};return t.formatter.register(A,M),M},v=_=>De(_,A=>s5(A)?g(A):Hw(A)?d(A):sZ(A)?{...A,type:"separator"}:h(A));return v(s)},S9=t=>{const s=v=>()=>t.formatter.match(v),a=v=>()=>{const _=t.formatter.get(v);return _!==void 0?T.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(v))}):T.none()},i=po([]),d=po([]),g=po(!1);return t.on("PreInit",v=>{const _=C9(t),A=SM(t,_,s,a);i.set(A)}),t.on("addStyleModifications",v=>{const _=SM(t,v.items,s,a);d.set(_),g.set(v.replace)}),{getData:()=>{const v=g.get()?[]:i.get(),_=d.get();return v.concat(_)}}},xM=t=>tn(t)&&t.nodeType===1,r5=Vg.trim,TM=t=>s=>!!(xM(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),x9=TM("true"),EM=TM("false"),AM=(t,s,a,i,d)=>({type:t,title:s,url:a,level:i,attach:d}),T9=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return x9(s)}return!1},E9=(t,s)=>De(Ai(ke.fromDom(s),t),a=>a.dom),OM=t=>t.innerText||t.textContent,a5=t=>t.id?t.id:Tn("h"),zM=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,A9=t=>zM(t)&&RM(t),DM=t=>t&&/^(H[1-6])$/.test(t.nodeName),RM=t=>T9(t)&&!EM(t),O9=t=>DM(t)&&RM(t),NM=t=>DM(t)?parseInt(t.nodeName.substr(1),10):0,z9=t=>{var s;const a=a5(t),i=()=>{t.id=a};return AM("header",(s=OM(t))!==null&&s!==void 0?s:"","#"+a,NM(t),i)},mx=t=>{const s=t.id||t.name,a=OM(t);return AM("anchor",a||"#"+s,"#"+s,0,j)},D9=t=>De(Qn(t,O9),z9),gx=t=>De(Qn(t,A9),mx),R9=t=>E9("h1,h2,h3,h4,h5,h6,a:not([href])",t),c5=t=>r5(t.title).length>0,MM={find:t=>{const s=R9(t);return Qn(D9(s).concat(gx(s)),c5)}},hx="tinymce-url-history",i5=5,l5=t=>nt(t)&&/^https?/.test(t),BM=t=>En(t)&&t.length<=i5&&Me(t,l5),PM=t=>pn(t)&&Yo(t,s=>!BM(s)).isNone(),bx=()=>{const t=Zb.getItem(hx);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+hx+" was not valid JSON",a),{};throw a}return PM(s)?s:(console.log("Local storage "+hx+" was not valid format",s),{})},yx=t=>{if(!PM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Zb.setItem(hx,JSON.stringify(t))},N9=t=>{const s=bx();return Tt(s,t).getOr([])},M9=(t,s)=>{if(!l5(t))return;const a=bx(),i=Tt(a,s).getOr([]),d=Qn(i,g=>g!==t);a[s]=[t].concat(d).slice(0,i5),yx(a)},ny=t=>!!t,FM=t=>Gn(Vg.makeMap(t,/[, ]/),ny),u5=t=>T.from(rD(t)),$M=t=>{const s=T.from(iD(t)).filter(ny).map(FM);return u5(t).fold(Ce,a=>s.fold(Oe,i=>An(i).length>0?i:!1))},d5=(t,s)=>{const a=$M(t);return cn(a)?a?u5(t):T.none():a[s]?u5(t):T.none()},f5=(t,s)=>d5(t,s).map(a=>i=>ui.nu(d=>{const g=(v,_)=>{if(!nt(v))throw new Error("Expected value to be string");if(_!==void 0&&!pn(_))throw new Error("Expected meta to be a object");d({value:v,meta:_})},h={filetype:s,fieldname:i.fieldname,...T.from(i.meta).getOr({})};a.call(t,g,i.value,h)})),IM=t=>T.from(t).filter(nt).getOrUndefined(),B9=t=>lD(t)?T.some({targets:MM.find(t.getBody()),anchorTop:IM(VC(t)),anchorBottom:IM(uD(t))}):T.none(),P9=t=>T.from(aD(t)),m5=t=>({getHistory:N9,addToHistory:M9,getLinkInformation:()=>B9(t),getValidationHandler:()=>P9(t),getUrlPicker:s=>f5(t,s)}),F9=(t,s,a,i)=>{const d=po(!1),g=k9(s),h={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Pu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},v=m5(s),_=S9(s),A=b9(s),z=v9(s),M=()=>d.get(),P=Je=>d.set(Je),V={shared:{providers:h,anchors:fx(s,a,i,g.isPositionedAtTop),header:g},urlinput:v,styles:_,colorinput:A,dialog:z,isContextMenuOpen:M,setContextMenuState:P},J={...V,shared:{...V.shared,interpreter:Je=>dM(Je,{},J),getSink:t.popup}},ye={...V,shared:{...V.shared,interpreter:Je=>dM(Je,{},ye),getSink:t.dialog}};return{popup:J,dialog:ye}},$9=(t,s,a)=>{const i=(At,Ut)=>{lt([s,...a],an=>{an.broadcastEvent(At,Ut)})},d=(At,Ut)=>{lt([s,...a],an=>{an.broadcastOn([At],Ut)})},g=At=>d(Yl(),{target:At.target}),h=af(),v=Ei(h,"touchstart",g),_=Ei(h,"touchmove",At=>i(Ty(),At)),A=Ei(h,"touchend",At=>i(Hh(),At)),z=Ei(h,"mousedown",g),M=Ei(h,"mouseup",At=>{At.raw.button===0&&d(tk(),{target:At.target})}),P=At=>d(Yl(),{target:ke.fromDom(At.target)}),V=At=>{At.button===0&&d(tk(),{target:ke.fromDom(At.target)})},J=()=>{lt(t.editorManager.get(),At=>{t!==At&&At.dispatch("DismissPopups",{relatedTarget:t})})},ye=At=>i(kf(),ec(At)),Je=At=>{d(Dm(),{}),i(Gu(),ec(At))},xe=Le(ke.fromDom(t.getElement())),_e=Ep(xe,"scroll",At=>{requestAnimationFrame(()=>{const Ut=t.getContainer();if(Ut!=null){const rs=Gb(t,s.element).map(Un=>[Un.element,...Un.others]).getOr([]);Zo(rs,Un=>fs(Un,At.target))&&(t.dispatch("ElementScroll",{target:At.target.dom}),i(gp(),At))}})}),rt=()=>d(Dm(),{}),He=At=>{At.state&&d(Yl(),{target:ke.fromDom(t.getContainer())})},Mt=At=>{d(Yl(),{target:ke.fromDom(At.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",P),t.on("tap",P),t.on("mouseup",V),t.on("mousedown",J),t.on("ScrollWindow",ye),t.on("ResizeWindow",Je),t.on("ResizeEditor",rt),t.on("AfterProgressState",He),t.on("DismissPopups",Mt)}),t.on("remove",()=>{t.off("click",P),t.off("tap",P),t.off("mouseup",V),t.off("mousedown",J),t.off("ScrollWindow",ye),t.off("ResizeWindow",Je),t.off("ResizeEditor",rt),t.off("AfterProgressState",He),t.off("DismissPopups",Mt),z.unbind(),v.unbind(),_.unbind(),A.unbind(),M.unbind(),_e.unbind()}),t.on("detach",()=>{lt([s,...a],Y0),lt([s,...a],At=>At.destroy())})},Cc=$E,Lm=xg,I9=U([$e("shell",!1),vt("makeItem"),$e("setupItem",j),Ru.field("listBehaviours",[Bo])]),L9=Dl({name:"items",overrides:()=>({behaviours:$t([Bo.config({})])})}),LM=U([L9]),H9=U("CustomList"),Vw=(t,s,a,i)=>{const d=(v,_)=>{h(v).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},A=>{const z=Bo.contents(A),M=_.length,P=M-z.length,V=P>0?wt(P,()=>t.makeItem()):[],J=z.slice(M);lt(J,Je=>Bo.remove(A,Je)),lt(V,Je=>Bo.append(A,Je));const ye=Bo.contents(A);lt(ye,(Je,xe)=>{t.setupItem(v,Je,_[xe],xe)})})},g=t.shell?{behaviours:[Bo.config({})],components:[]}:{behaviours:[],components:s},h=v=>t.shell?T.some(v):mr(v,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:tc(t.listBehaviours,g.behaviours),apis:{setItems:d}}},HM=qc({name:H9(),configFields:I9(),partFields:LM(),factory:Vw,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),yv=U([vt("dom"),$e("shell",!0),Wa("toolbarBehaviours",[Bo])]),UM=U([Dl({name:"groups",overrides:()=>({behaviours:$t([Bo.config({})])})})]),V9=(t,s,a,i)=>{const d=(v,_)=>{g(v).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},A=>{Bo.set(A,_)})},g=v=>t.shell?T.some(v):mr(v,t,"groups"),h=t.shell?{behaviours:[Bo.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:tc(t.toolbarBehaviours,h.behaviours),apis:{setGroups:d,refresh:j},domModification:{attributes:{role:"group"}}}},Kf=qc({name:"Toolbar",configFields:yv(),partFields:UM(),factory:V9,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),U9=j,j9=Ce,jM=U([]);var W9=Object.freeze({__proto__:null,setup:U9,isDocked:j9,getBehaviours:jM});const g5=t=>(Vr(zr(t,"position"),"fixed")?T.none():Ni(t)).orThunk(()=>{const i=ke.fromTag("span");return Da(t).bind(d=>{Xc(d,i);const g=Ni(i);return ki(i),g})}),WM=t=>g5(t).map(ra).getOrThunk(()=>ts(0,0)),Z9=(t,s)=>{const a=t.element;ga(a,s.transitionClass),ea(a,s.fadeOutClass),ga(a,s.fadeInClass),s.onShow(t)},aZ=(t,s)=>{const a=t.element;ga(a,s.transitionClass),ea(a,s.fadeInClass),ga(a,s.fadeOutClass),s.onHide(t)},q9=(t,s)=>t.y<s.bottom&&t.bottom>s.y,p5=(t,s)=>t.y>=s.y,h5=(t,s)=>t.bottom<=s.bottom,vv=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),vx=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),b5=t=>t.box.x-t.win.x,G9=(t,s,a)=>{const i=s.win,d=s.box,g=b5(s);return Rn(t,h=>{switch(h){case"bottom":return h5(d,a.bounds)?T.none():T.some(vx(i,g,a));case"top":return p5(d,a.bounds)?T.none():T.some(vv(i,g,a));default:return T.none()}}).getOr({location:"no-dock"})},K9=(t,s,a)=>Me(t,i=>{switch(i){case"bottom":return h5(s,a.bounds);case"top":return p5(s,a.bounds)}}),Y9=(t,s)=>{const a=s.optScrollEnv.fold(U(t.bounds.y),i=>i.scrollElmTop+(t.bounds.y-i.currentScrollTop));return ts(t.bounds.x,a)},X9=(t,s)=>{const a=s.optScrollEnv.fold(U(t.y),i=>t.y+i.currentScrollTop-i.scrollElmTop);return ts(t.x,a)},y5=(t,s,a)=>a.getInitialPos().map(i=>{const d=Y9(i,s);return{box:yr(d.left,d.top,or(t),ln(t)),location:i.location}}),ZM=(t,s,a,i,d)=>{const g=X9(s,a),h=yr(g.left,g.top,s.width,s.height);i.setInitialPos({style:sa(t),position:Ws(t,"position")||"static",bounds:h,location:d.location})},qM=(t,s,a,i,d)=>{i.getInitialPos().fold(()=>ZM(t,s,a,i,d),()=>j)},v5=(t,s,a)=>a.getInitialPos().bind(i=>{var d;switch(a.clearInitialPos(),i.position){case"static":return T.some({morph:"static"});case"absolute":const g=g5(t).getOr(_r()),h=Fr(g),v=(d=g.dom.scrollTop)!==null&&d!==void 0?d:0;return T.some({morph:"absolute",positionCss:Au("absolute",Tt(i.style,"left").map(_=>s.x-h.x),Tt(i.style,"top").map(_=>s.y-h.y+v),Tt(i.style,"right").map(_=>h.right-s.right),Tt(i.style,"bottom").map(_=>h.bottom-s.bottom))});default:return T.none()}}),J9=(t,s,a)=>y5(t,s,a).filter(({box:i})=>K9(a.getModes(),i,s)).bind(({box:i})=>v5(t,i,a)),kx=t=>{switch(t.location){case"top":return T.some({morph:"fixed",positionCss:Au("fixed",T.some(t.leftX),T.some(t.topY),T.none(),T.none())});case"bottom":return T.some({morph:"fixed",positionCss:Au("fixed",T.some(t.leftX),T.none(),T.none(),T.some(t.bottomY))});default:return T.none()}},Q9=(t,s,a)=>{const i=Fr(t),d=Xa(),g=G9(a.getModes(),{win:d,box:i},s);return g.location==="top"||g.location==="bottom"?(ZM(t,i,s,a,g),kx(g)):T.none()},eH=(t,s,a)=>J9(t,s,a).orThunk(()=>s.optScrollEnv.bind(i=>y5(t,s,a)).bind(({box:i,location:d})=>{const g=Xa(),h=b5({win:g,box:i}),v=d==="top"?vv(g,h,s):vx(g,h,s);return kx(v)})),tH=(t,s,a)=>{const i=t.element;return Vr(zr(i,"position"),"fixed")?eH(i,s,a):Q9(i,s,a)},oy=(t,s,a)=>{const i=t.element;return y5(i,s,a).bind(({box:d})=>v5(i,d,a))},GM=(t,s,a,i)=>{const d=Fr(t),g=Xa(),h=b5({win:g,box:d}),v=i(g,h,s);return v.location==="bottom"||v.location==="top"?(qM(t,d,s,a,v),kx(v)):T.none()},kv=(t,s,a)=>{a.setDocked(!1),lt(["left","right","top","bottom","position"],i=>q(t.element,i)),s.onUndocked(t)},wv=(t,s,a,i)=>{const d=i.position==="fixed";a.setDocked(d),Sp(t.element,i),(d?s.onDocked:s.onUndocked)(t)},k5=(t,s,a,i,d=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(h=>{const v=q9(h,i.bounds);v!==a.isVisible()&&(a.setVisible(v),d&&!v?(xf(t.element,[g.fadeOutClass]),g.onHide(t)):(v?Z9:aZ)(t,g))})})},w5=(t,s,a,i,d)=>{k5(t,s,a,i,!0),wv(t,s,a,d.positionCss)},KM=(t,s,a,i,d)=>{switch(d.morph){case"static":return kv(t,s,a);case"absolute":return wv(t,s,a,d.positionCss);case"fixed":return w5(t,s,a,i,d)}},cZ=(t,s,a)=>{const i=s.lazyViewport(t);k5(t,s,a,i),tH(t,i,a).each(d=>{KM(t,s,a,i,d)})},nH=(t,s,a)=>{const i=t.element;a.setDocked(!1);const d=s.lazyViewport(t);oy(t,d,a).each(g=>{switch(g.morph){case"static":{kv(t,s,a);break}case"absolute":{wv(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{Si(i,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),wx(t,s,a)},wx=(t,s,a)=>{t.getSystem().isConnected()&&cZ(t,s,a)},YM=(t,s,a)=>{a.isDocked()&&nH(t,s,a)},XM=t=>(s,a,i)=>{const d=a.lazyViewport(s);GM(s.element,d,i,t).each(h=>{w5(s,a,i,d,h)})},oH=XM(vv),_v=XM(vx);var sH=Object.freeze({__proto__:null,refresh:wx,reset:YM,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,i)=>a.setModes(i),forceDockToTop:oH,forceDockToBottom:_v}),rH=Object.freeze({__proto__:null,events:(t,s)=>Tr([ig(mp(),(a,i)=>{t.contextual.each(d=>{rl(a.element,d.transitionClass)&&(Si(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),i.stop()})}),kt(kf(),(a,i)=>{wx(a,t,s)}),kt(gp(),(a,i)=>{wx(a,t,s)}),kt(Gu(),(a,i)=>{YM(a,t,s)})])}),Uw=[_a("contextual",[ua("fadeInClass"),ua("fadeOutClass"),ua("transitionClass"),wi("lazyContext"),hs("onShow"),hs("onShown"),hs("onHide"),hs("onHidden")]),Ha("lazyViewport",()=>({bounds:Xa(),optScrollEnv:T.none()})),Ci("modes",["top","bottom"],Ja),hs("onDocked"),hs("onUndocked")],cH=Object.freeze({__proto__:null,init:t=>{const s=po(!1),a=po(!0),i=Rr(),d=po(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return Wi({isDocked:s.get,setDocked:s.set,getInitialPos:i.get,setInitialPos:i.set,clearInitialPos:i.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:g})}});const Aa=_c({fields:Uw,name:"docking",active:rH,apis:sH,state:cH}),_5=U(Tn("toolbar-height-change")),Hm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},e8="tox-tinymce--toolbar-sticky-on",t8="tox-tinymce--toolbar-sticky-off",n8=(t,s)=>{const a=za(s),d=sc(s).dom.innerHeight,g=Hc(a),h=ke.fromDom(t.elm),v=Vc(h),_=ln(h),A=v.y,z=A+_,M=ra(s),P=ln(s),V=M.top,J=V+P,ye=Math.abs(V-g.top)<2,Je=Math.abs(J-(g.top+d))<2;if(ye&&A<J)sf(g.left,A-P,a);else if(Je&&z>V){const xe=A-d+_+P;sf(g.left,xe,a)}},jw=(t,s)=>fo(Aa.getModes(t),s),C5=t=>{const s=i=>Jo(i)+(parseInt(Ws(i,"margin-top"),10)||0)+(parseInt(Ws(i,"margin-bottom"),10)||0),a=t.element;xc(a).each(i=>{const d="padding-"+Aa.getModes(t)[0];if(Aa.isDocked(t)){const g=or(i);Cn(a,"width",g+"px"),Cn(i,d,s(a)+"px")}else q(a,"width"),q(i,d)})},o8=(t,s)=>{s?(ea(t,Hm.fadeOutClass),xf(t,[Hm.transitionClass,Hm.fadeInClass])):(ea(t,Hm.fadeInClass),xf(t,[Hm.fadeOutClass,Hm.transitionClass]))},Ww=(t,s)=>{const a=ke.fromDom(t.getContainer());s?(ga(a,e8),ea(a,t8)):(ga(a,t8),ea(a,e8))},Cx=(t,s)=>{const a=za(s);Xu(a).filter(i=>!fs(s,i)).filter(i=>fs(i,ke.fromDom(a.dom.body))||Oa(t,i)).each(()=>Gl(s))},iH=(t,s)=>Kl(t).orThunk(()=>s().toOptional().bind(a=>Kl(a.element))),lH=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Aa.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(C5)}),t.on("SkinLoaded",()=>{a().each(i=>{Aa.isDocked(i)?Aa.reset(i):Aa.refresh(i)})}),t.on("FullscreenStateChanged",()=>{a().each(Aa.reset)})),t.on("AfterScrollIntoView",i=>{a().each(d=>{Aa.refresh(d);const g=d.element;ri(g)&&n8(i,g)})}),t.on("PostRender",()=>{Ww(t,!1)})},uH=t=>t().map(Aa.isDocked).getOr(!1),dH=()=>[Wc.config({channels:{[_5()]:{onReceive:C5}}})],Sx=(t,s)=>{const a=Rr(),i=s.getSink,d=v=>{i().each(_=>v(_.element))},g=v=>{t.inline||C5(v),Ww(t,Aa.isDocked(v)),v.getSystem().broadcastOn([Dm()],{}),i().each(_=>_.getSystem().broadcastOn([Dm()],{}))},h=t.inline?[]:dH();return[wo.config({}),Aa.config({contextual:{lazyContext:v=>{const _=Jo(v.element),A=t.inline?t.getContentAreaContainer():t.getContainer();return T.from(A).map(z=>{const M=Fr(ke.fromDom(z));return Gb(t,v.element).fold(()=>{const V=M.height-_,J=M.y+(jw(v,"top")?0:_);return yr(M.x,J,M.width,V)},V=>{const J=Xm(M,ov(V)),ye=jw(v,"top")?J.y:J.y+_;return yr(J.x,ye,J.width,J.height-_)})})},onShow:()=>{d(v=>o8(v,!0))},onShown:v=>{d(_=>Si(_,[Hm.transitionClass,Hm.fadeInClass])),a.get().each(_=>{Cx(v.element,_),a.clear()})},onHide:v=>{iH(v.element,i).fold(a.clear,a.set),d(_=>o8(_,!1))},onHidden:()=>{d(v=>Si(v,[Hm.transitionClass]))},...Hm},lazyViewport:v=>Gb(t,v.element).fold(()=>{const A=Xa(),z=oD(t),M=A.y+(jw(v,"top")?z:0),P=A.height-(jw(v,"bottom")?z:0);return{bounds:yr(A.x,M,A.width,P),optScrollEnv:T.none()}},A=>({bounds:ov(A),optScrollEnv:T.some({currentScrollTop:A.element.dom.scrollTop,scrollElmTop:ra(A.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var S5=Object.freeze({__proto__:null,setup:lH,isDocked:uH,getBehaviours:Sx});const fH=t=>{const s=t.editor,a=t.sticky?Sx:jM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:$t(a(s,t.sharedBackstage))}},x5=Jn([Ea,fr("items",gn([Uu([QC,Li("items",Ja)]),Ja]))].concat(nw)),mH=t=>jr("GroupToolbarButton",x5,t),gH=[vc("text"),vc("tooltip"),vc("icon"),jc("search",!1,gn([tl,Jn([vc("placeholder")])],t=>cn(t)?t?T.some({placeholder:T.none()}):T.none():T.some(t))),wi("fetch"),Ha("onSetup",()=>j)],s8=Jn([Ea,...gH]),r8=t=>jr("menubutton",s8,t),pH=Jn([Ea,tw,Fu,Pg,ID,FD,Qp,Ui("presets","normal",["normal","color","listpreview"]),m4(1),Hb,f4]),lZ=t=>jr("SplitButton",pH,t);var xx=Nc({factory:(t,s)=>{const a=(d,g)=>{const h=De(g,v=>{const _={type:"menubutton",text:v.text,fetch:z=>{z(v.getItems())}},A=r8(_).mapError(z=>_u(z)).getOrDie();return pv(A,"tox-mbtn",s.backstage,T.some("menuitem"))});Bo.set(d,h)},i={focus:so.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:$t([Bo.config({}),Vo("menubar-events",[Or(d=>{t.onSetup(d)}),kt(ic(),(d,g)=>{Wr(d.element,".tox-mbtn--active").each(h=>{cl(g.event.target,".tox-mbtn").each(v=>{fs(h,v)||d.getSystem().getByDom(h).each(_=>{d.getSystem().getByDom(v).each(A=>{cd.expand(A),cd.close(_),wo.focus(A)})})})})}),kt(Ay(),(d,g)=>{g.event.prevFocus.bind(h=>d.getSystem().getByDom(h).toOptional()).each(h=>{g.event.newFocus.bind(v=>d.getSystem().getByDom(v).toOptional()).each(v=>{cd.isOpen(h)&&(cd.expand(v),cd.close(h))})})})]),so.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),T.some(!0))}),na.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[vt("dom"),vt("uid"),vt("onEscape"),vt("backstage"),$e("onSetup",j)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const hH="⚡️Upgrade",a8="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",bH=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:a8,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:hH}}]}),c8="container",yH=[Wa("slotBehaviours",[])],i8=t=>"<alloy.field."+t+">",vH=t=>{const s=(()=>{const g=[];return{slot:(v,_)=>(g.push(v),Q2(c8,i8(v),_)),record:U(g)}})(),a=t(s),i=s.record(),d=De(i,g=>Rc({name:g,pname:i8(g)}));return vk(c8,yH,d,l8,a)},l8=(t,s)=>{const a=ye=>nC(t),i=(ye,Je)=>mr(ye,t,Je),d=(ye,Je)=>(xe,_e)=>mr(xe,t,_e).map(rt=>ye(rt,_e)).getOr(Je),g=ye=>(Je,xe)=>{lt(xe,_e=>ye(Je,_e))},h=(ye,Je)=>br(ye.element,"aria-hidden")!=="true",v=(ye,Je)=>{if(!h(ye)){const xe=ye.element;q(xe,"display"),se(xe,"aria-hidden"),oo(ye,Wv(),{name:Je,visible:!0})}},_=(ye,Je)=>{if(h(ye)){const xe=ye.element;Cn(xe,"display","none"),nn(xe,"aria-hidden","true"),oo(ye,Wv(),{name:Je,visible:!1})}},A=d(h,!1),z=d(_),M=g(z),P=ye=>M(ye,a()),V=d(v),J={getSlotNames:a,getSlot:i,isShowing:A,hideSlot:z,hideAllSlots:P,showSlot:V};return{uid:t.uid,dom:t.dom,components:s,behaviours:Du(t.slotBehaviours),apis:J}},Di={...Gn({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>vm(t)),sketch:vH},kH=Jn([Fu,tw,Ha("onShow",j),Ha("onHide",j),Qp]),dZ=t=>jr("sidebar",kH,t),fZ=t=>{const{sidebars:s}=t.ui.registry.getAll();lt(An(s),a=>{const i=s[a],d=()=>Vr(T.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:i.icon,tooltip:i.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(d())},onSetup:g=>{g.setActive(d());const h=()=>g.setActive(d());return t.on("ToggleSidebar",h),()=>{t.off("ToggleSidebar",h)}}})})},u8=t=>({element:()=>t.element.dom}),d8=(t,s)=>{const a=De(An(s),i=>{const d=s[i],g=Qa(dZ(d));return{name:i,getApi:u8,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return De(a,i=>{const d=po(j);return t.slot(i.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:tu.unnamedEvents([Mc(i,d),Bm(i,d),kt(Wv(),(g,h)=>{const v=h.event;X(a,A=>A.name===v.name).each(A=>{(v.visible?A.onShow:A.onHide)(A.getApi(g))})})])})})},wH=t=>Di.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:d8(s,t),slotBehaviours:tu.unnamedEvents([Or(a=>Di.hideAllSlots(a))])})),_H=(t,s,a)=>{bs.getCurrent(t).each(d=>{Bo.set(d,[wH(s)]);const g=a==null?void 0:a.toLowerCase();nt(g)&&Lo(s,g)&&bs.getCurrent(d).each(h=>{Di.showSlot(h,g),cu.immediateGrow(d),q(d.element,"width"),ml(t.element,"region")})})},ml=(t,s)=>{nn(t,"role",s)},CH=(t,s)=>{bs.getCurrent(t).each(i=>{bs.getCurrent(i).each(g=>{cu.hasGrown(i)?Di.isShowing(g,s)?(cu.shrink(i),ml(t.element,"presentation")):(Di.hideAllSlots(g),Di.showSlot(g,s),ml(t.element,"region")):(Di.hideAllSlots(g),Di.showSlot(g,s),cu.grow(i),ml(t.element,"region"))})})},f8=t=>bs.getCurrent(t).bind(a=>cu.isGrowing(a)||cu.hasGrown(a)?bs.getCurrent(a).bind(g=>X(Di.getSlotNames(g),h=>Di.isShowing(g,h))):T.none()),Tx=Tn("FixSizeEvent"),T5=Tn("AutoSizeEvent"),Zw=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:$t([na.config({}),wo.config({}),cu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{bs.getCurrent(s).each(Di.hideAllSlots),Ds(s,T5)},onGrown:s=>{Ds(s,T5)},onStartGrow:s=>{oo(s,Tx,{width:zr(s.element,"width").getOr("")})},onStartShrink:s=>{oo(s,Tx,{width:or(s.element)+"px"})}}),Bo.config({}),bs.config({find:s=>{const a=Bo.contents(s);return zt(a)}})])}],behaviours:$t([qd.childAt(0),Vo("sidebar-sliding-events",[kt(Tx,(s,a)=>{Cn(s.element,"width",a.event.width)}),kt(T5,(s,a)=>{q(s.element,"width")})])])});var Ex=Object.freeze({__proto__:null,block:(t,s,a,i)=>{nn(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),g=$t([so.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),wo.config({})]),h=i(d,g),v=d.getSystem().build(h);Bo.append(d,xi(v)),v.hasConfigured(so)&&s.focus&&so.focusIn(v),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Bo.remove(d,v))},unblock:(t,s,a)=>{se(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),SH=[Ha("getRoot",T.none),Ca("focus",!0),hs("onBlock"),hs("onUnblock")],dd=Object.freeze({__proto__:null,init:()=>{const t=Sm(),s=a=>{t.set({destroy:a})};return Wi({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const Yf=_c({fields:SH,name:"blocking",apis:Ex,state:dd}),Ax=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Mm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),A5=t=>bs.getCurrent(t).each(s=>Gl(s.element)),m8=(t,s)=>{const a="tabindex",i=`data-mce-${a}`;T.from(t.iframeElement).map(ke.fromDom).each(d=>{s?(B(d,a).each(g=>nn(d,i,g)),nn(d,a,-1)):(se(d,a),B(d,i).each(g=>{nn(d,a,g),se(d,i)}))})},xH=(t,s,a,i)=>{const d=s.element;if(m8(t,a),a)Yf.block(s,Ax(i)),q(d,"display"),se(d,"aria-hidden"),t.hasFocus()&&A5(s);else{const g=bs.getCurrent(s).exists(h=>Cp(h.element));Yf.unblock(s),Cn(d,"display","none"),nn(d,"aria-hidden","true"),g&&t.focus()}},g8=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:$t([Bo.config({}),Yf.config({focus:!1}),bs.config({find:s=>zt(s.components())})]),components:[]}),TH=t=>t.type==="focusin",EH=t=>TH(t)?(t.composed?zt(t.composedPath()):T.from(t.target)).map(ke.fromDom).filter(yo).exists(a=>rl(a,"mce-pastebin")):!1,AH=(t,s,a)=>{const i=po(!1),d=Rr(),g=v=>{i.get()&&!EH(v)&&(v.preventDefault(),A5(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",v=>{v.command.toLowerCase()==="mcefocus"&&v.value!==!0&&g(v)})});const h=v=>{v!==i.get()&&(i.set(v),xH(t,s(),v,a.providers),_6(t,v))};t.on("ProgressState",v=>{if(d.on(clearTimeout),Ot(v.time)){const _=EC.setEditorTimeout(t,()=>h(v.state),v.time);d.set(_)}else h(v.state),d.clear()})},OH=(t,s)=>mt(t,(d,g)=>s(g,d.len).fold(U(d),v=>({len:v.finish,list:d.list.concat([v])})),{len:0,list:[]}).list,O5=(t,s,a)=>({within:t,extra:s,withinWidth:a}),p8=(t,s,a)=>{const i=OH(t,(v,_)=>{const A=a(v);return T.some({element:v,start:_,finish:_+A,width:A})}),d=Qn(i,v=>v.finish<=s),g=ft(d,(v,_)=>v+_.width,0),h=i.slice(d.length);return{within:d,extra:h,withinWidth:g}},Ox=t=>De(t,s=>s.element),h8=(t,s,a)=>{const i=Ox(t.concat(s));return O5(i,[],a)},b8=(t,s,a,i)=>{const d=Ox(t).concat([a]);return O5(d,Ox(s),i)},y8=(t,s,a)=>O5(Ox(t),[],a),zH=(t,s,a)=>{const i=p8(s,t,a);return i.extra.length===0?T.some(i):T.none()},v8=(t,s,a,i)=>{const d=zH(t,s,a).getOrThunk(()=>p8(s,t-a(i),a)),g=d.within,h=d.extra,v=d.withinWidth;return h.length===1&&h[0].width<=a(i)?h8(g,h,v):h.length>=1?b8(g,h,i,v):y8(g,h,v)},z5=(t,s)=>{const a=De(s,i=>xi(i));Kf.setGroups(t,a)},k8=t=>Rn(t,s=>Kl(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),w8=(t,s,a)=>{const i=s.builtGroups.get();if(i.length===0)return;const d=Ff(t,s,"primary"),g=ba.getCoupled(t,"overflowGroup");Cn(d.element,"visibility","hidden");const h=i.concat([g]),v=k8(h);a([]),z5(d,h);const _=or(d.element),A=v8(_,s.builtGroups.get(),z=>or(z.element),g);A.extra.length===0?(Bo.remove(d,g),a([])):(z5(d,A.within),a(A.extra)),q(d.element,"visibility"),ue(d.element),v.each(wo.focus)},_8=U([Wa("splitToolbarBehaviours",[ba]),yc("builtGroups",()=>po([]))]),DH=U([il(["overflowToggledClass"]),pf("getOverflowBounds"),vt("lazySink"),yc("overflowGroups",()=>po([])),hs("onOpened"),hs("onClosed")].concat(_8())),C8=U([Rc({factory:Kf,schema:yv(),name:"primary"}),Jl({schema:yv(),name:"overflow"}),Jl({name:"overflow-button"}),Jl({name:"overflow-group"})]),D5=U((t,s)=>{ep(t,Math.floor(s))}),RH=U([il(["toggledClass"]),vt("lazySink"),wi("fetch"),pf("getBounds"),_a("fireDismissalEventInstead",[$e("event",fm())]),Ju(),hs("onToggled")]),NH=U([Jl({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:$t([Ko.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Jl({factory:Kf,schema:yv(),name:"toolbar",overrides:t=>({toolbarBehaviours:$t([so.config({mode:"cyclic",onEscape:s=>(mr(s,t,"button").each(wo.focus),T.none())})])})})]),zx=Rr(),MH=(t,s)=>{zx.set(!0),R5(t,s),zx.clear()},R5=(t,s)=>{const a=ba.getCoupled(t,"toolbarSandbox");is.isOpen(a)?is.close(a):is.open(a,s.toolbar())},N5=(t,s,a,i)=>{const d=a.getBounds.map(h=>h()),g=a.lazySink(t).getOrDie();Zc.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:i,overrides:{maxWidthFunction:D5()}}},d)},S8=(t,s,a,i,d)=>{Kf.setGroups(s,d),N5(t,s,a,i),Ko.on(t)},BH=(t,s,a)=>{const i=h0(),d=(h,v)=>{const _=zx.get().getOr(!1);a.fetch().get(A=>{S8(t,v,a,s.layouts,A),i.link(t.element),_||so.focusIn(v)})},g=()=>{Ko.off(t),zx.get().getOr(!1)||wo.focus(t),i.unlink(t.element)};return{dom:{tag:"div",attributes:{id:i.id}},behaviours:$t([so.config({mode:"special",onEscape:h=>(is.close(h),T.some(!0))}),is.config({onOpen:d,onClose:g,isPartOf:(h,v,_)=>mg(v,_)||mg(t,_),getAttachPoint:()=>a.lazySink(t).getOrDie()}),Wc.config({channels:{...Fp({isExtraPart:Ce,...a.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...nk({doReposition:()=>{is.getState(ba.getCoupled(t,"toolbarSandbox")).each(h=>{N5(t,h,a,s.layouts)})}})}})])}},Zg=qc({name:"FloatingToolbarButton",factory:(t,s,a,i)=>({...Gc.sketch({...i.button(),action:d=>{R5(d,i)},buttonBehaviours:Ru.augment({dump:i.button().buttonBehaviours},[ba.config({others:{toolbarSandbox:d=>BH(d,a,t)}})])}),apis:{setGroups:(d,g)=>{is.getState(ba.getCoupled(d,"toolbarSandbox")).each(h=>{S8(d,h,t,a.layouts,g)})},reposition:d=>{is.getState(ba.getCoupled(d,"toolbarSandbox")).each(g=>{N5(d,g,t,a.layouts)})},toggle:d=>{R5(d,i)},toggleWithoutFocusing:d=>{MH(d,i)},getToolbar:d=>is.getState(ba.getCoupled(d,"toolbarSandbox")),isOpen:d=>is.isOpen(ba.getCoupled(d,"toolbarSandbox"))}}),configFields:RH(),partFields:NH(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),PH=U([vt("items"),il(["itemSelector"]),Wa("tgroupBehaviours",[so])]),FH=U([ul({name:"items",unit:"item"})]),M5=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:tc(t.tgroupBehaviours,[so.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Dx=qc({name:"ToolbarGroup",configFields:PH(),partFields:FH(),factory:M5}),qw=t=>De(t,s=>xi(s)),x8=(t,s,a)=>{w8(t,a,i=>{a.overflowGroups.set(i),s.getOpt(t).each(d=>{Zg.setGroups(d,qw(i))})})},T8=(t,s,a,i)=>{const d=Js(Zg.sketch({fetch:()=>ui.nu(g=>{g(qw(t.overflowGroups.get()))}),layouts:{onLtr:()=>[kc,Ua],onRtl:()=>[Ua,kc],onBottomLtr:()=>[Ir,qi],onBottomRtl:()=>[qi,Ir]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()},onToggled:(g,h)=>t[h?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:tc(t.splitToolbarBehaviours,[ba.config({others:{overflowGroup:()=>Dx.sketch({...i["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(g,h)=>{t.builtGroups.set(De(h,g.getSystem().build)),x8(g,d,t)},refresh:g=>x8(g,d,t),toggle:g=>{d.getOpt(g).each(h=>{Zg.toggle(h)})},toggleWithoutFocusing:g=>{d.getOpt(g).each(Zg.toggleWithoutFocusing)},isOpen:g=>d.getOpt(g).map(Zg.isOpen).getOr(!1),reposition:g=>{d.getOpt(g).each(h=>{Zg.reposition(h)})},getOverflow:g=>d.getOpt(g).bind(Zg.getToolbar)},domModification:{attributes:{role:"group"}}}},E8=qc({name:"SplitFloatingToolbar",configFields:DH(),partFields:C8(),factory:T8,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),$H=U([il(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),hs("onOpened"),hs("onClosed")].concat(_8())),bZ=U([Rc({factory:Kf,schema:yv(),name:"primary"}),Rc({factory:Kf,schema:yv(),name:"overflow",overrides:t=>({toolbarBehaviours:$t([cu.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{mr(s,t,"overflow-button").each(a=>{Ko.off(a),wo.focus(a)}),t.onClosed(s)},onGrown:s=>{so.focusIn(s),t.onOpened(s)},onStartGrow:s=>{mr(s,t,"overflow-button").each(Ko.on)}}),so.config({mode:"acyclic",onEscape:s=>(mr(s,t,"overflow-button").each(wo.focus),T.some(!0))})])})}),Jl({name:"overflow-button",overrides:t=>({buttonBehaviours:$t([Ko.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Jl({name:"overflow-group"})]),IH=(t,s)=>mr(t,s,"overflow").map(cu.hasGrown).getOr(!1),A8=(t,s)=>{mr(t,s,"overflow-button").bind(()=>mr(t,s,"overflow")).each(a=>{Gw(t,s),cu.toggleGrow(a)})},Gw=(t,s)=>{mr(t,s,"overflow").each(a=>{w8(t,s,i=>{const d=De(i,g=>xi(g));Kf.setGroups(a,d)}),mr(t,s,"overflow-button").each(i=>{cu.hasGrown(a)&&Ko.on(i)}),cu.refresh(a)})},LH=(t,s,a,i)=>{const d="alloy.toolbar.toggle",g=(h,v)=>{const _=De(v,h.getSystem().build);t.builtGroups.set(_)};return{uid:t.uid,dom:t.dom,components:s,behaviours:tc(t.splitToolbarBehaviours,[ba.config({others:{overflowGroup:h=>Dx.sketch({...i["overflow-group"](),items:[Gc.sketch({...i["overflow-button"](),action:v=>{Ds(h,d)}})]})}}),Vo("toolbar-toggle-events",[kt(d,h=>{A8(h,t)})])]),apis:{setGroups:(h,v)=>{g(h,v),Gw(h,t)},refresh:h=>Gw(h,t),toggle:h=>A8(h,t),isOpen:h=>IH(h,t)},domModification:{attributes:{role:"group"}}}},Cv=qc({name:"SplitSlidingToolbar",configFields:$H(),partFields:bZ(),factory:LH,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),B5=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[Dx.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:$t([na.config({}),wo.config({})])}},Kw=t=>Dx.sketch(B5(t)),Rx=(t,s)=>{const a=Or(i=>{const d=De(t.initGroups,Kw);Kf.setGroups(i,d)});return $t([Hd.toolbarButton(t.providers.isDisabled),mc(),so.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Vo("toolbar-events",[a])])},O8=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":B5({title:T.none(),items:[]}),"overflow-button":YL({name:"more",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:T.none(),borderless:!1},T.none(),t.providers)},splitToolbarBehaviours:Rx(t,s)}},z8=t=>{const s=O8(t),a=4,i=E8.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return E8.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,g=Vc(d),h=Ki(d),v=Vc(h),_=Math.max(h.dom.scrollHeight,v.height);return yr(g.x+a,v.y,g.width-a*2,_)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},Sv=t=>{const s=Cv.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=Cv.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=O8(t);return Cv.sketch({...i,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([_5()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([_5()],{type:"closed"}),t.onToggled(d,!1)}})},Yw=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Kf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===rd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Kf.parts.groups({})],toolbarBehaviours:Rx(t,s)})},D8=[Pg,Fu,vc("tooltip"),Ui("buttonType","secondary",["primary","secondary"]),Ca("borderless",!1),wi("onAction")],HH=[...D8,Bg,wd("type",["button"])],VH=[...D8,Ca("active",!1),wd("type",["togglebutton"])],Nx={button:HH,togglebutton:VH},UH=[wd("type",["group"]),Ci("buttons",[],ac("type",Nx))],jH=ac("type",{...Nx,group:UH}),R8=Jn([Ci("buttons",[],jH),wi("onShow"),wi("onHide")]),N8=t=>jr("view",R8,t),Mx=(t,s)=>{var a,i;const d=t.type==="togglebutton",g=t.icon.map(rt=>jg(rt,s.icons)).map(Js),v=(()=>rt=>{const He=Ut=>{g.map(an=>an.getOpt(rt).each(rs=>{Bo.set(rs,[jg(Ut,s.icons)])}))},Mt=Ut=>{const an=rt.element;Ut?(ga(an,"tox-button--enabled"),nn(an,"aria-pressed",!0)):(ea(an,"tox-button--enabled"),se(an,"aria-pressed"))},At=()=>rl(rt.element,"tox-button--enabled");if(d)return t.onAction({setIcon:He,setActive:Mt,isActive:At});if(t.type==="button")return t.onAction({setIcon:He})})(),_={...t,name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:T.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},A=qA((i=t.buttonType)!==null&&i!==void 0?i:"secondary"),z=d?t.text.map(s.translate):T.some(s.translate(t.text)),M=z.map($r),P=_.tooltip.or(z).map(rt=>({"aria-label":s.translate(rt),title:s.translate(rt)})).getOr({}),V=g.map(rt=>rt.asSpec()),J=Qs([V,M]),ye=t.icon.isSome()&&M.isSome(),Je={tag:"button",classes:A.concat(...t.icon.isSome()&&!ye?["tox-button--icon"]:[]).concat(...ye?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:P},xe=[],_e=nx(_,T.some(v),xe,Je,J,s);return Gc.sketch(_e)},Bx=(t,s)=>Mx(t,s),WH=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:De(t.buttons,a=>Bx(a,s))}),M8=Qi().deviceType,B8=M8.isPhone(),ZH=M8.isTablet(),qH=t=>{let s=!1;const a=De(t.buttons,i=>i.type==="group"?(s=!0,WH(i,t.providers)):Bx(i,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...B8||ZH?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:$t([wo.config({}),so.config({mode:"flow",selector:"button, .tox-button",focusInside:Lf.OnEnterOrSpaceMode})]),components:s?a:[$u.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),$u.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},GH=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),P8=(t,s,a,i)=>{const d={getPane:g=>Cc.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:d}};var xv=qc({name:"silver.View",configFields:[vt("viewConfig")],partFields:[Dl({factory:{sketch:qH},schema:[vt("buttons"),vt("providers")],name:"header"}),Dl({factory:{sketch:GH},schema:[],name:"pane"})],factory:P8,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const KH=(t,s,a)=>Ts(s,(i,d)=>{const g=Qa(N8(i));return t.slot(d,xv.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[xv.parts.header({buttons:g.buttons,providers:a})]:[],xv.parts.pane({})]}))}),P5=(t,s)=>Di.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:KH(a,t,s),slotBehaviours:tu.unnamedEvents([Or(i=>Di.hideAllSlots(i))])})),F8=t=>X(Di.getSlotNames(t),s=>Di.isShowing(t,s)),YH=t=>{const s=t.element;Cn(s,"display","none"),nn(s,"aria-hidden","true")},$8=t=>{const s=t.element;q(s,"display"),se(s,"aria-hidden")},XH=t=>({getContainer:U(t)}),F5=(t,s,a)=>{Di.getSlot(t,s).each(i=>{xv.getPane(i).each(d=>{a(i)(XH(d.element.dom))})})},JH=(t,s)=>F5(t,s,xv.getOnShow),I8=(t,s)=>F5(t,s,xv.getOnHide);var Px=Nc({factory:(t,s)=>{const g={setViews:(h,v)=>{Bo.set(h,[P5(v,s.backstage.shared.providers)])},whichView:h=>bs.getCurrent(h).bind(F8),toggleView:(h,v,_,A)=>bs.getCurrent(h).exists(z=>{const M=F8(z),P=M.exists(J=>A===J),V=Di.getSlot(z,A).isSome();return V&&(Di.hideAllSlots(z),P?(YH(h),v()):(_(),$8(h),Di.showSlot(z,A),JH(z,A)),M.each(J=>I8(z,J))),V})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:$t([Bo.config({}),bs.config({find:h=>{const v=Bo.contents(h);return zt(v)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[vt("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,i,d)=>t.toggleView(s,a,i,d),whichView:(t,s)=>t.whichView(s)}});const QH=(t,s,a)=>{let i=!1;const d={getSocket:g=>Cc.getPart(g,t,"socket"),setSidebar:(g,h,v)=>{Cc.getPart(g,t,"sidebar").each(_=>_H(_,h,v))},toggleSidebar:(g,h)=>{Cc.getPart(g,t,"sidebar").each(v=>CH(v,h))},whichSidebar:g=>Cc.getPart(g,t,"sidebar").bind(f8).getOrNull(),getHeader:g=>Cc.getPart(g,t,"header"),getToolbar:g=>Cc.getPart(g,t,"toolbar"),setToolbar:(g,h)=>{Cc.getPart(g,t,"toolbar").each(v=>{const _=De(h,Kw);v.getApis().setGroups(v,_)})},setToolbars:(g,h)=>{Cc.getPart(g,t,"multiple-toolbar").each(v=>{const _=De(h,A=>De(A,Kw));HM.setItems(v,_)})},refreshToolbar:g=>{Cc.getPart(g,t,"toolbar").each(v=>v.getApis().refresh(v))},toggleToolbarDrawer:g=>{Cc.getPart(g,t,"toolbar").each(h=>{Cs(h.getApis().toggle,v=>v(h))})},toggleToolbarDrawerWithoutFocusing:g=>{Cc.getPart(g,t,"toolbar").each(h=>{Cs(h.getApis().toggleWithoutFocusing,v=>v(h))})},isToolbarDrawerToggled:g=>Cc.getPart(g,t,"toolbar").bind(h=>T.from(h.getApis().isOpen).map(v=>v(h))).getOr(!1),getThrobber:g=>Cc.getPart(g,t,"throbber"),focusToolbar:g=>{Cc.getPart(g,t,"toolbar").orThunk(()=>Cc.getPart(g,t,"multiple-toolbar")).each(v=>{so.focusIn(v)})},setMenubar:(g,h)=>{Cc.getPart(g,t,"menubar").each(v=>{xx.setMenus(v,h)})},focusMenubar:g=>{Cc.getPart(g,t,"menubar").each(h=>{xx.focus(h)})},setViews:(g,h)=>{Cc.getPart(g,t,"viewWrapper").each(v=>{Px.setViews(v,h)})},toggleView:(g,h)=>Cc.getPart(g,t,"viewWrapper").exists(v=>Px.toggleView(v,()=>d.showMainView(g),()=>d.hideMainView(g),h)),whichView:g=>Cc.getPart(g,t,"viewWrapper").bind(Px.whichView).getOrNull(),hideMainView:g=>{i=d.isToolbarDrawerToggled(g),i&&d.toggleToolbarDrawer(g),Cc.getPart(g,t,"editorContainer").each(h=>{const v=h.element;Cn(v,"display","none"),nn(v,"aria-hidden","true")})},showMainView:g=>{i&&d.toggleToolbarDrawer(g),Cc.getPart(g,t,"editorContainer").each(h=>{const v=h.element;q(v,"display"),se(v,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:d,behaviours:t.behaviours}},L8=Lm.optional({factory:xx,name:"menubar",schema:[vt("backstage")]}),eV=t=>t.type===rd.sliding?Sv:t.type===rd.floating?z8:Yw,tV=Lm.optional({factory:{sketch:t=>HM.sketch({uid:t.uid,dom:t.dom,listBehaviours:$t([so.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Yw({type:t.type,uid:Tn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),T.some(!0))}),setupItem:(s,a,i,d)=>{Kf.setGroups(a,i)},shell:!0})},name:"multiple-toolbar",schema:[vt("dom"),vt("onEscape")]}),nV=Lm.optional({factory:{sketch:t=>{const s=eV(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),T.some(!0)),onToggled:(i,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[vt("dom"),vt("onEscape"),vt("getSink")]}),$5=Lm.optional({factory:{sketch:fH},name:"header",schema:[vt("dom")]}),I5=Lm.optional({factory:{sketch:bH},name:"promotion",schema:[vt("dom")]}),oV=Lm.optional({name:"socket",schema:[vt("dom")]}),sV=Lm.optional({factory:{sketch:Zw},name:"sidebar",schema:[vt("dom")]}),rV=Lm.optional({factory:{sketch:g8},name:"throbber",schema:[vt("dom")]}),aV=Lm.optional({factory:Px,name:"viewWrapper",schema:[vt("backstage")]}),cV=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),iV=Lm.optional({factory:{sketch:cV},name:"editorContainer",schema:[]});var Ar=qc({name:"OuterContainer",factory:QH,configFields:[vt("dom"),vt("behaviours")],partFields:[$5,L8,nV,tV,oV,sV,I5,rV,aV,iV],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,i)=>{t.setSidebar(s,a,i)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const lV="file edit view insert format tools table help",H8={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},V8=(t,s,a)=>{const i=tD(a).split(/[ ,]/);return{text:t.title,getItems:()=>ae(t.items,d=>{const g=d.toLowerCase();return g.trim().length===0?[]:Zo(i,h=>h===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},Tv=t=>t.split(" "),Fx=(t,s)=>{const a={...H8,...s.menus},i=An(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?Tv(lV):Tv(s.menubar===!1?"":s.menubar),g=Qn(d,v=>{const _=Lo(H8,v);return i?_||Tt(s.menus,v).exists(A=>Lo(A,"items")):_}),h=De(g,v=>{const _=a[v];return V8({title:_.title,items:Tv(_.items)},s,t)});return Qn(h,v=>{const _=A=>nt(A)||A.type!=="separator";return v.getItems().length>0&&Zo(v.getItems(),_)})},L5=t=>{const s=()=>{t._skinLoaded=!0,KF(t)};return()=>{t.initialized?s():t.on("init",s)}},mh=(t,s)=>()=>YF(t,{message:s}),H5=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),uV=(t,s)=>{const a=s+"/skin.min.css";return H5(t,a,t.ui.styleSheetLoader)},dV=(t,s)=>{if(eo(ke.fromDom(t.getElement()))){const i=s+"/skin.shadowdom.min.css";return H5(t,i,Vk.DOM.styleSheetLoader)}else return Promise.resolve()},U8=(t,s)=>{const a=yD(s);return a&&s.contentCSS.push(a+(t?"/content.inline":"/content")+".min.css"),!Uk(s)&&nt(a)?Promise.all([uV(s,a),dV(s,a)]).then(L5(s),mh(s,"Skin could not be loaded")):Promise.resolve(L5(s)())},fV=Zt(U8,!1),mV=Zt(U8,!0),gV=(t,s,a)=>{const i=(v,_,A,z)=>{const M=s.shared.providers.translate(v.title);if(v.type==="separator")return T.some({type:"separator",text:M});if(v.type==="submenu"){const P=ae(v.getStyleItems(),V=>d(V,_,z));return _===0&&P.length<=0?T.none():T.some({type:"nestedmenuitem",text:M,enabled:P.length>0,getSubmenuItems:()=>ae(v.getStyleItems(),V=>d(V,_,z))})}else return T.some({type:"togglemenuitem",text:M,icon:v.icon,active:v.isSelected(z),enabled:!A,onAction:a.onAction(v),...v.getStylePreview().fold(()=>({}),P=>({meta:{style:P}}))})},d=(v,_,A)=>{const z=v.type==="formatter"&&a.isInvalid(v);return _===0?z?[]:i(v,_,!1,A).toArray():i(v,_,z,A).toArray()},g=v=>{const _=a.getCurrentValue(),A=a.shouldHide?0:1;return ae(v,z=>d(z,A,_))};return{validateItems:g,getFetch:(v,_)=>(A,z)=>{const M=_(),P=g(M),V=uh(P,jf.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:T.none()});z(V)}}},Ev=(t,s,a)=>{const i=a.dataset,d=i.type==="basic"?()=>De(i.data,g=>CM(g,a.isSelectedFor,a.getPreviewFor)):i.getData;return{items:gV(t,s,a),getStyleItems:d}},Av=(t,s,a)=>{const{items:i,getStyleItems:d}=Ev(t,s,a),g=v=>({getComponent:U(v)}),h=nh(t,"NodeChange",v=>{const _=v.getComponent();a.updateText(_),ko.set(v.getComponent(),!t.selection.isEditable())});return MA({text:a.icon.isSome()?T.none():a.text,icon:a.icon,tooltip:T.from(a.tooltip),role:T.none(),fetch:i.getFetch(s,d),onSetup:h,getApi:g,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},pV=t=>De(t,s=>{let a=s,i=s;const d=s.split("=");return d.length>1&&(a=d[0],i=d[1]),{title:a,format:i}}),hV=t=>({type:"basic",data:t});var gh;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(gh||(gh={}));const bV=(t,s)=>s===gh.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),V5=(t,s,a)=>{const i=t.options.get(s);return{type:"basic",data:pV(bV(i,a))}},U5=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],j8=t=>{const s=()=>X(U5,v=>t.formatter.match(v.format)),a=v=>()=>t.formatter.match(v),i=v=>T.none,d=v=>{const A=s().fold(U("left"),z=>z.title.toLowerCase());oo(v,ey,{icon:`align-${A}`})},g=hV(U5),h=v=>()=>X(U5,_=>_.format===v.format).each(_=>t.execCommand(_.command));return{tooltip:"Align",text:T.none(),icon:T.some("align-left"),isSelectedFor:a,getCurrentValue:T.none,getPreviewFor:i,onAction:h,updateText:d,dataset:g,shouldHide:!1,isInvalid:v=>!t.formatter.canApply(v.format)}},yV=(t,s)=>Av(t,s,j8(t)),vV=(t,s)=>{const a=Ev(t,s,j8(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:li(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},j5=(t,s)=>{const a=s(),i=De(a,d=>d.format);return T.from(t.formatter.closest(i)).bind(d=>X(a,g=>g.format===d)).orThunk(()=>Kn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},W5=t=>{const s="Paragraph",a=h=>()=>t.formatter.match(h),i=h=>()=>{const v=t.formatter.get(h);return v?T.some({tag:v.length>0&&(v[0].inline||v[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):T.none()},d=h=>{const _=j5(t,()=>g.data).fold(U(s),A=>A.title);oo(h,ud,{text:_})},g=V5(t,"block_formats",gh.SemiColon);return{tooltip:"Blocks",text:T.some(s),icon:T.none(),isSelectedFor:a,getCurrentValue:T.none,getPreviewFor:i,onAction:x6(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:h=>!t.formatter.canApply(h.format)}},W8=(t,s)=>Av(t,s,W5(t)),kV=(t,s)=>{const a=Ev(t,s,W5(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:li(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Z8=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],q8=t=>{const s=t.split(/\s*,\s*/);return De(s,a=>a.replace(/^['"]+|['"]+$/g,""))},wV=t=>{const s=()=>{const a=q8(t.toLowerCase());return Me(Z8,i=>a.indexOf(i.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},G8=t=>{const s="System Font",a=()=>{const A=J=>J?q8(J)[0]:"",z=t.queryCommandValue("FontName"),M=_.data,P=z?z.toLowerCase():"";return{matchOpt:X(M,J=>{const ye=J.format;return ye.toLowerCase()===P||A(ye).toLowerCase()===A(P).toLowerCase()}).orThunk(()=>Kn(wV(P),{title:s,format:P})),font:z}},i=A=>z=>z.exists(M=>M.format===A),d=()=>{const{matchOpt:A}=a();return A},g=A=>()=>T.some({tag:"div",styles:A.indexOf("dings")===-1?{"font-family":A}:{}}),h=A=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,A.format)})},v=A=>{const{matchOpt:z,font:M}=a(),P=z.fold(U(M),V=>V.title);oo(A,ud,{text:P})},_=V5(t,"font_family_formats",gh.SemiColon);return{tooltip:"Fonts",text:T.some(s),icon:T.none(),isSelectedFor:i,getCurrentValue:d,getPreviewFor:g,onAction:h,updateText:v,dataset:_,shouldHide:!1,isInvalid:Ce}},K8=(t,s)=>Av(t,s,G8(t)),_V=(t,s)=>{const a=Ev(t,s,G8(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:li(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},Y8={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},CV=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),i="\\.",d=v=>`(?:${v})?`,h=`[+-]?(?:${["Infinity",t+i+d(t)+d(a),i+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${h})(.*)$`)})(),SV=(t,s)=>Zo(s,a=>Zo(Y8[a],i=>t===i)),$x=(t,s)=>T.from(CV.exec(t)).bind(i=>{const d=Number(i[1]),g=i[2];return SV(g,s)?T.some({value:d,unit:g}):T.none()}),xV=(t,s)=>$x(t,s).map(({value:a,unit:i})=>a+i),X8={tab:U(9),escape:U(27),enter:U(13),backspace:U(8),delete:U(46),left:U(37),up:U(38),right:U(39),down:U(40),space:U(32),home:U(36),end:U(35),pageUp:U(33),pageDown:U(34)},TV=(t,s,a)=>{let i=T.none();const d=_e=>_e.map(rt=>dn.getValue(rt)).getOr(""),g=nh(t,"NodeChange SwitchMode",_e=>{const rt=_e.getComponent();i=T.some(rt),a.updateInputValue(rt),ko.set(rt,!t.selection.isEditable())}),h=_e=>({getComponent:U(_e)}),v=po(j),_=Tn("custom-number-input-events"),A=(_e,rt,He)=>{const Mt=d(i),At=a.getNewValue(Mt,_e),Ut=Mt.length-`${At}`.length,an=i.map(Un=>Un.element.dom.selectionStart-Ut),rs=i.map(Un=>Un.element.dom.selectionEnd-Ut);a.onAction(At,He),i.each(Un=>{dn.setValue(Un,At),rt&&(an.each(Io=>Un.element.dom.selectionStart=Io),rs.each(Io=>Un.element.dom.selectionEnd=Io))})},z=(_e,rt)=>A((He,Mt)=>He-Mt,_e,rt),M=(_e,rt)=>A((He,Mt)=>He+Mt,_e,rt),P=_e=>xc(_e.element).fold(T.none,rt=>(Gl(rt),T.some(!0))),V=_e=>Cp(_e.element)?(gi(_e.element).each(rt=>Gl(rt)),T.some(!0)):T.none(),J=(_e,rt,He,Mt)=>{const At=s.shared.providers.translate(He),Ut=Tn("altExecuting"),an=nh(t,"NodeChange SwitchMode",Un=>{ko.set(Un.getComponent(),!t.selection.isEditable())}),rs=Un=>{ko.isDisabled(Un)||_e(!0)};return Gc.sketch({dom:{tag:"button",attributes:{title:At,"aria-label":At},classes:Mt.concat(rt)},components:[NA(rt,s.shared.providers.icons)],buttonBehaviours:$t([ko.config({}),Vo(Ut,[Mc({onSetup:an,getApi:h},v),Bm({getApi:h},v),kt(xu(),(Un,Io)=>{(Io.event.raw.keyCode===X8.space()||Io.event.raw.keyCode===X8.enter())&&(ko.isDisabled(Un)||_e(!1))}),kt(im(),rs),kt(vf(),rs)])]),eventOrder:{[xu()]:[Ut,"keying"],[im()]:[Ut,"alloy.base.behaviour"],[vf()]:[Ut,"alloy.base.behaviour"]}})},ye=Js(J(_e=>z(!1,_e),"minus","Decrease font size",["highlight-on-focus"])),Je=Js(J(_e=>M(!1,_e),"plus","Increase font size",["highlight-on-focus"])),xe=Js({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Lb.sketch({inputBehaviours:$t([ko.config({}),Vo(_,[Mc({onSetup:g,getApi:h},v),Bm({getApi:h},v)]),Vo("input-update-display-text",[kt(ud,(_e,rt)=>{dn.setValue(_e,rt.event.text)}),kt(Cd(),_e=>{a.onAction(dn.getValue(_e))}),kt(sg(),_e=>{a.onAction(dn.getValue(_e))})]),so.config({mode:"special",onEnter:_e=>(A(at,!0,!0),T.some(!0)),onEscape:P,onUp:_e=>(M(!0,!1),T.some(!0)),onDown:_e=>(z(!0,!1),T.some(!0)),onLeft:(_e,rt)=>(rt.cut(),T.none()),onRight:(_e,rt)=>(rt.cut(),T.none())})])})],behaviours:$t([wo.config({}),so.config({mode:"special",onEnter:V,onSpace:V,onEscape:P}),Vo("input-wrapper-events",[kt(ic(),_e=>{lt([ye,Je],rt=>{const He=ke.fromDom(rt.get(_e).element.dom);Cp(He)&&a1(He)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[ye.asSpec(),xe.asSpec(),Je.asSpec()],behaviours:$t([wo.config({}),so.config({mode:"flow",focusInside:Lf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:_e=>Cp(_e.element)?T.none():(Gl(_e.element),T.some(!0))})])}},EV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},J8={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},AV=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},OV=(t,s)=>/[0-9.]+px$/.test(t)?AV(parseInt(t,10)*72/96,s||0)+"pt":Tt(J8,t).getOr(t),zV=t=>Tt(EV,t).getOr(""),Q8=t=>{const s=()=>{let _=T.none();const A=v.data,z=t.queryCommandValue("FontSize");if(z)for(let M=3;_.isNone()&&M>=0;M--){const P=OV(z,M),V=zV(P);_=X(A,J=>J.format===z||J.format===P||J.format===V)}return{matchOpt:_,size:z}},a=_=>A=>A.exists(z=>z.format===_),i=()=>{const{matchOpt:_}=s();return _},d=U(T.none),g=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,_.format)})},h=_=>{const{matchOpt:A,size:z}=s(),M=A.fold(U(z),P=>P.title);oo(_,ud,{text:M})},v=V5(t,"font_size_formats",gh.Space);return{tooltip:"Font sizes",text:T.some("12pt"),icon:T.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:i,onAction:g,updateText:h,dataset:v,shouldHide:!1,isInvalid:Ce}},DV=(t,s)=>Av(t,s,Q8(t)),RV=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},NV=16,e7=t=>t>=0,MV=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:i=>oo(i,ud,{text:s()}),onAction:(i,d)=>t.execCommand("FontSize",!1,i,{skip_focus:!d}),getNewValue:(i,d)=>{$x(i,["unsupportedLength","empty"]);const g=$x(i,["unsupportedLength","empty"]).or($x(s(),["unsupportedLength","empty"])),h=g.map(z=>z.value).getOr(NV),v=cD(t),_=g.map(z=>z.unit).filter(z=>z!=="").getOr(v),A=d(h,RV(_).step);return`${e7(A)?A:h}${_}`}}},BV=(t,s)=>TV(t,s,MV(t)),t7=(t,s)=>{const a=Ev(t,s,Q8(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:li(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},n7=(t,s)=>{const a="Paragraph",i=h=>()=>t.formatter.match(h),d=h=>()=>{const v=t.formatter.get(h);return v!==void 0?T.some({tag:v.length>0&&(v[0].inline||v[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):T.none()},g=h=>{const v=M=>s5(M)?ae(M.items,v):Hw(M)?[{title:M.title,format:M.format}]:[],_=ae(C9(t),v),z=j5(t,U(_)).fold(U(a),M=>M.title);oo(h,ud,{text:z})};return{tooltip:"Formats",text:T.some(a),icon:T.none(),isSelectedFor:i,getCurrentValue:T.none,getPreviewFor:d,onAction:x6(t),updateText:g,shouldHide:eD(t),isInvalid:h=>!t.formatter.canApply(h.format),dataset:s}},o7=(t,s)=>{const a={type:"advanced",...s.styles};return Av(t,s,n7(t,a))},s7=(t,s)=>{const a={type:"advanced",...s.styles},i=Ev(t,s,n7(t,a));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:li(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},PV=U([vt("toggleClass"),vt("fetch"),Of("onExecute"),$e("getHotspot",T.some),$e("getAnchorOverrides",U({})),Ju(),Of("onItemExecute"),Is("lazySink"),vt("dom"),hs("onOpen"),Wa("splitDropdownBehaviours",[ba,so,wo]),$e("matchWidth",!1),$e("useMinWidth",!1),$e("eventOrder",{}),Is("role")].concat(Q4())),FV=Rc({factory:Gc,schema:[vt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:$t([wo.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(gm)},buttonBehaviours:$t([Ko.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),$V=Rc({factory:Gc,schema:[vt("dom")],name:"button",defaults:()=>({buttonBehaviours:$t([wo.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),Ov=U([FV,$V,Dl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[vt("text")],name:"aria-descriptor"}),Jl({schema:[Ky()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(i=>{t.onItemExecute(i,s,a)})}})}),G6()]),IV=(t,s,a,i)=>{const d=z=>{bs.getCurrent(z).each(M=>{Fs.highlightFirst(M),so.focusIn(M)})},g=z=>{X4(t,at,z,i,d,ii.HighlightMenuAndItem).get(j)},h=z=>(g(z),T.some(!0)),v=z=>{const M=Ff(z,t,"button");return gm(M),T.some(!0)},_={...Tr([Or((z,M)=>{mr(z,t,"aria-descriptor").each(V=>{const J=Tn("aria");nn(V.element,"id",J),nn(z.element,"aria-describedby",J)})})]),...q1(T.some(g))},A={repositionMenus:z=>{Ko.isOn(z)&&J6(z)}};return{uid:t.uid,dom:t.dom,components:s,apis:A,eventOrder:{...t.eventOrder,[ol()]:["disabling","toggling","alloy.base.behaviour"]},events:_,behaviours:tc(t.splitDropdownBehaviours,[ba.config({others:{sandbox:z=>{const M=Ff(z,t,"arrow");return J4(t,z,{onOpen:()=>{Ko.on(M),Ko.on(z)},onClose:()=>{Ko.off(M),Ko.off(z)}})}}}),so.config({mode:"special",onSpace:v,onEnter:v,onDown:h}),wo.config({}),Ko.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Ix=qc({name:"SplitDropdown",configFields:PV(),partFields:Ov(),factory:IV,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),r7=t=>({isEnabled:()=>!ko.isDisabled(t),setEnabled:s=>ko.set(t,!s),setText:s=>oo(t,ud,{text:s}),setIcon:s=>oo(t,ey,{icon:s})}),LV=t=>({setActive:s=>{Ko.set(t,s)},isActive:()=>Ko.isOn(t),isEnabled:()=>!ko.isDisabled(t),setEnabled:s=>ko.set(t,!s),setText:s=>oo(t,ud,{text:s}),setIcon:s=>oo(t,ey,{icon:s})}),a7=(t,s)=>t.map(a=>({"aria-label":s.translate(a),title:s.translate(a)})).getOr({}),c7=Tn("focus-button"),Z5=(t,s,a,i,d)=>{const g=s.map(v=>Js(xN(v,"tox-tbtn",d))),h=t.map(v=>Js(jg(v,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:a7(a,d)},components:Qs([h.map(v=>v.asSpec()),g.map(v=>v.asSpec())]),eventOrder:{[Zs()]:["focusing","alloy.base.behaviour",Qb],[Vl()]:[Qb,"toolbar-group-button-events"]},buttonBehaviours:$t([Hd.toolbarButton(d.isDisabled),mc(),Vo(Qb,[Or((v,_)=>DA(v)),kt(ud,(v,_)=>{g.bind(A=>A.getOpt(v)).each(A=>{Bo.set(A,[$r(d.translate(_.event.text))])})}),kt(ey,(v,_)=>{h.bind(A=>A.getOpt(v)).each(A=>{Bo.set(A,[jg(_.event.icon,d.icons)])})}),kt(Zs(),(v,_)=>{_.event.prevent(),Ds(v,c7)})])].concat(i.getOr([])))}},HV=(t,s,a,i)=>{const d=s.shared,g=po(j),h={toolbarButtonBehaviours:[],getApi:r7,onSetup:t.onSetup},v=[Vo("toolbar-group-button-events",[Mc(h,g),Bm(h,g)])];return Zg.sketch({lazySink:d.getSink,fetch:()=>ui.nu(_=>{_(De(a(t.items),Kw))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Z5(t.icon,t.text,t.tooltip,T.some(v),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:i}}}})},Lx=(t,s,a)=>{var i;const d=po(j),g=Z5(t.icon,t.text,t.tooltip,T.none(),a);return Gc.sketch({dom:g.dom,components:g.components,eventOrder:SN,buttonBehaviours:{...$t([Vo("toolbar-button-events",[mL({onAction:t.onAction,getApi:s.getApi}),Mc(s,d),Bm(s,d)]),Hd.toolbarButton(()=>!t.enabled||a.isDisabled()),mc()].concat(s.toolbarButtonBehaviours)),[Qb]:(i=g.buttonBehaviours)===null||i===void 0?void 0:i[Qb]}})},VV=(t,s)=>i7(t,s,[]),i7=(t,s,a)=>Lx(t,{toolbarButtonBehaviours:a.length>0?[Vo("toolbarButtonWith",a)]:[],getApi:r7,onSetup:t.onSetup},s),l7=(t,s)=>q5(t,s,[]),q5=(t,s,a)=>Lx(t,{toolbarButtonBehaviours:[Bo.config({}),Ko.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Vo("toolbarToggleButtonWith",a)]:[]),getApi:LV,onSetup:t.onSetup},s),UV=(t,s,a)=>i=>ui.nu(d=>s.fetch(d)).map(d=>T.from(nA(sr(j4(Tn("menu-value"),d,g=>{s.onItemAction(t(i),g)},s.columns,s.presets,jf.CLOSE_ON_EXECUTE,s.select.getOr(Ce),a),{movement:qb(s.columns,s.presets),menuBehaviours:tu.unnamedEvents(s.columns!=="auto"?[]:[Or((g,h)=>{ow(g,4,qC(s.presets)).each(({numRows:v,numColumns:_})=>{so.setGridSize(g,v,_)})})])})))),jV=(t,s)=>{const a=g=>({isEnabled:()=>!ko.isDisabled(g),setEnabled:h=>ko.set(g,!h),setIconFill:(h,v)=>{Wr(g.element,`svg path[class="${h}"], rect[class="${h}"]`).each(_=>{nn(_,"fill",v)})},setActive:h=>{nn(g.element,"aria-pressed",h),Wr(g.element,"span").each(v=>{g.getSystem().getByDom(v).each(_=>Ko.set(_,h))})},isActive:()=>Wr(g.element,"span").exists(h=>g.getSystem().getByDom(h).exists(Ko.isOn)),setText:h=>Wr(g.element,"span").each(v=>g.getSystem().getByDom(v).each(_=>oo(_,ud,{text:h}))),setIcon:h=>Wr(g.element,"span").each(v=>g.getSystem().getByDom(v).each(_=>oo(_,ey,{icon:h})))}),i=po(j),d={getApi:a,onSetup:t.onSetup};return Ix.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...a7(t.tooltip,s.providers)}},onExecute:g=>{const h=a(g);h.isEnabled()&&t.onAction(h)},onItemExecute:(g,h,v)=>{},splitDropdownBehaviours:$t([Hd.splitButton(s.providers.isDisabled),mc(),Vo("split-dropdown-events",[Or((g,h)=>DA(g)),kt(c7,wo.focus),Mc(d,i),Bm(d,i)]),cv.config({})]),eventOrder:{[Vl()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:UV(a,t,s.providers),parts:{menu:KC(!1,t.columns,t.presets)},components:[Ix.parts.button(Z5(t.icon,t.text,T.none(),T.some([Ko.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Ix.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Xz("chevron-down",s.providers.icons)},buttonBehaviours:$t([Hd.splitButton(s.providers.isDisabled),mc(),H3()])}),Ix.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},WV=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Xw=(t,s)=>(a,i,d)=>{const g=t(a).mapError(h=>_u(h)).getOrDie();return s(g,i,d)},ZV={button:Xw(p4,(t,s)=>VV(t,s.shared.providers)),togglebutton:Xw(b4,(t,s)=>l7(t,s.shared.providers)),menubutton:Xw(r8,(t,s)=>pv(t,"tox-tbtn",s,T.none(),!1)),splitbutton:Xw(lZ,(t,s)=>jV(t,s.shared)),grouptoolbarbutton:Xw(mH,(t,s,a)=>{const i=a.ui.registry.getAll().buttons,d=h=>Vx(a,{buttons:i,toolbar:h,allowToolbarGroups:!1},s,T.none()),g={[f1]:s.shared.header.isPositionedAtTop()?Rd.TopToBottom:Rd.BottomToTop};switch(X1(a)){case rd.floating:return HV(t,s,d,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},qV=(t,s,a)=>Tt(ZV,t.type).fold(()=>(console.error("skipping button defined by",t),T.none()),i=>T.some(i(t,s,a))),G5={styles:o7,fontsize:DV,fontsizeinput:BV,fontfamily:K8,blocks:W8,align:yV},GV=t=>{const s=De(WV,a=>{const i=Qn(a.items,d=>Lo(t,d)||Lo(G5,d));return{name:a.name,items:i}});return Qn(s,a=>a.items.length>0)},KV=t=>{const s=t.split("|");return De(s,a=>({items:a.trim().split(" ")}))},YV=t=>xt(t,s=>Lo(s,"name")&&Lo(s,"items")),XV=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?GV(a):nt(s)?KV(s):YV(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Hx=(t,s,a,i,d,g)=>Tt(s,a.toLowerCase()).orThunk(()=>g.bind(h=>Rn(h,v=>Tt(s,v+a.toLowerCase())))).fold(()=>Tt(G5,a.toLowerCase()).map(h=>h(t,d)),h=>h.type==="grouptoolbarbutton"&&!i?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none()):qV(h,d,t)),Vx=(t,s,a,i)=>{const d=XV(s),g=De(d,h=>{const v=ae(h.items,_=>_.trim().length===0?[]:Hx(t,s.buttons,_,s.allowToolbarGroups,a,i).toArray());return{title:T.from(t.translate(h.name)),items:v}});return Qn(g,h=>h.items.length>0)},zv=(t,s,a,i)=>{const d=s.mainUi.outerContainer,g=a.toolbar,h=a.buttons;if(xt(g,nt)){const v=g.map(_=>{const A={toolbar:_,buttons:h,allowToolbarGroups:a.allowToolbarGroups};return Vx(t,A,i,T.none())});Ar.setToolbars(d,v)}else Ar.setToolbar(d,Vx(t,a,i,T.none()))},Jw=Qi(),u7=Jw.os.isiOS()&&Jw.os.version.major<=12,JV=(t,s)=>{const{uiMotherships:a}=s,i=t.dom;let d=t.getWin();const g=t.getDoc().documentElement,h=po(ts(d.innerWidth,d.innerHeight)),v=po(ts(g.offsetWidth,g.offsetHeight)),_=()=>{const P=h.get();(P.left!==d.innerWidth||P.top!==d.innerHeight)&&(h.set(ts(d.innerWidth,d.innerHeight)),th(t))},A=()=>{const P=t.getDoc().documentElement,V=v.get();(V.left!==P.offsetWidth||V.top!==P.offsetHeight)&&(v.set(ts(P.offsetWidth,P.offsetHeight)),th(t))},z=P=>{JF(t,P)};i.bind(d,"resize",_),i.bind(d,"scroll",z);const M=Ep(ke.fromDom(t.getBody()),"load",A);t.on("hide",()=>{lt(a,P=>{Cn(P.element,"display","none")})}),t.on("show",()=>{lt(a,P=>{q(P.element,"display")})}),t.on("NodeChange",A),t.on("remove",()=>{M.unbind(),i.unbind(d,"resize",_),i.unbind(d,"scroll",z),d=null})},QV=(t,s,a)=>{Uf(t)&&ub(a.mainUi.mothership.element,a.popupUi.mothership),Pp(s,a.dialogUi.mothership)};var eU=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:h}=s,v=po(0),_=g.outerContainer;t.on("SkinLoaded",()=>{zv(t,s,a,i)}),fV(t);const A=ke.fromDom(d.targetNode),z=Rt(Le(A));ub(A,g.mothership),QV(t,z,s),t.on("PostRender",()=>{Ar.setSidebar(_,a.sidebar,pD(t)),zv(t,s,a,i),v.set(t.getWin().innerWidth),Ar.setMenubar(_,Fx(t,a)),Ar.setViews(_,a.views),JV(t,s)});const M=Ar.getSocket(_).getOrDie("Could not find expected socket element");if(u7){dr(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const ye=Ug(()=>{t.dispatch("ScrollContent")},20),Je=Ei(M.element,"scroll",ye.throttle);t.on("remove",Je.unbind)}o6(t,s),t.addCommand("ToggleSidebar",(ye,Je)=>{Ar.toggleSidebar(_,Je),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var ye;return(ye=Ar.whichSidebar(_))!==null&&ye!==void 0?ye:""}),t.addCommand("ToggleView",(ye,Je)=>{if(Ar.toggleView(_,Je)){const xe=_.element;g.mothership.broadcastOn([Yl()],{target:xe}),lt(h,_e=>{_e.broadcastOn([Yl()],{target:xe})}),_o(Ar.whichView(_))&&(t.focus(),t.nodeChanged(),Ar.refreshToolbar(_))}}),t.addQueryValueHandler("ToggleView",()=>{var ye;return(ye=Ar.whichView(_))!==null&&ye!==void 0?ye:""});const P=X1(t),V=()=>{Ar.refreshToolbar(s.mainUi.outerContainer)};(P===rd.sliding||P===rd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const ye=t.getWin().innerWidth;ye!==v.get()&&(V(),v.set(ye))});const J={setEnabled:ye=>{tv(s,!ye)},isEnabled:()=>!ko.isDisabled(_)};return{iframeContainer:M.element.dom,editorContainer:_.element.dom,api:J}}});const K5=t=>/^[0-9\.]+(|px)$/i.test(""+t)?T.some(parseInt(""+t,10)):T.none(),Dv=t=>Ot(t)?t+"px":t,Qw=(t,s,a)=>{const i=s.filter(g=>t<g),d=a.filter(g=>t>g);return i.or(d).getOr(t)},d7=t=>{const s=U3(t),a=$b(t),i=W3(t);return K5(s).map(d=>Qw(d,a,i))},f7=t=>d7(t).getOr(U3(t)),Y5=t=>{const s=PC(t),a=j3(t),i=FC(t);return K5(s).map(d=>Qw(d,a,i))},tU=t=>Y5(t).getOr(PC(t)),{ToolbarLocation:Ux,ToolbarMode:m7}=e4,nU=40,oU=(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:h}=a,v=Vk.DOM,_=J1(t),A=Wk(t),z=FC(t).or(Y5(t)),M=i.shared.header,P=M.isPositionedAtTop,V=X1(t),J=V===m7.sliding||V===m7.floating,ye=po(!1),Je=()=>ye.get()&&!t.removed,xe=lo=>J?lo.fold(U(0),vs=>vs.components().length>1?ln(vs.components()[1].element):0):0,_e=lo=>{switch(q3(t)){case Ux.auto:const vs=Ar.getToolbar(g.outerContainer),Gt=xe(vs),Pn=ln(lo.element)-Gt,zo=Fr(s);if(zo.y>Pn)return"top";{const go=Ki(s),$o=Math.max(go.dom.scrollHeight,ln(go));return zo.bottom<$o-Pn||Xa().bottom<zo.bottom-Pn?"bottom":"top"}case Ux.bottom:return"bottom";case Ux.top:default:return"top"}},rt=lo=>{d.on(vs=>{Aa.setModes(vs,[lo]),M.setDockingMode(lo);const Gt=P()?Rd.TopToBottom:Rd.BottomToTop;nn(vs.element,f1,Gt)})},He=()=>{d.on(lo=>{const vs=z.getOrThunk(()=>{const Gt=K5(Ws(_r(),"margin-left")).getOr(0);return or(_r())-ra(s).left+Gt});Cn(lo.element,"max-width",vs+"px")})},Mt=lo=>{d.on(vs=>{const Gt=Ar.getToolbar(g.outerContainer),Pn=xe(Gt),zo=Fr(s),{top:us,left:go}=At(t,g.outerContainer.element).fold(()=>({top:P()?Math.max(zo.y-ln(vs.element)+Pn,0):zo.bottom,left:zo.x}),Ls=>{var Ri;const Zr=Fr(Ls),Fl=(Ri=Ls.dom.scrollTop)!==null&&Ri!==void 0?Ri:0,Qd=fs(Ls,_r()),_h=Qd?Math.max(zo.y-ln(vs.element)+Pn,0):zo.y-Zr.y+Fl-ln(vs.element)+Pn;return{top:P()?_h:zo.bottom,left:Qd?zo.x:zo.x-Zr.x}}),$o={position:"absolute",left:Math.round(go)+"px",top:Math.round(us)+"px"},pr=lo.map(Ls=>{const Ri=Hc(),Zr=150,Fl=window.innerWidth-(go-Ri.left);return{width:Math.max(Math.min(Ls,Fl),Zr)+"px"}}).getOr({});dr(g.outerContainer.element,{...$o,...pr})})},At=(lo,vs)=>Uf(lo)?g5(vs):T.none(),Ut=()=>{lt(h,lo=>{lo.broadcastOn([Dm()],{})})},an=()=>{if(_)return T.none();if(ra(g.outerContainer.element).left+Ra(g.outerContainer.element)>=window.innerWidth-nU||zr(g.outerContainer.element,"width").isSome()){Cn(g.outerContainer.element,"position","absolute"),Cn(g.outerContainer.element,"left","0px"),q(g.outerContainer.element,"width");const vs=Ra(g.outerContainer.element);return T.some(vs)}else return T.none()},rs=lo=>{if(!Je())return;_||He();const vs=_?T.none():an();J&&Ar.refreshToolbar(g.outerContainer),_||Mt(vs),A&&d.on(lo),Ut()},Un=()=>_||!A||!Je()?!1:d.get().exists(lo=>{const vs=M.getDockingMode(),Gt=_e(lo);return Gt!==vs?(rt(Gt),!0):!1});return{isVisible:Je,isPositionedAtTop:P,show:()=>{ye.set(!0),Cn(g.outerContainer.element,"display","flex"),v.addClass(t.getBody(),"mce-edit-focus"),lt(h,lo=>{q(lo.element,"display")}),Un(),Uf(t)?rs(lo=>Aa.isDocked(lo)?Aa.reset(lo):Aa.refresh(lo)):rs(Aa.refresh)},hide:()=>{ye.set(!1),Cn(g.outerContainer.element,"display","none"),v.removeClass(t.getBody(),"mce-edit-focus"),lt(h,lo=>{Cn(lo.element,"display","none")})},update:rs,updateMode:()=>{Un()&&rs(Aa.reset)},repositionPopups:Ut}},g7=(t,s)=>{const a=Fr(t);return{pos:s?a.y:a.bottom,bounds:a}},sU=(t,s,a,i)=>{const d=po(g7(s,a.isPositionedAtTop())),g=A=>{const{pos:z,bounds:M}=g7(s,a.isPositionedAtTop()),{pos:P,bounds:V}=d.get(),J=M.height!==V.height||M.width!==V.width;d.set({pos:z,bounds:M}),J&&th(t,A),a.isVisible()&&(P!==z?a.update(Aa.reset):J&&(a.updateMode(),a.repositionPopups()))};i||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Aa.reset)),t.on("NodeChange keydown",A=>{requestAnimationFrame(()=>g(A))});let h=0;const v=Dw(()=>a.update(Aa.refresh),33);t.on("ScrollWindow",()=>{const A=Hc().left;A!==h&&(h=A,v.throttle()),a.updateMode()}),Uf(t)&&t.on("ElementScroll",A=>{a.update(Aa.refresh)});const _=Tp();_.set(Ep(ke.fromDom(t.getBody()),"load",A=>g(A.raw))),t.on("remove",()=>{_.clear()})};var rU=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g}=s,h=Rr(),v=ke.fromDom(d.targetNode),_=oU(t,v,s,i,h),A=nD(t);mV(t);const z=()=>{if(h.isSet()){_.show();return}h.set(Ar.getHeader(g.outerContainer).getOrDie());const P=J3(t);Uf(t)?(ub(v,g.mothership),ub(v,s.popupUi.mothership)):Pp(P,g.mothership),Pp(P,s.dialogUi.mothership),zv(t,s,a,i),Ar.setMenubar(g.outerContainer,Fx(t,a)),_.show(),sU(t,v,_,A),t.nodeChanged()};t.on("show",z),t.on("hide",_.hide),A||(t.on("focus",z),t.on("blur",_.hide)),t.on("init",()=>{(t.hasFocus()||A)&&z()}),o6(t,s);const M={show:z,hide:_.hide,setEnabled:P=>{tv(s,!P)},isEnabled:()=>!ko.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:M}}});const aU=()=>{const t=Rr(),s=Rr(),a=Rr();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(v=>v.mothership),h=s.get().map(v=>v.mothership);return g.fold(()=>h.toArray(),v=>h.fold(()=>[v],_=>fs(v.element,_.element)?[v]:[v,_]))},lazyGetInOuterOrDie:(g,h)=>()=>a.get().bind(v=>h(v.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},cU="contexttoolbar-show",X5="contexttoolbar-hide",iU=t=>({hide:()=>Ds(t,ma()),getValue:()=>dn.getValue(t)}),J5=(t,s)=>kt(zA,(a,i)=>{const d=t.get(a),g=iU(d);s.onAction(g,i.event.buttonApi)}),lU=(t,s,a)=>{const{primary:i,...d}=s.original,g=Qa(p4({...d,type:"button",onAction:j}));return i7(g,a,[J5(t,s)])},uU=(t,s,a)=>{const{primary:i,...d}=s.original,g=Qa(b4({...d,type:"togglebutton",onAction:j}));return q5(g,a,[J5(t,s)])},dU=t=>t.type==="contextformtogglebutton",fU=(t,s,a)=>dU(s)?uU(t,s,a):lU(t,s,a),mU=(t,s,a)=>{const i=De(s,h=>Js(fU(t,h,a)));return{asSpecs:()=>De(i,h=>h.asSpec()),findPrimary:h=>Rn(s,(v,_)=>v.primary?T.from(i[_]).bind(A=>A.getOpt(h)).filter(Pe(ko.isDisabled)):T.none())}},Rv=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),i=Js(Lb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:$t([so.config({mode:"special",onEnter:g=>d.findPrimary(g).map(h=>(gm(h),!0)),onLeft:(g,h)=>(h.cut(),T.none()),onRight:(g,h)=>(h.cut(),T.none())})])})),d=mU(i,t.commands,s);return[{title:T.none(),items:[i.asSpec()]},{title:T.none(),items:d.asSpecs()}]},pU={renderContextForm:(t,s,a)=>Yw({type:t,uid:Tn("context-toolbar"),initGroups:Rv(s,a),onEscape:T.none,cyclicKeying:!0,providers:a}),buildInitGroups:Rv},p7=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,h7=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=pi(ke.fromDom(t.startContainer),t.startOffset).element;return(os(a)?Da(a):T.some(a)).filter(yo).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},e_=t=>{const s=t.selection.getRng(),a=h7(s);if(t.inline){const i=Hc();return yr(i.left+a.left,i.top+a.top,a.width,a.height)}else{const i=Vc(ke.fromDom(t.getBody()));return yr(i.x+a.left,i.y+a.top,a.width,a.height)}},b7=(t,s)=>s.filter(a=>cs(a)&&oc(a)).map(Vc).getOrThunk(()=>e_(t)),y7=(t,s,a)=>{const i=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:i,width:d-i}},hU=(t,s,a,i,d,g)=>{const h=ke.fromDom(t.getContainer()),v=Wr(h,".tox-editor-header").getOr(h),_=Fr(v),A=_.y>=s.bottom,z=i&&!A;if(t.inline&&z)return{y:Math.max(_.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!z)return{y:a.y,bottom:Math.min(_.y-g,a.bottom)};const M=d==="line"?Fr(h):s;return z?{y:Math.max(_.bottom+g,a.y),bottom:Math.min(M.bottom-g,a.bottom)}:{y:Math.max(M.y+g,a.y),bottom:Math.min(_.y-g,a.bottom)}},sy=(t,s,a,i=0)=>{const d=Km(window),g=Fr(ke.fromDom(t.getContentAreaContainer())),h=UC(t)||jC(t)||jk(t),{x:v,width:_}=y7(g,d,i);if(t.inline&&!h)return yr(v,d.y,_,d.height);{const A=s.header.isPositionedAtTop(),{y:z,bottom:M}=hU(t,g,d,A,a,i);return yr(v,z,_,M-z)}},ry=12,Wx={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Q5={maxHeightFunction:Rf(),maxWidthFunction:D5()},v7=(t,s)=>{const a=t.selection.getRng(),i=pi(ke.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&fs(i.element,s)},bU=(t,s,a)=>{const i=zr(t,"position");Cn(t,"position",s);const d=a(t);return i.each(g=>Cn(t,"position",g)),d},eO=t=>t==="node",yU=(t,s,a,i,d)=>{const g=e_(t),h=i.lastElement().exists(v=>fs(a,v));if(v7(t,a))return h?hM:Bc;if(h)return bU(s,i.getMode(),()=>p7(g,Fr(s),-20)&&!i.isReposition()?bM:hM);{const v=i.getMode()==="fixed"?d.y+Hc().top:d.y,_=ln(s)+ry;return v+_<=g.y?Bc:ty}},vU=(t,s,a,i)=>{const d=_=>(A,z,M,P,V)=>{const J=yU(t,P,_,a,V),ye={...A,y:V.y,height:V.height};return{...J(ye,z,M,P,V),alwaysFit:!0}},g=_=>eO(i)?[d(_)]:[];return s?{onLtr:_=>[uc,Ua,kc,qi,Ir,wc].concat(g(_)),onRtl:_=>[uc,kc,Ua,Ir,qi,wc].concat(g(_))}:{onLtr:_=>[wc,uc,qi,Ua,Ir,kc].concat(g(_)),onRtl:_=>[wc,uc,Ir,kc,qi,Ua].concat(g(_))}},kU=(t,s,a,i)=>s==="line"?{bubble:Nf(ry,0,Wx),layouts:{onLtr:()=>[n1],onRtl:()=>[o1]},overrides:Q5}:{bubble:Nf(0,ry,Wx,1/ry),layouts:vU(t,a,i,s),overrides:Q5},tO=(t,s)=>{const a=Qn(s,g=>g.predicate(t.dom)),{pass:i,fail:d}=qo(a,g=>g.type==="contexttoolbar");return{contextToolbars:i,contextForms:d}},wU=t=>{if(t.length<=1)return t;{const s=g=>Zo(t,h=>h.position===g),a=g=>Qn(t,h=>h.position===g),i=s("selection"),d=s("node");if(i||d)if(d&&i){const g=a("node"),h=De(a("selection"),v=>({...v,position:"node"}));return g.concat(h)}else return a(i?"selection":"node");else return a("line")}},k7=t=>{if(t.length<=1)return t;{const s=i=>X(t,d=>d.position===i);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(i=>i.position).fold(()=>[],i=>Qn(t,d=>d.position===i))}},Zx=(t,s,a)=>{const i=tO(t,s);if(i.contextForms.length>0)return T.some({elem:t,toolbars:[i.contextForms[0]]});{const d=tO(t,a);if(d.contextForms.length>0)return T.some({elem:t,toolbars:[d.contextForms[0]]});if(i.contextToolbars.length>0||d.contextToolbars.length>0){const g=wU(i.contextToolbars.concat(d.contextToolbars));return T.some({elem:t,toolbars:g})}else return T.none()}},w7=(t,s,a)=>t(s)?T.none():ei(s,i=>{if(yo(i)){const{contextToolbars:d,contextForms:g}=tO(i,a.inNodeScope),h=g.length>0?g:k7(d);return h.length>0?T.some({elem:i,toolbars:h}):T.none()}else return T.none()},t),_7=(t,s)=>{const a=ke.fromDom(s.getBody()),i=h=>fs(h,a),d=h=>!i(h)&&!Oa(a,h),g=ke.fromDom(s.selection.getNode());return d(g)?T.none():Zx(g,t.inNodeScope,t.inEditorScope).orThunk(()=>w7(i,g,t))},nO=(t,s)=>{const a={},i=[],d=[],g={},h={},v=(z,M)=>{const P=Qa(ZD(M));a[z]=P,P.launch.map(V=>{g["form:"+z]={...M.launch,type:V.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(P)}}}),P.scope==="editor"?d.push(P):i.push(P),h[z]=P},_=(z,M)=>{_F(M).each(P=>{M.scope==="editor"?d.push(P):i.push(P),h[z]=P})},A=An(t);return lt(A,z=>{const M=t[z];M.type==="contextform"?v(z,M):M.type==="contexttoolbar"&&_(z,M)}),{forms:a,inNodeScope:i,inEditorScope:d,lookupTable:h,formNavigators:g}},C7=Tn("forward-slide"),oO=Tn("backward-slide"),sO=Tn("change-slide-event"),rO="tox-pop--resizing",qx=t=>{const s=po([]);return ta.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),ta.getContent(a).each(i=>{q(i.element,"visibility")}),ea(a.element,rO),q(a.element,"width")},inlineBehaviours:$t([Vo("context-toolbar-events",[ig(mp(),(a,i)=>{i.event.raw.propertyName==="width"&&(ea(a.element,rO),q(a.element,"width"))}),kt(sO,(a,i)=>{const d=a.element;q(d,"width");const g=or(d);ta.setContent(a,i.event.contents),ga(d,rO);const h=or(d);Cn(d,"width",g+"px"),ta.getContent(a).each(v=>{i.event.focus.bind(_=>(Gl(_),Kl(d))).orThunk(()=>(so.focusIn(v),Xu(Le(d))))}),setTimeout(()=>{Cn(a.element,"width",h+"px")},0)}),kt(C7,(a,i)=>{ta.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:Xu(Le(a.element))}]))}),oo(a,sO,{contents:i.event.forwardContents,focus:T.none()})}),kt(oO,(a,i)=>{$n(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),oo(a,sO,{contents:xi(d.bar),focus:d.focus})})})]),so.config({mode:"special",onEscape:a=>$n(s.get()).fold(()=>t.onEscape(),i=>(Ds(a,oO),T.some(!0)))})]),lazySink:()=>Fo.value(t.sink)})},Gx="tox-pop--transition",_U=(t,s,a,i)=>{const d=i.backstage,g=d.shared,h=Qi().deviceType.isTouch,v=Rr(),_=Rr(),A=Rr(),z=Ac(qx({sink:a,onEscape:()=>(t.focus(),T.some(!0))})),M=()=>{const Un=A.get().getOr("node"),Io=eO(Un)?1:0;return sy(t,g,Un,Io)},P=()=>!t.removed&&!(h()&&d.isContextMenuOpen()),V=Un=>Vr(ia(Un,v.get(),fs),!0),J=()=>{if(P()){const Un=M(),Io=Vr(A.get(),"node")?b7(t,v.get()):e_(t);return Un.height<=0||!p7(Io,Un,.01)}else return!0},ye=()=>{v.clear(),_.clear(),A.clear(),ta.hide(z)},Je=()=>{if(ta.isOpen(z)){const Un=z.element;q(Un,"display"),J()?Cn(Un,"display","none"):(_.set(0),ta.reposition(z))}},xe=Un=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Un],behaviours:$t([so.config({mode:"acyclic"}),Vo("pop-dialog-wrap-events",[Or(Io=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>so.focusIn(Io))}),Td(Io=>{t.shortcuts.remove("ctrl+F9")})])])}),_e=Pr(()=>nO(s,Un=>{const Io=Mt([Un]);oo(z,C7,{forwardContents:xe(Io)})})),rt=(Un,Io)=>Vx(t,{buttons:Un,toolbar:Io.items,allowToolbarGroups:!1},i.backstage,T.some(["form:"])),He=(Un,Io)=>pU.buildInitGroups(Un,Io),Mt=Un=>{const{buttons:Io}=t.ui.registry.getAll(),No=_e(),xs={...Io,...No.formNavigators},lo=X1(t)===rd.scrolling?rd.scrolling:rd.default,vs=ve(De(Un,Gt=>Gt.type==="contexttoolbar"?rt(xs,Gt):He(Gt,g.providers)));return Yw({type:lo,uid:Tn("context-toolbar"),initGroups:vs,onEscape:T.none,cyclicKeying:!0,providers:g.providers})},At=(Un,Io)=>{const No=Un==="node"?g.anchors.node(Io):g.anchors.cursor(),xs=kU(t,Un,h(),{lastElement:v.get,isReposition:()=>Vr(_.get(),0),getMode:()=>Zc.getMode(a)});return sr(No,xs)},Ut=(Un,Io)=>{if(rs.cancel(),!P())return;const No=Mt(Un),xs=Un[0].position,lo=At(xs,Io);A.set(xs),_.set(1);const vs=z.element;q(vs,"display"),V(Io)||(ea(vs,Gx),Zc.reset(a,z)),ta.showWithinBounds(z,xe(No),{anchor:lo,transition:{classes:[Gx],mode:"placement"}},()=>T.some(M())),Io.fold(v.clear,v.set),J()&&Cn(vs,"display","none")};let an=!1;const rs=Dw(()=>{if(!(!t.hasFocus()||t.removed||an))if(rl(z.element,Gx))rs.throttle();else{const Un=_e();_7(Un,t).fold(ye,Io=>{Ut(Io.toolbars,T.some(Io.elem))})}},17);t.on("init",()=>{t.on("remove",ye),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Je),t.on("click keyup focus SetContent",rs.throttle),t.on(X5,ye),t.on(cU,Un=>{const Io=_e();Tt(Io.lookupTable,Un.toolbarKey).each(No=>{Ut([No],Kn(Un.target!==t,Un.target)),ta.getContent(z).each(so.focusIn)})}),t.on("focusout",Un=>{EC.setEditorTimeout(t,()=>{Kl(a.element).isNone()&&Kl(z.element).isNone()&&ye()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&ye()}),t.on("AfterProgressState",Un=>{Un.state?ye():t.hasFocus()&&rs.throttle()}),t.on("dragstart",()=>{an=!0}),t.on("dragend drop",()=>{an=!1}),t.on("NodeChange",Un=>{Kl(z.element).fold(rs.throttle,j)})})},CU=t=>{lt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:ou(t,a.cmd),onSetup:gS(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:li(t),onAction:ou(t,"JustifyNone")})},S7=(t,s)=>{const a=()=>{const i=s.getOptions(t),d=s.getCurrent(t).map(s.hash),g=Rr();return De(i,h=>({type:"togglemenuitem",text:s.display(h),onSetup:v=>{const _=z=>{z&&(g.on(M=>M.setActive(!1)),g.set(v)),v.setActive(z)};_(Vr(d,s.hash(h)));const A=s.watcher(t,h,_);return()=>{g.clear(),A()}},onAction:()=>s.setCurrent(t,h)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:i=>i(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},SU=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:vD,hash:s=>xV(s,["fixed","relative","empty"]).getOr(s),display:at,watcher:(s,a,i)=>s.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind,getCurrent:s=>T.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:li(t),onMenuSetup:li(t)}),xU=t=>T.from(Z3(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:U(a),hash:i=>jt(i.customCode)?i.code:`${i.code}/${i.customCode}`,display:i=>i.title,watcher:(i,d,g)=>{var h;return i.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:(h=d.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:i=>{const d=ke.fromDom(i.selection.getNode());return nl(d,g=>T.some(g).filter(yo).bind(h=>B(h,"lang").map(_=>{const A=B(h,"data-mce-lang").getOrUndefined();return{code:_,customCode:A,title:""}})))},setCurrent:(i,d)=>i.execCommand("Lang",!1,d),onToolbarSetup:i=>{const d=Tp();return i.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",i.setActive,!0)),dw(d.clear,li(t)(i))},onMenuSetup:li(t)})),x7=t=>{S7(t,SU(t)),xU(t).each(s=>S7(t,s))},T7=(t,s)=>{vV(t,s),_V(t,s),s7(t,s),kV(t,s),t7(t,s)},TU=t=>nh(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),EU=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:TU(t),onAction:ou(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:li(t),onAction:ou(t,"indent")})},E7=t=>{EU(t)},A7=(t,s)=>a=>{a.setActive(s.get());const i=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",i),dw(()=>t.off("PastePlainTextToggle",i),li(t)(a))},AU=t=>{const s=po(gD(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:A7(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:A7(t,s)})},aO=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},OU=t=>{Vg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:gS(t,s.name),onAction:aO(t,s.name)})});for(let s=1;s<=6;s++){const a="h"+s;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:gS(t,a),onAction:aO(t,a)})}},zU=t=>{Vg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ou(t,s.action)})}),Vg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:li(t),onAction:ou(t,s.action)})})},cO=t=>{Vg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ou(t,s.action),onSetup:gS(t,s.name)})})},DU=t=>{OU(t),zU(t),cO(t)},RU=t=>{Vg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:ou(t,s.action)})}),Vg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:li(t),onAction:ou(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:li(t),onAction:aO(t,"code")})},iO=t=>{DU(t),RU(t)},t_=(t,s)=>nh(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),O7=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:t_(t,"hasUndo"),onAction:ou(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:t_(t,"hasRedo"),onAction:ou(t,"redo")})},NU=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:t_(t,"hasUndo"),onAction:ou(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:t_(t,"hasRedo"),onAction:ou(t,"redo")})},MU=t=>{O7(t),NU(t)},BU=t=>nh(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),PU=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BU(t),onAction:ou(t,"mceToggleVisualAid")})},FU=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ou(t,"mceToggleVisualAid")})},z7=t=>{FU(t),PU(t)},$U=(t,s)=>{CU(t),iO(t),T7(t,s),MU(t),u$(t),z7(t),E7(t),x7(t),AU(t)},D7=t=>nt(t)?t.split(/[ ,]/):t,R7=t=>s=>s.options.get(t),IU=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:nt(a)||xt(a,nt)?{value:D7(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Kx=R7("contextmenu_never_use_native"),LU=R7("contextmenu_avoid_overlap"),N7=t=>M7(t).length===0,M7=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:Qn(a,i=>Lo(s,i))},n_=(t,s)=>({type:"makeshift",x:t,y:s}),lO=(t,s,a)=>n_(t.x+s,t.y+a),B7=t=>t.type==="longpress"||t.type.indexOf("touch")===0,HU=t=>{if(B7(t)){const s=t.touches[0];return n_(s.pageX,s.pageY)}else return n_(t.pageX,t.pageY)},VU=t=>{if(B7(t)){const s=t.touches[0];return n_(s.clientX,s.clientY)}else return n_(t.clientX,t.clientY)},UU=(t,s)=>{const a=Vk.DOM.getPos(t);return lO(s,a.x,a.y)},jU=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?HU(s):UU(t.getContentAreaContainer(),VU(s)):uO(t),uO=t=>({type:"selection",root:ke.fromDom(t.selection.getNode())}),WU=t=>({type:"node",node:T.some(ke.fromDom(t.selection.getNode())),root:ke.fromDom(t.getBody())}),P7=(t,s,a)=>{switch(a){case"node":return WU(t);case"point":return jU(t,s);case"selection":return uO(t)}},ZU=(t,s,a,i,d,g)=>{const h=a(),v=P7(t,s,g);uh(h,jf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:T.none()}).map(_=>{s.preventDefault(),ta.showMenuAt(d,{anchor:v},{menu:{markers:Jp("normal")},data:_})})},qU={onLtr:()=>[uc,Ua,kc,qi,Ir,wc,Bc,ty,hv,dx,Lw,ux],onRtl:()=>[uc,kc,Ua,Ir,qi,wc,Bc,ty,Lw,ux,hv,dx]},GU=12,KU={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},YU=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const i=s.touches[0],d=a.getRng();return kE(t.getWin(),sb.domRange(d)).exists(h=>h.left<=i.clientX&&h.right>=i.clientX&&h.top<=i.clientY&&h.bottom>=i.clientY)}},XU=t=>{const s=t.selection.getRng(),a=()=>{EC.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const i=h=>{h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",i,!0);const d=()=>g();t.once("longpresscancel",d);const g=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",i)}},F7=(t,s,a)=>{const i=P7(t,s,a);return{bubble:Nf(0,a==="point"?GU:0,KU),layouts:qU,overrides:{maxWidthFunction:D5(),maxHeightFunction:Rf()},...i}},JU=(t,s,a,i,d,g,h)=>{const v=F7(t,s,g);uh(a,jf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!0,search:T.none()}).map(_=>{s.preventDefault();const A=h?ii.HighlightMenuAndItem:ii.HighlightNone;ta.showMenuWithinBounds(d,{anchor:v},{menu:{markers:Jp("normal"),highlightOnOpen:A},data:_,type:"horizontal"},()=>T.some(sy(t,i.shared,g==="node"?"node":"selection"))),t.dispatch(X5)})},$7=(t,s,a,i,d,g)=>{const h=Qi(),v=h.os.isiOS(),_=h.os.isMacOS(),A=h.os.isAndroid(),z=h.deviceType.isTouch(),M=()=>!(A||v||_&&z),P=()=>{const V=a();JU(t,s,V,i,d,g,M())};if((_||v)&&g!=="node"){const V=()=>{XU(t),P()};YU(t,s)?V():(t.once("selectionchange",V),t.once("touchend",()=>t.off("selectionchange",V)))}else P()},I7=t=>nt(t)?t==="|":t.type==="separator",dO={type:"separator"},L7=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(nt(t))return t;switch(t.type){case"separator":return dO;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const i=t.getSubmenuItems();return nt(i)?i:De(i,L7)}};default:const a=t;return{type:"menuitem",...s(a),onAction:dt(a.onAction)}}},ph=(t,s)=>{if(s.length===0)return t;const i=$n(t).filter(d=>!I7(d)).fold(()=>[],d=>[dO]);return t.concat(i).concat(s).concat([dO])},H7=(t,s,a)=>{const i=mt(s,(d,g)=>Tt(t,g.toLowerCase()).map(h=>{const v=h.update(a);if(nt(v)&&de(cr(v)))return ph(d,v.split(" "));if(En(v)&&v.length>0){const _=De(v,L7);return ph(d,_)}else return d}).getOrThunk(()=>d.concat([g])),[]);return i.length>0&&I7(i[i.length-1])&&i.pop(),i},QU=(t,s)=>s.ctrlKey&&!Kx(t),ej=t=>t.type==="longpress"||Lo(t,"touches"),V7=(t,s)=>!ej(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),U7=(t,s)=>V7(t,s)?t.selection.getStart(!0):s.target,j7=(t,s)=>{const a=LU(t),i=V7(t,s)?"selection":"point";if(de(a)){const d=U7(t,s);return pw(ke.fromDom(d),a)?"node":i}else return i},tj=(t,s,a)=>{const d=Qi().deviceType.isTouch,g=Ac(ta.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:$t([Vo("dismissContextMenu",[kt(fm(),(_,A)=>{is.close(_),t.focus()})])])})),h=()=>ta.hide(g),v=_=>{if(Kx(t)&&_.preventDefault(),QU(t,_)||N7(t))return;const A=j7(t,_),z=()=>{const P=U7(t,_),V=t.ui.registry.getAll(),J=M7(t);return H7(V.contextMenus,J,P)};(d()?$7:ZU)(t,_,z,a,g,A)};t.on("init",()=>{const _="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(_,h),t.on("longpress contextmenu",v)})},fO=S.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Yx=t=>s=>s.translate(-t.left,-t.top),Xx=t=>s=>s.translate(t.left,t.top),qg=t=>(s,a)=>mt(t,(i,d)=>d(i),ts(s,a)),Jx=(t,s,a)=>t.fold(qg([Xx(a),Yx(s)]),qg([Yx(s)]),qg([])),Nv=(t,s,a)=>t.fold(qg([Xx(a)]),qg([]),qg([Xx(s)])),W7=(t,s,a)=>t.fold(qg([]),qg([Yx(a)]),qg([Xx(s),Yx(a)])),nj=(t,s,a,i,d,g)=>{const h=Nv(t,d,g),v=Nv(s,d,g);return Math.abs(h.left-v.left)<=a&&Math.abs(h.top-v.top)<=i},oj=(t,s,a,i,d,g)=>{const h=Nv(t,d,g),v=Nv(s,d,g),_=Math.abs(h.left-v.left),A=Math.abs(h.top-v.top);return ts(_,A)},mO=(t,s,a)=>{const i=t.fold((d,g)=>({position:T.some("absolute"),left:T.some(d+"px"),top:T.some(g+"px")}),(d,g)=>({position:T.some("absolute"),left:T.some(d-a.left+"px"),top:T.some(g-a.top+"px")}),(d,g)=>({position:T.some("fixed"),left:T.some(d+"px"),top:T.some(g+"px")}));return{right:T.none(),bottom:T.none(),...i}},Z7=(t,s,a)=>t.fold((i,d)=>hh(i+s,d+a),(i,d)=>bh(i+s,d+a),(i,d)=>ay(i+s,d+a)),gO=(t,s,a,i)=>{const d=(g,h)=>(v,_)=>{const A=g(s,a,i);return h(v.getOr(A.left),_.getOr(A.top))};return t.fold(d(W7,hh),d(Nv,bh),d(Jx,ay))},hh=fO.offset,bh=fO.absolute,ay=fO.fixed,Qx=(t,s)=>{const a=br(t,s);return jt(a)?NaN:parseInt(a,10)},sj=(t,s)=>{const a=t.element,i=Qx(a,s.leftAttr),d=Qx(a,s.topAttr);return isNaN(i)||isNaN(d)?T.none():T.some(ts(i,d))},rj=(t,s,a)=>{const i=t.element;nn(i,s.leftAttr,a.left+"px"),nn(i,s.topAttr,a.top+"px")},aj=(t,s)=>{const a=t.element;se(a,s.leftAttr),se(a,s.topAttr)},cj=(t,s,a,i)=>sj(t,s).fold(()=>a,d=>ay(d.left+i.left,d.top+i.top)),ij=(t,s,a,i,d,g)=>{const h=cj(t,s,a,i),v=s.mustSnap?uj(t,s,h,d,g):dj(t,s,h,d,g),_=Jx(h,d,g);return rj(t,s,_),v.fold(()=>({coord:ay(_.left,_.top),extra:T.none()}),A=>({coord:A.output,extra:A.extra}))},lj=(t,s)=>{aj(t,s)},q7=(t,s,a,i)=>Rn(t,d=>{const g=d.sensor;return nj(s,g,d.range.left,d.range.top,a,i)?T.some({output:gO(d.output,s,a,i),extra:d.extra}):T.none()}),uj=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return q7(g,a,i,d).orThunk(()=>mt(g,(_,A)=>{const z=A.sensor,M=oj(a,z,A.range.left,A.range.top,i,d);return _.deltas.fold(()=>({deltas:T.some(M),snap:T.some(A)}),P=>{const V=(M.left+M.top)/2,J=(P.left+P.top)/2;return V<=J?{deltas:T.some(M),snap:T.some(A)}:_})},{deltas:T.none(),snap:T.none()}).snap.map(_=>({output:gO(_.output,a,i,d),extra:_.extra})))},dj=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return q7(g,a,i,d)},fj=(t,s,a)=>({coord:gO(t.output,t.output,s,a),extra:t.extra});var mj=Object.freeze({__proto__:null,snapTo:(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=za(t.element),h=Hc(g),v=WM(d),_=fj(i,h,v),A=mO(_.coord,h,v);Et(d,A)}}});const pO="data-initial-z-index",gj=t=>{Da(t.element).filter(yo).each(s=>{B(s,pO).fold(()=>q(s,"z-index"),a=>Cn(s,"z-index",a)),se(s,pO)})},pj=t=>{Da(t.element).filter(yo).each(s=>{zr(s,"z-index").each(a=>{nn(s,pO,a)}),Cn(s,"z-index",Ws(t.element,"z-index"))})},G7=(t,s)=>{t.getSystem().addToGui(s),pj(s)},hj=t=>{gj(t),t.getSystem().removeFromGui(t)},o_=(t,s,a)=>t.getSystem().build($u.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var bj=_a("snaps",[vt("getSnapPoints"),hs("onSensor"),vt("leftAttr"),vt("topAttr"),$e("lazyViewport",Xa),$e("mustSnap",!1)]);const hO=[$e("useFixed",Ce),vt("blockerClass"),$e("getTarget",at),$e("onDrag",j),$e("repositionTarget",!0),$e("onDrop",j),Ha("getBounds",Xa),bj],yj=t=>Ur(zr(t,"left"),zr(t,"top"),zr(t,"position"),(s,a,i)=>(i==="fixed"?ay:hh)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=ra(t);return bh(s.left,s.top)}),vj=(t,s,a,i,d)=>{const g=d.bounds,h=Nv(s,a,i),v=ql(h.left,g.x,g.x+g.width-d.width),_=ql(h.top,g.y,g.y+g.height-d.height),A=bh(v,_);return s.fold(()=>{const z=W7(A,a,i);return hh(z.left,z.top)},U(A),()=>{const z=Jx(A,a,i);return ay(z.left,z.top)})},kj=(t,s,a,i,d,g,h)=>{const v=s.fold(()=>{const _=Z7(a,g.left,g.top),A=Jx(_,i,d);return ay(A.left,A.top)},_=>{const A=ij(t,_,a,g,i,d);return A.extra.each(z=>{_.onSensor(t,z)}),A.coord});return vj(t,v,i,d,h)},wj=(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=za(t.element),h=Hc(g),v=WM(d),_=yj(d),A=kj(t,s.snaps,_,h,v,i,a),z=mO(A,h,v);Et(d,z)}s.onDrag(t,d,i)},bO=(t,s)=>({bounds:t.getBounds(),height:Jo(s.element),width:Ra(s.element)}),yO=(t,s,a,i,d)=>{const g=a.update(i,d),h=a.getStartData().getOrThunk(()=>bO(s,t));g.each(v=>{wj(t,s,h,v)})},K7=(t,s,a,i)=>{s.each(hj),a.snaps.each(g=>{lj(t,g)});const d=a.getTarget(t.element);i.reset(),a.onDrop(t,d)},vO=t=>(s,a)=>{const i=d=>{a.setStartData(bO(s,d))};return Tr([kt(kf(),d=>{a.getStartData().each(()=>i(d))}),...t(s,a,i)])},_j=t=>Tr([kt(Zs(),t.forceDrop),kt($h(),t.drop),kt(Va(),(s,a)=>{t.move(a.event)}),kt(ti(),t.delayDrop)]);var X7=Object.freeze({__proto__:null,getData:t=>T.from(ts(t.x,t.y)),getDelta:(t,s)=>ts(s.left-t.left,s.top-t.top)});const J7=(t,s,a)=>[kt(Zs(),(i,d)=>{if(d.event.raw.button!==0)return;d.stop();const h=()=>K7(i,T.some(A),t,s),v=rR(h,200),_={drop:h,delayDrop:v.schedule,forceDrop:h,move:M=>{v.cancel(),yO(i,t,s,X7,M)}},A=o_(i,t.blockerClass,_j(_));(()=>{a(i),G7(i,A)})()})],Cj=[...hO,Dr("dragger",{handlers:vO(J7)})],Sj=t=>Tr([kt(ji(),t.forceDrop),kt(vf(),t.drop),kt(Ms(),t.drop),kt(ng(),(s,a)=>{t.move(a.event)})]),xj=t=>{const s=t[0];return T.some(ts(s.clientX,s.clientY))};var Q7=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?xj(a):T.none()},getDelta:(t,s)=>ts(s.left-t.left,s.top-t.top)});const eB=(t,s,a)=>{const i=Rr(),d=g=>{K7(g,i.get(),t,s),i.clear()};return[kt(ji(),(g,h)=>{h.stop();const v=()=>d(g),_={drop:v,delayDrop:j,forceDrop:v,move:M=>{yO(g,t,s,Q7,M)}},A=o_(g,t.blockerClass,Sj(_));i.set(A),(()=>{a(g),G7(g,A)})()}),kt(ng(),(g,h)=>{h.stop(),yO(g,t,s,Q7,h.event)}),kt(vf(),(g,h)=>{h.stop(),d(g)}),kt(Ms(),d)]},Tj=[...hO,Dr("dragger",{handlers:vO(eB)})],Ej=(t,s,a)=>[...J7(t,s,a),...eB(t,s,a)],Aj=[...hO,Dr("dragger",{handlers:vO(Ej)})];var Oj=Object.freeze({__proto__:null,mouse:Cj,touch:Tj,mouseOrTouch:Aj}),zj=Object.freeze({__proto__:null,init:()=>{let t=T.none(),s=T.none();const a=()=>{t=T.none(),s=T.none()},i=(_,A)=>{const z=t.map(M=>_.getDelta(M,A));return t=T.some(A),z},d=(_,A)=>_.getData(A).bind(z=>i(_,z)),g=_=>{s=T.some(_)},h=()=>s,v=U({});return Wi({readState:v,reset:a,update:d,getStartData:h,setStartData:g})}});const yh=E0({branchKey:"mode",branches:Oj,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:T.from(t.extra)})},state:zj,apis:mj}),kO=40,eT=kO/2,tB=(t,s,a,i,d,g)=>t.fold(()=>yh.snap({sensor:bh(a-eT,i-eT),range:ts(d,g),output:bh(T.some(a),T.some(i)),extra:{td:s}}),h=>{const v=a-eT,_=i-eT,A=kO,z=kO,M=h.element.dom.getBoundingClientRect();return yh.snap({sensor:bh(v,_),range:ts(A,z),output:bh(T.some(a-M.width/2),T.some(i-M.height/2)),extra:{td:s}})}),nB=(t,s,a)=>{const i=(d,g)=>d.exists(h=>fs(h,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,g)=>{const h=g.td;i(s.get(),h)||(s.set(h),a(h))},mustSnap:!0}},oB=t=>Js(Gc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:$t([yh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),cv.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Dj=(t,s)=>{const a=po([]),i=po([]),d=po(!1),g=Rr(),h=Rr(),v=Ut=>{const an=Vc(Ut);return tB(V.getOpt(s),Ut,an.x,an.y,an.width,an.height)},_=()=>De(a.get(),Ut=>v(Ut)),A=Ut=>{const an=Vc(Ut);return tB(J.getOpt(s),Ut,an.right,an.bottom,an.width,an.height)},z=()=>De(i.get(),Ut=>A(Ut)),M=nB(_,g,Ut=>{h.get().each(an=>{t.dispatch("TableSelectorChange",{start:Ut,finish:an})})}),P=nB(z,h,Ut=>{g.get().each(an=>{t.dispatch("TableSelectorChange",{start:an,finish:Ut})})}),V=oB(M),J=oB(P),ye=Ac(V.asSpec()),Je=Ac(J.asSpec()),xe=(Ut,an,rs,Un)=>{const Io=an.dom.getBoundingClientRect();q(Ut.element,"display");const No=sc(ke.fromDom(t.getBody())).dom.innerHeight,xs=rs(Io),lo=Un(Io,No);(xs||lo)&&Cn(Ut.element,"display","none")},_e=(Ut,an,rs,Un)=>{const Io=rs(an);yh.snapTo(Ut,Io),xe(Ut,an,lo=>lo[Un]<0,(lo,vs)=>lo[Un]>vs)},rt=Ut=>_e(ye,Ut,v,"top"),He=()=>g.get().each(rt),Mt=Ut=>_e(Je,Ut,A,"bottom"),At=()=>h.get().each(Mt);Qi().deviceType.isTouch()&&(t.on("TableSelectionChange",Ut=>{d.get()||(ha(s,ye),ha(s,Je),d.set(!0)),g.set(Ut.start),h.set(Ut.finish),Ut.otherCells.each(an=>{a.set(an.upOrLeftCells),i.set(an.downOrRightCells),rt(Ut.start),Mt(Ut.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{He(),At()}),t.on("TableSelectionClear",()=>{d.get()&&(Dc(ye),Dc(Je),d.set(!1)),g.clear(),h.clear()}))};var Rj=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const Nj=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",sB=(t,s,a)=>{var i;const d=(i=s.delimiter)!==null&&i!==void 0?i:"›",g=(A,z,M)=>Gc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":M,"aria-level":M+1}},components:[$r(A)],action:P=>{t.focus(),t.selection.select(z),t.nodeChanged()},buttonBehaviours:$t([Hd.button(a.isDisabled),mc()])}),h=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$r(` ${d} `)]}),v=A=>mt(A,(z,M,P)=>{const V=g(M.name,M.element,P);return P===0?z.concat([V]):z.concat([h(),V])},[]),_=A=>{const z=[];let M=A.length;for(;M-- >0;){const P=A[M];if(P.nodeType===1&&!Nj(P)){const V=C6(t,P);if(V.isDefaultPrevented()||z.push({name:V.name,element:P}),V.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:$t([so.config({mode:"flow",selector:"div[role=button]"}),ko.config({disabled:a.isDisabled}),mc(),na.config({}),Bo.config({}),Vo("elementPathEvents",[Or((A,z)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>so.focusIn(A)),t.on("NodeChange",M=>{const P=_(M.parents),V=P.length>0?v(P):[];Bo.set(A,V)})})])]),components:[]}};var Gg;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Gg||(Gg={}));const cy=(t,s,a,i,d)=>{const g={height:Qw(i+s.top,$b(t),W3(t))};return a===Gg.Both&&(g.width=Qw(d+s.left,j3(t),FC(t))),g},rB=(t,s,a)=>{const i=ke.fromDom(t.getContainer()),d=cy(t,s,a,ln(i),or(i));qn(d,(g,h)=>{Ot(g)&&Cn(i,h,Dv(g))}),XF(t)},wO=t=>{const s=mD(t);return s===!1?Gg.None:s==="both"?Gg.Both:Gg.Vertical},iy=(t,s,a,i)=>{const g=ts(a*20,i*20);return rB(t,g,s),T.some(!0)},Mj=(t,s)=>{const a=wO(t);if(a===Gg.None)return T.none();const i=a===Gg.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return T.some(Id("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(i)},behaviours:[yh.config({mode:"mouse",repositionTarget:!1,onDrag:(d,g,h)=>rB(t,h,a),blockerClass:"tox-blocker"}),so.config({mode:"special",onLeft:()=>iy(t,a,-1,0),onRight:()=>iy(t,a,1,0),onUp:()=>iy(t,a,0,-1),onDown:()=>iy(t,a,0,1)}),na.config({}),wo.config({})]},s.icons))},Bj=(t,s)=>{const a=(i,d,g)=>Bo.set(i,[$r(s.translate(["{0} "+g,d[g]]))]);return Gc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:$t([Hd.button(s.isDisabled),mc(),na.config({}),Bo.config({}),dn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Vo("wordcount-events",[Tu(i=>{const d=dn.getValue(i),g=d.mode==="words"?"characters":"words";dn.setValue(i,{mode:g,count:d.count}),a(i,d.count,g)}),Or(i=>{t.on("wordCountUpdate",d=>{const{mode:g}=dn.getValue(i);dn.setValue(i,{mode:g,count:d.wordCount}),a(i,d.wordCount,g)})})])]),eventOrder:{[ol()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Pj=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Pu.translate(["Powered by {0}","Tiny"])},innerHtml:Rj.trim()},behaviours:$t([wo.config({})])}]}),i=()=>{const v=_4("Alt+0"),_="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[$r(Pu.translate([_,v]))]}},d=()=>{const v=[];return t.hasPlugin("wordcount")&&v.push(Bj(t,s)),K3(t)&&v.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:v}},g=()=>{const v=[],_=bD(t),A=G3(t),z=K3(t)||t.hasPlugin("wordcount"),M=()=>{const P="tox-statusbar__text-container--flex-start",V="tox-statusbar__text-container--flex-end",J="tox-statusbar__text-container--space-around";if(_){const ye="tox-statusbar__text-container-3-cols";return!z&&!A?[ye,J]:z&&!A?[ye,V]:[ye,P]}return[z&&!A?V:P]};return A&&v.push(sB(t,{},s)),_&&v.push(i()),z&&v.push(d()),v.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...M()]},components:v}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const v=g(),_=Mj(t,s);return v.concat(_.toArray())})()}},aB=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),Fj=(t,s)=>{const a=t.inline,i=a?rU:eU,d=Wk(t)?S5:W9,g=aU(),h=Rr(),v=Rr(),_=Rr(),P=Qi().deviceType.isTouch()?["tox-platform-touch"]:[],V=X3(t),J=X1(t),ye=Js({dom:{tag:"div",classes:["tox-anchorbar"]}}),Je=Js({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),xe=()=>g.mainUi.get().map(go=>go.outerContainer).bind(Ar.getHeader),_e=()=>Fo.fromOption(g.dialogUi.get().map(go=>go.sink),"UI has not been rendered"),rt=()=>Fo.fromOption(g.popupUi.get().map(go=>go.sink),"(popup) UI has not been rendered"),He=g.lazyGetInOuterOrDie("anchor bar",ye.getOpt),Mt=g.lazyGetInOuterOrDie("bottom anchor bar",Je.getOpt),At=g.lazyGetInOuterOrDie("toolbar",Ar.getToolbar),Ut=g.lazyGetInOuterOrDie("throbber",Ar.getThrobber),an=F9({popup:rt,dialog:_e},t,He,Mt),rs=()=>{const go={attributes:{[f1]:V?Rd.BottomToTop:Rd.TopToBottom}},$o=Ar.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:an.popup,onEscape:()=>{t.focus()}}),pr=Ar.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:an.popup.shared.getSink,providers:an.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Qg=>{R4(t,Qg)},type:J,lazyToolbar:At,lazyHeader:()=>xe().getOrDie("Could not find header element"),...go}),Ls=Ar.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:an.popup.shared.providers,onEscape:()=>{t.focus()},type:J}),Ri=jk(t),Zr=jC(t),Fl=UC(t),Qd=hD(t),_h=Un(),Ch=Ri||Zr||Fl,py=()=>Ri?[Ls]:Zr?[pr]:[],Sh=Qd?[_h,$o]:[$o];return Ar.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ch?[]:["tox-editor-header--empty"]),...go},components:ve([Fl?Sh:[],py(),J1(t)?[]:[ye.asSpec()]]),sticky:Wk(t),editor:t,sharedBackstage:an.popup.shared})},Un=()=>Ar.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Io=()=>{const go=Ar.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),$o=Ar.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[go,$o]}},No=()=>{const go=J3(t),$o=fs(_r(),go)&&Ws(go,"display")==="grid",pr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(P),attributes:{...Pu.isRtl()?{dir:"rtl"}:{}}},behaviours:$t([Zc.config({useFixed:()=>d.isDocked(xe)})])},Ls={dom:{styles:{width:document.body.clientWidth+"px"}},events:Tr([kt(Gu(),Fl=>{Cn(Fl.element,"width",document.body.clientWidth+"px")})])},Ri=Ac(sr(pr,$o?Ls:{})),Zr=rA(Ri);return v.set(Zr),{sink:Ri,mothership:Zr}},xs=()=>{const go={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(P),attributes:{...Pu.isRtl()?{dir:"rtl"}:{}}},behaviours:$t([Zc.config({useFixed:()=>d.isDocked(xe),getBounds:()=>s.getPopupSinkBounds()})])},$o=Ac(go),pr=rA($o);return _.set(pr),{sink:$o,mothership:pr}},lo=()=>{const go=rs(),$o=Io(),pr=Ar.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:an.popup}),Ls=Ar.parts.viewWrapper({backstage:an.popup}),Ri=fD(t)&&!a?T.some(Pj(t,an.popup.shared.providers)):T.none(),Zr=ve([V?[]:[go],a?[]:[$o],V?[go]:[]]),Fl=Ar.parts.editorContainer({components:ve([Zr,a?[]:[Je.asSpec(),...Ri.toArray()]])}),Qd=Q3(t),_h={role:"application",...Pu.isRtl()?{dir:"rtl"}:{},...Qd?{"aria-hidden":"true"}:{}},Ch=Ac(Ar.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(V?["tox-tinymce--toolbar-bottom"]:[]).concat(P),styles:{visibility:"hidden",...Qd?{opacity:"0",border:"0"}:{}},attributes:_h},components:[Fl,...a?[]:[Ls],pr],behaviours:$t([mc(),ko.config({disableClass:"tox-tinymce--disabled"}),so.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),py=rA(Ch);return h.set(py),{mothership:py,outerContainer:Ch}},vs=go=>{const $o=Dv(f7(t)),pr=Dv(tU(t));return t.inline||(Mi("div","width",pr)&&Cn(go.element,"width",pr),Mi("div","height",$o)?Cn(go.element,"height",$o):Cn(go.element,"height","400px")),$o},Gt=go=>{t.addShortcut("alt+F9","focus menubar",()=>{Ar.focusMenubar(go)}),t.addShortcut("alt+F10","focus toolbar",()=>{Ar.focusToolbar(go)}),t.addCommand("ToggleToolbarDrawer",($o,pr)=>{pr!=null&&pr.skipFocus?Ar.toggleToolbarDrawerWithoutFocusing(go):Ar.toggleToolbarDrawer(go)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Ar.isToolbarDrawerToggled(go))},Pn=go=>{const{mainUi:$o,popupUi:pr,uiMotherships:Ls}=go;Gn(LC(t),(RO,Iv)=>{t.ui.registry.addGroupToolbarButton(Iv,RO)});const{buttons:Ri,menuItems:Zr,contextToolbars:Fl,sidebars:Qd,views:_h}=t.ui.registry.getAll(),Ch=Y3(t),py={menuItems:Zr,menus:wD(t),menubar:sD(t),toolbar:Ch.getOrThunk(()=>HC(t)),allowToolbarGroups:J===rd.floating,buttons:Ri,sidebar:Qd,views:_h};Gt($o.outerContainer),$9(t,$o.mothership,Ls),d.setup(t,an.popup.shared,xe),$U(t,an.popup),tj(t,an.popup.shared.getSink,an.popup),fZ(t),AH(t,Ut,an.popup.shared),_U(t,Fl,pr.sink,{backstage:an.popup}),Dj(t,pr.sink);const Sh=t.getElement(),Qg=vs($o.outerContainer),DO={targetNode:Sh,height:Qg};return i.render(t,go,py,an.popup,DO)},zo=go=>(_.set(go.mothership),go),us=()=>{const go=lo(),$o=No(),pr=Uf(t)?xs():zo($o);g.dialogUi.set($o),g.popupUi.set(pr),g.mainUi.set(go);const Ls={popupUi:pr,dialogUi:$o,mainUi:go,uiMotherships:g.getUiMotherships()};return Pn(Ls)};return{popups:{backstage:an.popup,getMothership:()=>aB("popups",_)},dialogs:{backstage:an.dialog,getMothership:()=>aB("dialogs",v)},renderUI:us}},ly=(t,s)=>{const a=B(t,"id").fold(()=>{const i=Tn("dialog-label");return nn(s,"id",i),i},at);nn(t,"aria-labelledby",a)},cB=U([vt("lazySink"),Is("dragBlockClass"),Ha("getBounds",Xa),$e("useTabstopAt",Oe),$e("firstTabstop",0),$e("eventOrder",{}),Wa("modalBehaviours",[so]),Ti("onExecute"),v0("onEscape")]),_O={sketch:at},$j=U([Dl({name:"draghandle",overrides:(t,s)=>({behaviours:$t([yh.config({mode:"mouse",getTarget:a=>Ef(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Rc({schema:[vt("dom")],name:"title"}),Rc({factory:_O,schema:[vt("dom")],name:"close"}),Rc({factory:_O,schema:[vt("dom")],name:"body"}),Dl({factory:_O,schema:[vt("dom")],name:"footer"}),Jl({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[$e("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),$e("components",[])],name:"blocker"})]),Ij=(t,s,a,i)=>{const d=Rr(),g=V=>{d.set(V);const J=t.lazySink(V).getOrDie(),ye=i.blocker(),Je=J.getSystem().build({...ye,components:ye.components.concat([xi(V)]),behaviours:$t([wo.config({}),Vo("dialog-blocker-events",[ig(Ec(),()=>{Yf.isBlocked(V)?j():so.focusIn(V)})])])});ha(J,Je),so.focusIn(V)},h=V=>{d.clear(),Da(V.element).each(J=>{V.getSystem().getByDom(J).each(ye=>{Dc(ye)})})},v=V=>Ff(V,t,"body"),_=V=>mr(V,t,"footer"),A=(V,J)=>{Yf.block(V,J)},z=V=>{Yf.unblock(V)},M=Tn("modal-events"),P={...t.eventOrder,[Vl()]:[M].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:h,getBody:v,getFooter:_,setIdle:z,setBusy:A},eventOrder:P,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:tc(t.modalBehaviours,[Bo.config({}),so.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Yf.config({getRoot:d.get}),Vo(M,[Or(V=>{ly(V.element,Ff(V,t,"title").element)})])])}},pc=qc({name:"ModalDialog",configFields:cB(),partFields:$j(),factory:Ij,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),Lj=Jn([Ea,QC].concat(eh)),Hj=tl,CO=[g4("button"),Fu,Ui("align","end",["start","end"]),oS,Ld,Ph("buttonType",["primary","secondary"])],iB=[...CO,Bg],s_=[wd("type",["submit","cancel","custom"]),...iB],r_=[wd("type",["menu"]),Pg,tw,Fu,Li("items",Lj),...CO],SO=[...CO,wd("type",["togglebutton"]),ua("tooltip"),Fu,Pg,Ca("active",!1)],tT=ac("type",{submit:s_,cancel:s_,custom:s_,menu:r_,togglebutton:SO}),uy=[Ea,Bg,wd("level",["info","warn","error","success"]),Qk,$e("url","")],nT=Jn(uy),Vj=t=>[Ea,t],lB=[Ea,Bg,Ld,g4("button"),Fu,mF,Ph("buttonType",["primary","secondary","toolbar"]),oS],uB=Jn(lB),dy=[Ea,QC],Xf=dy.concat([tS]),Uj=dy.concat([Mg,Ld]),jj=Jn(Uj),dB=tl,fB=Xf.concat([m4("auto")]),xO=Jn(fB),Wj=Uu([ew,Bg,Qk]),Zj=Xf.concat([Vi("storageKey","default")]),qj=Jn(Zj),mB=Ja,Gj=Jn(Xf),Kj=Ja,TO=dy.concat([Vi("tag","textarea"),ua("scriptId"),ua("scriptUrl"),cm("settings",void 0)]),EO=dy.concat([Vi("tag","textarea"),wi("init")]),Yj=_l(t=>jr("customeditor.old",vr(EO),t).orThunk(()=>jr("customeditor.new",vr(TO),t))),gB=Ja,Xj=Jn(Xf),pB=ju(),Jj=t=>[Ea,Bh("columns"),t],Qj=[Ea,ua("html"),Ui("presets","presentation",["presentation","document"])],fy=Jn(Qj),hB=Xf.concat([Ca("border",!1),Ca("sandboxed",!0),Ca("streamContent",!1),Ca("transparent",!0)]),eW=Jn(hB),oT=Ja,Mv=Jn(dy.concat([vc("height")])),sT=Jn([ua("url"),gf("zoom"),gf("cachedWidth"),gf("cachedHeight")]),bB=Xf.concat([vc("inputMode"),vc("placeholder"),Ca("maximized",!1),Ld]),rT=Jn(bB),Ml=Ja,aT=t=>[Ea,Mg,t,Ui("align","start",["start","center","end"])],yB=[Bg,ew],vB=[Bg,Li("items",Cl("items",()=>kB))],kB=gn([Jn(yB),Jn(vB)]),tW=Xf.concat([Li("items",kB),Ld]),vh=Jn(tW),zZ=Ja,nW=Xf.concat([Cy("items",[Bg,ew]),_i("size",1),Ld]),wB=Jn(nW),Bv=Ja,cT=Xf.concat([Ca("constrain",!0),Ld]),_B=Jn(cT),CB=Jn([ua("width"),ua("height")]),oW=dy.concat([Mg,_i("min",0),_i("max",0)]),sW=Jn(oW),rW=wu,Pv=[Ea,Li("header",Ja),Li("cells",ku(Ja))],DZ=Jn(Pv),aW=Xf.concat([vc("placeholder"),Ca("maximized",!1),Ld]),cW=Jn(aW),RZ=Ja,SB=[wd("type",["directory","leaf"]),eS,ua("id"),Cu("menu",s8)],Fv=Jn(SB),iW=SB.concat([Li("children",Cl("children",()=>mf("type",{directory:xB,leaf:Fv})))]),xB=Jn(iW),TB=mf("type",{directory:xB,leaf:Fv}),lW=[Ea,Li("items",TB),pf("onLeafAction"),pf("onToggleExpand"),Ci("defaultExpandedIds",[],Ja),vc("defaultSelectedId")],MZ=Jn(lW),e=Xf.concat([Ui("filetype","file",["image","media","file"]),Ld]),n=Jn(e),o=Jn([ew,Vb]),r=t=>cc("items","items",Es(),ku(_l(s=>jr(`Checking item of ${t}`,c,s).fold(a=>Fo.error(_u(a)),a=>Fo.value(a))))),c=La(()=>mf("type",{alertbanner:nT,bar:Jn(Vj(r("bar"))),button:uB,checkbox:jj,colorinput:qj,colorpicker:Gj,dropzone:Xj,grid:Jn(Jj(r("grid"))),iframe:eW,input:rT,listbox:vh,selectbox:wB,sizeinput:_B,slider:sW,textarea:cW,urlinput:n,customeditor:Yj,htmlpanel:fy,imagepreview:Mv,collection:xO,label:Jn(aT(r("label"))),table:DZ,tree:MZ,panel:m})),u=[Ea,$e("classes",[]),Li("items",c)],m=Jn(u),b=[g4("tab"),eS,Li("items",c)],k=[Ea,Cy("tabs",b)],E=Jn(k),D=iB,N=tT,I=Jn([ua("title"),fr("body",mf("type",{panel:m,tabpanel:E})),Vi("size","normal"),Ci("buttons",[],N),$e("initialData",{}),Ha("onAction",j),Ha("onChange",j),Ha("onSubmit",j),Ha("onClose",j),Ha("onCancel",j),Ha("onTabChange",j)]),ee=t=>jr("dialog",I,t),oe=Jn([wd("type",["cancel","custom"]),...D]),K=Jn([ua("title"),ua("url"),gf("height"),gf("width"),Sy("buttons",oe),Ha("onAction",j),Ha("onCancel",j),Ha("onClose",j),Ha("onMessage",j)]),ne=t=>jr("dialog",K,t),Te=t=>pn(t)?[t].concat(ae(oa(t),Te)):En(t)?ae(t,Te):[],ze=t=>nt(t.type)&&nt(t.name),Re={checkbox:dB,colorinput:mB,colorpicker:Kj,dropzone:pB,input:Ml,iframe:oT,imagepreview:sT,selectbox:Bv,sizeinput:CB,slider:rW,listbox:zZ,size:CB,textarea:RZ,urlinput:o,customeditor:gB,collection:Wj,togglemenuitem:Hj},Ve=t=>T.from(Re[t.type]),St=t=>Qn(Te(t),ze),Kt=t=>{const s=St(t),a=ae(s,i=>Ve(i).fold(()=>[],d=>[fr(i.name,d)]));return Jn(a)},rn=t=>{var s;const a=Qa(ee(t)),i=Kt(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:i,initialData:d}},et={open:(t,s)=>{const a=rn(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=Qa(ne(s));return t(a)},redial:t=>rn(t)};var Nt=Object.freeze({__proto__:null,events:(t,s)=>{const a=(i,d)=>{t.updateState.each(g=>{const h=g(i,d);s.set(h)}),t.renderComponents.each(g=>{const h=g(d,s.get());(t.reuseDom?m3:uz)(i,h)})};return Tr([kt(Sd(),(i,d)=>{const g=d;if(!g.universal){const h=t.channel;fo(g.channels,h)&&a(i,g.data)}}),Or((i,d)=>{t.initialData.each(g=>{a(i,g)})})])}}),ro=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),Uo=[vt("channel"),Is("renderComponents"),Is("updateState"),Is("initialData"),Ca("reuseDom",!0)],tr=Object.freeze({__proto__:null,init:()=>{const t=po(T.none()),s=()=>t.set(T.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Ss=_c({fields:Uo,name:"reflecting",active:Nt,apis:ro,state:tr}),ca=t=>{const s=[],a={};return qn(t,(i,d)=>{i.fold(()=>{s.push(d)},g=>{a[d]=g})}),s.length>0?Fo.error(s):Fo.value(a)},fi=(t,s,a)=>{const i=Js(Hg.sketch(d=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:De(t.items,g=>t5(d,g,s,a))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:$t([so.config({mode:"acyclic",useTabstopAt:Pe(gv)}),qd.memento(i),uN(i,{postprocess:d=>ca(d).fold(g=>(console.error(g),{}),at)}),Vo("dialog-body-panel",[kt(Ec(),(d,g)=>{d.getSystem().broadcastOn([Nw],{newFocus:T.some(g.event.target)})})])])}},hc=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:q1(t.action),behaviours:tc(t.tabButtonBehaviours,[wo.config({}),so.config({mode:"execution",useSpace:!0,useEnter:!0}),dn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Lt=Nc({name:"TabButton",configFields:[$e("uid",void 0),vt("value"),cc("dom","dom",Qo(()=>({attributes:{role:"tab",id:Tn("aria"),"aria-selected":"false"}})),Qc()),Is("action"),$e("domModification",{}),Wa("tabButtonBehaviours",[wo,so,dn]),vt("view")],factory:hc}),Hn=U([vt("tabs"),vt("dom"),$e("clickToDismiss",!1),Wa("tabbarBehaviours",[Fs,so]),il(["tabClass","selectedClass"])]),Bs=ul({factory:Lt,name:"tabs",unit:"tab",overrides:t=>{const s=(i,d)=>{Fs.dehighlight(i,d),oo(i,zy(),{tabbar:i,button:d})},a=(i,d)=>{Fs.highlight(i,d),oo(i,Oy(),{tabbar:i,button:d})};return{action:i=>{const d=i.getSystem().getByUid(t.uid).getOrDie(),g=Fs.isHighlighted(d,i);(()=>g&&t.clickToDismiss?s:g?j:a)()(d,i)},domModification:{classes:[t.markers.tabClass]}}}}),Os=U([Bs]),Vn=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:tc(t.tabbarBehaviours,[Fs.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,g)=>{nn(g.element,"aria-selected","true")},onDehighlight:(d,g)=>{nn(g.element,"aria-selected","false")}}),so.config({mode:"flow",getInitial:d=>Fs.getHighlighted(d).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Wn=qc({name:"Tabbar",configFields:Hn(),partFields:Os(),factory:Vn}),Vt=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:tc(t.tabviewBehaviours,[Bo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Co=Nc({name:"Tabview",configFields:[Wa("tabviewBehaviours",[Bo])],factory:Vt}),ms=U([$e("selectFirst",!0),hs("onChangeTab"),hs("onDismissTab"),$e("tabs",[]),Wa("tabSectionBehaviours",[])]),nr=Rc({factory:Wn,schema:[vt("dom"),Wu("markers",[vt("tabClass"),vt("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Mn=Rc({factory:Co,name:"tabview"}),ss=U([nr,Mn]),ur=(t,s,a,i)=>{const d=h=>{const v=dn.getValue(h);mr(h,t,"tabview").each(_=>{X(t.tabs,z=>z.value===v).each(z=>{const M=z.view();B(h.element,"id").each(P=>{nn(_.element,"aria-labelledby",P)}),Bo.set(_,M),t.onChangeTab(_,h,M)})})},g=(h,v)=>{mr(h,t,"tabbar").each(_=>{v(_).each(gm)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Du(t.tabSectionBehaviours),events:Tr(ve([t.selectFirst?[Or((h,v)=>{g(h,Fs.getFirst)})]:[],[kt(Oy(),(h,v)=>{const _=v.event.button;d(_)}),kt(zy(),(h,v)=>{const _=v.event.button;t.onDismissTab(h,_)})]])),apis:{getViewItems:h=>mr(h,t,"tabview").map(v=>Bo.contents(v)).getOr([]),showTab:(h,v)=>{g(h,A=>{const z=Fs.getCandidates(A);return X(z,P=>dn.getValue(P)===v).filter(P=>!Fs.isHighlighted(A,P))})}}}},Nr=qc({name:"TabSection",configFields:ms(),partFields:ss(),factory:ur,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),gr=(t,s,a)=>De(t,(i,d)=>{Bo.set(a,t[d].view());const g=s.dom.getBoundingClientRect();return Bo.set(a,[]),g.height}),Pc=t=>zt(Se(t,(s,a)=>s>a?-1:s<a?1:0)),fd=(t,s,a)=>{const i=Ki(t).dom,d=Ef(t,".tox-dialog-wrap").getOr(t),g=Ws(d,"position")==="fixed";let h;g?h=Math.max(i.clientHeight,window.innerHeight):h=Math.max(i.offsetHeight,i.scrollHeight);const v=ln(s),A=s.dom.offsetLeft>=a.dom.offsetLeft+or(a)?Math.max(ln(a),v):v,z=parseInt(Ws(t,"margin-top"),10)||0,M=parseInt(Ws(t,"margin-bottom"),10)||0,V=ln(t)+z+M-A;return h-V},iu=(t,s)=>{zt(t).each(a=>Nr.showTab(s,a.value))},Yd=(t,s)=>{Cn(t,"height",s+"px"),Cn(t,"flex-basis",s+"px")},Jf=(t,s,a)=>{Ef(t,'[role="dialog"]').each(i=>{Wr(i,'[role="tablist"]').each(d=>{a.get().map(g=>(Cn(s,"height","0"),Cn(s,"flex-basis","0"),Math.min(g,fd(i,s,d)))).each(g=>{Yd(s,g)})})})},Kg=t=>Wr(t,'[role="tabpanel"]'),kh=t=>{const s=Rr();return{extraEvents:[Or(d=>{const g=d.element;Kg(g).each(h=>{Cn(h,"visibility","hidden"),d.getSystem().getByDom(h).toOptional().each(v=>{const _=gr(t,h,v);Pc(_).fold(s.clear,s.set)}),Jf(g,h,s),q(h,"visibility"),iu(t,d),requestAnimationFrame(()=>{Jf(g,h,s)})})}),kt(Gu(),d=>{const g=d.element;Kg(g).each(h=>{Jf(g,h,s)})}),kt(mR,(d,g)=>{const h=d.element;Kg(h).each(v=>{const _=Xu(Le(v));Cn(v,"visibility","hidden");const A=zr(v,"height").map(P=>parseInt(P,10));q(v,"height"),q(v,"flex-basis");const z=v.dom.getBoundingClientRect().height;A.forall(P=>z>P)?(s.set(z),Jf(h,v,s)):A.each(P=>{Yd(v,P)}),q(v,"visibility"),_.each(Gl)})})],selectFirst:!1}},Yg="send-data-to-section",a_="send-data-to-view",iT=(t,s,a)=>{const i=po({}),d=A=>{const z=dn.getValue(A),M=ca(z).getOr({}),P=i.get(),V=sr(P,M);i.set(V)},g=A=>{const z=i.get();dn.setValue(A,z)},h=po(null),v=De(t.tabs,A=>({value:A.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$r(a.shared.providers.translate(A.title))],view:()=>[Hg.sketch(z=>({dom:{tag:"div",classes:["tox-form"]},components:De(A.items,M=>t5(z,M,s,a)),formBehaviours:$t([so.config({mode:"acyclic",useTabstopAt:Pe(gv)}),Vo("TabView.form.events",[Or(g),Td(d)]),Wc.config({channels:vo([{key:Yg,value:{onReceive:d}},{key:a_,value:{onReceive:g}}])})])}))]})),_=kh(v);return Nr.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(A,z,M)=>{const P=dn.getValue(z);oo(A,ah,{name:P,oldName:h.get()}),h.set(P)},tabs:v,components:[Nr.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Wn.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:$t([na.config({})])}),Nr.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:$t([Vo("tabpanel",_.extraEvents),so.config({mode:"acyclic"}),bs.config({find:A=>zt(Nr.getViewItems(A))}),Jb(T.none(),A=>(A.getSystem().broadcastOn([Yg],{}),i.get()),(A,z)=>{i.set(z),A.getSystem().broadcastOn([a_],{})})])})},c_=(t,s,a,i,d)=>{const g=_=>{const A=_.body;switch(A.type){case"tabpanel":return[iT(A,_.initialData,i)];default:return[fi(A,_.initialData,i)]}},h=(_,A)=>T.some({isTabPanel:()=>A.body.type==="tabpanel"}),v={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(_=>({id:_})).getOr({}),...d?v:{}}},components:[],behaviours:$t([qd.childAt(0),Ss.config({channel:`${hN}-${s}`,updateState:h,renderComponents:g,initialData:t})])}},i_=(t,s,a,i,d)=>c_(t,s,T.some(a),i,d),l_=(t,s,a)=>{const i=c_(t,s,T.none(),a,!1);return pc.parts.body(i)},u_=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[TA(T.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:$t([na.config({}),wo.config({})])})]}],behaviours:$t([so.config({mode:"acyclic",useTabstopAt:Pe(gv)})])};return pc.parts.body(s)},d_=Xp.deviceType.isTouch(),Xd=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),my=(t,s)=>pc.parts.close(Gc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:$t([na.config({})])})),wh=()=>pc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Xg=(t,s)=>pc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Mm(`<p>${Yz(s.translate(t))}</p>`)}]}]}),f_=t=>pc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),m_=(t,s)=>[$u.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),$u.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Qf=t=>{const s="tox-dialog",a=s+"-wrap",i=a+"__backdrop",d=s+"__disable-scroll";return pc.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),T.some(!0)),useTabstopAt:g=>!gv(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Mm(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:d_?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:$t([wo.config({}),Vo("dialog-events",t.dialogEvents.concat([ig(Ec(),(g,h)=>{Yf.isBlocked(g)?j():so.focusIn(g)}),kt(Ay(),(g,h)=>{g.getSystem().broadcastOn([Nw],{newFocus:h.event.newFocus})})])),Vo("scroll-lock",[Or(()=>{ga(_r(),d)}),Td(()=>{ea(_r(),d)})]),...t.extraBehaviours]),eventOrder:{[ol()]:["dialog-events"],[Vl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[cg()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},Jg=t=>Gc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:$t([na.config({})]),components:[Id("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Ds(s,sh)}}),g_=(t,s,a,i)=>{const d=g=>[$r(i.translate(g.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...a.map(g=>({id:g})).getOr({})}},components:[],behaviours:$t([Ss.config({channel:`${pN}-${s}`,initialData:t,renderComponents:d})])}},lT=()=>({dom:Mm('<div class="tox-dialog__draghandle"></div>')}),uT=(t,s,a,i)=>$u.sketch({dom:Mm('<div class="tox-dialog__header"></div>'),components:[g_(t,s,T.some(a),i),lT(),Jg(i)],containerBehaviours:$t([yh.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>cl(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),AO=(t,s,a)=>{const i=pc.parts.title(g_(t,s,T.none(),a)),d=pc.parts.draghandle(lT()),g=pc.parts.close(Jg(a)),h=[i].concat(t.draggable?[d]:[]).concat([g]);return $u.sketch({dom:Mm('<div class="tox-dialog__header"></div>'),components:h})},dT=(t,s,a)=>AO({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),OO=(t,s,a,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${i.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:Mm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Jd=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:i=>{const d=Wr(t().element,".tox-dialog__header").map(g=>ln(g));pc.setBusy(t(),(g,h)=>OO(i.message,h,s,d))},onUnblock:()=>{pc.setIdle(t())}}),gy=(t,s,a,i)=>{const d=(g,h)=>T.some(h);return Ac(Qf({...t,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[Ss.config({channel:`${EA}-${t.id}`,updateState:d,initialData:s}),Ow({}),...t.extraBehaviours],onEscape:g=>{Ds(g,sh)},dialogEvents:a,eventOrder:{[Sd()]:[Ss.name(),Wc.name()],[Vl()]:["scroll-lock",Ss.name(),"messages","dialog-events","alloy.base.behaviour"],[cg()]:["alloy.base.behaviour","dialog-events","messages",Ss.name(),"scroll-lock"]}}))},je=(t,s={})=>{const a=i=>{const d=De(i.items,g=>{const h=Tt(s,g.name).getOr(po(!1));return{...g,storage:h}});return{...i,items:d}};return De(t,i=>i.type==="menu"?a(i):i)},Ze=t=>mt(t,(s,a)=>a.type==="menu"?mt(a.items,(d,g)=>(d[g.name]=g.storage,d),s):s,{}),Ht=(t,s)=>[Yv(Ec(),gN),t(yw,(a,i,d,g)=>{Xu(Le(g.element)).fold(j,a1),s.onClose(),i.onClose()}),t(sh,(a,i,d,g)=>{i.onCancel(a),Ds(g,yw)}),kt(rh,(a,i)=>s.onUnblock()),kt(wS,(a,i)=>s.onBlock(i.event))],Ft=(t,s)=>{const a=(d,g)=>kt(d,(h,v)=>{i(h,(_,A)=>{g(t(),_,v.event,h)})}),i=(d,g)=>{Ss.getState(d).get().each(h=>{g(h,d)})};return[...Ht(a,s),a(Pm,(d,g,h)=>{g.onAction(d,{name:h.name})})]},ao=(t,s,a)=>{const i=(g,h)=>kt(g,(v,_)=>{d(v,(A,z)=>{h(t(),A,_.event,v)})}),d=(g,h)=>{Ss.getState(g).get().each(v=>{h(v.internalDialog,g)})};return[...Ht(i,s),i(vw,(g,h)=>h.onSubmit(g)),i(su,(g,h,v)=>{h.onChange(g,{name:v.name})}),i(Pm,(g,h,v,_)=>{const A=()=>_.getSystem().isConnected()?so.focusIn(_):void 0,z=V=>Y(V,"disabled")||B(V,"aria-disabled").exists(J=>J==="true"),M=Le(_.element),P=Xu(M);h.onAction(g,{name:v.name,value:v.value}),Xu(M).fold(A,V=>{z(V)||P.exists(J=>Oa(V,J)&&z(J))?A():a().toOptional().filter(J=>!Oa(J.element,V)).each(A)})}),i(ah,(g,h,v)=>{h.onTabChange(g,{newTabName:v.name,oldTabName:v.oldName})}),Td(g=>{const h=t();dn.setValue(g,h.getData())})]},zs=(t,s)=>ox(t,t.type,s),Hr=(t,s,a)=>X(s,i=>i.name===a).bind(i=>i.memento.getOpt(t)),Fc=(t,s)=>{const a=s.map(v=>v.footerButtons).getOr([]),i=qo(a,v=>v.align==="start"),d=(v,_)=>$u.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:De(_,A=>A.memento.asSpec())}),g=d("start",i.pass),h=d("end",i.fail);return[g,h]},$c=(t,s,a)=>{const i=(d,g)=>{const h=De(g.buttons,_=>{const A=Js(zs(_,a));return{name:_.name,align:_.align,memento:A}}),v=_=>Hr(d,h,_);return T.some({lookupByName:v,footerButtons:h})};return{dom:Mm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:$t([Ss.config({channel:`${bN}-${s}`,initialData:t,updateState:i,renderComponents:Fc})])}},p_=(t,s,a)=>$c(t,s,a),$v=(t,s,a)=>pc.parts.footer($c(t,s,a)),zO=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const i=bs.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Hg.getField(i,s).orThunk(()=>t.getFooter().bind(h=>Ss.getState(h).get()).bind(h=>h.lookupByName(s)))}else return T.none()},uW=(t,s)=>{const a=t.getRoot();return Ss.getState(a).get().map(i=>Qa(jr("data",i.dataValidator,s))).getOr(s)},ns=(t,s,a)=>{const i=J=>{const ye=t.getRoot();ye.getSystem().isConnected()&&J(ye)},V={getData:()=>{const J=t.getRoot(),ye=J.getSystem().isConnected()?t.getFormWrapper():J,Je=dn.getValue(ye),xe=Gn(a,_e=>_e.get());return{...Je,...xe}},setData:J=>{i(ye=>{const Je=V.getData(),xe=sr(Je,J),_e=uW(t,xe),rt=t.getFormWrapper();dn.setValue(rt,_e),qn(a,(He,Mt)=>{Lo(xe,Mt)&&He.set(xe[Mt])})})},setEnabled:(J,ye)=>{zO(t,J).each(ye?ko.enable:ko.disable)},focus:J=>{zO(t,J).each(wo.focus)},block:J=>{if(!nt(J))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(ye=>{oo(ye,wS,{message:J})})},unblock:()=>{i(J=>{Ds(J,rh)})},showTab:J=>{i(ye=>{const Je=t.getBody();Ss.getState(Je).get().exists(_e=>_e.isTabPanel())&&bs.getCurrent(Je).each(_e=>{Nr.showTab(_e,J)})})},redial:J=>{i(ye=>{const Je=t.getId(),xe=s(J),_e=je(xe.internalDialog.buttons,a);ye.getSystem().broadcastOn([`${EA}-${Je}`],xe),ye.getSystem().broadcastOn([`${pN}-${Je}`],xe.internalDialog),ye.getSystem().broadcastOn([`${hN}-${Je}`],xe.internalDialog),ye.getSystem().broadcastOn([`${bN}-${Je}`],{...xe.internalDialog,buttons:_e}),V.setData(xe.initialData)})},close:()=>{i(J=>{Ds(J,yw)})},toggleFullscreen:t.toggleFullscreen};return V},it=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},In=(t,s,a)=>{const i=Tn("dialog"),d=t.internalDialog,g=dT(d.title,i,a),h=l_({body:d.body,initialData:d.initialData},i,a),v=je(d.buttons),_=Ze(v),A=Kn(v.length!==0,$v({buttons:v},i,a)),z=ao(()=>ye,Jd(()=>V,a.shared.providers,s),a.shared.getSink),M=it(d.size),V=gy({id:i,header:g,body:h,footer:A,extraClasses:M,extraBehaviours:[],extraStyles:{}},t,z,a),J=(()=>{const Je=()=>{const _e=pc.getBody(V);return bs.getCurrent(_e).getOr(_e)},xe=()=>{const _e="tox-dialog--fullscreen",rt=ke.fromDom(V.element.dom);rl(rt,_e)?(ea(rt,_e),xf(rt,M)):(Si(rt,M),ga(rt,_e))};return{getId:U(i),getRoot:U(V),getBody:()=>pc.getBody(V),getFooter:()=>pc.getFooter(V),getFormWrapper:Je,toggleFullscreen:xe}})(),ye=ns(J,s.redial,_);return{dialog:V,instanceApi:ye}},Ho=t=>{switch(t){case"medium":return T.some("tox-dialog--width-md");default:return T.none()}},ya=(t,s,a,i=!1)=>{const d=Tn("dialog"),g=Tn("dialog-label"),h=Tn("dialog-content"),v=t.internalDialog,_=Ho(v.size),A=(He,Mt)=>T.some(Mt),z=Js(uT({title:v.title,draggable:!0},d,g,a.shared.providers)),M=Js(i_({body:v.body,initialData:v.initialData},d,h,a,i)),P=je(v.buttons),V=Ze(P),J=Kn(P.length!==0,Js(p_({buttons:P},d,a))),ye=ao(()=>rt,{onBlock:He=>{Yf.block(xe,(Mt,At)=>{const Ut=z.getOpt(xe).map(an=>ln(an.element));return OO(He.message,At,a.shared.providers,Ut)})},onUnblock:()=>{Yf.unblock(xe)},onClose:()=>s.closeWindow()},a.shared.getSink),Je="tox-dialog-inline",xe=Ac({dom:{tag:"div",classes:["tox-dialog",Je,..._.toArray()],attributes:{role:"dialog","aria-labelledby":g}},eventOrder:{[Sd()]:[Ss.name(),Wc.name()],[ol()]:["execute-on-form"],[Vl()]:["reflecting","execute-on-form"]},behaviours:$t([so.config({mode:"cyclic",onEscape:He=>(Ds(He,yw),T.some(!0)),useTabstopAt:He=>!gv(He)&&(Hs(He)!=="button"||br(He,"disabled")!=="disabled"),firstTabstop:1}),Ss.config({channel:`${EA}-${d}`,updateState:A,initialData:t}),wo.config({}),Vo("execute-on-form",ye.concat([ig(Ec(),(He,Mt)=>{so.focusIn(He)}),kt(Ay(),(He,Mt)=>{He.getSystem().broadcastOn([Nw],{newFocus:Mt.event.newFocus})})])),Yf.config({getRoot:()=>T.some(xe)}),Bo.config({}),Ow({})]),components:[z.asSpec(),M.asSpec(),...J.map(He=>He.asSpec()).toArray()]}),_e=()=>{const He="tox-dialog--fullscreen",Mt=ke.fromDom(xe.element.dom);OT(Mt,[He])?(Si(Mt,[He]),xf(Mt,[Je])):(Si(Mt,[Je]),xf(Mt,[He]))},rt=ns({getId:U(d),getRoot:U(xe),getFooter:()=>J.map(He=>He.get(xe)),getBody:()=>M.get(xe),getFormWrapper:()=>{const He=M.get(xe);return bs.getCurrent(He).getOr(He)},toggleFullscreen:_e},s.redial,V);return{dialog:xe,instanceApi:rt}};var Bl=tinymce.util.Tools.resolve("tinymce.util.URI");const Pl=t=>{const s=h=>{t.getSystem().isConnected()&&h(t)};return{block:h=>{if(!nt(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(v=>{oo(v,wS,{message:h})})},unblock:()=>{s(h=>{Ds(h,rh)})},close:()=>{s(h=>{Ds(h,yw)})},sendMessage:h=>{s(v=>{v.getSystem().broadcastOn([yN],h)})}}},gl=["insertContent","setContent","execCommand","close","block","unblock"],h_=t=>pn(t)&&gl.indexOf(t.mceAction)!==-1,pl=t=>!h_(t)&&pn(t)&&Lo(t,"mceAction"),EB=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const i=cn(a.ui)?a.ui:!1;t.execCommand(a.cmd,i,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},dW=(t,s,a,i)=>{const d=Tn("dialog"),g=dT(t.title,d,i),h=u_(t),v=t.buttons.bind(_e=>_e.length===0?T.none():T.some($v({buttons:_e},d,i))),_=Ft(()=>xe,Jd(()=>Je,i.shared.providers,s)),A={...t.height.fold(()=>({}),_e=>({height:_e+"px","max-height":_e+"px"})),...t.width.fold(()=>({}),_e=>({width:_e+"px","max-width":_e+"px"}))},z=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],M=new Bl(t.url,{base_uri:new Bl(window.location.href)}),P=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,V=Tp(),J=[Vo("messages",[Or(()=>{const _e=Ei(ke.fromDom(window),"message",rt=>{if(M.isSameOrigin(new Bl(rt.raw.origin))){const He=rt.raw.data;h_(He)?EB(a,xe,He):pl(He)&&t.onMessage(xe,He)}});V.set(_e)}),Td(V.clear)]),Wc.config({channels:{[yN]:{onReceive:(_e,rt)=>{Wr(_e.element,"iframe").each(He=>{const Mt=He.dom.contentWindow;tn(Mt)&&Mt.postMessage(rt,P)})}}}})],Je=gy({id:d,header:g,body:h,footer:v,extraClasses:z,extraBehaviours:J,extraStyles:A},t,_,i),xe=Pl(Je);return{dialog:Je,instanceApi:xe}},fW=t=>{const s=t.shared;return{open:(i,d)=>{const g=()=>{pc.hide(A),d()},h=Js(ox({name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",t)),v=wh(),_=my(g,s.providers),A=Ac(Qf({lazySink:()=>s.getSink(),header:Xd(v,_),body:Xg(i,s.providers),footer:T.some(f_(m_([],[h.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[kt(sh,g)],eventOrder:{}}));pc.show(A);const z=h.get(A);wo.focus(z)}}},BZ=t=>{const s=t.shared;return{open:(i,d)=>{const g=P=>{pc.hide(z),d(P)},h=Js(ox({name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",t)),v=ox({name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",t),_=wh(),A=my(()=>g(!1),s.providers),z=Ac(Qf({lazySink:()=>s.getSink(),header:Xd(_,A),body:Xg(i,s.providers),footer:T.some(f_(m_([],[v,h.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[kt(sh,()=>g(!1)),kt(vw,()=>g(!0))],eventOrder:{}}));pc.show(z);const M=h.get(z);wo.focus(M)}}},PZ=(t,s)=>Qa(jr("data",s,t)),FZ=t=>pw(t,".tox-alert-dialog")||pw(t,".tox-confirm-dialog"),oq=(t,s,a)=>s&&a?[]:[Aa.config({contextual:{lazyContext:()=>T.some(Fr(ke.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:i=>Gb(t,i.element).map(g=>({bounds:ov(g),optScrollEnv:T.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:ra(g.element).top})})).getOrThunk(()=>({bounds:Xa(),optScrollEnv:T.none()}))})],sq=t=>{const s=t.editor,a=Wk(s),i=fW(t.backstages.dialog),d=BZ(t.backstages.dialog),g=(J,ye,Je)=>{if(!jt(ye)){if(ye.inline==="toolbar")return A(J,t.backstages.popup.shared.anchors.inlineDialog(),Je,ye);if(ye.inline==="bottom")return z(J,t.backstages.popup.shared.anchors.inlineBottomDialog(),Je,ye);if(ye.inline==="cursor")return A(J,t.backstages.popup.shared.anchors.cursor(),Je,ye)}return _(J,Je)},h=(J,ye)=>v(J,ye),v=(J,ye)=>{const Je=xe=>{const _e=dW(xe,{closeWindow:()=>{pc.hide(_e.dialog),ye(_e.instanceApi)}},s,t.backstages.dialog);return pc.show(_e.dialog),_e.instanceApi};return et.openUrl(Je,J)},_=(J,ye)=>{const Je=(xe,_e,rt)=>{const He=_e,At=In({dataValidator:rt,initialData:He,internalDialog:xe},{redial:et.redial,closeWindow:()=>{pc.hide(At.dialog),ye(At.instanceApi)}},t.backstages.dialog);return pc.show(At.dialog),At.instanceApi.setData(He),At.instanceApi};return et.open(Je,J)},A=(J,ye,Je,xe)=>{const _e=(rt,He,Mt)=>{const At=PZ(He,Mt),Ut=Rr(),an=t.backstages.popup.shared.header.isPositionedAtTop(),rs={dataValidator:Mt,initialData:At,internalDialog:rt},Un=()=>Ut.on(lo=>{ta.reposition(lo),Aa.refresh(lo)}),Io=ya(rs,{redial:et.redial,closeWindow:()=>{Ut.on(ta.hide),s.off("ResizeEditor",Un),Ut.clear(),Je(Io.instanceApi)}},t.backstages.popup,xe.ariaAttrs),No=Ac(ta.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:xe.persistent?{event:"doNotDismissYet"}:{},...an?{}:{fireRepositionEventInstead:{}},inlineBehaviours:$t([Vo("window-manager-inline-events",[kt(fm(),(lo,vs)=>{Ds(Io.dialog,sh)})]),...oq(s,a,an)]),isExtraPart:(lo,vs)=>FZ(vs)}));Ut.set(No);const xs=()=>{const lo=s.inline?_r():ke.fromDom(s.getContainer()),vs=Fr(lo);return T.some(vs)};return ta.showWithinBounds(No,xi(Io.dialog),{anchor:ye},xs),(!a||!an)&&(Aa.refresh(No),s.on("ResizeEditor",Un)),Io.instanceApi.setData(At),so.focusIn(Io.dialog),Io.instanceApi};return et.open(_e,J)},z=(J,ye,Je,xe)=>{const _e=(rt,He,Mt)=>{const At=PZ(He,Mt),Ut=Rr(),an=t.backstages.popup.shared.header.isPositionedAtTop(),rs={dataValidator:Mt,initialData:At,internalDialog:rt},Un=()=>Ut.on(lo=>{ta.reposition(lo),Aa.refresh(lo)}),Io=ya(rs,{redial:et.redial,closeWindow:()=>{Ut.on(ta.hide),s.off("ResizeEditor ScrollWindow ElementScroll",Un),Ut.clear(),Je(Io.instanceApi)}},t.backstages.popup,xe.ariaAttrs),No=Ac(ta.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:xe.persistent?{event:"doNotDismissYet"}:{},...an?{}:{fireRepositionEventInstead:{}},inlineBehaviours:$t([Vo("window-manager-inline-events",[kt(fm(),(lo,vs)=>{Ds(Io.dialog,sh)})]),Aa.config({contextual:{lazyContext:()=>T.some(Fr(ke.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:lo=>Gb(s,lo.element).map(Gt=>({bounds:ov(Gt),optScrollEnv:T.some({currentScrollTop:Gt.element.dom.scrollTop,scrollElmTop:ra(Gt.element).top})})).getOrThunk(()=>({bounds:Xa(),optScrollEnv:T.none()}))})]),isExtraPart:(lo,vs)=>FZ(vs)}));Ut.set(No);const xs=()=>t.backstages.popup.shared.getSink().toOptional().bind(lo=>{const vs=Gb(s,lo.element),Gt=15,Pn=vs.map(go=>ov(go)).getOr(Xa()),zo=Fr(ke.fromDom(s.getContentAreaContainer())),us=Xm(zo,Pn);return T.some(yr(us.x,us.y,us.width,us.height-Gt))});return ta.showWithinBounds(No,xi(Io.dialog),{anchor:ye},xs),Aa.refresh(No),s.on("ResizeEditor ScrollWindow ElementScroll",Un),Io.instanceApi.setData(At),so.focusIn(Io.dialog),Io.instanceApi};return et.open(_e,J)};return{open:g,openUrl:h,alert:(J,ye)=>{i.open(J,ye)},close:J=>{J.close()},confirm:(J,ye)=>{d.open(J,ye)}}},rq=t=>{V3(t),s$(t),IU(t)};var aq=()=>{Vu.add("silver",t=>{rq(t);let s=()=>Xa();const{dialogs:a,popups:i,renderUI:d}=Fj(t,{getPopupSinkBounds:()=>s()}),g=()=>{const _=d();return Gb(t,i.getMothership().element).each(z=>{s=()=>ov(z)}),_};U$.register(t,i.backstage.shared);const h=sq({editor:t,backstages:{popup:i.backstage,dialog:a.backstage}}),v=()=>Fb(t,{backstage:i.backstage},i.getMothership());return{renderUI:g,getWindowManagerImpl:U(h),getNotificationManagerImpl:v}})};aq()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.ModelManager");const Do=(l,f,p)=>{var y;return p(l,f.prototype)?!0:((y=l.constructor)===null||y===void 0?void 0:y.name)===f.name},So=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&Do(l,String,(p,y)=>y.isPrototypeOf(p))?"string":f},Ln=l=>f=>So(f)===l,uo=l=>f=>typeof f===l,ho=l=>f=>l===f,Fn=Ln("string"),nt=Ln("object"),pn=Ln("array"),vn=ho(null),En=uo("boolean"),_o=ho(void 0),cn=l=>l==null,jt=l=>!cn(l),It=uo("function"),tn=uo("number"),ot=()=>{},Ot=(l,f)=>(...p)=>l(f.apply(null,p)),xt=(l,f)=>p=>l(f(p)),j=l=>()=>l,dt=l=>l,Mo=(l,f)=>l===f;function gt(l,...f){return(...p)=>{const y=f.concat(p);return l.apply(null,y)}}const U=l=>f=>!l(f),at=l=>()=>{throw new Error(l)},bn=l=>l(),Zt=j(!1),Pe=j(!0);class ie{constructor(f,p){this.tag=f,this.value=p}static some(f){return new ie(!0,f)}static none(){return ie.singletonNone}fold(f,p){return this.tag?p(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ie.some(f(this.value)):ie.none()}bind(f){return this.tag?f(this.value):ie.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ie.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return jt(f)?ie.some(f):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Ro=Array.prototype.slice,Ce=Array.prototype.indexOf,Oe=Array.prototype.push,T=(l,f)=>Ce.call(l,f),un=(l,f)=>T(l,f)>-1,st=(l,f)=>{for(let p=0,y=l.length;p<y;p++){const C=l[p];if(f(C,p))return!0}return!1},Bn=(l,f)=>{const p=[];for(let y=0;y<l;y++)p.push(f(y));return p},Yt=(l,f)=>{const p=l.length,y=new Array(p);for(let C=0;C<p;C++){const O=l[C];y[C]=f(O,C)}return y},Xe=(l,f)=>{for(let p=0,y=l.length;p<y;p++){const C=l[p];f(C,p)}},fo=(l,f)=>{for(let p=l.length-1;p>=0;p--){const y=l[p];f(y,p)}},Zo=(l,f)=>{const p=[],y=[];for(let C=0,O=l.length;C<O;C++){const $=l[C];(f($,C)?p:y).push($)}return{pass:p,fail:y}},wt=(l,f)=>{const p=[];for(let y=0,C=l.length;y<C;y++){const O=l[y];f(O,y)&&p.push(O)}return p},fn=(l,f,p)=>(fo(l,(y,C)=>{p=f(p,y,C)}),p),De=(l,f,p)=>(Xe(l,(y,C)=>{p=f(p,y,C)}),p),lt=(l,f,p)=>{for(let y=0,C=l.length;y<C;y++){const O=l[y];if(f(O,y))return ie.some(O);if(p(O,y))break}return ie.none()},F=(l,f)=>lt(l,f,Zt),qo=(l,f)=>{for(let p=0,y=l.length;p<y;p++){const C=l[p];if(f(C,p))return ie.some(p)}return ie.none()},Qn=l=>{const f=[];for(let p=0,y=l.length;p<y;++p){if(!pn(l[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+l);Oe.apply(f,l[p])}return f},ft=(l,f)=>Qn(Yt(l,f)),mt=(l,f)=>{for(let p=0,y=l.length;p<y;++p){const C=l[p];if(f(C,p)!==!0)return!1}return!0},on=l=>{const f=Ro.call(l,0);return f.reverse(),f},X=(l,f)=>{const p={};for(let y=0,C=l.length;y<C;y++){const O=l[y];p[String(O)]=f(O,y)}return p},be=(l,f)=>{const p=Ro.call(l,0);return p.sort(f),p},ve=(l,f)=>f>=0&&f<l.length?ie.some(l[f]):ie.none(),ae=l=>ve(l,0),Me=l=>ve(l,l.length-1),Fe=(l,f)=>{for(let p=0;p<l.length;p++){const y=f(l[p],p);if(y.isSome())return y}return ie.none()},qe=Object.keys,Ue=Object.hasOwnProperty,Q=(l,f)=>{const p=qe(l);for(let y=0,C=p.length;y<C;y++){const O=p[y],$=l[O];f($,O)}},Se=(l,f)=>Ie(l,(p,y)=>({k:y,v:f(p,y)})),Ie=(l,f)=>{const p={};return Q(l,(y,C)=>{const O=f(y,C);p[O.k]=O.v}),p},zt=l=>(f,p)=>{l[p]=f},$n=(l,f,p,y)=>{Q(l,(C,O)=>{(f(C,O)?p:y)(C,O)})},Dn=(l,f)=>{const p={};return $n(l,f,zt(p),ot),p},Rn=(l,f)=>{const p=[];return Q(l,(y,C)=>{p.push(f(y,C))}),p},An=l=>Rn(l,dt),Po=(l,f)=>qn(l,f)?ie.from(l[f]):ie.none(),qn=(l,f)=>Ue.call(l,f),Gn=(l,f)=>qn(l,f)&&l[f]!==void 0&&l[f]!==null,to=l=>{for(const f in l)if(Ue.call(l,f))return!1;return!0},mn=typeof window<"u"?window:Function("return this;")(),bo=(l,f)=>{let p=f??mn;for(let y=0;y<l.length&&p!==void 0&&p!==null;++y)p=p[l[y]];return p},as=(l,f)=>{const p=l.split(".");return bo(p,f)},Rs=(l,f)=>as(l,f),Ts=(l,f)=>{const p=Rs(l,f);if(p==null)throw new Error(l+" not available on this browser");return p},Yo=Object.getPrototypeOf,oa=l=>Ts("HTMLElement",l),Tt=l=>{const f=as("ownerDocument.defaultView",l);return nt(l)&&(oa(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(Yo(l).constructor.name))},Lo=8,kr=9,Vr=11,qr=1,Xr=3,_s=l=>l.dom.nodeName.toLowerCase(),ia=l=>l.dom.nodeType,Ur=l=>f=>ia(f)===l,Cs=l=>ia(l)===Lo||_s(l)==="#comment",Kn=l=>ar(l)&&Tt(l.dom),ar=Ur(qr),Ee=Ur(Xr),Ge=Ur(kr),Wt=Ur(Vr),kn=l=>f=>ar(f)&&_s(f)===l,Eo=(l,f,p)=>{if(Fn(p)||En(p)||tn(p))l.setAttribute(f,p+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",p,":: Element ",l),new Error("Attribute value was not simple")},Xo=(l,f,p)=>{Eo(l.dom,f,p)},wr=(l,f)=>{const p=l.dom;Q(f,(y,C)=>{Eo(p,C,y)})},Gs=(l,f)=>{Q(f,(p,y)=>{p.fold(()=>{re(l,y)},C=>{Eo(l.dom,y,C)})})},cr=(l,f)=>{const p=l.dom.getAttribute(f);return p===null?void 0:p},de=(l,f)=>ie.from(cr(l,f)),re=(l,f)=>{l.dom.removeAttribute(f)},We=l=>De(l.dom.attributes,(f,p)=>(f[p.name]=p.value,f),{}),Ye=(l,f)=>{const y=(f||document).createElement("div");if(y.innerHTML=l,!y.hasChildNodes()||y.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,l),new Error(C)}return xo(y.childNodes[0])},Sn=(l,f)=>{const y=(f||document).createElement(l);return xo(y)},Yn=(l,f)=>{const y=(f||document).createTextNode(l);return xo(y)},xo=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},ke={fromHtml:Ye,fromTag:Sn,fromText:Yn,fromDom:xo,fromPoint:(l,f,p)=>ie.from(l.dom.elementFromPoint(f,p)).map(xo)},mo=(l,f)=>{const p=l.dom;if(p.nodeType!==qr)return!1;{const y=p;if(y.matches!==void 0)return y.matches(f);if(y.msMatchesSelector!==void 0)return y.msMatchesSelector(f);if(y.webkitMatchesSelector!==void 0)return y.webkitMatchesSelector(f);if(y.mozMatchesSelector!==void 0)return y.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},fe=l=>l.nodeType!==qr&&l.nodeType!==kr&&l.nodeType!==Vr||l.childElementCount===0,ge=(l,f)=>{const p=f===void 0?document:f.dom;return fe(p)?[]:Yt(p.querySelectorAll(l),ke.fromDom)},yt=(l,f)=>{const p=f===void 0?document:f.dom;return fe(p)?ie.none():ie.from(p.querySelector(l)).map(ke.fromDom)},_t=(l,f)=>l.dom===f.dom,Xt=(l,f)=>{const p=l.dom,y=f.dom;return p===y?!1:p.contains(y)},xn=mo,_n=l=>ke.fromDom(l.dom.ownerDocument),wn=l=>Ge(l)?l:_n(l),On=l=>ke.fromDom(wn(l).dom.documentElement),no=l=>ke.fromDom(wn(l).dom.defaultView),ds=l=>ie.from(l.dom.parentNode).map(ke.fromDom),Hs=l=>ie.from(l.dom.parentElement).map(ke.fromDom),va=(l,f)=>{const p=It(f)?f:Zt;let y=l.dom;const C=[];for(;y.parentNode!==null&&y.parentNode!==void 0;){const O=y.parentNode,$=ke.fromDom(O);if(C.push($),p($)===!0)break;y=O}return C},Gr=l=>ie.from(l.dom.previousSibling).map(ke.fromDom),oc=l=>ie.from(l.dom.nextSibling).map(ke.fromDom),yo=l=>Yt(l.dom.childNodes,ke.fromDom),os=(l,f)=>{const p=l.dom.childNodes;return ie.from(p[f]).map(ke.fromDom)},Us=l=>os(l,0),ka=(l,f)=>{ds(l).each(y=>{y.dom.insertBefore(f.dom,l.dom)})},la=(l,f)=>{oc(l).fold(()=>{ds(l).each(C=>{js(C,f)})},y=>{ka(y,f)})},Jr=(l,f)=>{Us(l).fold(()=>{js(l,f)},y=>{l.dom.insertBefore(f.dom,y.dom)})},js=(l,f)=>{l.dom.appendChild(f.dom)},du=(l,f,p)=>{os(l,p).fold(()=>{js(l,f)},y=>{ka(y,f)})},mi=(l,f)=>{ka(l,f),js(f,l)},fs=(l,f)=>{Xe(f,(p,y)=>{const C=y===0?l:f[y-1];la(C,p)})},Oa=(l,f)=>{Xe(f,p=>{js(l,p)})},za=l=>{l.dom.textContent="",Xe(yo(l),f=>{Mr(f)})},Mr=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},Ki=l=>{const f=yo(l);f.length>0&&fs(l,f),Mr(l)},sc=(l,f)=>ke.fromDom(l.dom.cloneNode(f)),Da=l=>sc(l,!1),Sc=l=>sc(l,!0),xc=(l,f)=>{const p=ke.fromTag(f),y=We(l);return wr(p,y),p},Ic=(l,f)=>{const p=xc(l,f),y=yo(Sc(l));return Oa(p,y),p},Ni=(l,f)=>{const p=xc(l,f);la(l,p);const y=yo(l);return Oa(p,y),Mr(l),p},Yi=["tfoot","thead","tbody","colgroup"],qa=l=>un(Yi,l),Kc=(l,f)=>({rows:l,columns:f}),gi=(l,f)=>({row:l,column:f}),Xi=(l,f,p)=>({element:l,rowspan:f,colspan:p}),pi=(l,f,p,y)=>({element:l,rowspan:f,colspan:p,isNew:y}),Z=(l,f,p,y,C,O)=>({element:l,rowspan:f,colspan:p,row:y,column:C,isLocked:O}),pe=(l,f,p)=>({element:l,cells:f,section:p}),Ae=(l,f,p,y)=>({element:l,cells:f,section:p,isNew:y}),Le=(l,f,p)=>({element:l,isNew:f,isLocked:p}),Rt=(l,f,p,y)=>({element:l,cells:f,section:p,isNew:y}),eo=(l,f,p,y)=>({startRow:l,startCol:f,finishRow:p,finishCol:y}),ps=(l,f,p)=>({element:l,colspan:f,column:p}),Ys=(l,f)=>({element:l,columns:f}),$s=l=>Wt(l)&&jt(l.dom.host),hr=It(Element.prototype.attachShadow)&&It(Node.prototype.getRootNode),cs=j(hr),_r=hr?l=>ke.fromDom(l.dom.getRootNode()):wn,Yc=l=>{const f=_r(l);return $s(f)?ie.some(f):ie.none()},hi=l=>ke.fromDom(l.dom.host),nn=l=>{if(cs()&&jt(l.target)){const f=ke.fromDom(l.target);if(ar(f)&&fu(f)&&l.composed&&l.composedPath){const p=l.composedPath();if(p)return ae(p)}}return ie.from(l.target)},fu=l=>jt(l.dom.shadowRoot),br=l=>{const f=Ee(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const p=f.ownerDocument;return Yc(ke.fromDom(f)).fold(()=>p.body.contains(f),xt(br,hi))},B=()=>Y(ke.fromDom(document)),Y=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return ke.fromDom(f)},se=(l,f,p)=>wt(va(l,p),f),Ke=(l,f)=>wt(yo(l),f),en=(l,f)=>{let p=[];return Xe(yo(l),y=>{f(y)&&(p=p.concat([y])),p=p.concat(en(y,f))}),p},Wo=(l,f,p)=>se(l,y=>mo(y,f),p),Cn=(l,f)=>Ke(l,p=>mo(p,f)),dr=(l,f)=>ge(f,l);var Et=(l,f,p,y,C)=>l(p,y)?ie.some(p):It(C)&&C(p)?ie.none():f(p,y,C);const Ws=(l,f,p)=>{let y=l.dom;const C=It(p)?p:Zt;for(;y.parentNode;){y=y.parentNode;const O=ke.fromDom(y);if(f(O))return ie.some(O);if(C(O))break}return ie.none()},Ga=(l,f,p)=>Et((C,O)=>O(C),Ws,l,f,p),zr=(l,f)=>{const p=C=>f(ke.fromDom(C));return F(l.dom.childNodes,p).map(ke.fromDom)},sa=(l,f)=>{const p=y=>{for(let C=0;C<y.childNodes.length;C++){const O=ke.fromDom(y.childNodes[C]);if(f(O))return ie.some(O);const $=p(y.childNodes[C]);if($.isSome())return $}return ie.none()};return p(l.dom)},Mi=(l,f,p)=>Ws(l,y=>mo(y,f),p),q=(l,f)=>zr(l,p=>mo(p,f)),ue=(l,f)=>yt(f,l),Be=(l,f,p)=>Et((C,O)=>mo(C,O),Mi,l,f,p),ht=(l,f,p=Mo)=>l.exists(y=>p(y,f)),ln=l=>{const f=[],p=y=>{f.push(y)};for(let y=0;y<l.length;y++)l[y].each(p);return f},Jo=(l,f)=>l!=null?f(l):ie.none(),Cr=(l,f)=>l?ie.some(f):ie.none(),wa=(l,f,p)=>f===""||l.length>=f.length&&l.substr(p,p+f.length)===f,ts=(l,f,p=0,y)=>{const C=l.indexOf(f,p);return C!==-1?_o(y)?!0:C+f.length<=y:!1},Kr=(l,f)=>wa(l,f,0),Br=(l,f)=>wa(l,f,l.length-f.length),Ka=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),$l=l=>l.length>0,Xs=l=>{const f=parseFloat(l);return isNaN(f)?ie.none():ie.some(f)},or=l=>l.style!==void 0&&It(l.style.getPropertyValue),Ra=(l,f,p)=>{if(!Fn(p))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",p,":: Element ",l),new Error("CSS value must be a string: "+p);or(l)&&l.style.setProperty(f,p)},ep=(l,f)=>{or(l)&&l.style.removeProperty(f)},Pr=(l,f,p)=>{const y=l.dom;Ra(y,f,p)},rc=(l,f)=>{const p=l.dom;Q(f,(y,C)=>{Ra(p,C,y)})},Ya=(l,f)=>{const p=l.dom,C=window.getComputedStyle(p).getPropertyValue(f);return C===""&&!br(l)?tp(p,f):C},tp=(l,f)=>or(l)?l.style.getPropertyValue(f):"",Vm=(l,f)=>{const p=l.dom,y=tp(p,f);return ie.from(y).filter(C=>C.length>0)},Ji=(l,f)=>{const p=l.dom;ep(p,f),ht(de(l,"style").map(Ka),"")&&re(l,"style")},md=(l,f)=>{const p=l.dom,y=f.dom;or(p)&&or(y)&&(y.style.cssText=p.style.cssText)},ir=(l,f,p=0)=>de(l,f).map(y=>parseInt(y,10)).getOr(p),bi=(l,f)=>ir(l,f,1),Fa=l=>kn("col")(l)?ir(l,"span",1)>1:bi(l,"colspan")>1,hl=l=>bi(l,"rowspan")>1,aa=(l,f)=>parseInt(Ya(l,f),10),Yr=j(10),Bi=j(10),gd=(l,f)=>Pi(l,f,Pe),Pi=(l,f,p)=>ft(yo(l),y=>mo(y,f)?p(y)?[y]:[]:Pi(y,f,p)),mu=(l,f,p=Zt)=>{if(p(f))return ie.none();if(un(l,_s(f)))return ie.some(f);const y=C=>mo(C,"table")||p(C);return Mi(f,l.join(","),y)},Il=(l,f)=>mu(["td","th"],l,f),Na=l=>gd(l,"th,td"),tf=l=>mo(l,"colgroup")?Cn(l,"col"):ft(yl(l),f=>Cn(f,"col")),bc=(l,f)=>Be(l,"table",f),bl=l=>gd(l,"tr"),yl=l=>bc(l).fold(j([]),f=>Cn(f,"colgroup")),Lu=(l,f)=>Yt(l,p=>{if(_s(p)==="colgroup"){const y=Yt(tf(p),C=>{const O=ir(C,"span",1);return Xi(C,1,O)});return pe(p,y,"colgroup")}else{const y=Yt(Na(p),C=>{const O=ir(C,"rowspan",1),$=ir(C,"colspan",1);return Xi(C,O,$)});return pe(p,y,f(p))}}),gu=l=>ds(l).map(f=>{const p=_s(f);return qa(p)?p:"tbody"}).getOr("tbody"),Ll=l=>{const f=bl(l),y=[...yl(l),...f];return Lu(y,gu)},Um=(l,f)=>Lu(l,()=>f),Hl=l=>{let f=!1,p;return(...y)=>(f||(f=!0,p=l.apply(null,y)),p)},jm=(l,f,p,y)=>{const C=l.isiOS()&&/ipad/i.test(p)===!0,O=l.isiOS()&&!C,$=l.isiOS()||l.isAndroid(),W=$||y("(pointer:coarse)"),te=C||!O&&$&&y("(min-device-width:768px)"),he=O||$&&!te,Ne=f.isSafari()&&l.isiOS()&&/safari/i.test(p)===!1,Ct=!he&&!te&&!Ne;return{isiPad:j(C),isiPhone:j(O),isTablet:j(te),isPhone:j(he),isTouch:j(W),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:j(Ne),isDesktop:j(Ct)}},nf=(l,f)=>{for(let p=0;p<l.length;p++){const y=l[p];if(y.test(f))return y}},Wm=(l,f)=>{const p=nf(l,f);if(!p)return{major:0,minor:0};const y=C=>Number(f.replace(p,"$"+C));return le(y(1),y(2))},Hu=(l,f)=>{const p=String(f).toLowerCase();return l.length===0?np():Wm(l,p)},np=()=>le(0,0),le=(l,f)=>({major:l,minor:f}),pu={nu:le,detect:Hu,unknown:np},Fi=(l,f)=>Fe(f.brands,p=>{const y=p.brand.toLowerCase();return F(l,C=>{var O;return y===((O=C.brand)===null||O===void 0?void 0:O.toLowerCase())}).map(C=>({current:C.name,version:pu.nu(parseInt(p.version,10),0)}))}),em=(l,f)=>{const p=String(f).toLowerCase();return F(l,y=>y.search(p))},yy=(l,f)=>em(l,f).map(p=>{const y=pu.detect(p.versionRegexes,f);return{current:p.name,version:y}}),op=(l,f)=>em(l,f).map(p=>{const y=pu.detect(p.versionRegexes,f);return{current:p.name,version:y}}),Ns=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$a=l=>f=>ts(f,l),Qi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>ts(l,"edge/")&&ts(l,"chrome")&&ts(l,"safari")&&ts(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ns],search:l=>ts(l,"chrome")&&!ts(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>ts(l,"msie")||ts(l,"trident")},{name:"Opera",versionRegexes:[Ns,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$a("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$a("firefox")},{name:"Safari",versionRegexes:[Ns,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(ts(l,"safari")||ts(l,"mobile/"))&&ts(l,"applewebkit")}],yi=[{name:"Windows",search:$a("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>ts(l,"iphone")||ts(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$a("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$a("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$a("linux"),versionRegexes:[]},{name:"Solaris",search:$a("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$a("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$a("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],tm={browsers:j(Qi),oses:j(yi)},hu="Edge",Lc="Chromium",pd="IE",Zm="Opera",qm="Firefox",vi="Safari",of=()=>Gm({current:void 0,version:pu.unknown()}),Gm=l=>{const f=l.current,p=l.version,y=C=>()=>f===C;return{current:f,version:p,isEdge:y(hu),isChromium:y(Lc),isIE:y(pd),isOpera:y(Zm),isFirefox:y(qm),isSafari:y(vi)}},Xc={unknown:of,nu:Gm,edge:j(hu),chromium:j(Lc),ie:j(pd),opera:j(Zm),firefox:j(qm),safari:j(vi)},Ia="Windows",bu="iOS",hd="Android",ki="Linux",Hc="macOS",sf="Solaris",sp="FreeBSD",rf="ChromeOS",Km=()=>af({current:void 0,version:pu.unknown()}),af=l=>{const f=l.current,p=l.version,y=C=>()=>f===C;return{current:f,version:p,isWindows:y(Ia),isiOS:y(bu),isAndroid:y(hd),isMacOS:y(Hc),isLinux:y(ki),isSolaris:y(sf),isFreeBSD:y(sp),isChromeOS:y(rf)}},$i={unknown:Km,nu:af,windows:j(Ia),ios:j(bu),android:j(hd),linux:j(ki),macos:j(Hc),solaris:j(sf),freebsd:j(sp),chromeos:j(rf)},vy={detect:(l,f,p)=>{const y=tm.browsers(),C=tm.oses(),O=f.bind(te=>Fi(y,te)).orThunk(()=>yy(y,l)).fold(Xc.unknown,Xc.nu),$=op(C,l).fold($i.unknown,$i.nu),W=jm($,O,l,p);return{browser:O,os:$,deviceType:W}}},ap=l=>window.matchMedia(l).matches;let Ym=Hl(()=>vy.detect(navigator.userAgent,ie.from(navigator.userAgentData),ap));const cf=()=>Ym(),nm=(l,f)=>{const p=(W,te)=>{if(!tn(te)&&!te.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+te);const he=W.dom;or(he)&&(he.style[l]=te+"px")},y=W=>{const te=f(W);if(te<=0||te===null){const he=Ya(W,l);return parseFloat(he)||0}return te},C=y,O=(W,te)=>De(te,(he,Ne)=>{const Ct=Ya(W,Ne),sn=Ct===void 0?0:parseInt(Ct,10);return isNaN(sn)?he:he+sn},0);return{set:p,get:y,getOuter:C,aggregate:O,max:(W,te,he)=>{const Ne=O(W,he);return te>Ne?te-Ne:0}}},bd=(l,f)=>Xs(l).getOr(f),yr=(l,f,p)=>bd(Ya(l,f),p),Fr=(l,f,p,y)=>{const C=yr(l,`padding-${p}`,0),O=yr(l,`padding-${y}`,0),$=yr(l,`border-${p}-width`,0),W=yr(l,`border-${y}-width`,0);return f-C-O-$-W},Vc=(l,f)=>{const p=l.dom,y=p.getBoundingClientRect().width||p.offsetWidth;return f==="border-box"?y:Fr(l,y,"left","right")},Xm=l=>yr(l,"height",l.dom.offsetHeight),Jm=l=>yr(l,"width",l.dom.offsetWidth),Xa=l=>Vc(l,"content-box"),Vu=nm("width",l=>l.dom.offsetWidth),Tc=l=>Vu.get(l),vl=l=>Vu.getOuter(l),om=Xa,Fo=Jm,Uc=(l,f,p)=>{const y=l.cells,C=y.slice(0,f),O=y.slice(f),$=C.concat(p).concat(O);return Qm(l,$)},yu=(l,f,p)=>Uc(l,f,[p]),yd=(l,f,p)=>{const y=l.cells;y[f]=p},Qm=(l,f)=>Rt(l.element,f,l.section,l.isNew),x=(l,f)=>{const p=l.cells,y=Yt(p,f);return Rt(l.element,y,l.section,l.isNew)},R=(l,f)=>l.cells[f],H=(l,f)=>R(l,f).element,ce=l=>l.cells.length,me=l=>{const f=Zo(l,p=>p.section==="colgroup");return{rows:f.fail,cols:f.pass}},Dt=(l,f,p)=>{const y=Yt(l.cells,p);return Rt(f(l.element),y,l.section,!0)},co="data-snooker-locked-cols",Nn=l=>de(l,co).bind(f=>ie.from(f.match(/\d+/g))).map(f=>X(f,Pe)),Xn=l=>{const f=De(me(l).rows,(y,C)=>(Xe(C.cells,(O,$)=>{O.isLocked&&(y[$]=!0)}),y),{}),p=Rn(f,(y,C)=>parseInt(C,10));return be(p)},io=(l,f)=>l+","+f,Sr=(l,f,p)=>ie.from(l.access[io(f,p)]),Vs=(l,f,p)=>{const y=Ii(l,C=>p(f,C.element));return y.length>0?ie.some(y[0]):ie.none()},Ii=(l,f)=>{const p=ft(l.all,y=>y.cells);return wt(p,f)},vd=l=>{const f={};let p=0;return Xe(l.cells,y=>{const C=y.colspan;Bn(C,O=>{const $=p+O;f[$]=ps(y.element,C,$)}),p+=C}),f},sr=l=>{const f={},p=[],C=ae(l).map(Jt=>Jt.element).bind(bc).bind(Nn).getOr({});let O=0,$=0,W=0;const{pass:te,fail:he}=Zo(l,Jt=>Jt.section==="colgroup");Xe(he,Jt=>{const bt=[];Xe(Jt.cells,Qt=>{let pt=0;for(;f[io(W,pt)]!==void 0;)pt++;const zn=Gn(C,pt.toString()),Oo=Z(Qt.element,Qt.rowspan,Qt.colspan,W,pt,zn);for(let Go=0;Go<Qt.colspan;Go++)for(let Lr=0;Lr<Qt.rowspan;Lr++){const Pa=W+Lr,Ta=pt+Go,ri=io(Pa,Ta);f[ri]=Oo,$=Math.max($,Ta+1)}bt.push(Oo)}),O++,p.push(pe(Jt.element,bt,Jt.section)),W++});const{columns:Ne,colgroups:Ct}=Me(te).map(Jt=>{const bt=vd(Jt);return{colgroups:[Ys(Jt.element,An(bt))],columns:bt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Kc(O,$),access:f,all:p,columns:Ne,colgroups:Ct}},Qo={fromTable:l=>{const f=Ll(l);return sr(f)},generate:sr,getAt:Sr,findItem:Vs,filterItems:Ii,justCells:l=>ft(l.all,f=>f.cells),justColumns:l=>An(l.columns),hasColumns:l=>qe(l.columns).length>0,getColumnAt:(l,f)=>ie.from(l.columns[f])},uf=(l,f=Pe)=>{const p=l.grid,y=Bn(p.columns,dt),C=Bn(p.rows,dt);return Yt(y,O=>xh(()=>ft(C,he=>Qo.getAt(l,he,O).filter(Ne=>Ne.column===O).toArray()),he=>he.colspan===1&&f(he.element),()=>Qo.getAt(l,0,O)))},xh=(l,f,p)=>{const y=l();return F(y,f).orThunk(()=>ie.from(y[0]).orThunk(p)).map($=>$.element)},Th=l=>{const f=l.grid,p=Bn(f.rows,dt),y=Bn(f.columns,dt);return Yt(p,C=>xh(()=>ft(y,te=>Qo.getAt(l,C,te).filter(he=>he.row===C).fold(j([]),he=>[he])),te=>te.rowspan===1,()=>Qo.getAt(l,C,0)))},y_=(l,f)=>{if(f<0||f>=l.length-1)return ie.none();const p=l[f].fold(()=>{const C=on(l.slice(0,f));return Fe(C,(O,$)=>O.map(W=>({value:W,delta:$+1})))},C=>ie.some({value:C,delta:0})),y=l[f+1].fold(()=>{const C=l.slice(f+1);return Fe(C,(O,$)=>O.map(W=>({value:W,delta:$+1})))},C=>ie.some({value:C,delta:1}));return p.bind(C=>y.map(O=>{const $=O.delta+C.delta;return Math.abs(O.value-C.value)/$}))},ky=(l,f)=>p=>cp(p)==="rtl"?f:l,cp=l=>Ya(l,"direction")==="rtl"?"rtl":"ltr",Eh=nm("height",l=>{const f=l.dom;return br(l)?f.getBoundingClientRect().height:f.offsetHeight}),eg=l=>Eh.get(l),df=l=>Eh.getOuter(l),sm=Xm,wy=(l,f)=>({left:l,top:f,translate:(y,C)=>wy(l+y,f+C)}),kl=wy,Hv=l=>{const f=l.getBoundingClientRect();return kl(f.left,f.top)},rm=(l,f)=>l!==void 0?l:f!==void 0?f:0,el=l=>{const f=l.dom.ownerDocument,p=f.body,y=f.defaultView,C=f.documentElement;if(p===l.dom)return kl(p.offsetLeft,p.offsetTop);const O=rm(y==null?void 0:y.pageYOffset,C.scrollTop),$=rm(y==null?void 0:y.pageXOffset,C.scrollLeft),W=rm(C.clientTop,p.clientTop),te=rm(C.clientLeft,p.clientLeft);return Ah(l).translate($-te,O-W)},Ah=l=>{const f=l.dom,y=f.ownerDocument.body;return y===f?kl(y.offsetLeft,y.offsetTop):br(l)?Hv(f):kl(0,0)},Oh=(l,f)=>({row:l,y:f}),zh=(l,f)=>({col:l,x:f}),ip=l=>el(l).left+vl(l),Dh=l=>el(l).left,Rh=(l,f)=>zh(l,Dh(f)),Nh=(l,f)=>zh(l,ip(f)),La=l=>el(l).top,Vv=(l,f)=>Oh(l,La(f)),vr=(l,f)=>Oh(l,La(f)+df(f)),Jn=(l,f,p)=>{if(p.length===0)return[];const y=Yt(p.slice(1),(O,$)=>O.map(W=>l($,W))),C=p[p.length-1].map(O=>f(p.length-1,O));return y.concat([C])},ku=l=>-l,gn={delta:dt,positions:l=>Jn(Vv,vr,l),edge:La},Uu=ky({delta:dt,edge:Dh,positions:l=>Jn(Rh,Nh,l)},{delta:ku,edge:ip,positions:l=>Jn(Nh,Rh,l)}),Qc={delta:(l,f)=>Uu(f).delta(l,f),positions:(l,f)=>Uu(f).positions(l,f),edge:l=>Uu(l).edge(l)},am={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},wu=(()=>{const l="[0-9]+",p="[eE]"+("[+-]?"+l),y="\\.",C=W=>`(?:${W})?`,$=`[+-]?(?:${["Infinity",l+y+C(l)+C(p),y+l+C(p),l+C(p)].join("|")})`;return new RegExp(`^(${$})(.*)$`)})(),Ja=(l,f)=>st(f,p=>st(am[p],y=>l===y)),tl=(l,f)=>ie.from(wu.exec(l)).bind(y=>{const C=Number(y[1]),O=y[2];return Ja(O,f)?ie.some({value:C,unit:O}):ie.none()}),tg=/(\d+(\.\d+)?)%/,lp=/(\d+(\.\d+)?)px|em/,Bt=kn("col"),Mh=(l,f,p)=>{const y=Hs(l).getOrThunk(()=>Y(_n(l)));return f(l)/p(y)*100},mf=(l,f)=>{Pr(l,"width",f+"px")},ju=(l,f)=>{Pr(l,"width",f+"%")},_l=(l,f)=>{Pr(l,"height",f+"px")},up=l=>sm(l)+"px",Qr=(l,f,p,y)=>{const C=bc(l).map(O=>{const $=p(O);return Math.floor(f/100*$)}).getOr(f);return y(l,C),C},jr=(l,f,p,y)=>{const C=parseFloat(l);return Br(l,"%")&&_s(f)!=="table"?Qr(f,C,p,y):C},Qa=l=>{const f=up(l);return f?jr(f,l,eg,_l):eg(l)},As=(l,f,p)=>{const y=p(l),C=bi(l,f);return y/C},_u=(l,f)=>Vm(l,f).orThunk(()=>de(l,f).map(p=>p+"px")),ac=l=>_u(l,"width"),Cl=l=>_u(l,"height"),cc=l=>Mh(l,Tc,om),yc=l=>Bt(l)?Tc(l):Fo(l),dp=l=>As(l,"rowspan",Qa),vt=l=>ac(l).bind(p=>tl(p,["fixed","relative","empty"])),fr=(l,f,p)=>{Pr(l,"width",f+p)},Bh=l=>Tc(l)+"px",ua=l=>Mh(l,Tc,om)+"%",wd=l=>ac(l).exists(f=>tg.test(f)),fp=l=>ac(l).exists(f=>lp.test(f)),wi=l=>ac(l).isNone(),_y=j(tg),Wu=kn("col"),Cy=l=>ac(l).getOrThunk(()=>yc(l)+"px"),Li=l=>Cl(l).getOrThunk(()=>dp(l)+"px"),Is=l=>Yt(Qo.justColumns(l),f=>ie.from(f.element)),Cu=l=>{const f=cf().browser,p=f.isChromium()||f.isFirefox();return Wu(l)?p:!0},gf=(l,f,p,y,C,O)=>l.filter(y).fold(()=>O(y_(p,f)),$=>C($)),vc=(l,f,p,y)=>{const C=uf(l),O=Qo.hasColumns(l)?Is(l):C,$=[ie.some(Qc.edge(f))].concat(Yt(Qc.positions(C,f),te=>te.map(he=>he.x))),W=U(Fa);return Yt(O,(te,he)=>gf(te,he,$,W,Ne=>{if(Cu(Ne))return p(Ne);{const Ct=Jo(C[he],dt);return gf(Ct,he,$,W,sn=>y(ie.some(Tc(sn))),y)}},y))},Ph=l=>l.map(f=>f+"px").getOr(""),pf=(l,f)=>vc(l,f,Cy,Ph),Sy=(l,f,p)=>vc(l,f,cc,y=>y.fold(()=>p.minCellWidth(),C=>C/p.pixelWidth()*100)),_a=(l,f,p)=>vc(l,f,yc,y=>y.getOrThunk(p.minCellWidth)),Hi=(l,f,p,y,C)=>{const O=Th(l),$=[ie.some(p.edge(f))].concat(Yt(p.positions(O,f),W=>W.map(te=>te.y)));return Yt(O,(W,te)=>gf(W,te,$,U(hl),y,C))},$e=(l,f,p)=>Hi(l,f,p,dp,y=>y.getOrThunk(Bi)),jc=(l,f,p)=>Hi(l,f,p,Li,Ph),_i=(l,f)=>()=>br(l)?f(l):parseFloat(Vm(l,"width").getOr("0")),Vi=l=>{const f=_i(l,Tc),p=j(0);return{width:f,pixelWidth:f,getWidths:(C,O)=>_a(C,l,O),getCellDelta:p,singleColumnWidth:j([0]),minCellWidth:p,setElementWidth:ot,adjustTableWidth:ot,isRelative:!0,label:"none"}},Ui=l=>{const f=_i(l,te=>parseFloat(ua(te))),p=_i(l,Tc);return{width:f,pixelWidth:p,getWidths:(te,he)=>Sy(te,l,he),getCellDelta:te=>te/p()*100,singleColumnWidth:(te,he)=>[100-te],minCellWidth:()=>Yr()/p()*100,setElementWidth:ju,adjustTableWidth:te=>{const he=f(),Ne=te/100*he,Ct=he+Ne;ju(l,Ct)},isRelative:!0,label:"percent"}},Ca=l=>{const f=_i(l,Tc);return{width:f,pixelWidth:f,getWidths:($,W)=>_a($,l,W),getCellDelta:dt,singleColumnWidth:($,W)=>[Math.max(Yr(),$+W)-$],minCellWidth:Yr,setElementWidth:mf,adjustTableWidth:$=>{const W=f()+$;mf(l,W)},isRelative:!1,label:"pixel"}},Ha=(l,f)=>_y().exec(f)!==null?Ui(l):Ca(l),Ci={getTableSize:l=>ac(l).fold(()=>Vi(l),p=>Ha(l,p)),pixelSize:Ca,percentageSize:Ui,noneSize:Vi},Fh=(l,f,p,y,C,O)=>({minRow:l,minCol:f,maxRow:p,maxCol:y,allCells:C,selectedCells:O}),po=(l,f)=>{const p=l.grid.columns;let C=l.grid.rows,O=p,$=0,W=0;const te=[],he=[];return Q(l.access,Ne=>{if(te.push(Ne),f(Ne)){he.push(Ne);const Ct=Ne.row,sn=Ct+Ne.rowspan-1,Jt=Ne.column,bt=Jt+Ne.colspan-1;Ct<C?C=Ct:sn>$&&($=sn),Jt<O?O=Jt:bt>W&&(W=bt)}}),Fh(C,O,$,W,te,he)},w=(l,f,p)=>{const y=l[p].element,C=ke.fromTag("td");js(C,ke.fromTag("br")),(f?js:Jr)(y,C)},S=(l,f,p,y)=>{const C=wt(l,W=>W.section!=="colgroup"),O=f.grid.columns,$=f.grid.rows;for(let W=0;W<$;W++){let te=!1;for(let he=0;he<O;he++)W<p.minRow||W>p.maxRow||he<p.minCol||he>p.maxCol||(Qo.getAt(f,W,he).filter(y).isNone()?w(C,te,W):te=!0)}},L=(l,f,p,y)=>{Q(p.columns,$=>{($.column<f.minCol||$.column>f.maxCol)&&Mr($.element)});const C=wt(gd(l,"tr"),$=>$.dom.childElementCount===0);Xe(C,Mr),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&Xe(gd(l,"th,td"),$=>{re($,"rowspan"),re($,"colspan")}),re(l,co),re(l,"data-snooker-col-series"),Ci.getTableSize(l).adjustTableWidth(y)},G=(l,f,p,y)=>{if(y.minCol===0&&f.grid.columns===y.maxCol+1)return 0;const C=_a(f,l,p),O=De(C,(he,Ne)=>he+Ne,0),te=De(C.slice(y.minCol,y.maxCol+1),(he,Ne)=>he+Ne,0)/O*p.pixelWidth()-p.pixelWidth();return p.getCellDelta(te)},we=(l,f)=>{const p=sn=>mo(sn.element,f),y=Sc(l),C=Ll(y),O=Ci.getTableSize(l),$=Qo.generate(C),W=po($,p),te="th:not("+f+"),td:not("+f+")",he=Pi(y,"th,td",sn=>mo(sn,te));Xe(he,Mr),S(C,$,W,p);const Ne=Qo.fromTable(l),Ct=G(l,Ne,O,W);return L(y,W,$,Ct),y},Qe=" ",qt=((l,f)=>{const p=O=>{if(!l(O))throw new Error("Can only get "+f+" value of a "+f+" node");return y(O).getOr("")},y=O=>l(O)?ie.from(O.dom.nodeValue):ie.none();return{get:p,getOption:y,set:(O,$)=>{if(!l(O))throw new Error("Can only set raw "+f+" value of a "+f+" node");O.dom.nodeValue=$}}})(Ee,"text"),vo=l=>qt.get(l),Ao=l=>qt.getOption(l),xr=(l,f)=>qt.set(l,f),ks=l=>_s(l)==="img"?1:Ao(l).fold(()=>yo(l).length,f=>f.length),Ps=l=>Ao(l).filter(f=>f.trim().length!==0||f.indexOf(Qe)>-1).isSome(),ei=l=>Kn(l)&&cr(l,"contenteditable")==="false",nl=["img","br"],Sl=l=>Ps(l)||un(nl,_s(l))||ei(l),Su=l=>sa(l,Sl),Zu=l=>hf(l,Sl),hf=(l,f)=>{const p=y=>{const C=yo(y);for(let O=C.length-1;O>=0;O--){const $=C[O];if(f($))return ie.some($);const W=p($);if(W.isSome())return W}return ie.none()};return p(l)},_d={scope:["row","col"]},bf=l=>()=>{const f=ke.fromTag("td",l.dom);return js(f,ke.fromTag("br",l.dom)),f},yf=l=>()=>ke.fromTag("col",l.dom),da=l=>()=>ke.fromTag("colgroup",l.dom),ji=l=>()=>ke.fromTag("tr",l.dom),ng=(l,f,p)=>{const y=Ic(l,f);return Q(p,(C,O)=>{C===null?re(y,O):Xo(y,O,C)}),y},vf=l=>l,Ms=(l,f,p)=>Su(l).map(C=>{const O=p.join(","),$=Wo(C,O,W=>_t(W,l));return fn($,(W,te)=>{const he=Da(te);return js(W,he),he},f)}).getOr(f),Zs=(l,f)=>{Q(_d,(p,y)=>de(l,y).filter(C=>un(p,C)).each(C=>Xo(f,y,C)))},Va=(l,f,p)=>{const y=($,W)=>{md($.element,W),Ji(W,"height"),$.colspan!==1&&Ji(W,"width")},C=$=>{const W=ke.fromTag(_s($.element),f.dom),te=p.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),he=te.length>0?Ms($.element,W,te):W;return js(he,ke.fromTag("br")),y($,W),Zs($.element,W),l($.element,W),W};return{col:$=>{const W=ke.fromTag(_s($.element),f.dom);return y($,W),l($.element,W),W},colgroup:da(f),row:ji(f),cell:C,replace:ng,colGap:yf(f),gap:bf(f)}},ti=l=>({col:yf(l),colgroup:da(l),row:ji(l),cell:bf(l),replace:vf,colGap:yf(l),gap:bf(l)}),$h=(l,f)=>{const y=(f||document).createElement("div");return y.innerHTML=l,yo(ke.fromDom(y))},ic=l=>Yt(l,ke.fromDom),Ec=l=>f=>f.options.get(l),Cd="100%",xu=l=>{var f;const p=l.dom,y=(f=p.getParent(l.selection.getStart(),p.isBlock))!==null&&f!==void 0?f:l.getBody();return om(ke.fromDom(y))+"px"},hT=(l,f)=>rg(l)||!ol(l)?f:um(l)?{...f,width:xu(l)}:{...f,width:Cd},og=(l,f)=>rg(l)||ol(l)?f:um(l)?{...f,width:xu(l)}:{...f,width:Cd},sg=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:p=>{const y=un(["section","cells","sectionCells","auto"],p);return y?{value:p,valid:y}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:p=>{const y=un(["preservetable","resizetable"],p);return y?{value:p,valid:y}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},im=l=>ie.from(l.options.get("table_clone_elements")),lm=l=>{const f=l.options.get("object_resizing");return un(f.split(","),"table")},mp=Ec("table_header_type"),Uv=Ec("table_column_resizing"),jv=l=>Uv(l)==="preservetable",fa=l=>Uv(l)==="resizetable",xy=Ec("table_sizing_mode"),qu=l=>xy(l)==="relative",um=l=>xy(l)==="fixed",rg=l=>xy(l)==="responsive",Sd=Ec("table_resize_bars"),ol=Ec("table_style_by_css"),Ih=Ec("table_merge_content_on_paste"),Lh=l=>{const f=l.options,p=f.get("table_default_attributes");return f.isSet("table_default_attributes")?p:og(l,p)},bT=l=>{const f=l.options,p=f.get("table_default_styles");return f.isSet("table_default_styles")?p:hT(l,p)},ma=Ec("table_use_colgroups"),ag=l=>Be(l,"[contenteditable]"),dm=(l,f=!1)=>br(l)?l.dom.isContentEditable:ag(l).fold(j(f),p=>Ty(p)==="true"),Ty=l=>l.dom.contentEditable,Hh=l=>ke.fromDom(l.getBody()),kf=l=>f=>_t(f,Hh(l)),Gu=l=>{re(l,"data-mce-style");const f=p=>re(p,"data-mce-style");Xe(Na(l),f),Xe(tf(l),f),Xe(bl(l),f)},Vl=l=>ke.fromDom(l.selection.getStart()),cg=l=>l.getBoundingClientRect().width,fm=l=>l.getBoundingClientRect().height,Ey=(l,f)=>{const p=l.dom.getStyle(f,"width")||l.dom.getAttrib(f,"width");return ie.from(p).filter($l)},Ay=l=>/^(\d+(\.\d+)?)%$/.test(l),Wv=l=>/^(\d+(\.\d+)?)px$/.test(l),gp=l=>Ga(l,kn("table")).exists(dm),Oy=(l,f)=>{const p=f.column,y=f.column+f.colspan-1,C=f.row,O=f.row+f.rowspan-1;return p<=l.finishCol&&y>=l.startCol&&C<=l.finishRow&&O>=l.startRow},zy=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,mm=(l,f)=>{let p=!0;const y=gt(zy,f);for(let C=f.startRow;C<=f.finishRow;C++)for(let O=f.startCol;O<=f.finishCol;O++)p=p&&Qo.getAt(l,C,O).exists(y);return p?ie.some(f):ie.none()},Zv=(l,f)=>eo(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),Ds=(l,f,p)=>{const y=Qo.findItem(l,f,_t),C=Qo.findItem(l,p,_t);return y.bind(O=>C.map($=>Zv(O,$)))},oo=(l,f,p)=>Ds(l,f,p).bind(y=>mm(l,y)),gm=(l,f,p,y)=>Qo.findItem(l,f,_t).bind(C=>{const O=p>0?C.row+C.rowspan-1:C.row,$=y>0?C.column+C.colspan-1:C.column;return Qo.getAt(l,O+p,$+y).map(te=>te.element)}),Dy=(l,f,p)=>Ds(l,f,p).map(y=>{const C=Qo.filterItems(l,gt(Oy,y));return Yt(C,O=>O.element)}),Vh=(l,f)=>{const p=(y,C)=>Xt(C,y);return Qo.findItem(l,f,p).map(y=>y.element)},yT=(l,f,p)=>bc(l).bind(y=>{const C=Ry(y);return gm(C,l,f,p)}),qv=(l,f,p)=>{const y=Ry(l);return Dy(y,f,p)},Tr=(l,f,p,y,C)=>{const O=Ry(l),$=_t(l,p)?ie.some(f):Vh(O,f),W=_t(l,C)?ie.some(y):Vh(O,y);return $.bind(te=>W.bind(he=>Dy(O,te,he)))},Gv=(l,f,p)=>{const y=Ry(l);return oo(y,f,p)},Ry=Qo.fromTable;var Kv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],kt=()=>{const l=he=>ke.fromDom(he.dom.cloneNode(!1)),f=he=>wn(he).dom,p=he=>ar(he)?_s(he)==="body"?!0:un(Kv,_s(he)):!1,y=he=>ar(he)?un(["br","img","hr","input"],_s(he)):!1,C=he=>ar(he)&&cr(he,"contenteditable")==="false",O=(he,Ne)=>he.dom.compareDocumentPosition(Ne.dom),$=(he,Ne)=>{const Ct=We(he);wr(Ne,Ct)},W=he=>{const Ne=_s(he);return un(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ne)},te=he=>ar(he)?de(he,"lang"):ie.none();return{up:j({selector:Mi,closest:Be,predicate:Ws,all:va}),down:j({selector:dr,predicate:en}),styles:j({get:Ya,getRaw:Vm,set:Pr,remove:Ji}),attrs:j({get:cr,set:Xo,remove:re,copyTo:$}),insert:j({before:ka,after:la,afterAll:fs,append:js,appendAll:Oa,prepend:Jr,wrap:mi}),remove:j({unwrap:Ki,remove:Mr}),create:j({nu:ke.fromTag,clone:l,text:ke.fromText}),query:j({comparePosition:O,prevSibling:Gr,nextSibling:oc}),property:j({children:yo,name:_s,parent:ds,document:f,isText:Ee,isComment:Cs,isElement:ar,isSpecial:W,getLanguage:te,getText:vo,setText:xr,isBoundary:p,isEmptyTag:y,isNonEditable:C}),eq:_t,is:xn}};const Ny=(l,f,p,y)=>{const C=p[0],O=p.slice(1);return y(l,f,C,O)},vT=(l,f,p)=>p.length>0?Ny(l,f,p,My):ie.none(),My=(l,f,p,y)=>{const C=f(l,p);return fn(y,(O,$)=>{const W=f(l,$);return kT(l,O,W)},C)},kT=(l,f,p)=>f.bind(y=>p.filter(gt(l.eq,y))),pm=(l,f)=>gt(l.eq,f),Yv=(l,f,p,y=Zt)=>{const C=[f].concat(l.up().all(f)),O=[p].concat(l.up().all(p)),$=Ne=>qo(Ne,y).fold(()=>Ne,sn=>Ne.slice(0,sn+1)),W=$(C),te=$(O),he=F(W,Ne=>st(te,pm(l,Ne)));return{firstpath:W,secondpath:te,shared:he}},xd=vT,By=Yv,ig=kt(),Or=(l,f)=>xd(ig,(p,y)=>l(y),f),Td=(l,f,p)=>By(ig,l,f,p),wf=l=>Mi(l,"table"),Tu=(l,f,p)=>{const y=C=>O=>p!==void 0&&p(O)||_t(O,C);return _t(l,f)?ie.some({boxes:ie.some([l]),start:l,finish:f}):wf(l).bind(C=>wf(f).bind(O=>{if(_t(C,O))return ie.some({boxes:qv(C,l,f),start:l,finish:f});if(Xt(C,O)){const $=Wo(f,"td,th",y(C)),W=$.length>0?$[$.length-1]:f;return ie.some({boxes:Tr(C,l,C,f,O),start:l,finish:W})}else if(Xt(O,C)){const $=Wo(l,"td,th",y(O)),W=$.length>0?$[$.length-1]:l;return ie.some({boxes:Tr(O,l,C,f,O),start:l,finish:W})}else return Td(l,f).shared.bind($=>Be($,"table",p).bind(W=>{const te=Wo(f,"td,th",y(W)),he=te.length>0?te[te.length-1]:f,Ne=Wo(l,"td,th",y(W)),Ct=Ne.length>0?Ne[Ne.length-1]:l;return ie.some({boxes:Tr(W,l,C,f,O),start:Ct,finish:he})}))}))},Xv=(l,f)=>{const p=dr(l,f);return p.length>0?ie.some(p):ie.none()},Py=(l,f)=>F(l,p=>mo(p,f)),_f=(l,f,p)=>ue(l,f).bind(y=>ue(l,p).bind(C=>Or(wf,[y,C]).map(O=>({first:y,last:C,table:O})))),v_=(l,f)=>Mi(l,"table").bind(p=>ue(p,f).bind(y=>Tu(y,l).bind(C=>C.boxes.map(O=>({boxes:O,start:C.start,finish:C.finish}))))),wT=(l,f,p,y,C)=>Py(l,C).bind(O=>yT(O,f,p).bind($=>v_($,y))),Jv=(l,f)=>Xv(l,f),Qv=(l,f,p)=>_f(l,f,p).bind(y=>{const C=te=>_t(l,te),O="thead,tfoot,tbody,table",$=Mi(y.first,O,C),W=Mi(y.last,O,C);return $.bind(te=>W.bind(he=>_t(te,he)?Gv(y.table,y.first,y.last):ie.none()))}),hm=dt,BO=l=>{const f=(y,C)=>de(y,C).exists(O=>parseInt(O,10)>1),p=y=>f(y,"rowspan")||f(y,"colspan");return l.length>0&&mt(l,p)?ie.some(l):ie.none()},bm=(l,f,p)=>f.length<=1?ie.none():Qv(l,p.firstSelectedSelector,p.lastSelectedSelector).map(y=>({bounds:y,cells:f})),lc="data-mce-selected",e0="td["+lc+"],th["+lc+"]",Tn="["+lc+"]",t0="data-mce-first-selected",_T="td["+t0+"],th["+t0+"]",n0="data-mce-last-selected",k_="td["+n0+"],th["+n0+"]",CT=Tn,Cf={selected:lc,selectedSelector:e0,firstSelected:t0,firstSelectedSelector:_T,lastSelected:n0,lastSelectedSelector:k_},ym=(l,f,p)=>({element:p,mergable:bm(f,l,Cf),unmergable:BO(l),selection:hm(l)}),Sf=(l,f,p)=>({element:l,clipboard:f,generators:p}),Uh=(l,f,p,y)=>({selection:hm(l),clipboard:p,generators:y}),xl=l=>bc(l).bind(f=>Jv(f,Cf.firstSelectedSelector)).fold(j(l),f=>f[0]),Fy=l=>(f,p)=>{const y=_s(f),C=y==="col"||y==="colgroup"?xl(f):f;return Be(C,l,p)},w_=Fy("th,td,caption"),pp=Fy("th,td"),Ul=l=>ic(l.model.table.getSelectedCells()),o0=l=>wt(Ul(l),f=>mo(f,Cf.selectedSelector)),Ku=l=>bc(l[0]).map(f=>{const p=we(f,CT);return Gu(p),[p]}),$y=(l,f)=>Yt(f,p=>l.selection.serializer.serialize(p.dom,{})).join(""),ST=l=>Yt(l,f=>f.dom.innerText).join(""),__=(l,f)=>{l.on("BeforeGetContent",p=>{const y=C=>{p.preventDefault(),Ku(C).each(O=>{p.content=p.format==="text"?ST(O):$y(l,O)})};if(p.selection===!0){const C=o0(l);C.length>=1&&y(C)}}),l.on("BeforeSetContent",p=>{if(p.selection===!0&&p.paste===!0){const y=Ul(l);ae(y).each(C=>{bc(C).each(O=>{const $=wt($h(p.content),te=>_s(te)!=="meta"),W=kn("table");if(Ih(l)&&$.length===1&&W($[0])){p.preventDefault();const te=ke.fromDom(l.getDoc()),he=ti(te),Ne=Sf(C,$[0],he);f.pasteCells(O,Ne).each(()=>{l.focus()})}})})}})},vm=(l,f)=>({element:l,offset:f}),Eu=(l,f,p)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?p(f).bind(y=>Eu(l,y,p).orThunk(()=>ie.some(y))):ie.none(),Wi=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,Iy=(l,f)=>{const p=Eu(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(p))return vm(p,Wi(l,p));const y=l.property().children(p);return y.length>0?Iy(l,y[y.length-1]):vm(p,Wi(l,p))},xT=Iy,TT=kt(),Ly=l=>xT(TT,l),sl=(l,f)=>{Fa(l)||vt(l).each(y=>{const C=y.value/2;fr(l,C,y.unit),fr(f,C,y.unit)})},Hy=l=>Yt(l,j(0)),hp=(l,f,p,y,C)=>C(l.slice(0,f)).concat(y).concat(C(l.slice(p))),C_=l=>(f,p,y,C)=>{if(l(y)){const O=Math.max(C,f[p]-Math.abs(y)),$=Math.abs(O-f[p]);return y>=0?$:-$}else return y},Ed=C_(l=>l<0),s0=C_(Pe),S_=()=>{const l=(W,te,he,Ne,Ct)=>{const sn=Ed(W,te,Ne,Ct);return hp(W,te,he+1,[sn,0],Hy)},f=(W,te,he,Ne)=>{const Ct=(100+he)/100,sn=Math.max(Ne,(W[te]+he)/Ct);return Yt(W,(Jt,bt)=>(bt===te?sn:Jt/Ct)-Jt)},p=(W,te,he,Ne,Ct,sn)=>sn?f(W,te,Ne,Ct):l(W,te,he,Ne,Ct);return{resizeTable:(W,te)=>W(te),clampTableDelta:Ed,calcLeftEdgeDeltas:p,calcMiddleDeltas:(W,te,he,Ne,Ct,sn,Jt)=>p(W,he,Ne,Ct,sn,Jt),calcRightEdgeDeltas:(W,te,he,Ne,Ct,sn)=>{if(sn)return f(W,he,Ne,Ct);{const Jt=Ed(W,he,Ne,Ct);return Hy(W.slice(0,he)).concat([Jt])}},calcRedestributedWidths:(W,te,he,Ne)=>{if(Ne){const sn=(te+he)/te,Jt=Yt(W,bt=>bt/sn);return{delta:sn*100-100,newSizes:Jt}}else return{delta:he,newSizes:W}}}},lg=()=>{const l=($,W,te,he,Ne)=>{const Ct=he>=0?te:W,sn=s0($,Ct,he,Ne);return hp($,W,te+1,[sn,-sn],Hy)};return{resizeTable:($,W,te)=>{te&&$(W)},clampTableDelta:($,W,te,he,Ne)=>{if(Ne){if(te>=0)return te;{const Ct=De($,(sn,Jt)=>sn+Jt-he,0);return Math.max(-Ct,te)}}else return Ed($,W,te,he)},calcLeftEdgeDeltas:l,calcMiddleDeltas:($,W,te,he,Ne,Ct)=>l($,te,he,Ne,Ct),calcRightEdgeDeltas:($,W,te,he,Ne,Ct)=>{if(Ct)return Hy($);{const sn=he/$.length;return Yt($,j(sn))}},calcRedestributedWidths:($,W,te,he)=>({delta:0,newSizes:$})}},r0=l=>Qo.fromTable(l).grid,km=kn("th"),jh=l=>mt(l,f=>km(f.element)),bp=(l,f)=>l&&f?"sectionCells":l?"section":"cells",a0=l=>{const f=l.section==="thead",p=ht(c0(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||p?{type:"header",subType:bp(f,p)}:{type:"body"}},c0=l=>{const f=wt(l,p=>km(p.element));return f.length===0?ie.some("td"):f.length===l.length?ie.some("th"):ie.none()},x_=l=>{const f=Yt(l,C=>a0(C).type),p=un(f,"header"),y=un(f,"footer");if(!p&&!y)return ie.some("body");{const C=un(f,"body");return p&&!C&&!y?ie.some("header"):!p&&!C&&y?ie.some("footer"):ie.none()}},ET=l=>Fe(l.all,f=>{const p=a0(f);return p.type==="header"?ie.from(p.subType):ie.none()}),qs=(l,f,p)=>Le(p(l.element,f),!0,l.isLocked),i0=(l,f)=>l.section!==f?Rt(l.element,l.cells,f,l.isNew):l,T_=()=>({transformRow:i0,transformCell:(l,f,p)=>{const y=p(l.element,f),C=_s(y)!=="td"?Ni(y,"td"):y;return Le(C,l.isNew,l.isLocked)}}),E_=()=>({transformRow:i0,transformCell:qs}),Wh=()=>({transformRow:(l,f)=>i0(l,f==="thead"?"tbody":f),transformCell:qs}),Ma={getTableSectionType:(l,f)=>{const p=Qo.fromTable(l);switch(ET(p).getOr(f)){case"section":return T_();case"sectionCells":return E_();case"cells":return Wh()}},section:T_,sectionCells:E_,cells:Wh,fallback:()=>({transformRow:dt,transformCell:qs})},Zh=(l,f,p,y)=>{p===y?re(l,f):Xo(l,f,p)},yp=(l,f,p)=>{Me(Cn(l,f)).fold(()=>Jr(l,p),y=>la(y,p))},A_=(l,f)=>{const p=q(l,f).getOrThunk(()=>{const y=ke.fromTag(f,_n(l).dom);return f==="thead"?yp(l,"caption,colgroup",y):f==="colgroup"?yp(l,"caption",y):js(l,y),y});return za(p),p},qh=(l,f)=>{const p=[],y=[],C=Jt=>Yt(Jt,bt=>{bt.isNew&&p.push(bt.element);const Qt=bt.element;return za(Qt),Xe(bt.cells,pt=>{pt.isNew&&y.push(pt.element),Zh(pt.element,"colspan",pt.colspan,1),Zh(pt.element,"rowspan",pt.rowspan,1),js(Qt,pt.element)}),Qt}),O=Jt=>ft(Jt,bt=>Yt(bt.cells,Qt=>(Zh(Qt.element,"span",Qt.colspan,1),Qt.element))),$=(Jt,bt)=>{const Qt=A_(l,bt),zn=(bt==="colgroup"?O:C)(Jt);Oa(Qt,zn)},W=Jt=>{q(l,Jt).each(Mr)},te=(Jt,bt)=>{Jt.length>0?$(Jt,bt):W(bt)},he=[],Ne=[],Ct=[],sn=[];return Xe(f,Jt=>{switch(Jt.section){case"thead":he.push(Jt);break;case"tbody":Ne.push(Jt);break;case"tfoot":Ct.push(Jt);break;case"colgroup":sn.push(Jt);break}}),te(sn,"colgroup"),te(he,"thead"),te(Ne,"tbody"),te(Ct,"tfoot"),{newRows:p,newCells:y}},l0=l=>Yt(l,f=>{const p=Da(f.element);return Xe(f.cells,y=>{const C=Sc(y.element);Zh(C,"colspan",y.colspan,1),Zh(C,"rowspan",y.rowspan,1),js(p,C)}),p}),ga=(l,f)=>Yt(l,p=>R(p,f)),PO=(l,f)=>l[f],ea=(l,f)=>{if(l.length===0)return 0;const p=l[0];return qo(l,C=>!f(p.element,C.element)).getOr(l.length)},rl=(l,f,p,y)=>{const C=PO(l,f),O=C.section==="colgroup",$=ea(C.cells.slice(p),y),W=O?1:ea(ga(l.slice(f),p),y);return{colspan:$,rowspan:W}},xf=(l,f)=>{const p=Yt(l,C=>Yt(C.cells,Zt)),y=(C,O,$,W)=>{for(let te=C;te<C+$;te++)for(let he=O;he<O+W;he++)p[te][he]=!0};return Yt(l,(C,O)=>{const $=ft(C.cells,(W,te)=>{if(p[O][te]===!1){const he=rl(l,O,te,f);return y(O,te,he.rowspan,he.colspan),[pi(W.element,he.rowspan,he.colspan,W.isNew)]}else return[]});return Ae(C.element,$,C.section,C.isNew)})},Si=(l,f,p)=>{const y=[];Xe(l.colgroups,C=>{const O=[];for(let $=0;$<l.grid.columns;$++){const W=Qo.getColumnAt(l,$).map(te=>Le(te.element,p,!1)).getOrThunk(()=>Le(f.colGap(),!0,!1));O.push(W)}y.push(Rt(C.element,O,"colgroup",p))});for(let C=0;C<l.grid.rows;C++){const O=[];for(let te=0;te<l.grid.columns;te++){const he=Qo.getAt(l,C,te).map(Ne=>Le(Ne.element,p,Ne.isLocked)).getOrThunk(()=>Le(f.gap(),!0,!1));O.push(he)}const $=l.all[C],W=Rt($.element,O,$.section,p);y.push(W)}return y},OT=(l,f)=>Si(l,f,!1),u0=l=>xf(l,_t),jl=(l,f)=>Fe(l.all,p=>F(p.cells,y=>_t(f,y.element))),pa=(l,f,p)=>{const y=Yt(f.selection,O=>Il(O).bind($=>jl(l,$)).filter(p)),C=ln(y);return Cr(C.length>0,C)},Sa=(l,f,p,y,C)=>(O,$,W,te)=>{const he=Qo.fromTable(O),Ne=ie.from(te==null?void 0:te.section).getOrThunk(Ma.fallback);return f(he,$).map(sn=>{const Jt=OT(he,W),bt=l(Jt,sn,_t,C(W),Ne),Qt=Xn(bt.grid),pt=u0(bt.grid);return{info:sn,grid:pt,cursor:bt.cursor,lockedColumns:Qt}}).bind(sn=>{const Jt=qh(O,sn.grid),bt=ie.from(te==null?void 0:te.sizing).getOrThunk(()=>Ci.getTableSize(O)),Qt=ie.from(te==null?void 0:te.resize).getOrThunk(lg);return p(O,sn.grid,sn.info,{sizing:bt,resize:Qt,section:Ne}),y(O),re(O,co),sn.lockedColumns.length>0&&Xo(O,co,sn.lockedColumns.join(",")),ie.some({cursor:sn.cursor,newRows:Jt.newRows,newCells:Jt.newCells})})},zT=(l,f)=>Il(f.element).bind(p=>jl(l,p).map(y=>({...y,generators:f.generators,clipboard:f.clipboard}))),Yu=(l,f)=>pa(l,f,Pe).map(p=>({cells:p,generators:f.generators,clipboard:f.clipboard})),Gh=(l,f)=>f.mergable,Vy=(l,f)=>f.unmergable,Wl=(l,f)=>pa(l,f,Pe),al=(l,f)=>pa(l,f,p=>!p.isLocked),ug=(l,f)=>jl(l,f).exists(p=>!p.isLocked),vp=(l,f)=>mt(f,p=>ug(l,p)),Kh=(l,f)=>Gh(l,f).filter(p=>vp(l,p.cells)),Yh=(l,f)=>Vy(l,f).filter(p=>vp(l,p)),O_=(l,f,p,y)=>{const C=me(l).rows;if(C.length===0)return l;for(let O=f.startRow;O<=f.finishRow;O++)for(let $=f.startCol;$<=f.finishCol;$++){const W=C[O],te=R(W,$).isLocked;yd(W,$,Le(y(),!1,te))}return l},d0=(l,f,p,y)=>{const C=me(l).rows;let O=!0;for(let $=0;$<C.length;$++)for(let W=0;W<ce(C[0]);W++){const te=C[$],he=R(te,W),Ne=he.element,Ct=p(Ne,f);Ct&&!O?yd(te,W,Le(y(),!0,he.isLocked)):Ct&&(O=!1)}return l},DT=(l,f)=>De(l,(p,y)=>st(p,C=>f(C.element,y.element))?p:p.concat([y]),[]),z_=(l,f,p,y)=>(f>0&&f<l[0].cells.length&&Xe(l,C=>{const O=C.cells[f-1];let $=0;const W=y();for(;C.cells.length>f+$&&p(O.element,C.cells[f+$].element);)yd(C,f+$,Le(W,!0,C.cells[f+$].isLocked)),$++}),l),D_=(l,f,p,y)=>{const C=me(l).rows;if(f>0&&f<C.length){const O=C[f-1].cells,$=DT(O,p);Xe($,W=>{let te=ie.none();for(let he=f;he<C.length;he++)for(let Ne=0;Ne<ce(C[0]);Ne++){const Ct=C[he],sn=R(Ct,Ne);p(sn.element,W.element)&&(te.isNone()&&(te=ie.some(y())),te.each(bt=>{yd(Ct,Ne,Le(bt,!0,sn.isLocked))}))}})}return l},f0=l=>{const f=O=>O(l),p=j(l),y=()=>C,C={tag:!0,inner:l,fold:(O,$)=>$(l),isValue:Pe,isError:Zt,map:O=>Uy.value(O(l)),mapError:y,bind:f,exists:f,forall:f,getOr:p,or:y,getOrThunk:p,orThunk:y,getOrDie:p,each:O=>{O(l)},toOptional:()=>ie.some(l)};return C},R_=l=>{const f=()=>p,p={tag:!1,inner:l,fold:(y,C)=>y(l),isValue:Zt,isError:Pe,map:f,mapError:y=>Uy.error(y(l)),bind:f,exists:Zt,forall:Pe,getOr:dt,or:dt,getOrThunk:bn,orThunk:bn,getOrDie:at(String(l)),each:ot,toOptional:ie.none};return p},Uy={value:f0,error:R_,fromOption:(l,f)=>l.fold(()=>R_(f),f0)},N_=(l,f,p)=>{if(l.row>=f.length||l.column>ce(f[0]))return Uy.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const y=f.slice(l.row),C=y[0].cells.slice(l.column),O=ce(p[0]),$=p.length;return Uy.value({rowDelta:y.length-$,colDelta:C.length-O})},$r=(l,f)=>{const p=ce(l[0]),y=ce(f[0]);return{rowDelta:0,colDelta:p-y}},m0=(l,f)=>{const p=l.length,y=f.length;return{rowDelta:p-y,colDelta:0}},g0=(l,f,p,y)=>{const C=f.section==="colgroup"?p.col:p.cell;return Bn(l,O=>Le(C(),!0,y(O)))},M_=(l,f,p,y)=>{const C=l[l.length-1];return l.concat(Bn(f,()=>{const O=C.section==="colgroup"?p.colgroup:p.row,$=Dt(C,O,dt),W=g0($.cells.length,$,p,te=>qn(y,te.toString()));return Qm($,W)}))},Tf=(l,f,p,y)=>Yt(l,C=>{const O=g0(f,C,p,Zt);return Uc(C,y,O)}),Ac=(l,f,p)=>Yt(l,y=>De(p,(C,O)=>{const $=g0(1,y,f,Pe)[0];return yu(C,O,$)},y)),xi=(l,f,p)=>{const y=f.colDelta<0?Tf:dt,C=f.rowDelta<0?M_:dt,O=Xn(l),$=ce(l[0]),W=st(O,Ne=>Ne===$-1),te=y(l,Math.abs(f.colDelta),p,W?$-1:$),he=Xn(te);return C(te,Math.abs(f.rowDelta),p,X(he,Pe))},B_=(l,f,p,y)=>{const C=R(l[f],p),O=gt(y,C.element),$=l[f];return l.length>1&&ce($)>1&&(p>0&&O(H($,p-1))||p<$.cells.length-1&&O(H($,p+1))||f>0&&O(H(l[f-1],p))||f<l.length-1&&O(H(l[f+1],p)))},p0=(l,f,p,y,C,O)=>{const $=l.row,W=l.column,te=p.length,he=ce(p[0]),Ne=$+te,Ct=W+he+O.length,sn=X(O,Pe);for(let Jt=$;Jt<Ne;Jt++){let bt=0;for(let Qt=W;Qt<Ct;Qt++){if(sn[Qt]){bt++;continue}B_(f,Jt,Qt,C)&&d0(f,H(f[Jt],Qt),C,y.cell);const pt=Qt-W-bt,zn=R(p[Jt-$],pt),Oo=zn.element,Go=y.replace(Oo);yd(f[Jt],Qt,Le(Go,!0,zn.isLocked))}}return f},wm=(l,f,p)=>{const y=ce(f[0]),C=me(f).cols.length+l.row,O=Bn(y-l.column,W=>W+l.column),$=F(O,W=>mt(p,te=>te!==W)).getOr(y-1);return{row:C,column:$}},dg=(l,f,p)=>wt(p,y=>y>=l.column&&y<=ce(f[0])+l.column),fg=(l,f,p,y,C)=>{const O=Xn(f),$=wm(l,f,O),W=me(p).rows,te=dg($,W,O);return N_($,f,W).map(Ne=>{const Ct={...Ne,colDelta:Ne.colDelta-te.length},sn=xi(f,Ct,y),Jt=Xn(sn),bt=dg($,W,Jt);return p0($,sn,W,y,C,bt)})},jy=(l,f,p,y,C)=>{z_(f,l,C,y.cell);const O=m0(p,f),$=xi(p,O,y),W=m0(f,$),te=xi(f,W,y);return Yt(te,(he,Ne)=>Uc(he,l,$[Ne].cells))},Ef=(l,f,p,y,C)=>{D_(f,l,C,y.cell);const O=Xn(f),$=$r(f,p),W={...$,colDelta:$.colDelta-O.length},te=xi(f,W,y),{cols:he,rows:Ne}=me(te),Ct=Xn(te),sn=$r(p,f),Jt={...sn,colDelta:sn.colDelta+Ct.length},bt=Ac(p,y,Ct),Qt=xi(bt,Jt,y);return[...he,...Ne.slice(0,l),...Qt,...Ne.slice(l,Ne.length)]},Wy=(l,f,p,y)=>Dt(l,C=>y(C,p),f),Wr=(l,f,p,y,C)=>{const{rows:O,cols:$}=me(l),W=O.slice(0,f),te=O.slice(f),he=Wy(O[p],(Ne,Ct)=>f>0&&f<O.length&&y(H(O[f-1],Ct),H(O[f],Ct))?R(O[f],Ct):Le(C(Ne.element,y),!0,Ne.isLocked),y,C);return[...$,...W,he,...te]},cl=(l,f,p,y,C,O,$)=>{if(p==="colgroup"||!y){const W=R(l,C);return Le($(W.element,O),!0,!1)}else return R(l,f)},kp=(l,f,p,y,C)=>Yt(l,O=>{const $=f>0&&f<ce(O)&&y(H(O,f-1),H(O,f)),W=cl(O,f,O.section,$,p,y,C);return yu(O,f,W)}),RT=(l,f)=>ft(l,p=>{const y=p.cells,C=fn(f,(O,$)=>$>=0&&$<O.length?O.slice(0,$).concat(O.slice($+1)):O,y);return C.length>0?[Rt(p.element,C,p.section,p.isNew)]:[]}),h0=(l,f,p)=>{const{rows:y,cols:C}=me(l);return[...C,...y.slice(0,f),...y.slice(p+1)]},NT=(l,f,p,y)=>H(l[f],p)!==void 0&&f>0&&y(H(l[f-1],p),H(l[f],p)),mg=(l,f,p)=>f>0&&p(H(l,f-1),H(l,f)),wp=(l,f,p,y)=>NT(l,f,p,y)||mg(l[f],p,y),Zl=(l,f)=>mt(f,dt)&&jh(l.cells)?Pe:(y,C,O)=>!(_s(y.element)==="th"&&f[O]),b0=(l,f)=>mt(f,dt)&&jh(l)?Pe:(y,C,O)=>!(_s(y.element)==="th"&&f[C]),P_=(l,f,p,y)=>{const C=$=>$==="row"?hl(f):Fa(f),O=$=>C($)?`${$}group`:$;return l?km(f)?O(p):null:y&&km(f)?O(p==="row"?"col":"row"):null},F_=(l,f)=>(p,y,C)=>ie.some(P_(l,p.element,"col",f[C])),MT=(l,f)=>(p,y)=>ie.some(P_(l,p.element,"row",f[y])),$_=(l,f,p)=>Le(p(l.element,f),!0,l.isLocked),Zy=(l,f,p,y,C,O,$)=>{const W=te=>st(f,he=>p(te.element,he.element));return Yt(l,(te,he)=>x(te,(Ne,Ct)=>{if(W(Ne)){const sn=$(Ne,he,Ct)?C(Ne,p,y):Ne;return O(sn,he,Ct).each(Jt=>{Gs(sn.element,{scope:ie.from(Jt)})}),sn}else return Ne}))},qy=(l,f,p)=>ft(l,(y,C)=>wp(l,C,f,p)?[]:[R(y,f)]),I_=(l,f,p)=>{const y=l[f];return ft(y.cells,(C,O)=>wp(l,f,O,p)?[]:[C])},y0=(l,f,p,y,C)=>{const O=me(l).rows,$=ft(f,Ne=>qy(O,Ne,y)),W=Yt(O,Ne=>jh(Ne.cells)),te=b0($,W),he=MT(p,W);return Zy(l,$,y,C,$_,he,te)},gg=(l,f,p,y,C,O,$)=>{const{cols:W,rows:te}=me(l),he=te[f[0]],Ne=ft(f,pt=>I_(te,pt,C)),Ct=Yt(he.cells,(pt,zn)=>jh(qy(te,zn,C))),sn=[...te];Xe(f,pt=>{sn[pt]=$.transformRow(te[pt],p)});const Jt=[...W,...sn],bt=Zl(he,Ct),Qt=F_(y,Ct);return Zy(Jt,Ne,C,O,$.transformCell,Qt,bt)},L_=(l,f,p,y)=>{const C=me(l).rows,O=Yt(f,$=>R(C[$.row],$.column));return Zy(l,O,p,y,$_,ie.none,Pe)},Af={generate:l=>{if(!pn(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],p={};return Xe(l,(y,C)=>{const O=qe(y);if(O.length!==1)throw new Error("one and only one name per case");const $=O[0],W=y[$];if(p[$]!==void 0)throw new Error("duplicate key detected:"+$);if($==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pn(W))throw new Error("case arguments must be an array");f.push($),p[$]=(...te)=>{const he=te.length;if(he!==W.length)throw new Error("Wrong number of arguments to case "+$+". Expected "+W.length+" ("+W+"), got "+he);return{fold:(...Ct)=>{if(Ct.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+Ct.length);return Ct[C].apply(null,te)},match:Ct=>{const sn=qe(Ct);if(f.length!==sn.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+sn.join(","));if(!mt(f,bt=>un(sn,bt)))throw new Error("Not all branches were specified when using match. Specified: "+sn.join(", ")+`
Required: `+f.join(", "));return Ct[$].apply(null,te)},log:Ct=>{console.log(Ct,{constructors:f,constructor:$,params:te})}}}}),p}},il={...Af.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},_p=(l,f)=>l.length===0?il.none():l.length===1?il.only(0):f===0?il.left(0,1):f===l.length-1?il.right(f-1,f):f>0&&f<l.length-1?il.middle(f-1,f,f+1):il.none(),hs=(l,f,p,y,C)=>{const O=l.slice(0),$=_p(l,f),W=j(Yt(O,j(0))),te=sn=>y.singleColumnWidth(O[sn],p),he=(sn,Jt)=>C.calcLeftEdgeDeltas(O,sn,Jt,p,y.minCellWidth(),y.isRelative),Ne=(sn,Jt,bt)=>C.calcMiddleDeltas(O,sn,Jt,bt,p,y.minCellWidth(),y.isRelative),Ct=(sn,Jt)=>C.calcRightEdgeDeltas(O,sn,Jt,p,y.minCellWidth(),y.isRelative);return $.fold(W,te,he,Ne,Ct)},Ti=(l,f,p)=>{let y=0;for(let C=l;C<f;C++)y+=p[C]!==void 0?p[C]:0;return y},Of=(l,f)=>{const p=Qo.justCells(l);return Yt(p,y=>{const C=Ti(y.column,y.column+y.colspan,f);return{element:y.element,width:C,colspan:y.colspan}})},v0=(l,f)=>{const p=Qo.justColumns(l);return Yt(p,(y,C)=>({element:y.element,width:f[C],colspan:y.colspan}))},Dr=(l,f)=>{const p=Qo.justCells(l);return Yt(p,y=>{const C=Ti(y.row,y.row+y.rowspan,f);return{element:y.element,height:C,rowspan:y.rowspan}})},k0=(l,f)=>Yt(l.all,(p,y)=>({element:p.element,height:f[y]})),zf=l=>fn(l,(f,p)=>f+p,0),xa=(l,f)=>Qo.hasColumns(l)?v0(l,f):Of(l,f),Od=(l,f,p)=>{const y=xa(l,f);Xe(y,C=>{p.setElementWidth(C.element,C.width)})},ct=(l,f,p,y,C)=>{const O=Qo.fromTable(l),$=C.getCellDelta(f),W=C.getWidths(O,C),te=p===O.grid.columns-1,he=y.clampTableDelta(W,p,$,C.minCellWidth(),te),Ne=hs(W,p,he,C,y),Ct=Yt(Ne,(sn,Jt)=>sn+W[Jt]);Od(O,Ct,C),y.resizeTable(C.adjustTableWidth,he,te)},Yy=(l,f,p,y)=>{const C=Qo.fromTable(l),O=$e(C,l,y),$=Yt(O,(Ne,Ct)=>p===Ct?Math.max(f+Ne,Bi()):Ne),W=Dr(C,$),te=k0(C,$);Xe(te,Ne=>{_l(Ne.element,Ne.height)}),Xe(W,Ne=>{_l(Ne.element,Ne.height)});const he=zf($);_l(l,he)},BT=(l,f,p,y,C)=>{const O=Qo.generate(f),$=y.getWidths(O,y),W=y.pixelWidth(),{newSizes:te,delta:he}=C.calcRedestributedWidths($,W,p.pixelDelta,y.isRelative);Od(O,te,y),y.adjustTableWidth(he)},Xy=(l,f,p,y)=>{const C=Qo.generate(f),O=y.getWidths(C,y);Od(C,O,y)},zd=l=>De(l,(p,y)=>st(p,O=>O.column===y.column)?p:p.concat([y]),[]).sort((p,y)=>p.column-y.column),Tl=kn("col"),Xh=kn("colgroup"),Jy=l=>_s(l)==="tr"||Xh(l),w0=l=>{const f=ir(l,"colspan",1),p=ir(l,"rowspan",1);return{element:l,colspan:f,rowspan:p}},Qy=(l,f=w0)=>{const p=W=>Tl(W.element)?l.col(W):l.cell(W),y=W=>Xh(W.element)?l.colgroup(W):l.row(W),C=W=>{if(Jy(W))return y({element:W});{const te=W,he=p(f(te));return O=ie.some({item:te,replacement:he}),he}};let O=ie.none();return{getOrInit:(W,te)=>O.fold(()=>C(W),he=>te(W,he.item)?he.replacement:C(W))}},H_=l=>f=>{const p=[],y=($,W)=>F(p,te=>W(te.item,$)),C=$=>{const W=l==="td"?{scope:null}:{},te=f.replace($,l,W);return p.push({item:$,sub:te}),te};return{replaceOrInit:($,W)=>{if(Jy($)||Tl($))return $;{const te=$;return y(te,W).fold(()=>C(te),he=>W($,he.item)?he.sub:C(te))}}}},_m=l=>de(l,"scope").map(f=>f.substr(0,3)),Zi={modification:Qy,transform:H_,merging:l=>({unmerge:y=>{const C=_m(y);return C.each(O=>Xo(y,"scope",O)),()=>{const O=l.cell({element:y,colspan:1,rowspan:1});return Ji(O,"width"),Ji(y,"width"),C.each($=>Xo(O,"scope",$)),O}},merge:y=>{const C=()=>{const O=ln(Yt(y,_m));if(O.length===0)return ie.none();{const $=O[0],W=["row","col"];return st(O,he=>he!==$&&un(W,he))?ie.none():ie.from($)}};return Ji(y[0],"width"),C().fold(()=>re(y[0],"scope"),O=>Xo(y[0],"scope",O+"group")),j(y[0])}})},Oc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],V_=(l,f)=>{const p=l.property().name(f);return un(["ol","ul"],p)},Cm=(l,f)=>{const p=l.property().name(f);return un(Oc,p)},U_=(l,f)=>un(["br","img","hr","input"],l.property().name(f)),Jh=kt(),pg=l=>Cm(Jh,l),_0=l=>V_(Jh,l),e1=l=>U_(Jh,l),j_=l=>{const f=kn("br"),p=te=>mt(te,he=>f(he)||Ee(he)&&vo(he).trim().length===0),y=te=>_s(te)==="li"||Ws(te,_0).isSome(),C=te=>oc(te).map(he=>pg(he)?!0:e1(he)?_s(he)!=="img":!1).getOr(!1),O=te=>Zu(te).bind(he=>{const Ne=C(he);return ds(he).map(Ct=>Ne===!0||y(Ct)||f(he)||pg(Ct)&&!_t(te,Ct)?[]:[ke.fromTag("br")])}).getOr([]),W=(()=>{const te=ft(l,he=>{const Ne=yo(he);return p(Ne)?[]:Ne.concat(O(he))});return te.length===0?[ke.fromTag("br")]:te})();za(l[0]),Oa(l[0],W)},t1=l=>dm(l,!0),C0=l=>{Na(l).length===0&&Mr(l)},Ua=(l,f)=>({grid:l,cursor:f}),kc=l=>Fe(l,f=>Fe(f.cells,p=>{const y=p.element;return Cr(t1(y),y)})),qi=(l,f,p)=>{var y,C;const O=me(l).rows;return ie.from((C=(y=O[f])===null||y===void 0?void 0:y.cells[p])===null||C===void 0?void 0:C.element).filter(t1).orThunk(()=>kc(O))},Ir=(l,f,p)=>{const y=qi(l,f,p);return Ua(l,y)},wc=l=>De(l,(p,y)=>st(p,O=>O.row===y.row)?p:p.concat([y]),[]).sort((p,y)=>p.row-y.row),uc=(l,f,p,y)=>{const C=f[0].row,O=wc(f),$=fn(O,(W,te)=>({grid:Wr(W.grid,C,te.row+W.delta,p,y.getOrInit),delta:W.delta+1}),{grid:l,delta:0}).grid;return Ir($,C,f[0].column)},n1=(l,f,p,y)=>{const C=wc(f),O=C[C.length-1],$=O.row+O.rowspan,W=fn(C,(te,he)=>Wr(te,$,he.row,p,y.getOrInit),l);return Ir(W,$,f[0].column)},o1=(l,f,p,y)=>{const C=f.details,O=zd(C),$=O[0].column,W=fn(O,(te,he)=>({grid:kp(te.grid,$,he.column+te.delta,p,y.getOrInit),delta:te.delta+1}),{grid:l,delta:0}).grid;return Ir(W,C[0].row,$)},W_=(l,f,p,y)=>{const C=f.details,O=C[C.length-1],$=O.column+O.colspan,W=zd(C),te=fn(W,(he,Ne)=>kp(he,$,Ne.column,p,y.getOrInit),l);return Ir(te,C[0].row,$)},s1=(l,f,p,y)=>{const C=zd(f),O=Yt(C,W=>W.column),$=y0(l,O,!0,p,y.replaceOrInit);return Ir($,f[0].row,f[0].column)},S0=(l,f,p,y)=>{const C=L_(l,f,p,y.replaceOrInit);return Ir(C,f[0].row,f[0].column)},x0=(l,f,p,y)=>{const C=zd(f),O=Yt(C,W=>W.column),$=y0(l,O,!1,p,y.replaceOrInit);return Ir($,f[0].row,f[0].column)},Z_=(l,f,p,y)=>{const C=L_(l,f,p,y.replaceOrInit);return Ir(C,f[0].row,f[0].column)},zc=(l,f)=>(p,y,C,O,$)=>{const W=wc(y),te=Yt(W,Ne=>Ne.row),he=gg(p,te,l,f,C,O.replaceOrInit,$);return Ir(he,y[0].row,y[0].column)},$O=zc("thead",!0),Df=zc("tbody",!1),PT=zc("tfoot",!1),FT=(l,f,p,y)=>{const C=zd(f.details),O=RT(l,Yt(C,W=>W.column)),$=O.length>0?O[0].cells.length-1:0;return Ir(O,C[0].row,Math.min(C[0].column,$))},$T=(l,f,p,y)=>{const C=wc(f),O=h0(l,C[0].row,C[C.length-1].row),$=O.length>0?O.length-1:0;return Ir(O,Math.min(f[0].row,$),f[0].column)},T0=(l,f,p,y)=>{const C=f.cells;j_(C);const O=O_(l,f.bounds,p,y.merge(C));return Ua(O,ie.from(C[0]))},q_=(l,f,p,y)=>{const O=fn(f,($,W)=>d0($,W,p,y.unmerge(W)),l);return Ua(O,ie.from(f[0]))},G_=(l,f,p,y)=>{const O=((te,he)=>{const Ne=Qo.fromTable(te);return Si(Ne,he,!0)})(f.clipboard,f.generators),$=gi(f.row,f.column);return fg($,l,O,f.generators,p).fold(()=>Ua(l,ie.some(f.element)),te=>Ir(te,f.row,f.column))},r1=(l,f,p)=>{const y=Um(l,p.section),C=Qo.generate(y);return Si(C,f,!0)},K_=(l,f,p,y)=>{const C=me(l).rows,O=f.cells[0].column,$=C[f.cells[0].row],W=r1(f.clipboard,f.generators,$),te=jy(O,l,W,f.generators,p);return Ir(te,f.cells[0].row,f.cells[0].column)},Y_=(l,f,p,y)=>{const C=me(l).rows,O=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,$=C[f.cells[0].row],W=r1(f.clipboard,f.generators,$),te=jy(O,l,W,f.generators,p);return Ir(te,f.cells[0].row,f.cells[0].column)},$t=(l,f,p,y)=>{const C=me(l).rows,O=f.cells[0].row,$=C[O],W=r1(f.clipboard,f.generators,$),te=Ef(O,l,W,f.generators,p);return Ir(te,f.cells[0].row,f.cells[0].column)},IT=(l,f,p,y)=>{const C=me(l).rows,O=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,$=C[f.cells[0].row],W=r1(f.clipboard,f.generators,$),te=Ef(O,l,W,f.generators,p);return Ir(te,f.cells[0].row,f.cells[0].column)},_c=(l,f)=>{const p=Qo.fromTable(l);return Wl(p,f).bind(C=>{const O=C[C.length-1],$=C[0].column,W=O.column+O.colspan,te=Qn(Yt(p.all,he=>wt(he.cells,Ne=>Ne.column>=$&&Ne.column<W)));return c0(te)}).getOr("")},LT=(l,f)=>{const p=Qo.fromTable(l);return Wl(p,f).bind(c0).getOr("")},E0=(l,f)=>{const p=Qo.fromTable(l);return Wl(p,f).bind(C=>{const O=C[C.length-1],$=C[0].row,W=O.row+O.rowspan,te=p.all.slice($,W);return x_(te)}).getOr("")},yn=(l,f,p,y)=>Xy(l,f,p,y.sizing),Wc=(l,f,p,y)=>BT(l,f,p,y.sizing,y.resize),X_=(l,f)=>st(f,p=>p.column===0&&p.isLocked),J_=(l,f)=>st(f,p=>p.column+p.colspan>=l.grid.columns&&p.isLocked),Gl=(l,f)=>{const p=uf(l),y=zd(f);return De(y,(C,O)=>{const W=p[O.column].map(vl).getOr(0);return C+W},0)},a1=l=>(f,p)=>Wl(f,p).filter(y=>!(l?X_:J_)(f,y)).map(y=>({details:y,pixelDelta:Gl(f,y)})),Cp=(l,f)=>al(l,f).map(p=>({details:p,pixelDelta:-Gl(l,p)})),Xu=l=>(f,p)=>Yu(f,p).filter(y=>!(l?X_:J_)(f,y.cells)),Kl=Zi.transform("th"),hg=Zi.transform("td"),Au=Sa(uc,Wl,ot,ot,Zi.modification),ni=Sa(n1,Wl,ot,ot,Zi.modification),Sp=Sa(o1,a1(!0),Wc,ot,Zi.modification),A0=Sa(W_,a1(!1),Wc,ot,Zi.modification),Q_=Sa(FT,Cp,Wc,C0,Zi.modification),e2=Sa($T,Wl,ot,C0,Zi.modification),O0=Sa(s1,al,ot,ot,Kl),HT=Sa(x0,al,ot,ot,hg),z0=Sa($O,al,ot,ot,Kl),t2=Sa(Df,al,ot,ot,hg),VT=Sa(PT,al,ot,ot,hg),n2=Sa(S0,al,ot,ot,Kl),UT=Sa(Z_,al,ot,ot,hg),jT=Sa(T0,Kh,yn,ot,Zi.merging),D0=Sa(q_,Yh,yn,ot,Zi.merging),WT=Sa(G_,zT,yn,ot,Zi.modification),o2=Sa(K_,Xu(!0),ot,ot,Zi.modification),ZT=Sa(Y_,Xu(!1),ot,ot,Zi.modification),xp=Sa($t,Yu,ot,ot,Zi.modification),s2=Sa(IT,Yu,ot,ot,Zi.modification),qT=_c,r2=LT,GT=E0,a2=(l,f)=>l.dispatch("NewRow",{node:f}),c1=(l,f)=>l.dispatch("NewCell",{node:f}),Sm=(l,f,p)=>{l.dispatch("TableModified",{...p,table:f})},Tp=(l,f,p,y,C)=>{l.dispatch("TableSelectionChange",{cells:f,start:p,finish:y,otherCells:C})},Rr=l=>{l.dispatch("TableSelectionClear")},R0=(l,f,p,y,C)=>{l.dispatch("ObjectResizeStart",{target:f,width:p,height:y,origin:C})},Ei=(l,f,p,y,C)=>{l.dispatch("ObjectResized",{target:f,width:p,height:y,origin:C})},Ep={structure:!1,style:!0},ec={structure:!0,style:!1},c2={structure:!0,style:!0},Dd=(l,f)=>qu(l)?Ci.percentageSize(f):um(l)?Ci.pixelSize(f):Ci.getTableSize(f),KT=(l,f,p)=>{const y=ci=>_s(Hh(ci))==="table",C=ci=>!y(l)||r0(ci).rows>1,O=ci=>!y(l)||r0(ci).columns>1,$=im(l),W=fa(l)?ot:sl,te=ci=>{switch(mp(l)){case"section":return Ma.section();case"sectionCells":return Ma.sectionCells();case"cells":return Ma.cells();default:return Ma.getTableSectionType(ci,"section")}},he=(ci,Eb)=>Eb.cursor.fold(()=>{const Ab=Na(ci);return ae(Ab).filter(br).map(nd=>{p.clearSelectedCells(ci.dom);const fc=l.dom.createRng();return fc.selectNode(nd.dom),l.selection.setRng(fc),Xo(nd,"data-mce-selected","1"),fc})},Ab=>{const nd=Ly(Ab),fc=l.dom.createRng();return fc.setStart(nd.element.dom,nd.offset),fc.setEnd(nd.element.dom,nd.offset),l.selection.setRng(fc),p.clearSelectedCells(ci.dom),ie.some(fc)}),Ne=(ci,Eb,Ab,nd)=>(fc,Ek,mC=!1)=>{Gu(fc);const gC=ke.fromDom(l.getDoc()),pC=Va(Ab,gC,$),a3={sizing:Dd(l,fc),resize:fa(l)?S_():lg(),section:te(fc)};return Eb(fc)?ci(fc,Ek,pC,a3).bind(Ak=>{f.refresh(fc.dom),Xe(Ak.newRows,Ob=>{a2(l,Ob.dom)}),Xe(Ak.newCells,Ob=>{c1(l,Ob.dom)});const c3=he(fc,Ak);return br(fc)&&(Gu(fc),mC||Sm(l,fc.dom,nd)),c3.map(Ob=>({rng:Ob,effect:nd}))}):ie.none()},Ct=Ne(e2,C,ot,ec),sn=Ne(Q_,O,ot,ec),Jt=Ne(Au,Pe,ot,ec),bt=Ne(ni,Pe,ot,ec),Qt=Ne(Sp,Pe,W,ec),pt=Ne(A0,Pe,W,ec),zn=Ne(jT,Pe,ot,ec),Oo=Ne(D0,Pe,ot,ec),Go=Ne(o2,Pe,ot,ec),Lr=Ne(ZT,Pe,ot,ec),Pa=Ne(xp,Pe,ot,ec),Ta=Ne(s2,Pe,ot,ec),ri=Ne(WT,Pe,ot,c2),Og=Ne(n2,Pe,ot,ec),Tb=Ne(UT,Pe,ot,ec),U1=Ne(O0,Pe,ot,ec),j1=Ne(HT,Pe,ot,ec),lr=Ne(z0,Pe,ot,ec),ai=Ne(t2,Pe,ot,ec),Oi=Ne(VT,Pe,ot,ec);return{deleteRow:Ct,deleteColumn:sn,insertRowsBefore:Jt,insertRowsAfter:bt,insertColumnsBefore:Qt,insertColumnsAfter:pt,mergeCells:zn,unmergeCells:Oo,pasteColsBefore:Go,pasteColsAfter:Lr,pasteRowsBefore:Pa,pasteRowsAfter:Ta,pasteCells:ri,makeCellsHeader:Og,unmakeCellsHeader:Tb,makeColumnsHeader:U1,unmakeColumnsHeader:j1,makeRowsHeader:lr,makeRowsBody:ai,makeRowsFooter:Oi,getTableRowType:GT,getTableCellType:r2,getTableColType:qT}},i1=(l,f,p)=>{const y=ir(l,f,1);p===1||y<=1?re(l,f):Xo(l,f,Math.min(p,y))},i2=(l,f)=>p=>{const y=p.column+p.colspan-1,C=p.column;return y>=l&&C<f},Qh=(l,f,p)=>{if(Qo.hasColumns(l)){const y=wt(Qo.justColumns(l),i2(f,p)),C=Yt(y,$=>{const W=Sc($.element);return i1(W,"span",p-f),W}),O=ke.fromTag("colgroup");return Oa(O,C),[O]}else return[]},YT=(l,f,p)=>Yt(l.all,y=>{const C=wt(y.cells,i2(f,p)),O=Yt(C,W=>{const te=Sc(W.element);return i1(te,"colspan",p-f),te}),$=ke.fromTag("tr");return Oa($,O),$}),XT=(l,f)=>{const p=Qo.fromTable(l);return al(p,f).map(C=>{const O=C[C.length-1],$=C[0].column,W=O.column+O.colspan,te=Qh(p,$,W),he=YT(p,$,W);return[...te,...he]})},JT=(l,f,p)=>{const y=Qo.fromTable(l);return Wl(y,f).bind(O=>{const $=Si(y,p,!1),te=me($).rows.slice(O[0].row,O[O.length-1].row+O[O.length-1].rowspan),he=ft(te,Ct=>{const sn=wt(Ct.cells,Jt=>!Jt.isLocked);return sn.length>0?[{...Ct,cells:sn}]:[]}),Ne=u0(he);return Cr(Ne.length>0,Ne)}).map(O=>l0(O))},eb=Af.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),l2=(l,f,p)=>{const y=p.substring(0,p.length-l.length),C=parseFloat(y);return y===C.toString()?f(C):eb.invalid(p)},bg={...eb,from:l=>Br(l,"%")?l2("%",eb.percent,l):Br(l,"px")?l2("px",eb.pixels,l):eb.invalid(l)},QT=(l,f)=>Yt(l,p=>bg.from(p).fold(()=>p,C=>C/f*100+"%",C=>C+"%")),eE=(l,f,p)=>{const y=p/f;return Yt(l,C=>bg.from(C).fold(()=>C,$=>$*y+"px",$=>$/100*p+"px"))},tE=(l,f)=>{const p=l.fold(()=>j(""),y=>{const C=y/f;return j(C+"px")},()=>{const y=100/f;return j(y+"%")});return Bn(f,p)},d2=(l,f,p)=>l.fold(()=>f,y=>eE(f,p,y),y=>QT(f,p)),N0=(l,f,p)=>{const y=bg.from(p),C=mt(l,O=>O==="0px")?tE(y,l.length):d2(y,l,f);return l1(C)},Rf=(l,f)=>l.length===0?f:fn(l,(p,y)=>bg.from(y).fold(j(0),dt,dt)+p,0),f2=(l,f)=>{const p=Math.floor(l);return{value:p+f,remainder:l-p}},m2=(l,f)=>bg.from(l).fold(j(l),p=>p+f+"px",p=>p+f+"%"),l1=l=>{if(l.length===0)return l;const f=fn(l,(y,C)=>{const O=bg.from(C).fold(()=>({value:C,remainder:0}),$=>f2($,"px"),$=>({value:$+"%",remainder:0}));return{output:[O.value].concat(y.output),remainder:y.remainder+O.remainder}},{output:[],remainder:0}),p=f.output;return p.slice(0,p.length-1).concat([m2(p[p.length-1],Math.round(f.remainder))])},nE=bg.from,Nf=(l,f,p)=>{Xe(f,y=>{const C=l.slice(y.column,y.colspan+y.column),O=Rf(C,Yr());Pr(y.element,"width",O+p)})},u1=(l,f,p)=>{Xe(f,(y,C)=>{const O=Rf([l[C]],Yr());Pr(y.element,"width",O+p)})},d1=(l,f,p,y)=>{Xe(p,C=>{const O=l.slice(C.row,C.rowspan+C.row),$=Rf(O,Bi());Pr(C.element,"height",$+y)}),Xe(f,(C,O)=>{Pr(C.element,"height",l[O])})},tb=l=>nE(l).fold(j("px"),j("px"),j("%")),g2=(l,f,p)=>{const y=Qo.fromTable(l),C=y.all,O=Qo.justCells(y),$=Qo.justColumns(y);f.each(W=>{const te=tb(W),he=Tc(l),Ne=pf(y,l),Ct=N0(Ne,he,W);Qo.hasColumns(y)?u1(Ct,$,te):Nf(Ct,O,te),Pr(l,"width",W)}),p.each(W=>{const te=tb(W),he=eg(l),Ne=jc(y,l,gn),Ct=N0(Ne,he,W);d1(Ct,C,O,te),Pr(l,"height",W)})},Rd=wd,f1=fp,p2=wi,Ju=l=>{re(l,"width")},xm=l=>{const f=ua(l);g2(l,ie.some(f),ie.none()),Ju(l)},M0=l=>{const f=Bh(l);g2(l,ie.some(f),ie.none()),Ju(l)},h2=l=>{Ji(l,"width");const f=tf(l),p=f.length>0?f:Na(l);Xe(p,y=>{Ji(y,"width"),Ju(y)}),Ju(l)},m1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},oE=()=>ke.fromTag("th"),b2=()=>ke.fromTag("td"),sE=()=>ke.fromTag("col"),rE=(l,f,p,y)=>{const C=ke.fromTag("tr");for(let O=0;O<l;O++){const $=y<f||O<p?oE():b2();O<p&&Xo($,"scope","row"),y<f&&Xo($,"scope","col"),js($,ke.fromTag("br")),js(C,$)}return C},y2=l=>{const f=ke.fromTag("colgroup");return Bn(l,()=>js(f,sE())),f},v2=(l,f,p,y)=>Bn(l,C=>rE(f,p,y,C)),k2=(l,f,p,y,C,O=m1)=>{const $=ke.fromTag("table"),W=C!=="cells";rc($,O.styles),wr($,O.attributes),O.colGroups&&js($,y2(f));const te=Math.min(l,p);if(W&&p>0){const Jt=ke.fromTag("thead");js($,Jt);const Qt=v2(p,f,C==="sectionCells"?te:0,y);Oa(Jt,Qt)}const he=ke.fromTag("tbody");js($,he);const Ne=W?l-te:l,sn=v2(Ne,f,W?0:p,y);return Oa(he,sn),$},aE=l=>l.dom.innerHTML,cE=l=>{const f=ke.fromTag("div"),p=ke.fromDom(l.dom.cloneNode(!0));return js(f,p),aE(f)},iE=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},w2=(l,f)=>{ue(f,"td,th").each(gt(iE,l))},B0=(l,f)=>{Xe(dr(f,"tr"),p=>{a2(l,p.dom),Xe(dr(p,"th,td"),y=>{c1(l,y.dom)})})},P0=l=>Fn(l)&&l.indexOf("%")!==-1,lE=(l,f,p,y,C)=>{const O=bT(l),$={styles:O,attributes:Lh(l),colGroups:ma(l)};return l.undoManager.ignore(()=>{const W=k2(p,f,C,y,mp(l),$);Xo(W,"data-mce-id","__mce");const te=cE(W);l.insertContent(te),l.addVisual()}),ue(Hh(l),'table[data-mce-id="__mce"]').map(W=>(um(l)?M0(W):rg(l)?h2(W):(qu(l)||P0(O.width))&&xm(W),Gu(W),re(W,"data-mce-id"),B0(l,W),w2(l,W),W.dom)).getOrNull()},uE=(l,f,p,y={})=>{const C=O=>tn(O)&&O>0;if(C(f)&&C(p)){const O=y.headerRows||0,$=y.headerColumns||0;return lE(l,p,f,$,O)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var g1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const _2="x-tinymce/dom-table-",p1=_2+"rows",nb=_2+"columns",h1=l=>{const f=g1.FakeClipboardItem(l);g1.write([f])},F0=l=>{var f;const p=(f=g1.read())!==null&&f!==void 0?f:[];return Fe(p,y=>ie.from(y.getType(l)))},C2=l=>{F0(l).isSome()&&g1.clear()},S2=l=>{l.fold(dE,f=>h1({[p1]:f}))},$0=()=>F0(p1),dE=()=>C2(p1),x2=l=>{l.fold(fE,f=>h1({[nb]:f}))},ob=()=>F0(nb),fE=()=>C2(nb),b1=l=>w_(Vl(l),kf(l)).filter(gp),T2=l=>pp(Vl(l),kf(l)).filter(gp),E2=(l,f)=>{const p=kf(l),y=()=>b1(l).each(pt=>{bc(pt,p).filter(U(p)).each(zn=>{const Oo=ke.fromText("");if(la(zn,Oo),Mr(zn),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const Go=l.dom.createRng();Go.setStart(Oo.dom,0),Go.setEnd(Oo.dom,0),l.selection.setRng(Go),l.nodeChanged()}})}),C=pt=>b1(l).each(zn=>{rg(l)||um(l)||qu(l)||bc(zn,p).each(Go=>{pt==="relative"&&!Rd(Go)?xm(Go):pt==="fixed"&&!f1(Go)?M0(Go):pt==="responsive"&&!p2(Go)&&h2(Go),Gu(Go),Sm(l,Go.dom,ec)})}),O=pt=>bc(pt,p),$=pt=>T2(l).bind(zn=>O(zn).map(Oo=>pt(Oo,zn))),W=(pt,zn)=>{$(Oo=>{l.formatter.toggle("tableclass",{value:zn},Oo.dom),Sm(l,Oo.dom,Ep)})},te=(pt,zn)=>{$(Oo=>{const Go=Ul(l),Pa=mt(Go,Ta=>l.formatter.match("tablecellclass",{value:zn},Ta.dom))?l.formatter.remove:l.formatter.apply;Xe(Go,Ta=>Pa("tablecellclass",{value:zn},Ta.dom)),Sm(l,Oo.dom,Ep)})},he=()=>{b1(l).each(pt=>{bc(pt,p).each(zn=>{q(zn,"caption").fold(()=>{const Oo=ke.fromTag("caption");js(Oo,ke.fromText("Caption")),du(zn,Oo,0),l.selection.setCursorLocation(Oo.dom,0)},Oo=>{kn("caption")(pt)&&yt("td",zn).each(Go=>l.selection.setCursorLocation(Go.dom,0)),Mr(Oo)}),Sm(l,zn.dom,ec)})})},Ne=pt=>{l.focus()},Ct=(pt,zn=!1)=>$((Oo,Go)=>{const Lr=ym(Ul(l),Oo,Go);pt(Oo,Lr,zn).each(Ne)}),sn=()=>$((pt,zn)=>{const Oo=ym(Ul(l),pt,zn),Go=Va(ot,ke.fromDom(l.getDoc()),ie.none());return JT(pt,Oo,Go)}),Jt=()=>$((pt,zn)=>{const Oo=ym(Ul(l),pt,zn);return XT(pt,Oo)}),bt=(pt,zn)=>zn().each(Oo=>{const Go=Yt(Oo,Lr=>Sc(Lr));$((Lr,Pa)=>{const Ta=ti(ke.fromDom(l.getDoc())),ri=Uh(Ul(l),Pa,Go,Ta);pt(Lr,ri).each(Ne)})}),Qt=pt=>(zn,Oo)=>Po(Oo,"type").each(Go=>{Ct(pt(Go),Oo.no_events)});Q({mceTableSplitCells:()=>Ct(f.unmergeCells),mceTableMergeCells:()=>Ct(f.mergeCells),mceTableInsertRowBefore:()=>Ct(f.insertRowsBefore),mceTableInsertRowAfter:()=>Ct(f.insertRowsAfter),mceTableInsertColBefore:()=>Ct(f.insertColumnsBefore),mceTableInsertColAfter:()=>Ct(f.insertColumnsAfter),mceTableDeleteCol:()=>Ct(f.deleteColumn),mceTableDeleteRow:()=>Ct(f.deleteRow),mceTableCutCol:()=>Jt().each(pt=>{x2(pt),Ct(f.deleteColumn)}),mceTableCutRow:()=>sn().each(pt=>{S2(pt),Ct(f.deleteRow)}),mceTableCopyCol:()=>Jt().each(pt=>x2(pt)),mceTableCopyRow:()=>sn().each(pt=>S2(pt)),mceTablePasteColBefore:()=>bt(f.pasteColsBefore,ob),mceTablePasteColAfter:()=>bt(f.pasteColsAfter,ob),mceTablePasteRowBefore:()=>bt(f.pasteRowsBefore,$0),mceTablePasteRowAfter:()=>bt(f.pasteRowsAfter,$0),mceTableDelete:y,mceTableCellToggleClass:te,mceTableToggleClass:W,mceTableToggleCaption:he,mceTableSizingMode:(pt,zn)=>C(zn),mceTableCellType:Qt(pt=>pt==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:Qt(pt=>pt==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:Qt(pt=>{switch(pt){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(pt,zn)=>l.addCommand(zn,pt)),l.addCommand("mceInsertTable",(pt,zn)=>{uE(l,zn.rows,zn.columns,zn.options)}),l.addCommand("mceTableApplyCellStyle",(pt,zn)=>{const Oo=Pa=>"tablecell"+Pa.toLowerCase().replace("-","");if(!nt(zn))return;const Go=wt(Ul(l),gp);if(Go.length===0)return;const Lr=Dn(zn,(Pa,Ta)=>l.formatter.has(Oo(Ta))&&Fn(Pa));to(Lr)||(Q(Lr,(Pa,Ta)=>{const ri=Oo(Ta);Xe(Go,Og=>{Pa===""?l.formatter.remove(ri,{value:null},Og.dom,!0):l.formatter.apply(ri,{value:Pa},Og.dom)})}),O(Go[0]).each(Pa=>Sm(l,Pa.dom,Ep)))})},A2=(l,f)=>{const p=kf(l),y=C=>pp(Vl(l)).bind(O=>bc(O,p).map($=>{const W=ym(Ul(l),$,O);return C($,W)})).getOr("");Q({mceTableRowType:()=>y(f.getTableRowType),mceTableCellType:()=>y(f.getTableCellType),mceTableColType:()=>y(f.getTableColType)},(C,O)=>l.addQueryValueHandler(O,C))},y1=Af.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mE=(l,f,p,y)=>l.fold(f,p,y),sb=l=>l.fold(dt,dt,dt),gE=y1.before,pE=y1.on,O2=y1.after,ja={before:gE,on:pE,after:O2,cata:mE,getStart:sb},Ap={create:(l,f)=>({selection:l,kill:f})},bE=(l,f)=>{const p=l.document.createRange();return p.selectNode(f.dom),p},rb=(l,f)=>{const p=l.document.createRange();return I0(p,f),p},I0=(l,f)=>l.selectNodeContents(f.dom),yE=(l,f)=>{f.fold(p=>{l.setStartBefore(p.dom)},(p,y)=>{l.setStart(p.dom,y)},p=>{l.setStartAfter(p.dom)})},vE=(l,f)=>{f.fold(p=>{l.setEndBefore(p.dom)},(p,y)=>{l.setEnd(p.dom,y)},p=>{l.setEndAfter(p.dom)})},L0=(l,f,p)=>{const y=l.document.createRange();return yE(y,f),vE(y,p),y},Tm=(l,f,p,y,C)=>{const O=l.document.createRange();return O.setStart(f.dom,p),O.setEnd(y.dom,C),O},Op=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),Ai=l=>{const f=l.getClientRects(),p=f.length>0?f[0]:l.getBoundingClientRect();return p.width>0||p.height>0?ie.some(p).map(Op):ie.none()},yg=Af.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),z2=(l,f,p)=>f(ke.fromDom(p.startContainer),p.startOffset,ke.fromDom(p.endContainer),p.endOffset),D2=(l,f)=>f.match({domRange:p=>({ltr:j(p),rtl:ie.none}),relative:(p,y)=>({ltr:Hl(()=>L0(l,p,y)),rtl:Hl(()=>ie.some(L0(l,y,p)))}),exact:(p,y,C,O)=>({ltr:Hl(()=>Tm(l,p,y,C,O)),rtl:Hl(()=>ie.some(Tm(l,C,O,p,y)))})}),H0=(l,f)=>{const p=f.ltr();return p.collapsed?f.rtl().filter(C=>C.collapsed===!1).map(C=>yg.rtl(ke.fromDom(C.endContainer),C.endOffset,ke.fromDom(C.startContainer),C.startOffset)).getOrThunk(()=>z2(l,yg.ltr,p)):z2(l,yg.ltr,p)},V0=(l,f)=>{const p=D2(l,f);return H0(l,p)},U0=(l,f)=>V0(l,f).match({ltr:(y,C,O,$)=>{const W=l.document.createRange();return W.setStart(y.dom,C),W.setEnd(O.dom,$),W},rtl:(y,C,O,$)=>{const W=l.document.createRange();return W.setStart(O.dom,$),W.setEnd(y.dom,C),W}});yg.ltr,yg.rtl;const ab={create:(l,f,p,y)=>({start:l,soffset:f,finish:p,foffset:y})},Em={create:(l,f,p,y)=>({start:ja.on(l,f),finish:ja.on(p,y)})},cb=(l,f)=>{const p=U0(l,f);return ab.create(ke.fromDom(p.startContainer),p.startOffset,ke.fromDom(p.endContainer),p.endOffset)},Qu=Em.create,wE=(l,f,p,y,C,O,$)=>_t(p,C)&&y===O?ie.none():Be(p,"td,th",f).bind(W=>Be(C,"td,th",f).bind(te=>Nd(l,f,W,te,$))),Nd=(l,f,p,y,C)=>_t(p,y)?ie.none():Tu(p,y,f).bind(O=>{const $=O.boxes.getOr([]);return $.length>1?(C(l,$,O.start,O.finish),ie.some(Ap.create(ie.some(Qu(p,0,p,ks(p))),!0))):ie.none()}),Ou=(l,f,p,y,C)=>{const O=$=>(C.clearBeforeUpdate(p),C.selectRange(p,$.boxes,$.start,$.finish),$.boxes);return wT(y,l,f,C.firstSelectedSelector,C.lastSelectedSelector).map(O)},zp=(l,f)=>({item:l,mode:f}),j0=(l,f,p,y=Dp)=>l.property().parent(f).map(C=>zp(C,y)),Dp=(l,f,p,y=Mf)=>p.sibling(l,f).map(C=>zp(C,y)),Mf=(l,f,p,y=Mf)=>{const C=l.property().children(f);return p.first(C).map($=>zp($,y))},Rp=[{current:j0,next:Dp,fallback:ie.none()},{current:Dp,next:Mf,fallback:ie.some(j0)},{current:Mf,next:Mf,fallback:ie.some(Dp)}],vg=(l,f,p,y,C=Rp)=>F(C,$=>$.current===p).bind($=>$.current(l,f,y,$.next).orThunk(()=>$.fallback.bind(W=>vg(l,f,W,y)))),kg={left:()=>({sibling:(p,y)=>p.query().prevSibling(y),first:p=>p.length>0?ie.some(p[p.length-1]):ie.none()}),right:()=>({sibling:(p,y)=>p.query().nextSibling(y),first:p=>p.length>0?ie.some(p[0]):ie.none()})},wg=(l,f,p,y,C,O)=>vg(l,f,y,C).bind(W=>O(W.item)?ie.none():p(W.item)?ie.some(W.item):wg(l,W.item,p,W.mode,C,O)),N2=(l,f,p,y)=>wg(l,f,p,Dp,kg.left(),y),k1=(l,f,p,y)=>wg(l,f,p,Dp,kg.right(),y),Np=l=>f=>l.property().children(f).length===0,dc=(l,f,p)=>ed(l,f,Np(l),p),_E=(l,f,p)=>Z0(l,f,Np(l),p),ed=N2,Z0=k1,Mp=kt(),_g=(l,f)=>dc(Mp,l,f),q0=(l,f)=>_E(Mp,l,f),w1=(l,f,p)=>ed(Mp,l,f,p),CE=(l,f,p)=>Z0(Mp,l,f,p),M2=(l,f,p)=>Ws(l,f,p).isSome(),ib=Af.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),B2=(l,f,p)=>{const y=l.getRect(f),C=l.getRect(p);return C.right>y.left&&C.left<y.right},P2=l=>Be(l,"tr"),lb={...ib,verify:(l,f,p,y,C,O,$)=>Be(y,"td,th",$).bind(W=>Be(f,"td,th",$).map(te=>_t(W,te)?_t(y,W)&&ks(W)===C?O(te):ib.none("in same cell"):Or(P2,[W,te]).fold(()=>B2(l,te,W)?ib.success():O(te),he=>O(te)))).getOr(ib.none("default")),cata:(l,f,p,y,C)=>l.fold(f,p,y,C)},F2=(l,f,p,y)=>({parent:l,children:f,element:p,index:y}),Zc=l=>ds(l).bind(f=>{const p=yo(f);return _1(p,l).map(y=>F2(f,p,l,y))}),_1=(l,f)=>qo(l,gt(_t,f)),Cg=kn("br"),Sg=(l,f,p)=>f(l,p).bind(y=>Ee(y)&&vo(y).trim().length===0?Sg(y,f,p):ie.some(y)),El=(l,f,p)=>p.traverse(f).orThunk(()=>Sg(f,p.gather,l)).map(p.relative),Om=(l,f)=>os(l,f).filter(Cg).orThunk(()=>os(l,f-1).filter(Cg)),G0=(l,f,p,y)=>Om(f,p).bind(C=>y.traverse(C).fold(()=>Sg(C,y.gather,l).map(y.relative),O=>Zc(O).map($=>ja.on($.parent,$.index)))),Bp=(l,f,p,y)=>(Cg(f)?El(l,f,y):G0(l,f,p,y)).map(O=>({start:O,finish:O})),Gi=l=>lb.cata(l,f=>ie.none(),()=>ie.none(),f=>ie.some(vm(f,0)),f=>ie.some(vm(f,ks(f)))),oi=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),ha=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Al=(l,f,p)=>({left:l.left+f,top:l.top+p,right:l.right+f,bottom:l.bottom+p}),C1=l=>l.top,Dc=l=>l.bottom,zm=(l,f,p)=>p>=0&&p<ks(f)?l.getRangedRect(f,p,f,p+1):p>0?l.getRangedRect(f,p-1,f,p):ie.none(),Pp=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),ub=(l,f)=>ie.some(l.getRect(f)),K0=(l,f,p)=>ar(f)?ub(l,f).map(Pp):Ee(f)?zm(l,f,p).map(Pp):ie.none(),Y0=(l,f)=>ar(f)?ub(l,f).map(Pp):Ee(f)?l.getRangedRect(f,0,f,ks(f)).map(Pp):ie.none(),Bf=5,db=100,td=Af.generate([{none:[]},{retry:["caret"]}]),SE=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,X0=(l,f,p)=>Ga(f,pg).fold(Zt,y=>Y0(l,y).exists(C=>SE(p,C))),$2=(l,f,p,y,C)=>{const O=oi(C,Bf);return Math.abs(p.bottom-y.bottom)<1||p.top>C.bottom?td.retry(O):p.top===C.bottom?td.retry(oi(C,1)):X0(l,f,C)?td.retry(Al(O,Bf,0)):td.none()},I2={point:C1,adjuster:(l,f,p,y,C)=>{const O=ha(C,Bf);return Math.abs(p.top-y.top)<1||p.bottom<C.top?td.retry(O):p.bottom===C.top?td.retry(ha(C,1)):X0(l,f,C)?td.retry(Al(O,Bf,0)):td.none()},move:ha,gather:_g},L2={point:Dc,adjuster:$2,move:oi,gather:q0},J0=(l,f,p)=>l.elementFromPoint(f,p).filter(y=>_s(y)==="table").isSome(),Q0=(l,f,p,y,C)=>ek(l,f,p,f.move(y,Bf),C),ek=(l,f,p,y,C)=>C===0?ie.some(y):J0(l,y.left,f.point(y))?Q0(l,f,p,y,C-1):l.situsFromPoint(y.left,f.point(y)).bind(O=>O.start.fold(ie.none,$=>Y0(l,$).bind(W=>f.adjuster(l,$,W,p,y).fold(ie.none,te=>ek(l,f,p,te,C-1))).orThunk(()=>ie.some(y)),ie.none)),H2=(l,f,p)=>l.point(f)>p.getInnerHeight()?ie.some(l.point(f)-p.getInnerHeight()):l.point(f)<0?ie.some(-l.point(f)):ie.none(),V2=(l,f,p)=>{const y=l.move(p,Bf),C=ek(f,l,p,y,db).getOr(y);return H2(l,C,f).fold(()=>f.situsFromPoint(C.left,l.point(C)),O=>(f.scrollBy(0,O),f.situsFromPoint(C.left,l.point(C)-O)))},U2={tryUp:gt(V2,I2),tryDown:gt(V2,L2),getJumpSize:j(Bf)},xE=20,TE=(l,f,p)=>l.getSelection().bind(y=>Bp(f,y.finish,y.foffset,p).fold(()=>ie.some(vm(y.finish,y.foffset)),C=>{const O=l.fromSitus(C),$=lb.verify(l,y.finish,y.foffset,O.finish,O.foffset,p.failure,f);return Gi($)})),Ol=(l,f,p,y,C,O)=>O===0?ie.none():Yl(l,f,p,y,C).bind($=>{const W=l.fromSitus($),te=lb.verify(l,p,y,W.finish,W.foffset,C.failure,f);return lb.cata(te,()=>ie.none(),()=>ie.some($),he=>_t(p,he)&&y===0?EE(l,p,y,ha,C):Ol(l,f,he,0,C,O-1),he=>_t(p,he)&&y===ks(he)?EE(l,p,y,oi,C):Ol(l,f,he,ks(he),C,O-1))}),EE=(l,f,p,y,C)=>K0(l,f,p).bind(O=>is(l,C,y(O,U2.getJumpSize()))),is=(l,f,p)=>{const y=cf().browser;return y.isChromium()||y.isSafari()||y.isFirefox()?f.retry(l,p):ie.none()},Yl=(l,f,p,y,C)=>K0(l,p,y).bind(O=>is(l,C,O)),Dm=(l,f,p)=>TE(l,f,p).bind(y=>Ol(l,f,y.element,y.offset,p,xE).map(l.fromSitus)),tk=(l,f)=>M2(l,p=>ds(p).exists(y=>_t(y,f))),j2=(l,f,p,y,C)=>Be(y,"td,th",f).bind(O=>Be(O,"table",f).bind($=>tk(C,$)?Dm(l,f,p).bind(W=>Be(W.finish,"td,th",f).map(te=>({start:O,finish:te,range:W}))):ie.none())),Fp=(l,f,p,y,C,O)=>O(y,f).orThunk(()=>j2(l,f,p,y,C).map($=>{const W=$.range;return Ap.create(ie.some(Qu(W.start,W.soffset,W.finish,W.foffset)),!0)})),AE=(l,f)=>Be(l,"tr",f).bind(p=>Be(p,"table",f).bind(y=>{const C=dr(y,"tr");return _t(p,C[0])?w1(y,O=>Zu(O).isSome(),f).map(O=>{const $=ks(O);return Ap.create(ie.some(Qu(O,$,O,$)),!0)}):ie.none()})),nk=(l,f)=>Be(l,"tr",f).bind(p=>Be(p,"table",f).bind(y=>{const C=dr(y,"tr");return _t(p,C[C.length-1])?CE(y,O=>Su(O).isSome(),f).map(O=>Ap.create(ie.some(Qu(O,0,O,0)),!0)):ie.none()})),S1=(l,f,p,y,C,O,$)=>j2(l,p,y,C,O).bind(W=>Nd(f,p,W.start,W.finish,$)),fb=l=>{let f=l;return{get:()=>f,set:C=>{f=C}}},OE=l=>{const f=fb(ie.none()),p=()=>f.get().each(l);return{clear:()=>{p(),f.set(ie.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:W=>{p(),f.set(ie.some(W))}}},ok=()=>{const l=OE(ot);return{...l,on:p=>l.get().each(p)}},x1=(l,f)=>Be(l,"td,th",f),sk=l=>Hs(l).exists(dm),HO=(l,f,p,y)=>{const C=ok(),O=C.clear,$=Ne=>{C.on(Ct=>{y.clearBeforeUpdate(f),x1(Ne.target,p).each(sn=>{Tu(Ct,sn,p).each(Jt=>{const bt=Jt.boxes.getOr([]);if(bt.length===1){const Qt=bt[0],pt=Ty(Qt)==="false",zn=ht(ag(Ne.target),Qt,_t);pt&&zn&&(y.selectRange(f,bt,Qt,Qt),l.selectContents(Qt))}else bt.length>1&&(y.selectRange(f,bt,Jt.start,Jt.finish),l.selectContents(sn))})})})};return{clearstate:O,mousedown:Ne=>{y.clear(f),x1(Ne.target,p).filter(sk).each(C.set)},mouseover:Ne=>{$(Ne)},mouseup:Ne=>{$(Ne),O()}}},W2={traverse:oc,gather:q0,relative:ja.before,retry:U2.tryDown,failure:lb.failedDown},rk={traverse:Gr,gather:_g,relative:ja.before,retry:U2.tryUp,failure:lb.failedUp},$p=l=>f=>f===l,mb=$p(38),Rm=$p(40),Md=l=>l>=37&&l<=40,Z2={isBackward:$p(37),isForward:$p(39)},zE={isBackward:$p(39),isForward:$p(37)},q2=l=>{const f=l!==void 0?l.dom:document,p=f.body.scrollLeft||f.documentElement.scrollLeft,y=f.body.scrollTop||f.documentElement.scrollTop;return kl(p,y)},ak=(l,f,p)=>{const C=(p!==void 0?p.dom:document).defaultView;C&&C.scrollBy(l,f)},Ip=Af.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ck=l=>Ip.exact(l.start,l.soffset,l.finish,l.foffset),T1=l=>l.match({domRange:f=>ke.fromDom(f.startContainer),relative:(f,p)=>ja.getStart(f),exact:(f,p,y,C)=>f}),ik=Ip.domRange,G2=Ip.relative,gb=Ip.exact,lk=l=>{const f=T1(l);return no(f)},DE=ab.create,zu={domRange:ik,relative:G2,exact:gb,exactFromRange:ck,getWin:lk,range:DE},K2=(l,f,p)=>{var y,C;return ie.from((C=(y=l.dom).caretPositionFromPoint)===null||C===void 0?void 0:C.call(y,f,p)).bind(O=>{if(O.offsetNode===null)return ie.none();const $=l.dom.createRange();return $.setStart(O.offsetNode,O.offset),$.collapse(),ie.some($)})},RE=(l,f,p)=>{var y,C;return ie.from((C=(y=l.dom).caretRangeFromPoint)===null||C===void 0?void 0:C.call(y,f,p))},dn=(()=>document.caretPositionFromPoint?K2:document.caretRangeFromPoint?RE:ie.none)(),Wa=(l,f,p)=>{const y=ke.fromDom(l.document);return dn(y,f,p).map(C=>ab.create(ke.fromDom(C.startContainer),C.startOffset,ke.fromDom(C.endContainer),C.endOffset))},Du=(l,f)=>{const p=_s(l);return p==="input"?ja.after(l):un(["br","img"],p)?f===0?ja.before(l):ja.after(l):ja.on(l,f)},tc=(l,f)=>{const p=l.fold(ja.before,Du,ja.after),y=f.fold(ja.before,Du,ja.after);return zu.relative(p,y)},Ru=(l,f,p,y)=>{const C=Du(l,f),O=Du(p,y);return zu.relative(C,O)},Y2=(l,f,p,y)=>{const O=_n(l).dom.createRange();return O.setStart(l.dom,f),O.setEnd(p.dom,y),O},pb=(l,f,p,y)=>{const C=Y2(l,f,p,y),O=_t(l,p)&&f===y;return C.collapsed&&!O},Xl=l=>ie.from(l.getSelection()),E1=(l,f)=>{Xl(l).each(p=>{p.removeAllRanges(),p.addRange(f)})},hb=(l,f,p,y,C)=>{const O=Tm(l,f,p,y,C);E1(l,O)},bb=(l,f,p,y,C,O)=>{f.collapse(p.dom,y),f.extend(C.dom,O)},uk=(l,f)=>V0(l,f).match({ltr:(p,y,C,O)=>{hb(l,p,y,C,O)},rtl:(p,y,C,O)=>{Xl(l).each($=>{if($.setBaseAndExtent)$.setBaseAndExtent(p.dom,y,C.dom,O);else if($.extend)try{bb(l,$,p,y,C,O)}catch{hb(l,C,O,p,y)}else hb(l,C,O,p,y)})}}),yb=(l,f,p,y,C)=>{const O=Ru(f,p,y,C);uk(l,O)},A1=(l,f,p)=>{const y=tc(f,p);uk(l,y)},dk=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),p=l.getRangeAt(l.rangeCount-1);return ie.some(ab.create(ke.fromDom(f.startContainer),f.startOffset,ke.fromDom(p.endContainer),p.endOffset))}else return ie.none()},NE=l=>{if(l.anchorNode===null||l.focusNode===null)return dk(l);{const f=ke.fromDom(l.anchorNode),p=ke.fromDom(l.focusNode);return pb(f,l.anchorOffset,p,l.focusOffset)?ie.some(ab.create(f,l.anchorOffset,p,l.focusOffset)):dk(l)}},Nu=(l,f,p=!0)=>{const C=(p?rb:bE)(l,f);E1(l,C)},O1=l=>Xl(l).filter(f=>f.rangeCount>0).bind(NE),vb=l=>O1(l).map(f=>zu.exact(f.start,f.soffset,f.finish,f.foffset)),ll=(l,f)=>{const p=U0(l,f);return Ai(p)},Ba=(l,f,p)=>Wa(l,f,p),fk=l=>{Xl(l).each(f=>f.removeAllRanges())},kb=l=>({elementFromPoint:(pt,zn)=>ke.fromPoint(ke.fromDom(l.document),pt,zn),getRect:pt=>pt.dom.getBoundingClientRect(),getRangedRect:(pt,zn,Oo,Go)=>{const Lr=zu.exact(pt,zn,Oo,Go);return ll(l,Lr)},getSelection:()=>vb(l).map(pt=>cb(l,pt)),fromSitus:pt=>{const zn=zu.relative(pt.start,pt.finish);return cb(l,zn)},situsFromPoint:(pt,zn)=>Ba(l,pt,zn).map(Oo=>Em.create(Oo.start,Oo.soffset,Oo.finish,Oo.foffset)),clearSelection:()=>{fk(l)},collapseSelection:(pt=!1)=>{vb(l).each(zn=>zn.fold(Oo=>Oo.collapse(pt),(Oo,Go)=>{const Lr=pt?Oo:Go;A1(l,Lr,Lr)},(Oo,Go,Lr,Pa)=>{const Ta=pt?Oo:Lr,ri=pt?Go:Pa;yb(l,Ta,ri,Ta,ri)}))},setSelection:pt=>{yb(l,pt.start,pt.soffset,pt.finish,pt.foffset)},setRelativeSelection:(pt,zn)=>{A1(l,pt,zn)},selectNode:pt=>{Nu(l,pt,!1)},selectContents:pt=>{Nu(l,pt)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>q2(ke.fromDom(l.document)).top,scrollBy:(pt,zn)=>{ak(pt,zn,ke.fromDom(l.document))}}),zl=(l,f)=>({rows:l,cols:f}),wb=(l,f,p,y)=>{const C=kb(l),O=HO(C,f,p,y);return{clearstate:O.clearstate,mousedown:O.mousedown,mouseover:O.mouseover,mouseup:O.mouseup}},mk=l=>Ga(l,Kn).exists(dm),gk=(l,f)=>mk(l)||mk(f),ME=(l,f,p,y)=>{const C=kb(l),O=()=>(y.clear(f),ie.none());return{keydown:(te,he,Ne,Ct,sn,Jt)=>{const bt=te.raw,Qt=bt.which,pt=bt.shiftKey===!0;return Xv(f,y.selectedSelector).fold(()=>(Md(Qt)&&!pt&&y.clearBeforeUpdate(f),Md(Qt)&&pt&&!gk(he,Ct)?ie.none:Rm(Qt)&&pt?gt(S1,C,f,p,W2,Ct,he,y.selectRange):mb(Qt)&&pt?gt(S1,C,f,p,rk,Ct,he,y.selectRange):Rm(Qt)?gt(Fp,C,p,W2,Ct,he,nk):mb(Qt)?gt(Fp,C,p,rk,Ct,he,AE):ie.none),Oo=>{const Go=Lr=>()=>Fe(Lr,Ta=>Ou(Ta.rows,Ta.cols,f,Oo,y)).fold(()=>_f(f,y.firstSelectedSelector,y.lastSelectedSelector).map(Ta=>{const ri=Rm(Qt)||Jt.isForward(Qt)?ja.after:ja.before;return C.setRelativeSelection(ja.on(Ta.first,0),ri(Ta.table)),y.clear(f),Ap.create(ie.none(),!0)}),Ta=>ie.some(Ap.create(ie.none(),!0)));return Md(Qt)&&pt&&!gk(he,Ct)?ie.none:Rm(Qt)&&pt?Go([zl(1,0)]):mb(Qt)&&pt?Go([zl(-1,0)]):Jt.isBackward(Qt)&&pt?Go([zl(0,-1),zl(-1,0)]):Jt.isForward(Qt)&&pt?Go([zl(0,1),zl(1,0)]):Md(Qt)&&!pt?O:ie.none})()},keyup:(te,he,Ne,Ct,sn)=>Xv(f,y.selectedSelector).fold(()=>{const Jt=te.raw,bt=Jt.which;return Jt.shiftKey===!0&&Md(bt)&&gk(he,Ct)?wE(f,p,he,Ne,Ct,sn,y.selectRange):ie.none()},ie.none)}},X2=(l,f,p,y)=>{const C=kb(l);return(O,$)=>{y.clearBeforeUpdate(f),Tu(O,$,p).each(W=>{const te=W.boxes.getOr([]);y.selectRange(f,te,W.start,W.finish),C.selectContents($),C.collapseSelection()})}},_b=(l,f)=>{const p=cr(l,f);return p===void 0||p===""?[]:p.split(" ")},J2=(l,f,p)=>{const C=_b(l,f).concat([p]);return Xo(l,f,C.join(" ")),!0},BE=(l,f,p)=>{const y=wt(_b(l,f),C=>C!==p);return y.length>0?Xo(l,f,y.join(" ")):re(l,f),!1},Nm=l=>l.dom.classList!==void 0,Rc=l=>_b(l,"class"),Jl=(l,f)=>J2(l,"class",f),Dl=(l,f)=>BE(l,"class",f),ul=(l,f)=>{Nm(l)?l.dom.classList.add(f):Jl(l,f)},z1=l=>{(Nm(l)?l.dom.classList:Rc(l)).length===0&&re(l,"class")},xg=(l,f)=>{Nm(l)?l.dom.classList.remove(f):Dl(l,f),z1(l)},Pf=(l,f)=>Nm(l)&&l.dom.classList.contains(f),PE=(l,f)=>{Xe(f,p=>{xg(l,p)})},pk=l=>f=>{ul(f,l)},FE=l=>f=>{PE(f,l)},tC={byClass:l=>{const f=pk(l.selected),p=FE([l.selected,l.lastSelected,l.firstSelected]),y=O=>{const $=dr(O,l.selectedSelector);Xe($,p)};return{clearBeforeUpdate:y,clear:y,selectRange:(O,$,W,te)=>{y(O),Xe($,f),ul(W,l.firstSelected),ul(te,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,p)=>{const y=te=>{re(te,l.selected),re(te,l.firstSelected),re(te,l.lastSelected)},C=te=>{Xo(te,l.selected,"1")},O=te=>{$(te),p()},$=te=>{const he=dr(te,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);Xe(he,y)};return{clearBeforeUpdate:$,clear:O,selectRange:(te,he,Ne,Ct)=>{O(te),Xe(he,C),Xo(Ne,l.firstSelected,"1"),Xo(Ct,l.lastSelected,"1"),f(he,Ne,Ct)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},D1=(l,f,p,y)=>{switch(l.tag){case"none":return f();case"single":return y(l.element);case"multiple":return p(l.elements)}},hk=()=>({tag:"none"}),mr=l=>({tag:"multiple",elements:l}),Ff=l=>({tag:"single",element:l}),Lp=(l,f,p)=>({get:()=>Jv(l(),p).fold(()=>f().fold(hk,Ff),mr)}),bk=(l,f)=>{const p=l.slice(0,f[f.length-1].row+1),y=u0(p);return ft(y,C=>{const O=C.cells.slice(0,f[f.length-1].column+1);return Yt(O,$=>$.element)})},nC=(l,f)=>{const p=l.slice(f[0].row+f[0].rowspan-1,l.length),y=u0(p);return ft(y,C=>{const O=C.cells.slice(f[0].column+f[0].colspan-1,C.cells.length);return Yt(O,$=>$.element)})},yk=(l,f,p)=>{const y=Qo.fromTable(l);return Wl(y,f).map(O=>{const $=Si(y,p,!1),{rows:W}=me($),te=bk(W,O),he=nC(W,O);return{upOrLeftCells:te,downOrRightCells:he}})},oC=(l,f,p,y,C,O,$)=>({target:l,x:f,y:p,stop:y,prevent:C,kill:O,raw:$}),R1=l=>{const f=ke.fromDom(nn(l).getOr(l.target)),p=()=>l.stopPropagation(),y=()=>l.preventDefault(),C=Ot(y,p);return oC(f,l.clientX,l.clientY,p,y,C,l)},$E=(l,f)=>p=>{l(p)&&f(R1(p))},IE=(l,f,p,y,C)=>{const O=$E(p,y);return l.dom.addEventListener(f,O,C),{unbind:gt(LE,l,f,O,C)}},sC=(l,f,p,y)=>IE(l,f,p,y,!1),LE=(l,f,p,y)=>{l.dom.removeEventListener(f,p,y)},vk=Pe,Hp=(l,f,p)=>sC(l,f,vk,p),Vp=R1,N1=l=>!Pf(ke.fromDom(l.target),"ephox-snooker-resizer-bar"),rC=(l,f)=>{const p=Lp(()=>ke.fromDom(l.getBody()),()=>pp(Vl(l),kf(l)),Cf.selectedSelector),y=(te,he,Ne)=>{bc(he).each(sn=>{const Jt=im(l),bt=Va(ot,ke.fromDom(l.getDoc()),Jt),Qt=Ul(l),pt=yk(sn,{selection:Qt},bt);Tp(l,te,he,Ne,pt)})},C=()=>Rr(l),O=tC.byAttr(Cf,y,C);return l.on("init",te=>{const he=l.getWin(),Ne=Hh(l),Ct=kf(l),sn=()=>{const lr=l.selection,ai=ke.fromDom(lr.getStart()),Oi=ke.fromDom(lr.getEnd());Or(bc,[ai,Oi]).fold(()=>O.clear(Ne),ot)},Jt=wb(he,Ne,Ct,O),bt=ME(he,Ne,Ct,O),Qt=X2(he,Ne,Ct,O),pt=lr=>lr.raw.shiftKey===!0;l.on("TableSelectorChange",lr=>Qt(lr.start,lr.finish));const zn=(lr,ai)=>{pt(lr)&&(ai.kill&&lr.kill(),ai.selection.each(Oi=>{const Bu=zu.relative(Oi.start,Oi.finish),zi=U0(he,Bu);l.selection.setRng(zi)}))},Oo=lr=>{const ai=Vp(lr);if(ai.raw.shiftKey&&Md(ai.raw.which)){const Oi=l.selection.getRng(),Bu=ke.fromDom(Oi.startContainer),zi=ke.fromDom(Oi.endContainer);bt.keyup(ai,Bu,Oi.startOffset,zi,Oi.endOffset).each(zg=>{zn(ai,zg)})}},Go=lr=>{const ai=Vp(lr);f.hide();const Oi=l.selection.getRng(),Bu=ke.fromDom(Oi.startContainer),zi=ke.fromDom(Oi.endContainer),zg=ky(Z2,zE)(ke.fromDom(l.selection.getStart()));bt.keydown(ai,Bu,Oi.startOffset,zi,Oi.endOffset,zg).each(ci=>{zn(ai,ci)}),f.show()},Lr=lr=>lr.button===0,Pa=lr=>lr.buttons===void 0?!0:(lr.buttons&1)!==0,Ta=lr=>{Jt.clearstate()},ri=lr=>{Lr(lr)&&N1(lr)&&Jt.mousedown(Vp(lr))},Og=lr=>{Pa(lr)&&N1(lr)&&Jt.mouseover(Vp(lr))},Tb=lr=>{Lr(lr)&&N1(lr)&&Jt.mouseup(Vp(lr))},j1=(()=>{const lr=fb(ke.fromDom(Ne)),ai=fb(0);return{touchEnd:Bu=>{const zi=ke.fromDom(Bu.target);if(kn("td")(zi)||kn("th")(zi)){const zg=lr.get(),ci=ai.get();_t(zg,zi)&&Bu.timeStamp-ci<300&&(Bu.preventDefault(),Qt(zi,zi))}lr.set(zi),ai.set(Bu.timeStamp)}}})();l.on("dragstart",Ta),l.on("mousedown",ri),l.on("mouseover",Og),l.on("mouseup",Tb),l.on("touchend",j1.touchEnd),l.on("keyup",Oo),l.on("keydown",Go),l.on("NodeChange",sn)}),l.on("PreInit",()=>{l.serializer.addTempAttr(Cf.firstSelected),l.serializer.addTempAttr(Cf.lastSelected)}),{getSelectedCells:()=>D1(p.get(),j([]),te=>Yt(te,he=>he.dom),te=>[te.dom]),clearSelectedCells:te=>O.clear(ke.fromDom(te))}},Ql=l=>{let f=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");f.push(O)},unbind:O=>{f=wt(f,$=>$!==O)},trigger:(...O)=>{const $={};Xe(l,(W,te)=>{$[W]=O[te]}),Xe(f,W=>{W($)})}}},Nc=l=>{const f=Se(l,y=>({bind:y.bind,unbind:y.unbind})),p=Se(l,y=>y.trigger);return{registry:f,trigger:p}},qc=(l,f)=>{let p=null;const y=()=>{vn(p)||(clearTimeout(p),p=null)};return{cancel:y,throttle:(...O)=>{y(),p=setTimeout(()=>{p=null,l.apply(null,O)},f)}}},Bd=l=>l.slice(0).sort(),HE=(l,f)=>{throw new Error("All required keys ("+Bd(l).join(", ")+") were not specified. Specified keys were: "+Bd(f).join(", ")+".")},VE=l=>{throw new Error("Unsupported keys for object: "+Bd(l).join(", "))},UE=(l,f)=>{if(!pn(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");Xe(f,p=>{if(!Fn(p))throw new Error("The value "+p+" in the "+l+" fields was not a string.")})},bs=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Bd(l).join(", ")+") were not.")},jE=l=>{const f=Bd(l);F(f,(y,C)=>C<f.length-1&&y===f[C+1]).each(y=>{throw new Error("The field: "+y+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},aC=(l,f)=>M1(l,f,{validate:It,label:"function"}),M1=(l,f,p)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return UE("required",f),jE(f),y=>{const C=qe(y);mt(f,W=>un(C,W))||HE(f,C),l(f,C);const $=wt(f,W=>!p.validate(y[W],W));return $.length>0&&bs($,p.label),y}},WE=(l,f)=>{const p=wt(f,y=>!un(l,y));p.length>0&&VE(p)},hn=l=>aC(WE,l),Tg=hn(["compare","extract","mutate","sink"]),ZE=hn(["element","start","stop","destroy"]),cC=hn(["forceDrop","drop","move","delayDrop"]),B1=()=>{let l=ie.none();const f=()=>{l=ie.none()},p=(O,$)=>{const W=l.map(te=>O.compare(te,$));return l=ie.some($),W},y=(O,$)=>{$.extract(O).each(te=>{p($,te).each(Ne=>{C.trigger.move(Ne)})})},C=Nc({move:Ql(["info"])});return{onEvent:y,reset:f,events:C.registry}},Cb=()=>{const l=Nc({move:Ql(["info"])});return{onEvent:ot,reset:ot,events:l.registry}},kk=()=>{const l=Cb(),f=B1();let p=l;return{on:()=>{p.reset(),p=f},off:()=>{p.reset(),p=l},isOn:()=>p===f,onEvent:(W,te)=>{p.onEvent(W,te)},events:f.events}},wk=(l,f,p)=>{let y=!1;const C=Nc({start:Ql([]),stop:Ql([])}),O=kk(),$=()=>{bt.stop(),O.isOn()&&(O.off(),C.trigger.stop())},W=qc($,200),te=pt=>{bt.start(pt),O.on(),C.trigger.start()},he=pt=>{W.cancel(),O.onEvent(pt,f)};O.events.move.bind(pt=>{f.mutate(l,pt.info)});const Ne=()=>{y=!0},Ct=()=>{y=!1},sn=()=>y,Jt=pt=>(...zn)=>{y&&pt.apply(null,zn)},bt=f.sink(cC({forceDrop:$,drop:Jt($),move:Jt(he),delayDrop:Jt(W.throttle)}),p),Qt=()=>{bt.destroy()};return{element:bt.element,go:te,on:Ne,off:Ct,isActive:sn,destroy:Qt,events:C.registry}},qE=l=>{const f=l.replace(/\./g,"-");return{resolve:y=>f+"-"+y}},iC=qE("ephox-dragster").resolve,lC=l=>{const f={layerClass:iC("blocker"),...l},p=ke.fromTag("div");return Xo(p,"role","presentation"),rc(p,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ul(p,iC("blocker")),ul(p,f.layerClass),{element:j(p),destroy:()=>{Mr(p)}}};var YE=Tg({compare:(l,f)=>kl(f.left-l.left,f.top-l.top),extract:l=>ie.some(kl(l.x,l.y)),sink:(l,f)=>{const p=lC(f),y=Hp(p.element(),"mousedown",l.forceDrop),C=Hp(p.element(),"mouseup",l.drop),O=Hp(p.element(),"mousemove",l.move),$=Hp(p.element(),"mouseout",l.delayDrop),W=()=>{p.destroy(),C.unbind(),O.unbind(),$.unbind(),y.unbind()},te=Ne=>{js(Ne,p.element())},he=()=>{Mr(p.element())};return ZE({element:p.element,start:te,stop:he,destroy:W})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const UO=(l,f={})=>{var p;const y=(p=f.mode)!==null&&p!==void 0?p:YE;return wk(l,y,f)},F1=qE("ephox-snooker").resolve,XE=()=>{const l=Nc({drag:Ql(["xDelta","yDelta"])});return{mutate:(p,y)=>{l.trigger.drag(p,y)},events:l.registry}},JE=()=>{const l=Nc({drag:Ql(["xDelta","yDelta","target"])});let f=ie.none();const p=XE();return p.events.drag.bind(O=>{f.each($=>{l.trigger.drag(O.xDelta,O.yDelta,$)})}),{assign:O=>{f=ie.some(O)},get:()=>f,mutate:p.mutate,events:l.registry}},QE=(l,f,p,y,C)=>{const O=ke.fromTag("div");return rc(O,{position:"absolute",left:f-y/2+"px",top:p+"px",height:C+"px",width:y+"px"}),wr(O,{"data-column":l,role:"presentation"}),O},xb=(l,f,p,y,C)=>{const O=ke.fromTag("div");return rc(O,{position:"absolute",left:f+"px",top:p-C/2+"px",height:C+"px",width:y+"px"}),wr(O,{"data-row":l,role:"presentation"}),O},_k=F1("resizer-bar"),uC=F1("resizer-rows"),Ck=F1("resizer-cols"),Sk=7,dC=(l,f)=>ft(l.all,(p,y)=>f(p.element)?[y]:[]),$f=(l,f)=>{const p=[];return Bn(l.grid.columns,y=>{Qo.getColumnAt(l,y).map(O=>O.element).forall(f)&&p.push(y)}),wt(p,y=>{const C=Qo.filterItems(l,O=>O.column===y);return mt(C,O=>f(O.element))})},Up=l=>{const f=dr(l.parent(),"."+_k);Xe(f,Mr)},xk=(l,f,p)=>{const y=l.origin();Xe(f,C=>{C.each(O=>{const $=p(y,O);ul($,_k),js(l.parent(),$)})})},e3=(l,f,p,y)=>{xk(l,f,(C,O)=>{const $=QE(O.col,O.x-C.left,p.top-C.top,Sk,y);return ul($,Ck),$})},t3=(l,f,p,y)=>{xk(l,f,(C,O)=>{const $=xb(O.row,p.left-C.left,O.y-C.top,y,Sk);return ul($,uC),$})},Fs=(l,f,p,y,C)=>{const O=el(p),$=f.isResizable,W=y.length>0?gn.positions(y,p):[],te=W.length>0?dC(l,$):[],he=wt(W,(Jt,bt)=>st(te,Qt=>bt===Qt));t3(f,he,O,vl(p));const Ne=C.length>0?Qc.positions(C,p):[],Ct=Ne.length>0?$f(l,$):[],sn=wt(Ne,(Jt,bt)=>st(Ct,Qt=>bt===Qt));e3(f,sn,O,df(p))},Tk=(l,f)=>{if(Up(l),l.isResizable(f)){const p=Qo.fromTable(f),y=Th(p),C=uf(p);Fs(p,l,f,y,C)}},Pd=(l,f)=>{const p=dr(l.parent(),"."+_k);Xe(p,f)},Fd=l=>{Pd(l,f=>{Pr(f,"display","none")})},If=l=>{Pd(l,f=>{Pr(f,"display","block")})},si=l=>Pf(l,uC),$1=l=>Pf(l,Ck),jp=F1("resizer-bar-dragging"),I1=l=>{const f=JE(),p=UO(f,{});let y=ie.none();const C=(bt,Qt)=>ie.from(cr(bt,Qt));f.events.drag.bind(bt=>{C(bt.target,"data-row").each(Qt=>{const pt=aa(bt.target,"top");Pr(bt.target,"top",pt+bt.yDelta+"px")}),C(bt.target,"data-column").each(Qt=>{const pt=aa(bt.target,"left");Pr(bt.target,"left",pt+bt.xDelta+"px")})});const O=(bt,Qt)=>{const pt=aa(bt,Qt),zn=ir(bt,"data-initial-"+Qt,0);return pt-zn};p.events.stop.bind(()=>{f.get().each(bt=>{y.each(Qt=>{C(bt,"data-row").each(pt=>{const zn=O(bt,"top");re(bt,"data-initial-top"),Jt.trigger.adjustHeight(Qt,zn,parseInt(pt,10))}),C(bt,"data-column").each(pt=>{const zn=O(bt,"left");re(bt,"data-initial-left"),Jt.trigger.adjustWidth(Qt,zn,parseInt(pt,10))}),Tk(l,Qt)})})});const $=(bt,Qt)=>{Jt.trigger.startAdjust(),f.assign(bt),Xo(bt,"data-initial-"+Qt,aa(bt,Qt)),ul(bt,jp),Pr(bt,"opacity","0.2"),p.go(l.parent())},W=Hp(l.parent(),"mousedown",bt=>{si(bt.target)&&$(bt.target,"top"),$1(bt.target)&&$(bt.target,"left")}),te=bt=>_t(bt,l.view()),he=bt=>Be(bt,"table",te).filter(dm),Ne=Hp(l.view(),"mouseover",bt=>{he(bt.target).fold(()=>{br(bt.target)&&Up(l)},Qt=>{p.isActive()&&(y=ie.some(Qt),Tk(l,Qt))})}),Ct=()=>{W.unbind(),Ne.unbind(),p.destroy(),Up(l)},sn=bt=>{Tk(l,bt)},Jt=Nc({adjustHeight:Ql(["table","delta","row"]),adjustWidth:Ql(["table","delta","column"]),startAdjust:Ql([])});return{destroy:Ct,refresh:sn,on:p.on,off:p.off,hideBars:gt(Fd,l),showBars:gt(If,l),events:Jt.registry}},n3={create:(l,f,p)=>{const y=gn,C=Qc,O=I1(l),$=Nc({beforeResize:Ql(["table","type"]),afterResize:Ql(["table","type"]),startDrag:Ql([])});return O.events.adjustHeight.bind(W=>{const te=W.table;$.trigger.beforeResize(te,"row");const he=y.delta(W.delta,te);Yy(te,he,W.row,y),$.trigger.afterResize(te,"row")}),O.events.startAdjust.bind(W=>{$.trigger.startDrag()}),O.events.adjustWidth.bind(W=>{const te=W.table;$.trigger.beforeResize(te,"col");const he=C.delta(W.delta,te),Ne=p(te);ct(te,he,W.column,f,Ne),$.trigger.afterResize(te,"col")}),{on:O.on,off:O.off,refreshBars:O.refresh,hideBars:O.hideBars,showBars:O.showBars,destroy:O.destroy,events:$.registry}}},ys={only:(l,f)=>{const p=Ge(l)?On(l):l;return{parent:j(p),view:j(l),origin:j(kl(0,0)),isResizable:f}},detached:(l,f,p)=>{const y=()=>el(f);return{parent:j(f),view:j(l),origin:y,isResizable:p}},body:(l,f,p)=>({parent:j(f),view:j(l),origin:j(kl(0,0)),isResizable:p})},Mu=()=>{const l=ke.fromTag("div");return rc(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),js(B(),l),l},Wp=(l,f)=>l.inline?ys.body(ke.fromDom(l.getBody()),Mu(),f):ys.only(ke.fromDom(l.getDoc()),f),s3=(l,f)=>{l.inline&&Mr(f.parent())},Ag=l=>jt(l)&&l.nodeName==="TABLE",ws="bar-",r3=l=>cr(l,"data-mce-resize")!=="false",L1=l=>{const f=Qo.fromTable(l);Qo.hasColumns(f)||Xe(Na(l),p=>{const y=Ya(p,"width");Pr(p,"width",y),re(p,"width")})},H1=l=>{const f=ok(),p=ok(),y=ok();let C,O;const $=bt=>Dd(l,bt),W=()=>jv(l)?lg():S_(),te=bt=>r0(bt).columns,he=(bt,Qt,pt)=>{const zn=Br(Qt,"e");if(O===""&&xm(bt),pt!==C&&O!==""){Pr(bt,"width",O);const Oo=W(),Go=$(bt),Lr=jv(l)||zn?te(bt)-1:0;ct(bt,pt-C,Lr,Oo,Go)}else if(Ay(O)){const Oo=parseFloat(O.replace("%","")),Go=pt*Oo/C;Pr(bt,"width",Go+"%")}Wv(O)&&L1(bt)},Ne=()=>{p.on(bt=>{bt.destroy()}),y.on(bt=>{s3(l,bt)})};return l.on("init",()=>{const bt=Wp(l,r3);if(y.set(bt),lm(l)&&Sd(l)){const Qt=W(),pt=n3.create(bt,Qt,$);pt.on(),pt.events.startDrag.bind(zn=>{f.set(l.selection.getRng())}),pt.events.beforeResize.bind(zn=>{const Oo=zn.table.dom;R0(l,Oo,cg(Oo),fm(Oo),ws+zn.type)}),pt.events.afterResize.bind(zn=>{const Oo=zn.table,Go=Oo.dom;Gu(Oo),f.on(Lr=>{l.selection.setRng(Lr),l.focus()}),Ei(l,Go,cg(Go),fm(Go),ws+zn.type),l.undoManager.add()}),p.set(pt)}}),l.on("ObjectResizeStart",bt=>{const Qt=bt.target;if(Ag(Qt)){const pt=ke.fromDom(Qt);Xe(l.dom.select(".mce-clonedresizable"),zn=>{l.dom.addClass(zn,"mce-"+Uv(l)+"-columns")}),!f1(pt)&&um(l)?M0(pt):!Rd(pt)&&qu(l)&&xm(pt),p2(pt)&&Kr(bt.origin,ws)&&xm(pt),C=bt.width,O=rg(l)?"":Ey(l,Qt).getOr("")}}),l.on("ObjectResized",bt=>{const Qt=bt.target;if(Ag(Qt)){const pt=ke.fromDom(Qt),zn=bt.origin;Kr(zn,"corner-")&&he(pt,zn,bt.width),Gu(pt),Sm(l,pt.dom,Ep)}}),l.on("SwitchMode",()=>{p.on(bt=>{l.mode.isReadOnly()?bt.hideBars():bt.showBars()})}),l.on("dragstart dragend",bt=>{p.on(Qt=>{bt.type==="dragstart"?(Qt.hideBars(),Qt.off()):(Qt.on(),Qt.showBars())})}),l.on("remove",()=>{Ne()}),{refresh:bt=>{p.on(Qt=>Qt.refreshBars(ke.fromDom(bt)))},hide:()=>{p.on(bt=>bt.hideBars())},show:()=>{p.on(bt=>bt.showBars())}}},V1=l=>{sg(l);const f=H1(l),p=rC(l,f),y=KT(l,f,p);return E2(l,y),A2(l,y),__(l,y),{getSelectedCells:p.getSelectedCells,clearSelectedCells:p.clearSelectedCells}},Lf=l=>({table:V1(l)});var $d=()=>{es.add("dom",Lf)};$d()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(Ce,Oe,T)=>{const un=Oe==="UL"?"InsertUnorderedList":"InsertOrderedList";Ce.execCommand(un,!1,T===!1?null:{"list-style-type":T})},So=Ce=>{Ce.addCommand("ApplyUnorderedListStyle",(Oe,T)=>{Do(Ce,"UL",T["list-style-type"])}),Ce.addCommand("ApplyOrderedListStyle",(Oe,T)=>{Do(Ce,"OL",T["list-style-type"])})},Ln=Ce=>Oe=>Oe.options.get(Ce),uo=Ce=>{const Oe=Ce.options.register;Oe("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Oe("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},ho=Ln("advlist_number_styles"),Fn=Ln("advlist_bullet_styles"),nt=Ce=>Ce==null,pn=Ce=>!nt(Ce);var vn=tinymce.util.Tools.resolve("tinymce.util.Tools");class En{constructor(Oe,T){this.tag=Oe,this.value=T}static some(Oe){return new En(!0,Oe)}static none(){return En.singletonNone}fold(Oe,T){return this.tag?T(this.value):Oe()}isSome(){return this.tag}isNone(){return!this.tag}map(Oe){return this.tag?En.some(Oe(this.value)):En.none()}bind(Oe){return this.tag?Oe(this.value):En.none()}exists(Oe){return this.tag&&Oe(this.value)}forall(Oe){return!this.tag||Oe(this.value)}filter(Oe){return!this.tag||Oe(this.value)?this:En.none()}getOr(Oe){return this.tag?this.value:Oe}or(Oe){return this.tag?this:Oe}getOrThunk(Oe){return this.tag?this.value:Oe()}orThunk(Oe){return this.tag?this:Oe()}getOrDie(Oe){if(this.tag)return this.value;throw new Error(Oe??"Called getOrDie on None")}static from(Oe){return pn(Oe)?En.some(Oe):En.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Oe){this.tag&&Oe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}En.singletonNone=new En(!1);const _o=(Ce,Oe,T)=>{for(let un=0,st=Ce.length;un<st;un++){const Bn=Ce[un];if(Oe(Bn,un))return En.some(Bn);if(T(Bn,un))break}return En.none()},cn=Ce=>/\btox\-/.test(Ce.className),jt=(Ce,Oe)=>Ce.dom.isChildOf(Oe,Ce.getBody()),It=Ce=>Oe=>pn(Oe)&&Ce.test(Oe.nodeName),tn=It(/^(OL|UL|DL)$/),ot=It(/^(TH|TD)$/),Ot=(Ce,Oe,T)=>_o(Oe,un=>tn(un)&&!cn(un),ot).exists(un=>un.nodeName===T&&jt(Ce,un)),xt=Ce=>{const Oe=Ce.dom.getParent(Ce.selection.getNode(),"ol,ul"),T=Ce.dom.getStyle(Oe,"listStyleType");return En.from(T)},j=(Ce,Oe)=>Oe!==null&&!Ce.dom.isEditable(Oe),dt=(Ce,Oe)=>{const T=Ce.dom.getParent(Oe,"ol,ul,dl");return j(Ce,T)&&Ce.selection.isEditable()},Mo=(Ce,Oe)=>{const T=Ce.selection.getNode();return Oe({parents:Ce.dom.getParents(T),element:T}),Ce.on("NodeChange",Oe),()=>Ce.off("NodeChange",Oe)},gt=Ce=>Ce.replace(/\-/g," ").replace(/\b\w/g,Oe=>Oe.toUpperCase()),U=Ce=>nt(Ce)||Ce==="default"?"":Ce,at=(Ce,Oe)=>T=>{const un=(Bn,Yt)=>{const Xe=Bn.selection.getStart(!0);T.setActive(Ot(Bn,Yt,Oe)),T.setEnabled(!dt(Bn,Xe)&&Bn.selection.isEditable())};return Mo(Ce,Bn=>un(Ce,Bn.parents))},bn=(Ce,Oe,T,un,st,Bn)=>{Ce.ui.registry.addSplitButton(Oe,{tooltip:T,icon:st==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:Yt=>{const Xe=vn.map(Bn,fo=>{const Zo=st==="OL"?"num":"bull",wt=fo==="disc"||fo==="decimal"?"default":fo,fn=U(fo),De=gt(fo);return{type:"choiceitem",value:fn,icon:"list-"+Zo+"-"+wt,text:De}});Yt(Xe)},onAction:()=>Ce.execCommand(un),onItemAction:(Yt,Xe)=>{Do(Ce,st,Xe)},select:Yt=>xt(Ce).map(fo=>Yt===fo).getOr(!1),onSetup:at(Ce,st)})},Zt=(Ce,Oe,T,un,st,Bn)=>{Ce.ui.registry.addToggleButton(Oe,{active:!1,tooltip:T,icon:st==="OL"?"ordered-list":"unordered-list",onSetup:at(Ce,st),onAction:()=>Ce.queryCommandState(un)||Bn===""?Ce.execCommand(un):Do(Ce,st,Bn)})},Pe=(Ce,Oe,T,un,st,Bn)=>{Bn.length>1?bn(Ce,Oe,T,un,st,Bn):Zt(Ce,Oe,T,un,st,U(Bn[0]))},ie=Ce=>{Pe(Ce,"numlist","Numbered list","InsertOrderedList","OL",ho(Ce)),Pe(Ce,"bullist","Bullet list","InsertUnorderedList","UL",Fn(Ce))};var Ro=()=>{es.add("advlist",Ce=>{Ce.hasPlugin("lists")?(uo(Ce),ie(Ce),So(Ce)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};Ro()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,So=wt=>fn=>fn.options.get(wt),Ln=wt=>{const fn=wt.options.register;fn("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Do().source+"$","i")}),fn("link_default_target",{processor:"string"}),fn("link_default_protocol",{processor:"string",default:"https"})},uo=So("autolink_pattern"),ho=So("link_default_target"),Fn=So("link_default_protocol"),nt=So("allow_unsafe_link_target"),pn=(wt,fn,De)=>{var lt;return De(wt,fn.prototype)?!0:((lt=wt.constructor)===null||lt===void 0?void 0:lt.name)===fn.name},vn=wt=>{const fn=typeof wt;return wt===null?"null":fn==="object"&&Array.isArray(wt)?"array":fn==="object"&&pn(wt,String,(De,lt)=>lt.isPrototypeOf(De))?"string":fn},En=wt=>fn=>vn(fn)===wt,_o=wt=>fn=>wt===fn,cn=En("string"),jt=_o(void 0),It=wt=>wt==null,tn=wt=>!It(wt),ot=wt=>fn=>!wt(fn),Ot=Object.hasOwnProperty,xt=(wt,fn)=>Ot.call(wt,fn),j=(wt,fn,De)=>fn===""||wt.length>=fn.length&&wt.substr(De,De+fn.length)===fn,dt=(wt,fn,De=0,lt)=>{const F=wt.indexOf(fn,De);return F!==-1?jt(lt)?!0:F+fn.length<=lt:!1},Mo=(wt,fn)=>j(wt,fn,0),gt="\uFEFF",U=wt=>wt===gt,at=wt=>wt.replace(/\uFEFF/g,"");var bn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Zt=wt=>wt.nodeType===3,Pe=wt=>wt.nodeType===1,ie=wt=>/^[(\[{ \u00a0]$/.test(wt),Ro=wt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(wt),Ce=wt=>/[?!,.;:]/.test(wt),Oe=(wt,fn,De)=>{for(let lt=fn-1;lt>=0;lt--){const F=wt.charAt(lt);if(!U(F)&&De(F))return lt}return-1},T=(wt,fn)=>{let De=wt,lt=fn;for(;Pe(De)&&De.childNodes[lt];)De=De.childNodes[lt],lt=Zt(De)?De.data.length:De.childNodes.length;return{container:De,offset:lt}},un=(wt,fn)=>{var De;const lt=wt.schema.getVoidElements(),F=uo(wt),{dom:qo,selection:Qn}=wt;if(qo.getParent(Qn.getNode(),"a[href]")!==null)return null;const ft=Qn.getRng(),mt=bn(qo,Q=>qo.isBlock(Q)||xt(lt,Q.nodeName.toLowerCase())||qo.getContentEditable(Q)==="false"),{container:on,offset:X}=T(ft.endContainer,ft.endOffset),be=(De=qo.getParent(on,qo.isBlock))!==null&&De!==void 0?De:qo.getRoot(),ve=mt.backwards(on,X+fn,(Q,Se)=>{const Ie=Q.data,zt=Oe(Ie,Se,ot(ie));return zt===-1||Ce(Ie[zt])?zt:zt+1},be);if(!ve)return null;let ae=ve.container;const Me=mt.backwards(ve.container,ve.offset,(Q,Se)=>{ae=Q;const Ie=Oe(Q.data,Se,ie);return Ie===-1?Ie:Ie+1},be),Fe=qo.createRng();Me?Fe.setStart(Me.container,Me.offset):Fe.setStart(ae,0),Fe.setEnd(ve.container,ve.offset);const Ue=at(Fe.toString()).match(F);if(Ue){let Q=Ue[0];return Mo(Q,"www.")?Q=Fn(wt)+"://"+Q:dt(Q,"@")&&!Ro(Q)&&(Q="mailto:"+Q),{rng:Fe,url:Q}}else return null},st=(wt,fn)=>{const{dom:De,selection:lt}=wt,{rng:F,url:qo}=fn,Qn=lt.getBookmark();lt.setRng(F);const ft="createlink",mt={command:ft,ui:!1,value:qo};if(!wt.dispatch("BeforeExecCommand",mt).isDefaultPrevented()){wt.getDoc().execCommand(ft,!1,qo),wt.dispatch("ExecCommand",mt);const X=ho(wt);if(cn(X)){const be=lt.getNode();De.setAttrib(be,"target",X),X==="_blank"&&!nt(wt)&&De.setAttrib(be,"rel","noopener")}}lt.moveToBookmark(Qn),wt.nodeChanged()},Bn=wt=>{const fn=un(wt,-1);tn(fn)&&st(wt,fn)},Yt=Bn,Xe=wt=>{const fn=un(wt,0);tn(fn)&&st(wt,fn)},fo=wt=>{wt.on("keydown",fn=>{fn.keyCode===13&&!fn.isDefaultPrevented()&&Xe(wt)}),wt.on("keyup",fn=>{fn.keyCode===32?Bn(wt):(fn.keyCode===48&&fn.shiftKey||fn.keyCode===221)&&Yt(wt)})};var Zo=()=>{es.add("autolink",wt=>{Ln(wt),fo(wt)})};Zo()})();(function(){const es=j=>{let dt=j;return{get:()=>dt,set:U=>{dt=U}}};var Do=tinymce.util.Tools.resolve("tinymce.PluginManager");const So=j=>()=>j;var Ln=tinymce.util.Tools.resolve("tinymce.Env");const uo=j=>j.dispatch("ResizeEditor"),ho=j=>dt=>dt.options.get(j),Fn=j=>{const dt=j.options.register;dt("autoresize_overflow_padding",{processor:"number",default:1}),dt("autoresize_bottom_margin",{processor:"number",default:50})},nt=ho("min_height"),pn=ho("max_height"),vn=ho("autoresize_overflow_padding"),En=ho("autoresize_bottom_margin"),_o=j=>j.plugins.fullscreen&&j.plugins.fullscreen.isFullscreen(),cn=(j,dt)=>{const Mo=j.getBody();Mo&&(Mo.style.overflowY=dt?"":"hidden",dt||(Mo.scrollTop=0))},jt=(j,dt,Mo,gt)=>{var U;const at=parseInt((U=j.getStyle(dt,Mo,gt))!==null&&U!==void 0?U:"",10);return isNaN(at)?0:at},It=j=>{if((j==null?void 0:j.type.toLowerCase())==="setcontent"){const dt=j;return dt.selection===!0||dt.paste===!0}else return!1},tn=(j,dt,Mo,gt)=>{var U;const at=j.dom,bn=j.getDoc();if(!bn)return;if(_o(j)){cn(j,!0);return}const Zt=bn.documentElement,Pe=gt?gt():vn(j),ie=(U=nt(j))!==null&&U!==void 0?U:j.getElement().offsetHeight;let Ro=ie;const Ce=jt(at,Zt,"margin-top",!0),Oe=jt(at,Zt,"margin-bottom",!0);let T=Zt.offsetHeight+Ce+Oe+Pe;T<0&&(T=0);const un=j.getContainer().offsetHeight,st=j.getContentAreaContainer().offsetHeight,Bn=un-st;T+Bn>ie&&(Ro=T+Bn);const Yt=pn(j);if(Yt&&Ro>Yt?(Ro=Yt,cn(j,!0)):cn(j,!1),Ro!==dt.get()){const Xe=Ro-dt.get();if(at.setStyle(j.getContainer(),"height",Ro+"px"),dt.set(Ro),uo(j),Ln.browser.isSafari()&&(Ln.os.isMacOS()||Ln.os.isiOS())){const fo=j.getWin();fo.scrollTo(fo.pageXOffset,fo.pageYOffset)}j.hasFocus()&&It(Mo)&&j.selection.scrollIntoView(),(Ln.browser.isSafari()||Ln.browser.isChromium())&&Xe<0&&tn(j,dt,Mo,gt)}},ot=(j,dt)=>{let Mo=()=>En(j),gt,U;j.on("init",at=>{gt=0;const bn=vn(j),Zt=j.dom;Zt.setStyles(j.getDoc().documentElement,{height:"auto"}),Ln.browser.isEdge()||Ln.browser.isIE()?Zt.setStyles(j.getBody(),{paddingLeft:bn,paddingRight:bn,"min-height":0}):Zt.setStyles(j.getBody(),{paddingLeft:bn,paddingRight:bn}),tn(j,dt,at,Mo),gt+=1}),j.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",at=>{if(gt===1)U=j.getContainer().offsetHeight,tn(j,dt,at,Mo),gt+=1;else if(gt===2){const bn=U<j.getContainer().offsetHeight;if(bn){const Zt=j.dom,Pe=j.getDoc();Zt.setStyles(Pe.documentElement,{"min-height":0}),Zt.setStyles(j.getBody(),{"min-height":"inherit"})}Mo=bn?So(0):Mo,gt+=1}else tn(j,dt,at,Mo)})},Ot=(j,dt)=>{j.addCommand("mceAutoResize",()=>{tn(j,dt)})};var xt=()=>{Do.add("autoresize",j=>{if(Fn(j),j.options.isSet("resize")||j.options.set("resize",!1),!j.inline){const dt=es(0);Ot(j,dt),ot(j,dt)}})};xt()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(x,R,H)=>{var ce;return H(x,R.prototype)?!0:((ce=x.constructor)===null||ce===void 0?void 0:ce.name)===R.name},So=x=>{const R=typeof x;return x===null?"null":R==="object"&&Array.isArray(x)?"array":R==="object"&&Do(x,String,(H,ce)=>ce.isPrototypeOf(H))?"string":R},Ln=x=>R=>So(R)===x,uo=x=>R=>typeof R===x,ho=Ln("string"),Fn=Ln("object"),nt=Ln("array"),pn=uo("boolean"),vn=x=>x==null,En=x=>!vn(x),_o=uo("function"),cn=uo("number"),jt=()=>{},It=x=>()=>x,tn=(x,R)=>x===R;function ot(x,...R){return(...H)=>{const ce=R.concat(H);return x.apply(null,ce)}}const Ot=x=>R=>!x(R),xt=It(!1);class j{constructor(R,H){this.tag=R,this.value=H}static some(R){return new j(!0,R)}static none(){return j.singletonNone}fold(R,H){return this.tag?H(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?j.some(R(this.value)):j.none()}bind(R){return this.tag?R(this.value):j.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:j.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return En(R)?j.some(R):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const dt=Array.prototype.slice,Mo=Array.prototype.indexOf,gt=Array.prototype.push,U=(x,R)=>Mo.call(x,R),at=(x,R)=>U(x,R)>-1,bn=(x,R)=>{for(let H=0,ce=x.length;H<ce;H++){const me=x[H];if(R(me,H))return!0}return!1},Zt=(x,R)=>{const H=x.length,ce=new Array(H);for(let me=0;me<H;me++){const Dt=x[me];ce[me]=R(Dt,me)}return ce},Pe=(x,R)=>{for(let H=0,ce=x.length;H<ce;H++){const me=x[H];R(me,H)}},ie=(x,R)=>{const H=[];for(let ce=0,me=x.length;ce<me;ce++){const Dt=x[ce];R(Dt,ce)&&H.push(Dt)}return H},Ro=(x,R)=>{if(x.length===0)return[];{let H=R(x[0]);const ce=[];let me=[];for(let Dt=0,co=x.length;Dt<co;Dt++){const Nn=x[Dt],Xn=R(Nn);Xn!==H&&(ce.push(me),me=[]),H=Xn,me.push(Nn)}return me.length!==0&&ce.push(me),ce}},Ce=(x,R,H)=>(Pe(x,(ce,me)=>{H=R(H,ce,me)}),H),Oe=(x,R,H)=>{for(let ce=0,me=x.length;ce<me;ce++){const Dt=x[ce];if(R(Dt,ce))return j.some(Dt);if(H(Dt,ce))break}return j.none()},T=(x,R)=>Oe(x,R,xt),un=x=>{const R=[];for(let H=0,ce=x.length;H<ce;++H){if(!nt(x[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+x);gt.apply(R,x[H])}return R},st=(x,R)=>un(Zt(x,R)),Bn=x=>{const R=dt.call(x,0);return R.reverse(),R},Yt=(x,R)=>R>=0&&R<x.length?j.some(x[R]):j.none(),Xe=x=>Yt(x,0),fo=x=>Yt(x,x.length-1),Zo=(x,R)=>{const H=[],ce=_o(R)?me=>bn(H,Dt=>R(Dt,me)):me=>at(H,me);for(let me=0,Dt=x.length;me<Dt;me++){const co=x[me];ce(co)||H.push(co)}return H},wt=(x,R,H=tn)=>x.exists(ce=>H(ce,R)),fn=(x,R,H=tn)=>De(x,R,H).getOr(x.isNone()&&R.isNone()),De=(x,R,H)=>x.isSome()&&R.isSome()?j.some(H(x.getOrDie(),R.getOrDie())):j.none(),lt=8,F=1,qo=(x,R)=>{const ce=(R||document).createElement("div");if(ce.innerHTML=x,!ce.hasChildNodes()||ce.childNodes.length>1){const me="HTML does not have a single root node";throw console.error(me,x),new Error(me)}return mt(ce.childNodes[0])},Qn=(x,R)=>{const ce=(R||document).createElement(x);return mt(ce)},ft=(x,R)=>{const ce=(R||document).createTextNode(x);return mt(ce)},mt=x=>{if(x==null)throw new Error("Node cannot be null or undefined");return{dom:x}},X={fromHtml:qo,fromTag:Qn,fromText:ft,fromDom:mt,fromPoint:(x,R,H)=>j.from(x.dom.elementFromPoint(R,H)).map(mt)},be=(x,R)=>{const H=x.dom;if(H.nodeType!==F)return!1;{const ce=H;if(ce.matches!==void 0)return ce.matches(R);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(R);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(R);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},ve=(x,R)=>x.dom===R.dom,ae=(x,R)=>{const H=x.dom,ce=R.dom;return H===ce?!1:H.contains(ce)},Me=be;var Fe=(x,R,H,ce,me)=>x(H,ce)?j.some(H):_o(me)&&me(H)?j.none():R(H,ce,me);typeof window<"u"||Function("return this;")();const qe=x=>x.dom.nodeName.toLowerCase(),Ue=x=>x.dom.nodeType,Q=x=>R=>Ue(R)===x,Se=x=>Ue(x)===lt||qe(x)==="#comment",Ie=Q(F),zt=x=>R=>Ie(R)&&qe(R)===x,$n=x=>j.from(x.dom.parentNode).map(X.fromDom),Dn=x=>j.from(x.dom.parentElement).map(X.fromDom),Rn=x=>j.from(x.dom.nextSibling).map(X.fromDom),An=x=>Zt(x.dom.childNodes,X.fromDom),Po=(x,R)=>{const H=x.dom.childNodes;return j.from(H[R]).map(X.fromDom)},qn=x=>Po(x,0),Gn=x=>Po(x,x.dom.childNodes.length-1),to=(x,R,H)=>{let ce=x.dom;const me=_o(H)?H:xt;for(;ce.parentNode;){ce=ce.parentNode;const Dt=X.fromDom(ce);if(R(Dt))return j.some(Dt);if(me(Dt))break}return j.none()},mn=(x,R,H)=>Fe((me,Dt)=>Dt(me),to,x,R,H),bo=(x,R)=>{$n(x).each(ce=>{ce.dom.insertBefore(R.dom,x.dom)})},as=(x,R)=>{Rn(x).fold(()=>{$n(x).each(me=>{Ts(me,R)})},ce=>{bo(ce,R)})},Rs=(x,R)=>{qn(x).fold(()=>{Ts(x,R)},ce=>{x.dom.insertBefore(R.dom,ce.dom)})},Ts=(x,R)=>{x.dom.appendChild(R.dom)},Yo=(x,R)=>{Pe(R,H=>{bo(x,H)})},oa=(x,R)=>{Pe(R,H=>{Ts(x,H)})},Tt=x=>{x.dom.textContent="",Pe(An(x),R=>{Lo(R)})},Lo=x=>{const R=x.dom;R.parentNode!==null&&R.parentNode.removeChild(R)};var kr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Vr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),qr=tinymce.util.Tools.resolve("tinymce.util.VK");const Xr=x=>Zt(x,X.fromDom),_s=Object.keys,ia=(x,R)=>{const H=_s(x);for(let ce=0,me=H.length;ce<me;ce++){const Dt=H[ce],co=x[Dt];R(co,Dt)}},Ur=x=>(R,H)=>{x[H]=R},Cs=(x,R,H,ce)=>{ia(x,(me,Dt)=>{(R(me,Dt)?H:ce)(me,Dt)})},Kn=(x,R)=>{const H={};return Cs(x,R,Ur(H),jt),H},ar=(x,R,H)=>{if(ho(H)||pn(H)||cn(H))x.setAttribute(R,H+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",H,":: Element ",x),new Error("Attribute value was not simple")},Ee=(x,R)=>{const H=x.dom;ia(R,(ce,me)=>{ar(H,me,ce)})},Ge=x=>Ce(x.dom.attributes,(R,H)=>(R[H.name]=H.value,R),{}),Wt=(x,R)=>X.fromDom(x.dom.cloneNode(R)),kn=x=>Wt(x,!0),Eo=(x,R)=>{const H=X.fromTag(R),ce=Ge(x);return Ee(H,ce),H},Xo=(x,R)=>{const H=Eo(x,R);as(x,H);const ce=An(x);return oa(H,ce),Lo(x),H};var wr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Gs=tinymce.util.Tools.resolve("tinymce.util.Tools");const cr=x=>R=>En(R)&&R.nodeName.toLowerCase()===x,de=x=>R=>En(R)&&x.test(R.nodeName),re=x=>En(x)&&x.nodeType===3,We=x=>En(x)&&x.nodeType===1,Ye=de(/^(OL|UL|DL)$/),Sn=de(/^(OL|UL)$/),Yn=cr("ol"),xo=de(/^(LI|DT|DD)$/),Ks=de(/^(DT|DD)$/),ke=de(/^(TH|TD)$/),mo=cr("br"),fe=x=>{var R;return((R=x.parentNode)===null||R===void 0?void 0:R.firstChild)===x},ge=(x,R)=>En(R)&&R.nodeName in x.schema.getTextBlockElements(),yt=(x,R)=>En(x)&&x.nodeName in R,_t=(x,R)=>En(R)&&R.nodeName in x.schema.getVoidElements(),Xt=(x,R)=>mo(R)?x.isBlock(R.nextSibling)&&!mo(R.previousSibling):!1,xn=(x,R,H)=>{const ce=x.isEmpty(R);return H&&x.select("span[data-mce-type=bookmark]",R).length>0?!1:ce},_n=(x,R)=>x.isChildOf(R,x.getRoot()),wn=x=>R=>R.options.get(x),On=x=>{const R=x.options.register;R("lists_indent_on_tab",{processor:"boolean",default:!0})},no=wn("lists_indent_on_tab"),ds=wn("forced_root_block"),Hs=wn("forced_root_block_attrs"),va=(x,R)=>{const H=x.dom,ce=x.schema.getBlockElements(),me=H.createFragment(),Dt=ds(x),co=Hs(x);let Nn,Xn,io=!1;for(Xn=H.create(Dt,co),yt(R.firstChild,ce)||me.appendChild(Xn);Nn=R.firstChild;){const Sr=Nn.nodeName;!io&&(Sr!=="SPAN"||Nn.getAttribute("data-mce-type")!=="bookmark")&&(io=!0),yt(Nn,ce)?(me.appendChild(Nn),Xn=null):(Xn||(Xn=H.create(Dt,co),me.appendChild(Xn)),Xn.appendChild(Nn))}return!io&&Xn&&Xn.appendChild(H.create("br",{"data-mce-bogus":"1"})),me},Gr=wr.DOM,oc=(x,R,H)=>{const ce=io=>{const Sr=io.parentNode;Sr&&Gs.each(me,Vs=>{Sr.insertBefore(Vs,H.parentNode)}),Gr.remove(io)},me=Gr.select('span[data-mce-type="bookmark"]',R),Dt=va(x,H),co=Gr.createRng();co.setStartAfter(H),co.setEndAfter(R);const Nn=co.extractContents();for(let io=Nn.firstChild;io;io=io.firstChild)if(io.nodeName==="LI"&&x.dom.isEmpty(io)){Gr.remove(io);break}x.dom.isEmpty(Nn)||Gr.insertAfter(Nn,R),Gr.insertAfter(Dt,R);const Xn=H.parentElement;Xn&&xn(x.dom,Xn)&&ce(Xn),Gr.remove(H),xn(x.dom,R)&&Gr.remove(R)},yo=zt("dd"),os=zt("dt"),Us=(x,R)=>{yo(R)?Xo(R,"dt"):os(R)&&Dn(R).each(H=>oc(x,H.dom,R.dom))},ka=x=>{os(x)&&Xo(x,"dd")},la=(x,R,H)=>{R==="Indent"?Pe(H,ka):Pe(H,ce=>Us(x,ce))},Jr=(x,R)=>{if(re(x))return{container:x,offset:R};const H=kr.getNode(x,R);return re(H)?{container:H,offset:R>=x.childNodes.length?H.data.length:0}:H.previousSibling&&re(H.previousSibling)?{container:H.previousSibling,offset:H.previousSibling.data.length}:H.nextSibling&&re(H.nextSibling)?{container:H.nextSibling,offset:0}:{container:x,offset:R}},js=x=>{const R=x.cloneRange(),H=Jr(x.startContainer,x.startOffset);R.setStart(H.container,H.offset);const ce=Jr(x.endContainer,x.endOffset);return R.setEnd(ce.container,ce.offset),R},du=["OL","UL","DL"],mi=du.join(","),fs=(x,R)=>{const H=R||x.selection.getStart(!0);return x.dom.getParent(H,mi,Ic(x,H))},Oa=(x,R)=>En(x)&&R.length===1&&R[0]===x,za=x=>ie(x.querySelectorAll(mi),Ye),Mr=x=>{const R=fs(x),H=x.selection.getSelectedBlocks();return Oa(R,H)?za(R):ie(H,ce=>Ye(ce)&&R!==ce)},Ki=(x,R)=>{const H=Gs.map(R,ce=>{const me=x.dom.getParent(ce,"li,dd,dt",Ic(x,ce));return me||ce});return Zo(H)},sc=x=>{const R=x.selection.getSelectedBlocks();return ie(Ki(x,R),xo)},Da=x=>ie(sc(x),Ks),Sc=(x,R)=>{const H=x.dom.getParents(R,"TD,TH");return H.length>0?H[0]:x.getBody()},xc=(x,R)=>!Ye(R)&&!xo(R)&&bn(du,H=>x.isValidChild(R.nodeName,H)),Ic=(x,R)=>{const H=x.dom.getParents(R,x.dom.isBlock);return T(H,me=>xc(x.schema,me)).getOr(x.getBody())},Ni=x=>$n(x).exists(R=>xo(R.dom)&&qn(R).exists(H=>!Ye(H.dom))&&Gn(R).exists(H=>!Ye(H.dom))),Yi=(x,R)=>{const H=x.dom.getParents(R,"ol,ul",Ic(x,R));return fo(H)},qa=x=>{const R=Yi(x,x.selection.getStart()),H=ie(x.selection.getSelectedBlocks(),Sn);return R.toArray().concat(H)},Kc=x=>{const R=x.selection.getStart();return x.dom.getParents(R,"ol,ul",Ic(x,R))},gi=x=>{const R=qa(x),H=Kc(x);return T(H,ce=>Ni(X.fromDom(ce))).fold(()=>Xi(x,R),ce=>[ce])},Xi=(x,R)=>{const H=Zt(R,ce=>Yi(x,ce).getOr(ce));return Zo(H)},pi=x=>/\btox\-/.test(x.className),Z=(x,R)=>Oe(x,Ye,ke).exists(H=>H.nodeName===R&&!pi(H)),pe=(x,R)=>R!==null&&!x.dom.isEditable(R),Ae=x=>{const R=fs(x);return pe(x,R)},Le=(x,R)=>{const H=x.dom.getParent(R,"ol,ul,dl");return pe(x,H)},Rt=(x,R)=>{const H=x.selection.getNode();return R({parents:x.dom.getParents(H),element:H}),x.on("NodeChange",R),()=>x.off("NodeChange",R)},eo=(x,R)=>{const ce=(R||document).createDocumentFragment();return Pe(x,me=>{ce.appendChild(me.dom)}),X.fromDom(ce)},ps=(x,R,H)=>x.dispatch("ListMutation",{action:R,element:H}),$s=(x=>R=>R.replace(x,""))(/^\s+|\s+$/g),hr=x=>x.length>0,cs=x=>!hr(x),_r=x=>x.style!==void 0&&_o(x.style.getPropertyValue),Yc=(x,R,H)=>{if(!ho(H))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",H,":: Element ",x),new Error("CSS value must be a string: "+H);_r(x)&&x.style.setProperty(R,H)},hi=(x,R,H)=>{const ce=x.dom;Yc(ce,R,H)},nn=x=>Me(x,"OL,UL"),fu=x=>qn(x).exists(nn),br=x=>Gn(x).exists(nn),B=x=>"listAttributes"in x,Y=x=>"isInPreviousLi"in x,se=x=>"isComment"in x,Ke=x=>x.depth>0,en=x=>x.isSelected,Wo=x=>{const R=An(x),H=br(x)?R.slice(0,-1):R;return Zt(H,kn)},Cn=(x,R,H)=>$n(x).filter(Ie).map(ce=>({depth:R,dirty:!1,isSelected:H,content:Wo(x),itemAttributes:Ge(x),listAttributes:Ge(ce),listType:qe(ce),isInPreviousLi:!1})),dr=(x,R)=>{Ts(x.item,R.list)},Et=x=>{for(let R=1;R<x.length;R++)dr(x[R-1],x[R])},Ws=(x,R)=>{De(fo(x),Xe(R),dr)},Ga=(x,R)=>{const H={list:X.fromTag(R,x),item:X.fromTag("li",x)};return Ts(H.list,H.item),H},zr=(x,R,H)=>{const ce=[];for(let me=0;me<H;me++)ce.push(Ga(x,R.listType));return ce},sa=(x,R)=>{for(let H=0;H<x.length-1;H++)hi(x[H].item,"list-style-type","none");fo(x).each(H=>{Ee(H.list,R.listAttributes),Ee(H.item,R.itemAttributes),oa(H.item,R.content)})},Mi=(x,R)=>{qe(x.list)!==R.listType&&(x.list=Xo(x.list,R.listType)),Ee(x.list,R.listAttributes)},q=(x,R,H)=>{const ce=X.fromTag("li",x);return Ee(ce,R),oa(ce,H),ce},ue=(x,R)=>{Ts(x.list,R),x.item=R},Be=(x,R,H,ce)=>{const me=X.fromTag(ce,x);return Ee(me,R),oa(me,H),me},ht=(x,R,H)=>{const ce=R.slice(0,H.depth);return fo(ce).each(me=>{if(B(H)){const Dt=q(x,H.itemAttributes,H.content);ue(me,Dt),Mi(me,H)}else if(Y(H)){if(H.isInPreviousLi){const Dt=Be(x,H.attributes,H.content,H.type);Ts(me.item,Dt)}}else{const Dt=X.fromHtml(`<!--${H.content}-->`);Ts(me.list,Dt)}}),ce},ln=(x,R,H)=>{const ce=zr(x,H,H.depth-R.length);return Et(ce),sa(ce,H),Ws(R,ce),R.concat(ce)},Jo=(x,R)=>{let H=j.none();const ce=Ce(R,(me,Dt,co)=>B(Dt)?Dt.depth>me.length?ln(x,me,Dt):ht(x,me,Dt):co===0&&se(Dt)?(H=j.some(Dt),me):ht(x,me,Dt),[]);return H.each(me=>{const Dt=X.fromHtml(`<!--${me.content}-->`);Xe(ce).each(co=>{Rs(co.list,Dt)})}),Xe(ce).map(me=>me.list)},Cr=(x,R)=>{switch(x){case"Indent":R.depth++;break;case"Outdent":R.depth--;break;case"Flatten":R.depth=0}R.dirty=!0},wa=(x,R)=>{B(x)&&B(R)&&(x.listType=R.listType,x.listAttributes={...R.listAttributes})},ts=x=>{x.listAttributes=Kn(x.listAttributes,(R,H)=>H!=="start")},Kr=(x,R)=>{const H=x[R].depth,ce=Dt=>Dt.depth===H&&!Dt.dirty,me=Dt=>Dt.depth<H;return Oe(Bn(x.slice(0,R)),ce,me).orThunk(()=>Oe(x.slice(R+1),ce,me))},Br=x=>(Pe(x,(R,H)=>{Kr(x,H).fold(()=>{R.dirty&&B(R)&&ts(R)},ce=>wa(R,ce))}),x),ra=x=>{let R=x;return{get:()=>R,set:me=>{R=me}}},Ka=(x,R,H)=>B(x)?{depth:x.depth,dirty:x.dirty,content:x.content,isSelected:x.isSelected,type:R,attributes:x.itemAttributes,isInPreviousLi:H}:x,$l=(x,R,H,ce)=>{var me;if(Se(ce))return[{depth:x+1,content:(me=ce.dom.nodeValue)!==null&&me!==void 0?me:"",dirty:!1,isSelected:!1,isComment:!0}];R.each(Nn=>{ve(Nn.start,ce)&&H.set(!0)});const Dt=Cn(ce,x,H.get());R.each(Nn=>{ve(Nn.end,ce)&&H.set(!1)});const co=Gn(ce).filter(nn).map(Nn=>or(x,R,H,Nn)).getOr([]);return Dt.toArray().concat(co)},Xs=(x,R,H,ce)=>qn(ce).filter(nn).fold(()=>$l(x,R,H,ce),me=>{const Dt=Ce(An(ce),(co,Nn,Xn)=>{if(Xn===0)return co;{const io=$l(x,R,H,Nn).map(Sr=>Ka(Sr,Nn.dom.nodeName.toLowerCase(),!0));return co.concat(io)}},[]);return or(x,R,H,me).concat(Dt)}),or=(x,R,H,ce)=>st(An(ce),me=>{const Dt=nn(me)?or:Xs,co=x+1;return Dt(co,R,H,me)}),Ra=(x,R)=>{const H=ra(!1),ce=0;return Zt(x,me=>({sourceList:me,entries:or(ce,R,H,me)}))},ep=(x,R)=>{const H=Br(R);return Zt(H,ce=>{const me=se(ce)?eo([X.fromHtml(`<!--${ce.content}-->`)]):eo(ce.content);return X.fromDom(va(x,me.dom))})},Pr=(x,R)=>{const H=Br(R);return Jo(x.contentDocument,H).toArray()},rc=(x,R)=>st(Ro(R,Ke),H=>Xe(H).exists(Ke)?Pr(x,H):ep(x,H)),Ya=(x,R)=>{Pe(ie(x,en),H=>Cr(R,H))},tp=x=>{const R=Zt(sc(x),X.fromDom);return De(T(R,Ot(fu)),T(Bn(R),Ot(fu)),(H,ce)=>({start:H,end:ce}))},Vm=(x,R,H)=>{const ce=Ra(R,tp(x));Pe(ce,me=>{Ya(me.entries,H);const Dt=rc(x,me.entries);Pe(Dt,co=>{ps(x,H==="Indent"?"IndentList":"OutdentList",co.dom)}),Yo(me.sourceList,Dt),Lo(me.sourceList)})},Ji=(x,R)=>{const H=Xr(gi(x)),ce=Xr(Da(x));let me=!1;if(H.length||ce.length){const Dt=x.selection.getBookmark();Vm(x,H,R),la(x,R,ce),x.selection.moveToBookmark(Dt),x.selection.setRng(js(x.selection.getRng())),x.nodeChanged(),me=!0}return me},md=(x,R)=>!Ae(x)&&Ji(x,R),ir=x=>md(x,"Indent"),bi=x=>md(x,"Outdent"),Fa=x=>md(x,"Flatten"),hl="\uFEFF",aa=x=>x===hl,Yr=(x,R,H)=>to(x,R,H).isSome(),Bi=(x,R)=>Yr(x,ot(ve,R));var gd=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Pi=wr.DOM,mu=x=>{const R={},H=ce=>{let me=x[ce?"startContainer":"endContainer"],Dt=x[ce?"startOffset":"endOffset"];if(We(me)){const co=Pi.create("span",{"data-mce-type":"bookmark"});me.hasChildNodes()?(Dt=Math.min(Dt,me.childNodes.length-1),ce?me.insertBefore(co,me.childNodes[Dt]):Pi.insertAfter(co,me.childNodes[Dt])):me.appendChild(co),me=co,Dt=0}R[ce?"startContainer":"endContainer"]=me,R[ce?"startOffset":"endOffset"]=Dt};return H(!0),x.collapsed||H(),R},Il=x=>{const R=ce=>{const me=Nn=>{var Xn;let io=(Xn=Nn.parentNode)===null||Xn===void 0?void 0:Xn.firstChild,Sr=0;for(;io;){if(io===Nn)return Sr;(!We(io)||io.getAttribute("data-mce-type")!=="bookmark")&&Sr++,io=io.nextSibling}return-1};let Dt=x[ce?"startContainer":"endContainer"],co=x[ce?"startOffset":"endOffset"];if(Dt){if(We(Dt)&&Dt.parentNode){const Nn=Dt;co=me(Dt),Dt=Dt.parentNode,Pi.remove(Nn),!Dt.hasChildNodes()&&Pi.isBlock(Dt)&&Dt.appendChild(Pi.create("br"))}x[ce?"startContainer":"endContainer"]=Dt,x[ce?"startOffset":"endOffset"]=co}};R(!0),R();const H=Pi.createRng();return H.setStart(x.startContainer,x.startOffset),x.endContainer&&H.setEnd(x.endContainer,x.endOffset),js(H)},Na=x=>{switch(x){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},tf=(x,R,H)=>{const ce=H["list-style-type"]?H["list-style-type"]:null;x.setStyle(R,"list-style-type",ce)},bc=(x,R)=>{Gs.each(R,(H,ce)=>{x.setAttribute(ce,H)})},bl=(x,R,H)=>{bc(R,H["list-attributes"]),Gs.each(x.select("li",R),ce=>{bc(ce,H["list-item-attributes"])})},yl=(x,R,H)=>{tf(x,R,H),bl(x,R,H)},Lu=(x,R,H)=>{Gs.each(H,ce=>x.setStyle(R,ce,""))},gu=(x,R)=>En(R)&&!yt(R,x.schema.getBlockElements()),Ll=(x,R,H,ce)=>{let me=R[H?"startContainer":"endContainer"];const Dt=R[H?"startOffset":"endOffset"];We(me)&&(me=me.childNodes[Math.min(Dt,me.childNodes.length-1)]||me),!H&&mo(me.nextSibling)&&(me=me.nextSibling);const co=Xn=>{for(;!x.dom.isBlock(Xn)&&Xn.parentNode&&ce!==Xn;)Xn=Xn.parentNode;return Xn},Nn=(Xn,io)=>{var Sr;const Vs=new Vr(Xn,co(Xn)),Ii=io?"next":"prev";let vd;for(;vd=Vs[Ii]();)if(!(_t(x,vd)||aa(vd.textContent)||((Sr=vd.textContent)===null||Sr===void 0?void 0:Sr.length)===0))return j.some(vd);return j.none()};if(H&&re(me))if(aa(me.textContent))me=Nn(me,!1).getOr(me);else for(me.parentNode!==null&&gu(x,me.parentNode)&&(me=me.parentNode);me.previousSibling!==null&&(gu(x,me.previousSibling)||re(me.previousSibling));)me=me.previousSibling;if(!H&&re(me))if(aa(me.textContent))me=Nn(me,!0).getOr(me);else for(me.parentNode!==null&&gu(x,me.parentNode)&&(me=me.parentNode);me.nextSibling!==null&&(gu(x,me.nextSibling)||re(me.nextSibling));)me=me.nextSibling;for(;me.parentNode!==ce;){const Xn=me.parentNode;if(ge(x,me)||/^(TD|TH)$/.test(Xn.nodeName))return me;me=Xn}return me},Um=(x,R,H)=>{const ce=[],me=x.dom,Dt=Ll(x,R,!0,H),co=Ll(x,R,!1,H);let Nn;const Xn=[];for(let io=Dt;io&&(Xn.push(io),io!==co);io=io.nextSibling);return Gs.each(Xn,io=>{var Sr;if(ge(x,io)){ce.push(io),Nn=null;return}if(me.isBlock(io)||mo(io)){mo(io)&&me.remove(io),Nn=null;return}const Vs=io.nextSibling;if(gd.isBookmarkNode(io)&&(Ye(Vs)||ge(x,Vs)||!Vs&&io.parentNode===H)){Nn=null;return}Nn||(Nn=me.create("p"),(Sr=io.parentNode)===null||Sr===void 0||Sr.insertBefore(Nn,io),ce.push(Nn)),Nn.appendChild(io)}),ce},Hl=(x,R,H)=>{const ce=x.getStyle(R,"list-style-type");let me=H?H["list-style-type"]:"";return me=me===null?"":me,ce===me},jm=(x,R)=>{const H=x.selection.getStart(!0),ce=Ll(x,R,!0,x.getBody());return Bi(X.fromDom(ce),X.fromDom(R.commonAncestorContainer))?R.commonAncestorContainer:H},nf=(x,R,H)=>{const ce=x.selection.getRng();let me="LI";const Dt=Ic(x,jm(x,ce)),co=x.dom;if(co.getContentEditable(x.selection.getNode())==="false")return;R=R.toUpperCase(),R==="DL"&&(me="DT");const Nn=mu(ce),Xn=ie(Um(x,ce,Dt),x.dom.isEditable);Gs.each(Xn,io=>{let Sr;const Vs=io.previousSibling,Ii=io.parentNode;xo(Ii)||(Vs&&Ye(Vs)&&Vs.nodeName===R&&Hl(co,Vs,H)?(Sr=Vs,io=co.rename(io,me),Vs.appendChild(io)):(Sr=co.create(R),Ii.insertBefore(Sr,io),Sr.appendChild(io),io=co.rename(io,me)),Lu(co,io,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),yl(co,Sr,H),pu(x.dom,Sr))}),x.selection.setRng(Il(Nn))},Wm=(x,R)=>Ye(x)&&x.nodeName===(R==null?void 0:R.nodeName),Hu=(x,R,H)=>{const ce=x.getStyle(R,"list-style-type",!0),me=x.getStyle(H,"list-style-type",!0);return ce===me},np=(x,R)=>x.className===R.className,le=(x,R,H)=>Wm(R,H)&&Hu(x,R,H)&&np(R,H),pu=(x,R)=>{let H,ce=R.nextSibling;if(le(x,R,ce)){const me=ce;for(;H=me.firstChild;)R.appendChild(H);x.remove(me)}if(ce=R.previousSibling,le(x,R,ce)){const me=ce;for(;H=me.lastChild;)R.insertBefore(H,R.firstChild);x.remove(me)}},Fi=(x,R,H,ce)=>{if(R.nodeName!==H){const me=x.dom.rename(R,H);yl(x.dom,me,ce),ps(x,Na(H),me)}else yl(x.dom,R,ce),ps(x,Na(H),R)},em=(x,R,H,ce)=>{if(R.classList.forEach((me,Dt,co)=>{me.startsWith("tox-")&&(co.remove(me),co.length===0&&R.removeAttribute("class"))}),R.nodeName!==H){const me=x.dom.rename(R,H);yl(x.dom,me,ce),ps(x,Na(H),me)}else yl(x.dom,R,ce),ps(x,Na(H),R)},yy=(x,R,H,ce,me)=>{const Dt=Ye(R);if(Dt&&R.nodeName===ce&&!op(me)&&!pi(R))Fa(x);else{nf(x,ce,me);const co=mu(x.selection.getRng()),Nn=Dt?[R,...H]:H,Xn=Dt&&pi(R)?em:Fi;Gs.each(Nn,io=>{Xn(x,io,ce,me)}),x.selection.setRng(Il(co))}},op=x=>"list-style-type"in x,Ns=(x,R,H,ce)=>{if(R!==x.getBody())if(R)if(R.nodeName===H&&!op(ce)&&!pi(R))Fa(x);else{const me=mu(x.selection.getRng());pi(R)&&R.classList.forEach((co,Nn,Xn)=>{co.startsWith("tox-")&&(Xn.remove(co),Xn.length===0&&R.removeAttribute("class"))}),yl(x.dom,R,ce);const Dt=x.dom.rename(R,H);pu(x.dom,Dt),x.selection.setRng(Il(me)),nf(x,H,ce),ps(x,Na(H),Dt)}else nf(x,H,ce),ps(x,Na(H),R)},$a=(x,R,H)=>{const ce=fs(x);if(Le(x,ce))return;const me=Mr(x),Dt=Fn(H)?H:{};me.length>0?yy(x,ce,me,R,Dt):Ns(x,ce,R,Dt)},Qi=wr.DOM,yi=(x,R)=>{const H=R.parentElement;if(H&&H.nodeName==="LI"&&H.firstChild===R){const ce=H.previousSibling;ce&&ce.nodeName==="LI"?(ce.appendChild(R),xn(x,H)&&Qi.remove(H)):Qi.setStyle(H,"listStyleType","none")}if(Ye(H)){const ce=H.previousSibling;ce&&ce.nodeName==="LI"&&ce.appendChild(R)}},tm=(x,R)=>{const H=Gs.grep(x.select("ol,ul",R));Gs.each(H,ce=>{yi(x,ce)})},hu=(x,R,H,ce)=>{let me=R.startContainer;const Dt=R.startOffset;if(re(me)&&(H?Dt<me.data.length:Dt>0))return me;const co=x.schema.getNonEmptyElements();We(me)&&(me=kr.getNode(me,Dt));const Nn=new Vr(me,ce);H&&Xt(x.dom,me)&&Nn.next();const Xn=H?Nn.next.bind(Nn):Nn.prev2.bind(Nn);for(;me=Xn();)if(me.nodeName==="LI"&&!me.hasChildNodes()||co[me.nodeName]||re(me)&&me.data.length>0)return me;return null},Lc=(x,R)=>{const H=R.childNodes;return H.length===1&&!Ye(H[0])&&x.isBlock(H[0])},pd=(x,R)=>{Lc(x,R)&&x.remove(R.firstChild,!0)},Zm=(x,R,H)=>{let ce;const me=Lc(x,H)?H.firstChild:H;if(pd(x,R),!xn(x,R,!0))for(;ce=R.firstChild;)me.appendChild(ce)},qm=(x,R,H)=>{let ce;const me=R.parentNode;if(!_n(x,R)||!_n(x,H))return;Ye(H.lastChild)&&(ce=H.lastChild),me===H.lastChild&&mo(me.previousSibling)&&x.remove(me.previousSibling);const Dt=H.lastChild;Dt&&mo(Dt)&&R.hasChildNodes()&&x.remove(Dt),xn(x,H,!0)&&Tt(X.fromDom(H)),Zm(x,R,H),ce&&H.appendChild(ce);const Nn=ae(X.fromDom(H),X.fromDom(R))?x.getParents(R,Ye,H):[];x.remove(R),Pe(Nn,Xn=>{xn(x,Xn)&&Xn!==x.getRoot()&&x.remove(Xn)})},vi=(x,R,H)=>{Tt(X.fromDom(H)),qm(x.dom,R,H),x.selection.setCursorLocation(H,0)},of=(x,R,H,ce)=>{const me=x.dom;if(me.isEmpty(ce))vi(x,H,ce);else{const Dt=mu(R);qm(me,H,ce),x.selection.setRng(Il(Dt))}},Gm=(x,R,H,ce)=>{const me=mu(R);qm(x.dom,H,ce);const Dt=Il(me);x.selection.setRng(Dt)},Xc=(x,R)=>{const H=x.dom,ce=x.selection,me=ce.getStart(),Dt=Sc(x,me),co=H.getParent(ce.getStart(),"LI",Dt);if(co){const Nn=co.parentElement;if(Nn===x.getBody()&&xn(H,Nn))return!0;const Xn=js(ce.getRng()),io=H.getParent(hu(x,Xn,R,Dt),"LI",Dt);if(io&&io!==co)return x.undoManager.transact(()=>{R?of(x,Xn,io,co):fe(co)?bi(x):Gm(x,Xn,co,io)}),!0;if(!io&&!R&&Xn.startOffset===0&&Xn.endOffset===0)return x.undoManager.transact(()=>{Fa(x)}),!0}return!1},Ia=(x,R,H)=>{const ce=x.getParent(R.parentNode,x.isBlock,H);x.remove(R),ce&&x.isEmpty(ce)&&x.remove(ce)},bu=(x,R)=>{const H=x.dom,ce=x.selection.getStart(),me=Sc(x,ce),Dt=H.getParent(ce,H.isBlock,me);if(Dt&&H.isEmpty(Dt)){const co=js(x.selection.getRng()),Nn=H.getParent(hu(x,co,R,me),"LI",me);if(Nn){const Xn=Ii=>at(["td","th","caption"],qe(Ii)),io=Ii=>Ii.dom===me,Sr=mn(X.fromDom(Nn),Xn,io),Vs=mn(X.fromDom(co.startContainer),Xn,io);return fn(Sr,Vs,ve)?(x.undoManager.transact(()=>{const Ii=Nn.parentNode;Ia(H,Dt,me),pu(H,Ii),x.selection.select(Nn,!0),x.selection.collapse(R)}),!0):!1}}return!1},hd=(x,R)=>Xc(x,R)||bu(x,R),ki=x=>{const R=x.selection.getStart(),H=Sc(x,R);return x.dom.getParent(R,"LI,DT,DD",H)||sc(x).length>0},Hc=x=>ki(x)?(x.undoManager.transact(()=>{x.execCommand("Delete"),tm(x.dom,x.getBody())}),!0):!1,sf=(x,R)=>{const H=x.selection;return!Le(x,H.getNode())&&(H.isCollapsed()?hd(x,R):Hc(x))},sp=x=>{x.on("ExecCommand",R=>{const H=R.command.toLowerCase();(H==="delete"||H==="forwarddelete")&&ki(x)&&tm(x.dom,x.getBody())}),x.on("keydown",R=>{R.keyCode===qr.BACKSPACE?sf(x,!1)&&R.preventDefault():R.keyCode===qr.DELETE&&sf(x,!0)&&R.preventDefault()})},rf=x=>({backspaceDelete:R=>{sf(x,R)}}),Km=(x,R)=>{const H=fs(x);H===null||Le(x,H)||x.undoManager.transact(()=>{Fn(R.styles)&&x.dom.setStyles(H,R.styles),Fn(R.attrs)&&ia(R.attrs,(ce,me)=>x.dom.setAttrib(H,me,ce))})},af=x=>{const R=Bn($s(x).split("")),H=Zt(R,(ce,me)=>{const Dt=ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,me)*Dt});return Ce(H,(ce,me)=>ce+me,0)},$i=x=>{if(x--,x<0)return"";{const R=x%26,H=Math.floor(x/26),ce=$i(H),me=String.fromCharCode("A".charCodeAt(0)+R);return ce+me}},rp=x=>/^[A-Z]+$/.test(x),vy=x=>/^[a-z]+$/.test(x),ap=x=>/^[0-9]+$/.test(x),Ym=x=>ap(x)?2:rp(x)?0:vy(x)?1:cs(x)?3:4,cf=x=>{switch(Ym(x)){case 2:return j.some({listStyleType:j.none(),start:x});case 0:return j.some({listStyleType:j.some("upper-alpha"),start:af(x).toString()});case 1:return j.some({listStyleType:j.some("lower-alpha"),start:af(x).toString()});case 3:return j.some({listStyleType:j.none(),start:""});case 4:return j.none()}},nm=x=>{const R=parseInt(x.start,10);return wt(x.listStyleType,"upper-alpha")?$i(R):wt(x.listStyleType,"lower-alpha")?$i(R).toLowerCase():x.start},bd=x=>{const R=fs(x);!Yn(R)||Le(x,R)||x.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:nm({start:x.dom.getAttrib(R,"start","1"),listStyleType:j.from(x.dom.getStyle(R,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:H=>{const ce=H.getData();cf(ce.start).each(me=>{x.execCommand("mceListUpdate",!1,{attrs:{start:me.start==="1"?"":me.start},styles:{"list-style-type":me.listStyleType.getOr("")}})}),H.close()}})},yr=(x,R)=>()=>{const H=fs(x);return En(H)&&H.nodeName===R},Fr=x=>{x.addCommand("mceListProps",()=>{bd(x)})},Vc=x=>{x.on("BeforeExecCommand",R=>{const H=R.command.toLowerCase();H==="indent"?ir(x):H==="outdent"&&bi(x)}),x.addCommand("InsertUnorderedList",(R,H)=>{$a(x,"UL",H)}),x.addCommand("InsertOrderedList",(R,H)=>{$a(x,"OL",H)}),x.addCommand("InsertDefinitionList",(R,H)=>{$a(x,"DL",H)}),x.addCommand("RemoveList",()=>{Fa(x)}),Fr(x),x.addCommand("mceListUpdate",(R,H)=>{Fn(H)&&Km(x,H)}),x.addQueryStateHandler("InsertUnorderedList",yr(x,"UL")),x.addQueryStateHandler("InsertOrderedList",yr(x,"OL")),x.addQueryStateHandler("InsertDefinitionList",yr(x,"DL"))};var Xm=tinymce.util.Tools.resolve("tinymce.html.Node");const Jm=x=>x.type===3,Xa=x=>x.length===0,Vu=x=>{const R=(me,Dt)=>{const co=Xm.create("li");Pe(me,Nn=>co.append(Nn)),Dt?x.insert(co,Dt,!0):x.append(co)},H=(me,Dt)=>Jm(Dt)?[...me,Dt]:!Xa(me)&&!Jm(Dt)?(R(me,Dt),[]):me,ce=Ce(x.children(),H,[]);Xa(ce)||R(ce)},Tc=x=>{x.on("PreInit",()=>{const{parser:R}=x;R.addNodeFilter("ul,ol",H=>Pe(H,Vu))})},vl=x=>{x.on("keydown",R=>{R.keyCode!==qr.TAB||qr.metaKeyPressed(R)||x.undoManager.transact(()=>{(R.shiftKey?bi(x):ir(x))&&R.preventDefault()})})},om=x=>{no(x)&&vl(x),sp(x)},Fo=(x,R)=>H=>{const ce=me=>{H.setActive(Z(me.parents,R)),H.setEnabled(!Le(x,me.element)&&x.selection.isEditable())};return H.setEnabled(x.selection.isEditable()),Rt(x,ce)},Uc=x=>{const R=H=>()=>x.execCommand(H);x.hasPlugin("advlist")||(x.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:R("InsertOrderedList"),onSetup:Fo(x,"OL")}),x.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:R("InsertUnorderedList"),onSetup:Fo(x,"UL")}))},yu=(x,R)=>H=>Rt(x,me=>H.setEnabled(Z(me.parents,R)&&!Le(x,me.element))),yd=x=>{const R={text:"List properties...",icon:"ordered-list",onAction:()=>x.execCommand("mceListProps"),onSetup:yu(x,"OL")};x.ui.registry.addMenuItem("listprops",R),x.ui.registry.addContextMenu("lists",{update:H=>{const ce=fs(x,H);return Yn(ce)?["listprops"]:[]}})};var Qm=()=>{es.add("lists",x=>(On(x),Tc(x),x.hasPlugin("rtc",!0)?Fr(x):(om(x),Vc(x)),Uc(x),yd(x),rf(x)))};Qm()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(Z,pe,Ae)=>{var Le;return Ae(Z,pe.prototype)?!0:((Le=Z.constructor)===null||Le===void 0?void 0:Le.name)===pe.name},So=Z=>{const pe=typeof Z;return Z===null?"null":pe==="object"&&Array.isArray(Z)?"array":pe==="object"&&Do(Z,String,(Ae,Le)=>Le.isPrototypeOf(Ae))?"string":pe},Ln=Z=>pe=>So(pe)===Z,uo=Z=>pe=>typeof pe===Z,ho=Z=>pe=>Z===pe,Fn=Ln("string"),nt=Ln("object"),pn=Ln("array"),vn=ho(null),En=uo("boolean"),_o=Z=>Z==null,cn=Z=>!_o(Z),jt=uo("function"),It=(Z,pe)=>{if(pn(Z)){for(let Ae=0,Le=Z.length;Ae<Le;++Ae)if(!pe(Z[Ae]))return!1;return!0}return!1},tn=()=>{},ot=Z=>()=>Z,Ot=(Z,pe)=>Z===pe;class xt{constructor(pe,Ae){this.tag=pe,this.value=Ae}static some(pe){return new xt(!0,pe)}static none(){return xt.singletonNone}fold(pe,Ae){return this.tag?Ae(this.value):pe()}isSome(){return this.tag}isNone(){return!this.tag}map(pe){return this.tag?xt.some(pe(this.value)):xt.none()}bind(pe){return this.tag?pe(this.value):xt.none()}exists(pe){return this.tag&&pe(this.value)}forall(pe){return!this.tag||pe(this.value)}filter(pe){return!this.tag||pe(this.value)?this:xt.none()}getOr(pe){return this.tag?this.value:pe}or(pe){return this.tag?this:pe}getOrThunk(pe){return this.tag?this.value:pe()}orThunk(pe){return this.tag?this:pe()}getOrDie(pe){if(this.tag)return this.value;throw new Error(pe??"Called getOrDie on None")}static from(pe){return cn(pe)?xt.some(pe):xt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(pe){this.tag&&pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xt.singletonNone=new xt(!1);const j=Array.prototype.indexOf,dt=Array.prototype.push,Mo=(Z,pe)=>j.call(Z,pe),gt=(Z,pe)=>Mo(Z,pe)>-1,U=(Z,pe)=>{const Ae=Z.length,Le=new Array(Ae);for(let Rt=0;Rt<Ae;Rt++){const eo=Z[Rt];Le[Rt]=pe(eo,Rt)}return Le},at=(Z,pe)=>{for(let Ae=0,Le=Z.length;Ae<Le;Ae++){const Rt=Z[Ae];pe(Rt,Ae)}},bn=(Z,pe,Ae)=>(at(Z,(Le,Rt)=>{Ae=pe(Ae,Le,Rt)}),Ae),Zt=Z=>{const pe=[];for(let Ae=0,Le=Z.length;Ae<Le;++Ae){if(!pn(Z[Ae]))throw new Error("Arr.flatten item "+Ae+" was not an array, input: "+Z);dt.apply(pe,Z[Ae])}return pe},Pe=(Z,pe)=>Zt(U(Z,pe)),ie=(Z,pe)=>{for(let Ae=0;Ae<Z.length;Ae++){const Le=pe(Z[Ae],Ae);if(Le.isSome())return Le}return xt.none()},Ro=(Z,pe,Ae=Ot)=>Z.exists(Le=>Ae(Le,pe)),Ce=Z=>{const pe=[],Ae=Le=>{pe.push(Le)};for(let Le=0;Le<Z.length;Le++)Z[Le].each(Ae);return pe},Oe=(Z,pe)=>Z?xt.some(pe):xt.none(),T=Z=>pe=>pe.options.get(Z),un=Z=>{const pe=Z.options.register;pe("link_assume_external_targets",{processor:Ae=>{const Le=Fn(Ae)||En(Ae);return Le?Ae===!0?{value:1,valid:Le}:Ae==="http"||Ae==="https"?{value:Ae,valid:Le}:{value:0,valid:Le}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),pe("link_context_toolbar",{processor:"boolean",default:!1}),pe("link_list",{processor:Ae=>Fn(Ae)||jt(Ae)||It(Ae,nt)}),pe("link_default_target",{processor:"string"}),pe("link_default_protocol",{processor:"string",default:"https"}),pe("link_target_list",{processor:Ae=>En(Ae)||It(Ae,nt),default:!0}),pe("link_rel_list",{processor:"object[]",default:[]}),pe("link_class_list",{processor:"object[]",default:[]}),pe("link_title",{processor:"boolean",default:!0}),pe("allow_unsafe_link_target",{processor:"boolean",default:!1}),pe("link_quicklink",{processor:"boolean",default:!1})},st=T("link_assume_external_targets"),Bn=T("link_context_toolbar"),Yt=T("link_list"),Xe=T("link_default_target"),fo=T("link_default_protocol"),Zo=T("link_target_list"),wt=T("link_rel_list"),fn=T("link_class_list"),De=T("link_title"),lt=T("allow_unsafe_link_target"),F=T("link_quicklink");var qo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qn=Z=>Fn(Z.value)?Z.value:"",ft=Z=>Fn(Z.text)?Z.text:Fn(Z.title)?Z.title:"",mt=(Z,pe)=>{const Ae=[];return qo.each(Z,Le=>{const Rt=ft(Le);if(Le.menu!==void 0){const eo=mt(Le.menu,pe);Ae.push({text:Rt,items:eo})}else{const eo=pe(Le);Ae.push({text:Rt,value:eo})}}),Ae},on=(Z=Qn)=>pe=>xt.from(pe).map(Ae=>mt(Ae,Z)),ve={sanitize:Z=>on(Qn)(Z),sanitizeWith:on,createUi:(Z,pe)=>Ae=>({name:Z,type:"listbox",label:pe,items:Ae}),getValue:Qn},ae=Object.keys,Me=Object.hasOwnProperty,Fe=(Z,pe)=>{const Ae=ae(Z);for(let Le=0,Rt=Ae.length;Le<Rt;Le++){const eo=Ae[Le],ps=Z[eo];pe(ps,eo)}},qe=Z=>(pe,Ae)=>{Z[Ae]=pe},Ue=(Z,pe,Ae,Le)=>{Fe(Z,(Rt,eo)=>{(pe(Rt,eo)?Ae:Le)(Rt,eo)})},Q=(Z,pe)=>{const Ae={};return Ue(Z,pe,qe(Ae),tn),Ae},Se=(Z,pe)=>Me.call(Z,pe),Ie=(Z,pe)=>Se(Z,pe)&&Z[pe]!==void 0&&Z[pe]!==null;var zt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$n=tinymce.util.Tools.resolve("tinymce.util.URI");const Dn=Z=>cn(Z)&&Z.nodeName.toLowerCase()==="a",Rn=Z=>Dn(Z)&&!!qn(Z),An=(Z,pe)=>{if(Z.collapsed)return[];{const Ae=Z.cloneContents(),Le=Ae.firstChild,Rt=new zt(Le,Ae),eo=[];let ps=Le;do pe(ps)&&eo.push(ps);while(ps=Rt.next());return eo}},Po=Z=>/^\w+:/i.test(Z),qn=Z=>{var pe,Ae;return(Ae=(pe=Z.getAttribute("data-mce-href"))!==null&&pe!==void 0?pe:Z.getAttribute("href"))!==null&&Ae!==void 0?Ae:""},Gn=(Z,pe)=>{const Ae=["noopener"],Le=Z?Z.split(/\s+/):[],Rt=$s=>qo.trim($s.sort().join(" ")),eo=$s=>($s=ps($s),$s.length>0?$s.concat(Ae):Ae),ps=$s=>$s.filter(hr=>qo.inArray(Ae,hr)===-1),Ys=pe?eo(Le):ps(Le);return Ys.length>0?Rt(Ys):""},to=Z=>Z.replace(/\uFEFF/g,""),mn=(Z,pe)=>(pe=pe||Rs(Z.selection.getRng())[0]||Z.selection.getNode(),Lo(pe)?xt.from(Z.dom.select("a[href]",pe)[0]):xt.from(Z.dom.getParent(pe,"a[href]"))),bo=(Z,pe)=>mn(Z,pe).isSome(),as=(Z,pe)=>{const Ae=pe.fold(()=>Z.getContent({format:"text"}),Le=>Le.innerText||Le.textContent||"");return to(Ae)},Rs=Z=>An(Z,Rn),Ts=Z=>qo.grep(Z,Rn),Yo=Z=>Ts(Z).length>0,oa=Z=>Rs(Z).length>0,Tt=Z=>{const pe=Z.schema.getTextInlineElements(),Ae=eo=>eo.nodeType===1&&!Dn(eo)&&!Se(pe,eo.nodeName.toLowerCase());if(mn(Z).exists(eo=>eo.hasAttribute("data-mce-block")))return!1;const Rt=Z.selection.getRng();return Rt.collapsed?!0:An(Rt,Ae).length===0},Lo=Z=>cn(Z)&&Z.nodeName==="FIGURE"&&/\bimage\b/i.test(Z.className),kr=Z=>bn(["title","rel","class","target"],(Ae,Le)=>(Z[Le].each(Rt=>{Ae[Le]=Rt.length>0?Rt:null}),Ae),{href:Z.href}),Vr=(Z,pe)=>(pe==="http"||pe==="https")&&!Po(Z)?pe+"://"+Z:Z,qr=(Z,pe)=>{const Ae={...pe};if(wt(Z).length===0&&!lt(Z)){const Le=Gn(Ae.rel,Ae.target==="_blank");Ae.rel=Le||null}return xt.from(Ae.target).isNone()&&Zo(Z)===!1&&(Ae.target=Xe(Z)),Ae.href=Vr(Ae.href,st(Z)),Ae},Xr=(Z,pe,Ae,Le)=>{Ae.each(Rt=>{Se(pe,"innerText")?pe.innerText=Rt:pe.textContent=Rt}),Z.dom.setAttribs(pe,Le),Z.selection.select(pe)},_s=(Z,pe,Ae,Le)=>{const Rt=Z.dom;Lo(pe)?kn(Rt,pe,Le):Ae.fold(()=>{Z.execCommand("mceInsertLink",!1,Le)},eo=>{Z.insertContent(Rt.createHTML("a",Le,Rt.encode(eo)))})},ia=(Z,pe,Ae)=>{const Le=Z.selection.getNode(),Rt=mn(Z,Le),eo=qr(Z,kr(Ae));Z.undoManager.transact(()=>{Ae.href===pe.href&&pe.attach(),Rt.fold(()=>{_s(Z,Le,Ae.text,eo)},ps=>{Z.focus(),Xr(Z,ps,Ae.text,eo)})})},Ur=Z=>{const pe=Z.dom,Ae=Z.selection,Le=Ae.getBookmark(),Rt=Ae.getRng().cloneRange(),eo=pe.getParent(Rt.startContainer,"a[href]",Z.getBody()),ps=pe.getParent(Rt.endContainer,"a[href]",Z.getBody());eo&&Rt.setStartBefore(eo),ps&&Rt.setEndAfter(ps),Ae.setRng(Rt),Z.execCommand("unlink"),Ae.moveToBookmark(Le)},Cs=Z=>{Z.undoManager.transact(()=>{const pe=Z.selection.getNode();Lo(pe)?Wt(Z,pe):Ur(Z),Z.focus()})},Kn=Z=>{const{class:pe,href:Ae,rel:Le,target:Rt,text:eo,title:ps}=Z;return Q({class:pe.getOrNull(),href:Ae,rel:Le.getOrNull(),target:Rt.getOrNull(),text:eo.getOrNull(),title:ps.getOrNull()},(Ys,$s)=>vn(Ys)===!1)},ar=(Z,pe)=>{const Ae=Z.options.get,Le={allow_html_data_urls:Ae("allow_html_data_urls"),allow_script_urls:Ae("allow_script_urls"),allow_svg_data_urls:Ae("allow_svg_data_urls")},Rt=pe.href;return{...pe,href:$n.isDomSafe(Rt,"a",Le)?Rt:""}},Ee=(Z,pe,Ae)=>{const Le=ar(Z,Ae);Z.hasPlugin("rtc",!0)?Z.execCommand("createlink",!1,Kn(Le)):ia(Z,pe,Le)},Ge=Z=>{Z.hasPlugin("rtc",!0)?Z.execCommand("unlink"):Cs(Z)},Wt=(Z,pe)=>{var Ae;const Le=Z.dom.select("img",pe)[0];if(Le){const Rt=Z.dom.getParents(Le,"a[href]",pe)[0];Rt&&((Ae=Rt.parentNode)===null||Ae===void 0||Ae.insertBefore(Le,Rt),Z.dom.remove(Rt))}},kn=(Z,pe,Ae)=>{var Le;const Rt=Z.select("img",pe)[0];if(Rt){const eo=Z.create("a",Ae);(Le=Rt.parentNode)===null||Le===void 0||Le.insertBefore(eo,Rt),eo.appendChild(Rt)}},Eo=Z=>Ie(Z,"items"),Xo=(Z,pe)=>ie(pe,Ae=>Eo(Ae)?Xo(Z,Ae.items):Oe(Ae.value===Z,Ae)),wr=(Z,pe,Ae,Le)=>{const Rt=Le[pe],eo=Z.length>0;return Rt!==void 0?Xo(Rt,Ae).map(ps=>({url:{value:ps.value,meta:{text:eo?Z:ps.text,attach:tn}},text:eo?Z:ps.text})):xt.none()},Gs=(Z,pe)=>pe==="link"?Z.link:pe==="anchor"?Z.anchor:xt.none(),de={init:(Z,pe)=>{const Ae={text:Z.text,title:Z.title},Le=$s=>{var hr;return Oe(Ae.title.length<=0,xt.from((hr=$s.meta)===null||hr===void 0?void 0:hr.title).getOr(""))},Rt=$s=>{var hr;return Oe(Ae.text.length<=0,xt.from((hr=$s.meta)===null||hr===void 0?void 0:hr.text).getOr($s.value))},eo=$s=>{const hr=Rt($s.url),cs=Le($s.url);return hr.isSome()||cs.isSome()?xt.some({...hr.map(_r=>({text:_r})).getOr({}),...cs.map(_r=>({title:_r})).getOr({})}):xt.none()},ps=($s,hr)=>{const cs=Gs(pe,hr).getOr([]);return wr(Ae.text,hr,cs,$s)};return{onChange:($s,hr)=>{const cs=hr.name;return cs==="url"?eo($s()):gt(["anchor","link"],cs)?ps($s(),cs):((cs==="text"||cs==="title")&&(Ae[cs]=$s()[cs]),xt.none())}}},getDelta:wr};var re=tinymce.util.Tools.resolve("tinymce.util.Delay");const We=(Z,pe,Ae)=>{const Le=Z.selection.getRng();re.setEditorTimeout(Z,()=>{Z.windowManager.confirm(pe,Rt=>{Z.selection.setRng(Le),Ae(Rt)})})},Ye=Z=>{const pe=Z.href;return pe.indexOf("@")>0&&pe.indexOf("/")===-1&&pe.indexOf("mailto:")===-1?xt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Le=>({...Le,href:"mailto:"+pe})}):xt.none()},Sn=(Z,pe)=>Ae=>{const Le=Ae.href;return Z===1&&!Po(Le)||Z===0&&/^\s*www(\.|\d\.)/i.test(Le)?xt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${pe}:// prefix?`,preprocess:eo=>({...eo,href:pe+"://"+Le})}):xt.none()},xo={preprocess:(Z,pe)=>ie([Ye,Sn(st(Z),fo(Z))],Ae=>Ae(pe)).fold(()=>Promise.resolve(pe),Ae=>new Promise(Le=>{We(Z,Ae.message,Rt=>{Le(Rt?Ae.preprocess(pe):pe)})}))},ke={getAnchors:Z=>{const pe=Z.dom.select("a:not([href])"),Ae=Pe(pe,Le=>{const Rt=Le.name||Le.id;return Rt?[{text:Rt,value:"#"+Rt}]:[]});return Ae.length>0?xt.some([{text:"None",value:""}].concat(Ae)):xt.none()}},fe={getClasses:Z=>{const pe=fn(Z);return pe.length>0?ve.sanitize(pe):xt.none()}},ge=Z=>{try{return xt.some(JSON.parse(Z))}catch{return xt.none()}},_t={getLinks:Z=>{const pe=Le=>Z.convertURL(Le.value||Le.url||"","href"),Ae=Yt(Z);return new Promise(Le=>{Fn(Ae)?fetch(Ae).then(Rt=>Rt.ok?Rt.text().then(ge):Promise.reject()).then(Le,()=>Le(xt.none())):jt(Ae)?Ae(Rt=>Le(xt.some(Rt))):Le(xt.from(Ae))}).then(Le=>Le.bind(ve.sanitizeWith(pe)).map(Rt=>Rt.length>0?[{text:"None",value:""}].concat(Rt):Rt))}},xn={getRels:(Z,pe)=>{const Ae=wt(Z);if(Ae.length>0){const Le=Ro(pe,"_blank"),Rt=lt(Z)===!1,eo=Ys=>Gn(ve.getValue(Ys),Le);return(Rt?ve.sanitizeWith(eo):ve.sanitize)(Ae)}return xt.none()}},_n=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],On={getTargets:Z=>{const pe=Zo(Z);return pn(pe)?ve.sanitize(pe).orThunk(()=>xt.some(_n)):pe===!1?xt.none():xt.some(_n)}},no=(Z,pe,Ae)=>{const Le=Z.getAttrib(pe,Ae);return Le!==null&&Le.length>0?xt.some(Le):xt.none()},ds=(Z,pe)=>{const Ae=Z.dom,Rt=Tt(Z)?xt.some(as(Z.selection,pe)):xt.none(),eo=pe.bind(cs=>xt.from(Ae.getAttrib(cs,"href"))),ps=pe.bind(cs=>xt.from(Ae.getAttrib(cs,"target"))),Ys=pe.bind(cs=>no(Ae,cs,"rel")),$s=pe.bind(cs=>no(Ae,cs,"class")),hr=pe.bind(cs=>no(Ae,cs,"title"));return{url:eo,text:Rt,title:hr,target:ps,rel:Ys,linkClass:$s}},va={collect:(Z,pe)=>_t.getLinks(Z).then(Ae=>{const Le=ds(Z,pe);return{anchor:Le,catalogs:{targets:On.getTargets(Z),rels:xn.getRels(Z,Le.target),classes:fe.getClasses(Z),anchor:ke.getAnchors(Z),link:Ae},optNode:pe,flags:{titleEnabled:De(Z)}}})},Gr=(Z,pe)=>Ae=>{const Le=Ae.getData();if(!Le.url.value){Ge(Z),Ae.close();return}const Rt=Ys=>xt.from(Le[Ys]).filter($s=>!Ro(pe.anchor[Ys],$s)),eo={href:Le.url.value,text:Rt("text"),target:Rt("target"),rel:Rt("rel"),class:Rt("linkClass"),title:Rt("title")},ps={href:Le.url.value,attach:Le.url.meta!==void 0&&Le.url.meta.attach?Le.url.meta.attach:tn};xo.preprocess(Z,eo).then(Ys=>{Ee(Z,ps,Ys)}),Ae.close()},oc=Z=>{const pe=mn(Z);return va.collect(Z,pe)},yo=(Z,pe)=>{const Ae=Z.anchor,Le=Ae.url.getOr("");return{url:{value:Le,meta:{original:{value:Le}}},text:Ae.text.getOr(""),title:Ae.title.getOr(""),anchor:Le,link:Le,rel:Ae.rel.getOr(""),target:Ae.target.or(pe).getOr(""),linkClass:Ae.linkClass.getOr("")}},os=(Z,pe,Ae)=>{const Le=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Rt=Z.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),eo=Z.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],ps=xt.from(Xe(Ae)),Ys=yo(Z,ps),$s=Z.catalogs,hr=de.init(Ys,$s);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Zt([Le,Rt,eo,Ce([$s.anchor.map(ve.createUi("anchor","Anchors")),$s.rels.map(ve.createUi("rel","Rel")),$s.targets.map(ve.createUi("target","Open link in...")),$s.link.map(ve.createUi("link","Link list")),$s.classes.map(ve.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ys,onChange:(_r,{name:Yc})=>{hr.onChange(_r.getData,{name:Yc}).each(hi=>{_r.setData(hi)})},onSubmit:pe}},Us=Z=>{oc(Z).then(Ae=>{const Le=Gr(Z,Ae);return os(Ae,Le,Z)}).then(Ae=>{Z.windowManager.open(Ae)})},ka=Z=>{Z.addCommand("mceLink",(pe,Ae)=>{(Ae==null?void 0:Ae.dialog)===!0||!F(Z)?Us(Z):Z.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var la=tinymce.util.Tools.resolve("tinymce.util.VK");const Jr=(Z,pe)=>{document.body.appendChild(Z),Z.dispatchEvent(pe),document.body.removeChild(Z)},js=Z=>{const pe=document.createElement("a");pe.target="_blank",pe.href=Z,pe.rel="noreferrer noopener";const Ae=document.createEvent("MouseEvents");Ae.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Jr(pe,Ae)},du=(Z,pe)=>Z.dom.getParent(pe,"a[href]"),mi=Z=>du(Z,Z.selection.getStart()),fs=Z=>Z.altKey===!0&&Z.shiftKey===!1&&Z.ctrlKey===!1&&Z.metaKey===!1,Oa=(Z,pe)=>{if(pe){const Ae=qn(pe);if(/^#/.test(Ae)){const Le=Z.dom.select(Ae);Le.length&&Z.selection.scrollIntoView(Le[0],!0)}else js(pe.href)}},za=Z=>()=>{Z.execCommand("mceLink",!1,{dialog:!0})},Mr=Z=>()=>{Oa(Z,mi(Z))},Ki=Z=>{Z.on("click",pe=>{const Ae=du(Z,pe.target);Ae&&la.metaKeyPressed(pe)&&(pe.preventDefault(),Oa(Z,Ae))}),Z.on("keydown",pe=>{if(!pe.isDefaultPrevented()&&pe.keyCode===13&&fs(pe)){const Ae=mi(Z);Ae&&(pe.preventDefault(),Oa(Z,Ae))}})},sc=(Z,pe)=>(Z.on("NodeChange",pe),()=>Z.off("NodeChange",pe)),Da=Z=>pe=>{const Ae=()=>{pe.setActive(!Z.mode.isReadOnly()&&bo(Z,Z.selection.getNode())),pe.setEnabled(Z.selection.isEditable())};return Ae(),sc(Z,Ae)},Sc=Z=>pe=>{const Ae=()=>{pe.setEnabled(Z.selection.isEditable())};return Ae(),sc(Z,Ae)},xc=Z=>(Z.selection.isCollapsed()?Ts(Z.dom.getParents(Z.selection.getStart())):Rs(Z.selection.getRng())).length===1,Ic=Z=>pe=>{const Ae=()=>pe.setEnabled(xc(Z));return Ae(),sc(Z,Ae)},Ni=Z=>pe=>{const Ae=eo=>Yo(eo)||oa(Z.selection.getRng()),Le=Z.dom.getParents(Z.selection.getStart()),Rt=eo=>{pe.setEnabled(Ae(eo)&&Z.selection.isEditable())};return Rt(Le),sc(Z,eo=>Rt(eo.parents))},Yi=Z=>{Z.addShortcut("Meta+K","",()=>{Z.execCommand("mceLink")})},qa=Z=>{Z.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:za(Z),onSetup:Da(Z)}),Z.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Mr(Z),onSetup:Ic(Z)}),Z.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ge(Z),onSetup:Ni(Z)})},Kc=Z=>{Z.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Mr(Z),onSetup:Ic(Z)}),Z.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Sc(Z),onAction:za(Z)}),Z.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ge(Z),onSetup:Ni(Z)})},gi=Z=>{const pe="link unlink openlink",Ae="link";Z.ui.registry.addContextMenu("link",{update:Le=>Z.dom.isEditable(Le)?Yo(Z.dom.getParents(Le,"a"))?pe:Ae:""})},Xi=Z=>{const pe=Rt=>{Rt.selection.collapse(!1)},Ae=Rt=>{const eo=Z.selection.getNode();return Rt.setEnabled(bo(Z,eo)),tn},Le=Rt=>{const eo=mn(Z),ps=Tt(Z);if(eo.isNone()&&ps){const Ys=as(Z.selection,eo);return Oe(Ys.length===0,Rt)}else return xt.none()};Z.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Da(Z)},label:"Link",predicate:Rt=>Bn(Z)&&bo(Z,Rt),initValue:()=>mn(Z).fold(ot(""),qn),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Rt=>{const eo=Z.selection.getNode();return Rt.setActive(bo(Z,eo)),Da(Z)(Rt)},onAction:Rt=>{const eo=Rt.getValue(),ps=Le(eo);Ee(Z,{href:eo,attach:tn},{href:eo,text:ps,title:xt.none(),rel:xt.none(),target:xt.none(),class:xt.none()}),pe(Z),Rt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ae,onAction:Rt=>{Ge(Z),Rt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ae,onAction:Rt=>{Mr(Z)(),Rt.hide()}}]})};var pi=()=>{es.add("link",Z=>{un(Z),qa(Z),Kc(Z),gi(Z),Xi(Z),Ki(Z),ka(Z),Yi(Z)})};pi()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=Object.getPrototypeOf,So=(B,Y,se)=>{var Ke;return se(B,Y.prototype)?!0:((Ke=B.constructor)===null||Ke===void 0?void 0:Ke.name)===Y.name},Ln=B=>{const Y=typeof B;return B===null?"null":Y==="object"&&Array.isArray(B)?"array":Y==="object"&&So(B,String,(se,Ke)=>Ke.isPrototypeOf(se))?"string":Y},uo=B=>Y=>Ln(Y)===B,ho=B=>Y=>typeof Y===B,Fn=B=>Y=>B===Y,nt=(B,Y)=>vn(B)&&So(B,Y,(se,Ke)=>Do(se)===Ke),pn=uo("string"),vn=uo("object"),En=B=>nt(B,Object),_o=uo("array"),cn=Fn(null),jt=ho("boolean"),It=B=>B==null,tn=B=>!It(B),ot=ho("function"),Ot=ho("number"),xt=(B,Y)=>{if(_o(B)){for(let se=0,Ke=B.length;se<Ke;++se)if(!Y(B[se]))return!1;return!0}return!1},j=()=>{};class dt{constructor(Y,se){this.tag=Y,this.value=se}static some(Y){return new dt(!0,Y)}static none(){return dt.singletonNone}fold(Y,se){return this.tag?se(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?dt.some(Y(this.value)):dt.none()}bind(Y){return this.tag?Y(this.value):dt.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:dt.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y??"Called getOrDie on None")}static from(Y){return tn(Y)?dt.some(Y):dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}dt.singletonNone=new dt(!1);const Mo=Object.keys,gt=Object.hasOwnProperty,U=(B,Y)=>{const se=Mo(B);for(let Ke=0,en=se.length;Ke<en;Ke++){const Wo=se[Ke],Cn=B[Wo];Y(Cn,Wo)}},at=B=>(Y,se)=>{B[se]=Y},bn=(B,Y,se,Ke)=>{U(B,(en,Wo)=>{(Y(en,Wo)?se:Ke)(en,Wo)})},Zt=(B,Y)=>{const se={};return bn(B,Y,at(se),j),se},Pe=(B,Y)=>gt.call(B,Y),ie=(B,Y)=>Pe(B,Y)&&B[Y]!==void 0&&B[Y]!==null,Ro=Array.prototype.push,Ce=B=>{const Y=[];for(let se=0,Ke=B.length;se<Ke;++se){if(!_o(B[se]))throw new Error("Arr.flatten item "+se+" was not an array, input: "+B);Ro.apply(Y,B[se])}return Y},Oe=(B,Y)=>Y>=0&&Y<B.length?dt.some(B[Y]):dt.none(),T=B=>Oe(B,0),un=(B,Y)=>{for(let se=0;se<B.length;se++){const Ke=Y(B[se],se);if(Ke.isSome())return Ke}return dt.none()};typeof window<"u"||Function("return this;")();const st=(B,Y,se)=>{if(pn(se)||jt(se)||Ot(se))B.setAttribute(Y,se+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",se,":: Element ",B),new Error("Attribute value was not simple")},Bn=(B,Y,se)=>{st(B.dom,Y,se)},Yt=(B,Y)=>{B.dom.removeAttribute(Y)},Xe=(B,Y)=>{const Ke=(Y||document).createElement("div");if(Ke.innerHTML=B,!Ke.hasChildNodes()||Ke.childNodes.length>1){const en="HTML does not have a single root node";throw console.error(en,B),new Error(en)}return wt(Ke.childNodes[0])},fo=(B,Y)=>{const Ke=(Y||document).createElement(B);return wt(Ke)},Zo=(B,Y)=>{const Ke=(Y||document).createTextNode(B);return wt(Ke)},wt=B=>{if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},De={fromHtml:Xe,fromTag:fo,fromText:Zo,fromDom:wt,fromPoint:(B,Y,se)=>dt.from(B.dom.elementFromPoint(Y,se)).map(wt)};var lt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F=tinymce.util.Tools.resolve("tinymce.util.URI");const qo=B=>B.length>0,Qn=B=>Y=>Y.options.get(B),ft=B=>{const Y=B.options.register;Y("image_dimensions",{processor:"boolean",default:!0}),Y("image_advtab",{processor:"boolean",default:!1}),Y("image_uploadtab",{processor:"boolean",default:!0}),Y("image_prepend_url",{processor:"string",default:""}),Y("image_class_list",{processor:"object[]"}),Y("image_description",{processor:"boolean",default:!0}),Y("image_title",{processor:"boolean",default:!1}),Y("image_caption",{processor:"boolean",default:!1}),Y("image_list",{processor:se=>{const Ke=se===!1||pn(se)||xt(se,vn)||ot(se);return Ke?{value:se,valid:Ke}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},mt=Qn("image_dimensions"),on=Qn("image_advtab"),X=Qn("image_uploadtab"),be=Qn("image_prepend_url"),ve=Qn("image_class_list"),ae=Qn("image_description"),Me=Qn("image_title"),Fe=Qn("image_caption"),qe=Qn("image_list"),Ue=Qn("a11y_advanced_options"),Q=Qn("automatic_uploads"),Se=B=>qo(B.options.get("images_upload_url")),Ie=B=>tn(B.options.get("images_upload_handler")),zt=(B,Y)=>Math.max(parseInt(B,10),parseInt(Y,10)),$n=B=>new Promise(Y=>{const se=document.createElement("img"),Ke=Wo=>{se.onload=se.onerror=null,se.parentNode&&se.parentNode.removeChild(se),Y(Wo)};se.onload=()=>{const Wo=zt(se.width,se.clientWidth),Cn=zt(se.height,se.clientHeight),dr={width:Wo,height:Cn};Ke(Promise.resolve(dr))},se.onerror=()=>{Ke(Promise.reject(`Failed to get image dimensions for: ${B}`))};const en=se.style;en.visibility="hidden",en.position="fixed",en.bottom=en.left="0px",en.width=en.height="auto",document.body.appendChild(se),se.src=B}),Dn=B=>(B&&(B=B.replace(/px$/,"")),B),Rn=B=>(B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B),An=B=>{if(B.margin){const Y=String(B.margin).split(" ");switch(Y.length){case 1:B["margin-top"]=B["margin-top"]||Y[0],B["margin-right"]=B["margin-right"]||Y[0],B["margin-bottom"]=B["margin-bottom"]||Y[0],B["margin-left"]=B["margin-left"]||Y[0];break;case 2:B["margin-top"]=B["margin-top"]||Y[0],B["margin-right"]=B["margin-right"]||Y[1],B["margin-bottom"]=B["margin-bottom"]||Y[0],B["margin-left"]=B["margin-left"]||Y[1];break;case 3:B["margin-top"]=B["margin-top"]||Y[0],B["margin-right"]=B["margin-right"]||Y[1],B["margin-bottom"]=B["margin-bottom"]||Y[2],B["margin-left"]=B["margin-left"]||Y[1];break;case 4:B["margin-top"]=B["margin-top"]||Y[0],B["margin-right"]=B["margin-right"]||Y[1],B["margin-bottom"]=B["margin-bottom"]||Y[2],B["margin-left"]=B["margin-left"]||Y[3]}delete B.margin}return B},Po=(B,Y)=>{const se=qe(B);pn(se)?fetch(se).then(Ke=>{Ke.ok&&Ke.json().then(Y)}):ot(se)?se(Y):Y(se)},qn=(B,Y,se)=>{const Ke=()=>{se.onload=se.onerror=null,B.selection&&(B.selection.select(se),B.nodeChanged())};se.onload=()=>{!Y.width&&!Y.height&&mt(B)&&B.dom.setAttribs(se,{width:String(se.clientWidth),height:String(se.clientHeight)}),Ke()},se.onerror=Ke},Gn=B=>new Promise((Y,se)=>{const Ke=new FileReader;Ke.onload=()=>{Y(Ke.result)},Ke.onerror=()=>{var en;se((en=Ke.error)===null||en===void 0?void 0:en.message)},Ke.readAsDataURL(B)}),to=B=>B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder")),mn=(B,Y)=>{const se=B.options.get;return F.isDomSafe(Y,"img",{allow_html_data_urls:se("allow_html_data_urls"),allow_script_urls:se("allow_script_urls"),allow_svg_data_urls:se("allow_svg_data_urls")})},bo=lt.DOM,as=B=>B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Dn(B.style.marginLeft):"",Rs=B=>B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Dn(B.style.marginTop):"",Ts=B=>B.style.borderWidth?Dn(B.style.borderWidth):"",Yo=(B,Y)=>{var se;return B.hasAttribute(Y)&&(se=B.getAttribute(Y))!==null&&se!==void 0?se:""},oa=B=>B.parentNode!==null&&B.parentNode.nodeName==="FIGURE",Tt=(B,Y,se)=>{se===""||se===null?B.removeAttribute(Y):B.setAttribute(Y,se)},Lo=B=>{const Y=bo.create("figure",{class:"image"});bo.insertAfter(Y,B),Y.appendChild(B),Y.appendChild(bo.create("figcaption",{contentEditable:"true"},"Caption")),Y.contentEditable="false"},kr=B=>{const Y=B.parentNode;tn(Y)&&(bo.insertAfter(B,Y),bo.remove(Y))},Vr=B=>{oa(B)?kr(B):Lo(B)},qr=(B,Y)=>{const se=B.getAttribute("style"),Ke=Y(se!==null?se:"");Ke.length>0?(B.setAttribute("style",Ke),B.setAttribute("data-mce-style",Ke)):B.removeAttribute("style")},Xr=(B,Y)=>(se,Ke,en)=>{const Wo=se.style;Wo[Ke]?(Wo[Ke]=Rn(en),qr(se,Y)):Tt(se,Ke,en)},_s=(B,Y)=>B.style[Y]?Dn(B.style[Y]):Yo(B,Y),ia=(B,Y)=>{const se=Rn(Y);B.style.marginLeft=se,B.style.marginRight=se},Ur=(B,Y)=>{const se=Rn(Y);B.style.marginTop=se,B.style.marginBottom=se},Cs=(B,Y)=>{const se=Rn(Y);B.style.borderWidth=se},Kn=(B,Y)=>{B.style.borderStyle=Y},ar=B=>{var Y;return(Y=B.style.borderStyle)!==null&&Y!==void 0?Y:""},Ee=B=>tn(B)&&B.nodeName==="FIGURE",Ge=B=>B.nodeName==="IMG",Wt=B=>bo.getAttrib(B,"alt").length===0&&bo.getAttrib(B,"role")==="presentation",kn=B=>Wt(B)?"":Yo(B,"alt"),Eo=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Xo=(B,Y)=>{var se;const Ke=document.createElement("img");return Tt(Ke,"style",Y.style),(as(Ke)||Y.hspace!=="")&&ia(Ke,Y.hspace),(Rs(Ke)||Y.vspace!=="")&&Ur(Ke,Y.vspace),(Ts(Ke)||Y.border!=="")&&Cs(Ke,Y.border),(ar(Ke)||Y.borderStyle!=="")&&Kn(Ke,Y.borderStyle),B((se=Ke.getAttribute("style"))!==null&&se!==void 0?se:"")},wr=(B,Y)=>{const se=document.createElement("img");if(Ye(B,{...Y,caption:!1},se),de(se,Y.alt,Y.isDecorative),Y.caption){const Ke=bo.create("figure",{class:"image"});return Ke.appendChild(se),Ke.appendChild(bo.create("figcaption",{contentEditable:"true"},"Caption")),Ke.contentEditable="false",Ke}else return se},Gs=(B,Y)=>({src:Yo(Y,"src"),alt:kn(Y),title:Yo(Y,"title"),width:_s(Y,"width"),height:_s(Y,"height"),class:Yo(Y,"class"),style:B(Yo(Y,"style")),caption:oa(Y),hspace:as(Y),vspace:Rs(Y),border:Ts(Y),borderStyle:ar(Y),isDecorative:Wt(Y)}),cr=(B,Y,se,Ke,en)=>{se[Ke]!==Y[Ke]&&en(B,Ke,String(se[Ke]))},de=(B,Y,se)=>{if(se){bo.setAttrib(B,"role","presentation");const Ke=De.fromDom(B);Bn(Ke,"alt","")}else{if(cn(Y)){const Ke=De.fromDom(B);Yt(Ke,"alt")}else{const Ke=De.fromDom(B);Bn(Ke,"alt",Y)}bo.getAttrib(B,"role")==="presentation"&&bo.setAttrib(B,"role","")}},re=(B,Y,se)=>{(se.alt!==Y.alt||se.isDecorative!==Y.isDecorative)&&de(B,se.alt,se.isDecorative)},We=(B,Y)=>(se,Ke,en)=>{B(se,en),qr(se,Y)},Ye=(B,Y,se)=>{const Ke=Gs(B,se);cr(se,Ke,Y,"caption",(en,Wo,Cn)=>Vr(en)),cr(se,Ke,Y,"src",Tt),cr(se,Ke,Y,"title",Tt),cr(se,Ke,Y,"width",Xr("width",B)),cr(se,Ke,Y,"height",Xr("height",B)),cr(se,Ke,Y,"class",Tt),cr(se,Ke,Y,"style",We((en,Wo)=>Tt(en,"style",Wo),B)),cr(se,Ke,Y,"hspace",We(ia,B)),cr(se,Ke,Y,"vspace",We(Ur,B)),cr(se,Ke,Y,"border",We(Cs,B)),cr(se,Ke,Y,"borderStyle",We(Kn,B)),re(se,Ke,Y)},Sn=(B,Y)=>{const se=B.dom.styles.parse(Y),Ke=An(se),en=B.dom.styles.parse(B.dom.styles.serialize(Ke));return B.dom.styles.serialize(en)},Yn=B=>{const Y=B.selection.getNode(),se=B.dom.getParent(Y,"figure.image");return se?B.dom.select("img",se)[0]:Y&&(Y.nodeName!=="IMG"||to(Y))?null:Y},xo=(B,Y)=>{var se;const Ke=B.dom,en=Zt(B.schema.getTextBlockElements(),(Cn,dr)=>!B.schema.isValidChild(dr,"figure")),Wo=Ke.getParent(Y.parentNode,Cn=>ie(en,Cn.nodeName),B.getBody());return Wo&&(se=Ke.split(Wo,Y))!==null&&se!==void 0?se:Y},Ks=B=>{const Y=Yn(B);return Y?Gs(se=>Sn(B,se),Y):Eo()},ke=(B,Y)=>{const se=wr(en=>Sn(B,en),Y);B.dom.setAttrib(se,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent(se.outerHTML);const Ke=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(Ke,"data-mce-id",null),Ee(Ke)){const en=xo(B,Ke);B.selection.select(en)}else B.selection.select(Ke)},mo=(B,Y)=>{B.dom.setAttrib(Y,"src",Y.getAttribute("src"))},fe=(B,Y)=>{if(Y){const se=B.dom.is(Y.parentNode,"figure.image")?Y.parentNode:Y;B.dom.remove(se),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},ge=(B,Y)=>{const se=Yn(B);if(se)if(Ye(Ke=>Sn(B,Ke),Y,se),mo(B,se),Ee(se.parentNode)){const Ke=se.parentNode;xo(B,Ke),B.selection.select(se.parentNode)}else B.selection.select(se),qn(B,Y,se)},yt=(B,Y)=>{const se=Y.src;return{...Y,src:mn(B,se)?se:""}},_t=(B,Y)=>{const se=Yn(B);if(se){const en={...Gs(Cn=>Sn(B,Cn),se),...Y},Wo=yt(B,en);en.src?ge(B,Wo):fe(B,se)}else Y.src&&ke(B,{...Eo(),...Y})},_n=(B=>(...Y)=>{if(Y.length===0)throw new Error("Can't merge zero objects");const se={};for(let Ke=0;Ke<Y.length;Ke++){const en=Y[Ke];for(const Wo in en)Pe(en,Wo)&&(se[Wo]=B(se[Wo],en[Wo]))}return se})((B,Y)=>En(B)&&En(Y)?_n(B,Y):Y);var wn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),On=tinymce.util.Tools.resolve("tinymce.util.Tools");const no=B=>pn(B.value)?B.value:"",ds=B=>pn(B.text)?B.text:pn(B.title)?B.title:"",Hs=(B,Y)=>{const se=[];return On.each(B,Ke=>{const en=ds(Ke);if(Ke.menu!==void 0){const Wo=Hs(Ke.menu,Y);se.push({text:en,items:Wo})}else{const Wo=Y(Ke);se.push({text:en,value:Wo})}}),se},va=(B=no)=>Y=>Y?dt.from(Y).map(se=>Hs(se,B)):dt.none(),Gr=B=>va(no)(B),oc=B=>Pe(B,"items"),yo=(B,Y)=>un(B,se=>oc(se)?yo(se.items,Y):se.value===Y?dt.some(se):dt.none()),Us={sanitizer:va,sanitize:Gr,findEntry:(B,Y)=>B.bind(se=>yo(se,Y))},la={makeTab:B=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Jr=B=>{const Y=Us.sanitizer(Be=>B.convertURL(Be.value||Be.url||"","src")),se=new Promise(Be=>{Po(B,ht=>{Be(Y(ht).map(ln=>Ce([[{text:"None",value:""}],ln])))})}),Ke=Us.sanitize(ve(B)),en=on(B),Wo=X(B),Cn=Se(B),dr=Ie(B),Et=Ks(B),Ws=ae(B),Ga=Me(B),zr=mt(B),sa=Fe(B),Mi=Ue(B),q=Q(B),ue=dt.some(be(B)).filter(Be=>pn(Be)&&Be.length>0);return se.then(Be=>({image:Et,imageList:Be,classList:Ke,hasAdvTab:en,hasUploadTab:Wo,hasUploadUrl:Cn,hasUploadHandler:dr,hasDescription:Ws,hasImageTitle:Ga,hasDimensions:zr,hasImageCaption:sa,prependURL:ue,hasAccessibilityOptions:Mi,automaticUploads:q}))},js=B=>{const Y={name:"src",type:"urlinput",filetype:"image",label:"Source"},se=B.imageList.map(Ga=>({name:"images",type:"listbox",label:"Image list",items:Ga})),Ke={name:"alt",type:"input",label:"Alternative description",enabled:!(B.hasAccessibilityOptions&&B.image.isDecorative)},en={name:"title",type:"input",label:"Image title"},Wo={name:"dimensions",type:"sizeinput"},Cn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},dr=B.classList.map(Ga=>({name:"classes",type:"listbox",label:"Class",items:Ga})),Et={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ws=Ga=>Ga?{type:"grid",columns:2}:{type:"panel"};return Ce([[Y],se.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[Cn]:[],B.hasDescription?[Ke]:[],B.hasImageTitle?[en]:[],B.hasDimensions?[Wo]:[],[{...Ws(B.classList.isSome()&&B.hasImageCaption),items:Ce([dr.toArray(),B.hasImageCaption?[Et]:[]])}]])},mi={makeTab:B=>({title:"General",name:"general",items:js(B)}),makeItems:js},Oa={makeTab:B=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},za=B=>({prevImage:Us.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}),Mr=B=>({src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}),Ki=(B,Y)=>({src:B.src.value,alt:(B.alt===null||B.alt.length===0)&&Y?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}),sc=(B,Y)=>/^(?:[a-zA-Z]+:)?\/\//.test(Y)?dt.none():B.prependURL.bind(se=>Y.substring(0,se.length)!==se?dt.some(se+Y):dt.none()),Da=(B,Y)=>{const se=Y.getData();sc(B,se.src.value).each(Ke=>{Y.setData({src:{value:Ke,meta:se.src.meta}})})},Sc=(B,Y,se)=>{B.hasDescription&&pn(se.alt)&&(Y.alt=se.alt),B.hasAccessibilityOptions&&(Y.isDecorative=se.isDecorative||Y.isDecorative||!1),B.hasImageTitle&&pn(se.title)&&(Y.title=se.title),B.hasDimensions&&(pn(se.width)&&(Y.dimensions.width=se.width),pn(se.height)&&(Y.dimensions.height=se.height)),pn(se.class)&&Us.findEntry(B.classList,se.class).each(Ke=>{Y.classes=Ke.value}),B.hasImageCaption&&jt(se.caption)&&(Y.caption=se.caption),B.hasAdvTab&&(pn(se.style)&&(Y.style=se.style),pn(se.vspace)&&(Y.vspace=se.vspace),pn(se.border)&&(Y.border=se.border),pn(se.hspace)&&(Y.hspace=se.hspace),pn(se.borderstyle)&&(Y.borderstyle=se.borderstyle))},xc=(B,Y)=>{const se=Y.getData(),Ke=se.src.meta;if(Ke!==void 0){const en=_n({},se);Sc(B,en,Ke),Y.setData(en)}},Ic=(B,Y,se,Ke)=>{const en=Ke.getData(),Wo=en.src.value,Cn=en.src.meta||{};!Cn.width&&!Cn.height&&Y.hasDimensions&&(qo(Wo)?B.imageSize(Wo).then(dr=>{se.open&&Ke.setData({dimensions:dr})}).catch(dr=>console.error(dr)):Ke.setData({dimensions:{width:"",height:""}}))},Ni=(B,Y,se)=>{const Ke=se.getData(),en=Us.findEntry(B.imageList,Ke.src.value);Y.prevImage=en,se.setData({images:en.map(Wo=>Wo.value).getOr("")})},Yi=(B,Y,se,Ke)=>{Da(Y,Ke),xc(Y,Ke),Ic(B,Y,se,Ke),Ni(Y,se,Ke)},qa=(B,Y,se,Ke)=>{const en=Ke.getData(),Wo=Us.findEntry(Y.imageList,en.images);Wo.each(Cn=>{en.alt===""||se.prevImage.map(Et=>Et.text===en.alt).getOr(!1)?Cn.value===""?Ke.setData({src:Cn,alt:se.prevAlt}):Ke.setData({src:Cn,alt:Cn.text}):Ke.setData({src:Cn})}),se.prevImage=Wo,Yi(B,Y,se,Ke)},Kc=(B,Y,se,Ke)=>{const en=Ke.getData();Ke.block("Uploading image"),T(en.fileinput).fold(()=>{Ke.unblock()},Wo=>{const Cn=URL.createObjectURL(Wo),dr=()=>{Ke.unblock(),URL.revokeObjectURL(Cn)},Et=Ws=>{Ke.setData({src:{value:Ws,meta:{}}}),Ke.showTab("general"),Yi(B,Y,se,Ke)};Gn(Wo).then(Ws=>{const Ga=B.createBlobCache(Wo,Cn,Ws);Y.automaticUploads?B.uploadImage(Ga).then(zr=>{Et(zr.url),dr()}).catch(zr=>{dr(),B.alertErr(zr)}):(B.addToBlobCache(Ga),Et(Ga.blobUri()),Ke.unblock())})})},gi=(B,Y,se)=>(Ke,en)=>{en.name==="src"?Yi(B,Y,se,Ke):en.name==="images"?qa(B,Y,se,Ke):en.name==="alt"?se.prevAlt=Ke.getData().alt:en.name==="fileinput"?Kc(B,Y,se,Ke):en.name==="isDecorative"&&Ke.setEnabled("alt",!Ke.getData().isDecorative)},Xi=B=>()=>{B.open=!1},pi=B=>B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler?{type:"tabpanel",tabs:Ce([[mi.makeTab(B)],B.hasAdvTab?[la.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[Oa.makeTab(B)]:[]])}:{type:"panel",items:mi.makeItems(B)},Z=(B,Y,se)=>Ke=>{const en=_n(Mr(Y.image),Ke.getData()),Wo={...en,style:Xo(se.normalizeCss,Ki(en,!1))};B.execCommand("mceUpdateImage",!1,Ki(Wo,Y.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),Ke.close()},pe=B=>Y=>mn(B,Y)?$n(B.documentBaseURI.toAbsolute(Y)).then(se=>({width:String(se.width),height:String(se.height)})):Promise.resolve({width:"",height:""}),Ae=B=>(Y,se,Ke)=>{var en;return B.editorUpload.blobCache.create({blob:Y,blobUri:se,name:(en=Y.name)===null||en===void 0?void 0:en.replace(/\.[^\.]+$/,""),filename:Y.name,base64:Ke.split(",")[1]})},Le=B=>Y=>{B.editorUpload.blobCache.add(Y)},Rt=B=>Y=>{B.windowManager.alert(Y)},eo=B=>Y=>Sn(B,Y),ps=B=>Y=>B.dom.parseStyle(Y),Ys=B=>(Y,se)=>B.dom.serializeStyle(Y,se),$s=B=>Y=>wn(B).upload([Y],!1).then(se=>{var Ke;return se.length===0?Promise.reject("Failed to upload image"):se[0].status===!1?Promise.reject((Ke=se[0].error)===null||Ke===void 0?void 0:Ke.message):se[0]}),hr=B=>{const Y={imageSize:pe(B),addToBlobCache:Le(B),createBlobCache:Ae(B),alertErr:Rt(B),normalizeCss:eo(B),parseStyle:ps(B),serializeStyle:Ys(B),uploadImage:$s(B)};return{open:()=>{Jr(B).then(Ke=>{const en=za(Ke);return{title:"Insert/Edit Image",size:"normal",body:pi(Ke),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Mr(Ke.image),onSubmit:Z(B,Ke,Y),onChange:gi(Y,Ke,en),onClose:Xi(en)}}).then(B.windowManager.open)}}},cs=B=>{B.addCommand("mceImage",hr(B).open),B.addCommand("mceUpdateImage",(Y,se)=>{B.undoManager.transact(()=>_t(B,se))})},_r=B=>{const Y=B.attr("class");return tn(Y)&&/\bimage\b/.test(Y)},Yc=B=>Y=>{let se=Y.length;const Ke=en=>{en.attr("contenteditable",B?"true":null)};for(;se--;){const en=Y[se];_r(en)&&(en.attr("contenteditable",B?"false":null),On.each(en.getAll("figcaption"),Ke))}},hi=B=>{B.on("PreInit",()=>{B.parser.addNodeFilter("figure",Yc(!0)),B.serializer.addNodeFilter("figure",Yc(!1))})},nn=B=>Y=>{const se=()=>{Y.setEnabled(B.selection.isEditable())};return B.on("NodeChange",se),se(),()=>{B.off("NodeChange",se)}},fu=B=>{B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:hr(B).open,onSetup:Y=>{Y.setActive(tn(Yn(B)));const se=B.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Y.setActive).unbind,Ke=nn(B)(Y);return()=>{se(),Ke()}}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:hr(B).open,onSetup:nn(B)}),B.ui.registry.addContextMenu("image",{update:Y=>B.selection.isEditable()&&(Ee(Y)||Ge(Y)&&!to(Y))?["image"]:[]})};var br=()=>{es.add("image",B=>{ft(B),hi(B),fu(B),cs(B)})};br()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(X,be)=>X.dispatch("insertCustomChar",{chr:be}),So=(X,be)=>{const ve=Do(X,be).chr;X.execCommand("mceInsertContent",!1,ve)},Ln=(X,be,ve)=>{var ae;return ve(X,be.prototype)?!0:((ae=X.constructor)===null||ae===void 0?void 0:ae.name)===be.name},uo=X=>{const be=typeof X;return X===null?"null":be==="object"&&Array.isArray(X)?"array":be==="object"&&Ln(X,String,(ve,ae)=>ae.isPrototypeOf(ve))?"string":be},ho=X=>be=>uo(be)===X,Fn=X=>be=>typeof be===X,nt=X=>be=>X===be,pn=ho("array"),vn=nt(null),En=nt(void 0),_o=X=>X==null,cn=X=>!_o(X),jt=Fn("function"),tn=(X=>()=>X)(!1);class ot{constructor(be,ve){this.tag=be,this.value=ve}static some(be){return new ot(!0,be)}static none(){return ot.singletonNone}fold(be,ve){return this.tag?ve(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?ot.some(be(this.value)):ot.none()}bind(be){return this.tag?be(this.value):ot.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:ot.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return cn(be)?ot.some(be):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Ot=Array.prototype.push,xt=(X,be)=>{const ve=X.length,ae=new Array(ve);for(let Me=0;Me<ve;Me++){const Fe=X[Me];ae[Me]=be(Fe,Me)}return ae},j=(X,be)=>{for(let ve=0,ae=X.length;ve<ae;ve++){const Me=X[ve];be(Me,ve)}},dt=(X,be,ve)=>{for(let ae=0,Me=X.length;ae<Me;ae++){const Fe=X[ae];if(be(Fe,ae))return ot.some(Fe);if(ve(Fe,ae))break}return ot.none()},Mo=(X,be)=>dt(X,be,tn),gt=X=>{const be=[];for(let ve=0,ae=X.length;ve<ae;++ve){if(!pn(X[ve]))throw new Error("Arr.flatten item "+ve+" was not an array, input: "+X);Ot.apply(be,X[ve])}return be},U=(X,be)=>gt(xt(X,be));var at=tinymce.util.Tools.resolve("tinymce.util.Tools");const bn=X=>be=>be.options.get(X),Zt=X=>{const be=X.options.register,ve=ae=>jt(ae)||pn(ae);be("charmap",{processor:ve}),be("charmap_append",{processor:ve})},Pe=bn("charmap"),ie=bn("charmap_append"),Ro=at.isArray,Ce="User Defined",Oe=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],T=X=>at.grep(X,be=>Ro(be)&&be.length===2),un=X=>Ro(X)?T(X):typeof X=="function"?X():[],st=(X,be)=>{const ve=Pe(X);ve&&(be=[{name:Ce,characters:un(ve)}]);const ae=ie(X);if(ae){const Me=at.grep(be,Fe=>Fe.name===Ce);return Me.length?(Me[0].characters=[...Me[0].characters,...un(ae)],be):be.concat({name:Ce,characters:un(ae)})}return be},Bn=X=>{const be=st(X,Oe());return be.length>1?[{name:"All",characters:U(be,ve=>ve.characters)}].concat(be):be},Yt=X=>({getCharMap:()=>Bn(X),insertChar:ae=>{So(X,ae)}}),Xe=X=>{let be=X;return{get:()=>be,set:Me=>{be=Me}}},fo=(X,be)=>{let ve=null;const ae=()=>{vn(ve)||(clearTimeout(ve),ve=null)};return{cancel:ae,throttle:(...Fe)=>{ae(),ve=setTimeout(()=>{ve=null,X.apply(null,Fe)},be)}}},Zo=(X,be,ve=0,ae)=>{const Me=X.indexOf(be,ve);return Me!==-1?En(ae)?!0:Me+be.length<=ae:!1},wt=String.fromCodePoint,fn=(X,be,ve)=>Zo(wt(X).toLowerCase(),ve)?!0:Zo(be.toLowerCase(),ve)||Zo(be.toLowerCase().replace(/\s+/g,""),ve),De=(X,be)=>{const ve=[],ae=be.toLowerCase();return j(X.characters,Me=>{fn(Me[0],Me[1],ae)&&ve.push(Me)}),xt(ve,Me=>({text:Me[1],value:wt(Me[0]),icon:wt(Me[0])}))},lt="pattern",F=(X,be)=>{const ve=()=>[{label:"Search",type:"input",name:lt},{type:"collection",name:"results"}],ae=()=>xt(be,Rn=>({title:Rn.name,name:Rn.name,items:ve()})),Me=()=>({type:"panel",items:ve()}),Fe=()=>({type:"tabpanel",tabs:ae()}),qe=be.length===1?Xe(Ce):Xe("All"),Ue=(Rn,An)=>{Mo(be,Po=>Po.name===qe.get()).each(Po=>{const qn=De(Po,An);Rn.setData({results:qn})})},Se=fo(Rn=>{const An=Rn.getData().pattern;Ue(Rn,An)},40),Ie=be.length===1?Me():Fe(),zt={pattern:"",results:De(be[0],"")},$n={title:"Special Character",size:"normal",body:Ie,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:zt,onAction:(Rn,An)=>{An.name==="results"&&(So(X,An.value),Rn.close())},onTabChange:(Rn,An)=>{qe.set(An.newTabName),Se.throttle(Rn)},onChange:(Rn,An)=>{An.name===lt&&Se.throttle(Rn)}};X.windowManager.open($n).focus(lt)},qo=(X,be)=>{X.addCommand("mceShowCharmap",()=>{F(X,be)})},Qn=(X,be)=>{X.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(ve,ae)=>new Promise((Me,Fe)=>{Me(De(be,ve))}),onAction:(ve,ae,Me)=>{X.selection.setRng(ae),X.insertContent(Me),ve.hide()}})},ft=X=>be=>{const ve=()=>{be.setEnabled(X.selection.isEditable())};return X.on("NodeChange",ve),ve(),()=>{X.off("NodeChange",ve)}},mt=X=>{const be=()=>X.execCommand("mceShowCharmap");X.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:be,onSetup:ft(X)}),X.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:be,onSetup:ft(X)})};var on=()=>{es.add("charmap",X=>{Zt(X);const be=Bn(X);return qo(X,be),mt(X),Qn(X,be[0]),Yt(X)})};on()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager"),Do=tinymce.util.Tools.resolve("tinymce.Env"),So=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ln=jt=>It=>It.options.get(jt),uo=Ln("content_style"),ho=Ln("content_css_cors"),Fn=Ln("body_class"),nt=Ln("body_id"),pn=jt=>{var It;let tn="";const ot=jt.dom.encode,Ot=(It=uo(jt))!==null&&It!==void 0?It:"";tn+='<base href="'+ot(jt.documentBaseURI.getURI())+'">';const xt=ho(jt)?' crossorigin="anonymous"':"";So.each(jt.contentCSS,Zt=>{tn+='<link type="text/css" rel="stylesheet" href="'+ot(jt.documentBaseURI.toAbsolute(Zt))+'"'+xt+">"}),Ot&&(tn+='<style type="text/css">'+Ot+"</style>");const j=nt(jt),dt=Fn(jt),gt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Do.os.isMacOS()||Do.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",U=jt.getBody().dir,at=U?' dir="'+ot(U)+'"':"";return"<!DOCTYPE html><html><head>"+tn+'</head><body id="'+ot(j)+'" class="mce-content-body '+ot(dt)+'"'+at+">"+jt.getContent()+gt+"</body></html>"},vn=jt=>{const It=pn(jt);jt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:It}}).focus("close")},En=jt=>{jt.addCommand("mcePreview",()=>{vn(jt)})},_o=jt=>{const It=()=>jt.execCommand("mcePreview");jt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:It}),jt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:It})};var cn=()=>{es.add("preview",jt=>{En(jt),_o(jt)})};cn()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager"),Do=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),So=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ln=Ce=>Oe=>Oe.options.get(Ce),uo=Ce=>{const Oe=Ce.options.register;Oe("allow_html_in_named_anchor",{processor:"boolean",default:!1})},ho=Ln("allow_html_in_named_anchor"),Fn="a:not([href])",nt=Ce=>!Ce,pn=Ce=>Ce.getAttribute("id")||Ce.getAttribute("name")||"",vn=Ce=>Ce.nodeName.toLowerCase()==="a",En=Ce=>vn(Ce)&&!Ce.getAttribute("href")&&pn(Ce)!=="",_o=Ce=>En(Ce)&&!Ce.firstChild,cn=Ce=>{const Oe=Ce.dom;Do(Oe).walk(Ce.selection.getRng(),T=>{So.each(T,un=>{_o(un)&&Oe.remove(un,!1)})})},jt=Ce=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ce),It=Ce=>Ce.dom.getParent(Ce.selection.getStart(),Fn),tn=Ce=>{const Oe=It(Ce);return Oe?pn(Oe):""},ot=(Ce,Oe)=>{Ce.undoManager.transact(()=>{ho(Ce)||Ce.selection.collapse(!0),Ce.selection.isCollapsed()?Ce.insertContent(Ce.dom.createHTML("a",{id:Oe})):(cn(Ce),Ce.formatter.remove("namedAnchor",void 0,void 0,!0),Ce.formatter.apply("namedAnchor",{value:Oe}),Ce.addVisual())})},Ot=(Ce,Oe,T)=>{T.removeAttribute("name"),T.id=Oe,Ce.addVisual(),Ce.undoManager.add()},xt=(Ce,Oe)=>{const T=It(Ce);T?Ot(Ce,Oe,T):ot(Ce,Oe),Ce.focus()},j=(Ce,Oe)=>jt(Oe)?(xt(Ce,Oe),!0):(Ce.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),dt=Ce=>{const Oe=tn(Ce);Ce.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Oe},onSubmit:T=>{j(Ce,T.getData().id)&&T.close()}})},Mo=Ce=>{Ce.addCommand("mceAnchor",()=>{dt(Ce)})},gt=Ce=>nt(Ce.attr("href"))&&!nt(Ce.attr("id")||Ce.attr("name")),U=Ce=>gt(Ce)&&!Ce.firstChild,at=Ce=>Oe=>{for(let T=0;T<Oe.length;T++){const un=Oe[T];U(un)&&un.attr("contenteditable",Ce)}},bn=Ce=>{Ce.on("PreInit",()=>{Ce.parser.addNodeFilter("a",at("false")),Ce.serializer.addNodeFilter("a",at(null))})},Zt=Ce=>{Ce.formatter.register("namedAnchor",{inline:"a",selector:Fn,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Oe,T,un)=>En(Oe)})},Pe=Ce=>Oe=>{const T=()=>{Oe.setEnabled(Ce.selection.isEditable())};return Ce.on("NodeChange",T),T(),()=>{Ce.off("NodeChange",T)}},ie=Ce=>{const Oe=()=>Ce.execCommand("mceAnchor");Ce.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Oe,onSetup:T=>{const un=Ce.selection.selectorChangedWithUnbind("a:not([href])",T.setActive).unbind,st=Pe(Ce)(T);return()=>{un(),st()}}}),Ce.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Oe,onSetup:Pe(Ce)})};var Ro=()=>{es.add("anchor",Ce=>{uo(Ce),bn(Ce),Mo(Ce),ie(Ce),Ce.on("PreInit",()=>{Zt(Ce)})})};Ro()})();(function(){const es=fe=>{let ge=fe;return{get:()=>ge,set:Xt=>{ge=Xt}}};var Do=tinymce.util.Tools.resolve("tinymce.PluginManager");const So=(fe,ge,yt)=>{var _t;return yt(fe,ge.prototype)?!0:((_t=fe.constructor)===null||_t===void 0?void 0:_t.name)===ge.name},Ln=fe=>{const ge=typeof fe;return fe===null?"null":ge==="object"&&Array.isArray(fe)?"array":ge==="object"&&So(fe,String,(yt,_t)=>_t.isPrototypeOf(yt))?"string":ge},uo=fe=>ge=>Ln(ge)===fe,ho=fe=>ge=>typeof ge===fe,Fn=uo("string"),nt=uo("array"),pn=ho("boolean"),vn=fe=>fe==null,En=fe=>!vn(fe),_o=ho("number"),cn=()=>{},jt=fe=>()=>fe,It=jt(!0),ot=jt("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class Ot{constructor(ge,yt){this.tag=ge,this.value=yt}static some(ge){return new Ot(!0,ge)}static none(){return Ot.singletonNone}fold(ge,yt){return this.tag?yt(this.value):ge()}isSome(){return this.tag}isNone(){return!this.tag}map(ge){return this.tag?Ot.some(ge(this.value)):Ot.none()}bind(ge){return this.tag?ge(this.value):Ot.none()}exists(ge){return this.tag&&ge(this.value)}forall(ge){return!this.tag||ge(this.value)}filter(ge){return!this.tag||ge(this.value)?this:Ot.none()}getOr(ge){return this.tag?this.value:ge}or(ge){return this.tag?this:ge}getOrThunk(ge){return this.tag?this.value:ge()}orThunk(ge){return this.tag?this:ge()}getOrDie(ge){if(this.tag)return this.value;throw new Error(ge??"Called getOrDie on None")}static from(ge){return En(ge)?Ot.some(ge):Ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ge){this.tag&&ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ot.singletonNone=new Ot(!1);const xt=ot;var j=tinymce.util.Tools.resolve("tinymce.Env"),dt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Mo=Array.prototype.slice,gt=Array.prototype.push,U=(fe,ge)=>{const yt=fe.length,_t=new Array(yt);for(let Xt=0;Xt<yt;Xt++){const xn=fe[Xt];_t[Xt]=ge(xn,Xt)}return _t},at=(fe,ge)=>{for(let yt=0,_t=fe.length;yt<_t;yt++){const Xt=fe[yt];ge(Xt,yt)}},bn=(fe,ge)=>{for(let yt=fe.length-1;yt>=0;yt--){const _t=fe[yt];ge(_t,yt)}},Zt=(fe,ge)=>{if(fe.length===0)return[];{let yt=ge(fe[0]);const _t=[];let Xt=[];for(let xn=0,_n=fe.length;xn<_n;xn++){const wn=fe[xn],On=ge(wn);On!==yt&&(_t.push(Xt),Xt=[]),yt=On,Xt.push(wn)}return Xt.length!==0&&_t.push(Xt),_t}},Pe=(fe,ge,yt)=>(at(fe,(_t,Xt)=>{yt=ge(yt,_t,Xt)}),yt),ie=fe=>{const ge=[];for(let yt=0,_t=fe.length;yt<_t;++yt){if(!nt(fe[yt]))throw new Error("Arr.flatten item "+yt+" was not an array, input: "+fe);gt.apply(ge,fe[yt])}return ge},Ro=(fe,ge)=>ie(U(fe,ge)),Ce=(fe,ge)=>{const yt=Mo.call(fe,0);return yt.sort(ge),yt},Oe=Object.hasOwnProperty,T=(fe,ge)=>Oe.call(fe,ge);typeof window<"u"||Function("return this;")();const un=9,st=11,Bn=1,Yt=3,Xe=fe=>fe.dom.nodeType,Zo=(fe=>ge=>Xe(ge)===fe)(Yt),wt=(fe,ge,yt)=>{if(Fn(yt)||pn(yt)||_o(yt))fe.setAttribute(ge,yt+"");else throw console.error("Invalid call to Attribute.set. Key ",ge,":: Value ",yt,":: Element ",fe),new Error("Attribute value was not simple")},fn=(fe,ge,yt)=>{wt(fe.dom,ge,yt)},De=(fe,ge)=>{const _t=(ge||document).createElement("div");if(_t.innerHTML=fe,!_t.hasChildNodes()||_t.childNodes.length>1){const Xt="HTML does not have a single root node";throw console.error(Xt,fe),new Error(Xt)}return qo(_t.childNodes[0])},lt=(fe,ge)=>{const _t=(ge||document).createElement(fe);return qo(_t)},F=(fe,ge)=>{const _t=(ge||document).createTextNode(fe);return qo(_t)},qo=fe=>{if(fe==null)throw new Error("Node cannot be null or undefined");return{dom:fe}},ft={fromHtml:De,fromTag:lt,fromText:F,fromDom:qo,fromPoint:(fe,ge,yt)=>Ot.from(fe.dom.elementFromPoint(ge,yt)).map(qo)},mt=fe=>fe.nodeType!==Bn&&fe.nodeType!==un&&fe.nodeType!==st||fe.childElementCount===0,on=(fe,ge)=>{const yt=ge===void 0?document:ge.dom;return mt(yt)?[]:U(yt.querySelectorAll(fe),ft.fromDom)},X=fe=>Ot.from(fe.dom.parentNode).map(ft.fromDom),be=fe=>U(fe.dom.childNodes,ft.fromDom),ve=(fe,ge)=>({element:fe,offset:ge}),ae=(fe,ge)=>{const yt=be(fe);return yt.length>0&&ge<yt.length?ve(yt[ge],0):ve(fe,ge)},Me=(fe,ge)=>{X(fe).each(_t=>{_t.dom.insertBefore(ge.dom,fe.dom)})},Fe=(fe,ge)=>{fe.dom.appendChild(ge.dom)},qe=(fe,ge)=>{Me(fe,ge),Fe(ge,fe)},Q=((fe,ge)=>{const yt=xn=>{if(!fe(xn))throw new Error("Can only get "+ge+" value of a "+ge+" node");return _t(xn).getOr("")},_t=xn=>fe(xn)?Ot.from(xn.dom.nodeValue):Ot.none();return{get:yt,getOption:_t,set:(xn,_n)=>{if(!fe(xn))throw new Error("Can only set raw "+ge+" value of a "+ge+" node");xn.dom.nodeValue=_n}}})(Zo,"text"),Se=fe=>Q.get(fe),Ie=(fe,ge,yt)=>(fe.compareDocumentPosition(ge)&yt)!==0,zt=(fe,ge)=>Ie(fe,ge,Node.DOCUMENT_POSITION_PRECEDING),$n=(fe,ge)=>on(ge,fe);var Dn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Rn=(fe,ge)=>fe.isBlock(ge)||T(fe.schema.getVoidElements(),ge.nodeName),An=(fe,ge)=>fe.getContentEditable(ge)==="false",Po=(fe,ge)=>fe.getContentEditable(ge)==="true"&&ge.parentNode&&fe.getContentEditableParent(ge.parentNode)==="false",qn=(fe,ge)=>!fe.isBlock(ge)&&T(fe.schema.getWhitespaceElements(),ge.nodeName),Gn=(fe,ge)=>Rn(fe,ge)||An(fe,ge)||qn(fe,ge)||Po(fe,ge),to=fe=>fe.nodeType===3,mn=()=>({sOffset:0,fOffset:0,elements:[]}),bo=(fe,ge)=>ae(ft.fromDom(fe),ge),as=(fe,ge,yt,_t,Xt,xn=!0)=>{let _n=xn?ge(!1):yt;for(;_n;){const wn=An(fe,_n);if(wn||qn(fe,_n)){if(wn?_t.cef(_n):_t.boundary(_n))break;_n=ge(!0);continue}else if(Rn(fe,_n)){if(_t.boundary(_n))break}else to(_n)&&_t.text(_n);if(_n===Xt)break;_n=ge(!1)}},Rs=(fe,ge,yt,_t,Xt)=>{var xn;if(Gn(fe,yt))return;const _n=(xn=fe.getParent(_t,fe.isBlock))!==null&&xn!==void 0?xn:fe.getRoot(),wn=new Dn(yt,_n),On=Xt?wn.next.bind(wn):wn.prev.bind(wn);as(fe,On,yt,{boundary:It,cef:It,text:no=>{Xt?ge.fOffset+=no.length:ge.sOffset+=no.length,ge.elements.push(ft.fromDom(no))}})},Ts=(fe,ge,yt,_t,Xt,xn=!0)=>{const _n=new Dn(yt,ge),wn=[];let On=mn();Rs(fe,On,yt,ge,!1);const no=()=>(On.elements.length>0&&(wn.push(On),On=mn()),!1);return as(fe,_n.next.bind(_n),yt,{boundary:no,cef:ds=>(no(),Xt&&wn.push(...Xt.cef(ds)),!1),text:ds=>{On.elements.push(ft.fromDom(ds)),Xt&&Xt.text(ds,On)}},_t,xn),_t&&Rs(fe,On,_t,ge,!0),no(),wn},Yo=(fe,ge)=>{const yt=bo(ge.startContainer,ge.startOffset),_t=yt.element.dom,Xt=bo(ge.endContainer,ge.endOffset),xn=Xt.element.dom;return Ts(fe,ge.commonAncestorContainer,_t,xn,{text:(_n,wn)=>{_n===xn?wn.fOffset+=_n.length-Xt.offset:_n===_t&&(wn.sOffset+=yt.offset)},cef:_n=>{const wn=Ro($n(ft.fromDom(_n),"*[contenteditable=true]"),On=>{const no=On.dom;return Ts(fe,no,no)});return Ce(wn,(On,no)=>zt(On.elements[0].dom,no.elements[0].dom)?1:-1)}},!1)},oa=(fe,ge)=>ge.collapsed?[]:Yo(fe,ge),Tt=(fe,ge)=>{const yt=fe.createRng();return yt.selectNode(ge),oa(fe,yt)},Lo=(fe,ge)=>Ro(ge,yt=>Tt(fe,yt)),kr=(fe,ge,yt=0,_t=fe.length)=>{const Xt=ge.regex;Xt.lastIndex=yt;const xn=[];let _n;for(;_n=Xt.exec(fe);){const wn=_n[ge.matchIndex],On=_n.index+_n[0].indexOf(wn),no=On+wn.length;if(no>_t)break;xn.push({start:On,finish:no}),Xt.lastIndex=no}return xn},Vr=(fe,ge)=>{const yt=Pe(fe,(_t,Xt)=>{const xn=Se(Xt),_n=_t.last,wn=_n+xn.length,On=Ro(ge,(no,ds)=>no.start<wn&&no.finish>_n?[{element:Xt,start:Math.max(_n,no.start)-_n,finish:Math.min(wn,no.finish)-_n,matchId:ds}]:[]);return{results:_t.results.concat(On),last:wn}},{results:[],last:0}).results;return Zt(yt,_t=>_t.matchId)},qr=(fe,ge)=>Ro(ge,yt=>{const _t=yt.elements,Xt=U(_t,Se).join(""),xn=kr(Xt,fe,yt.sOffset,Xt.length-yt.fOffset);return Vr(_t,xn)}),Xr=(fe,ge)=>{bn(fe,(yt,_t)=>{bn(yt,Xt=>{const xn=ft.fromDom(ge.cloneNode(!1));fn(xn,"data-mce-index",_t);const _n=Xt.element.dom;if(_n.length===Xt.finish&&Xt.start===0)qe(Xt.element,xn);else{_n.length!==Xt.finish&&_n.splitText(Xt.finish);const wn=_n.splitText(Xt.start);qe(ft.fromDom(wn),xn)}})})},_s=(fe,ge,yt,_t)=>{const Xt=Tt(fe,yt),xn=qr(ge,Xt);return Xr(xn,_t),xn.length},ia=(fe,ge,yt,_t)=>{const Xt=yt.getBookmark(),xn=fe.select("td[data-mce-selected],th[data-mce-selected]"),_n=xn.length>0?Lo(fe,xn):oa(fe,yt.getRng()),wn=qr(ge,_n);return Xr(wn,_t),yt.moveToBookmark(Xt),wn.length},Ur=fe=>fe.getAttribute("data-mce-index"),Cs=(fe,ge,yt,_t)=>{const Xt=fe.dom.create("span",{"data-mce-bogus":1});Xt.className="mce-match-marker";const xn=fe.getBody();return cr(fe,ge,!1),_t?ia(fe.dom,yt,fe.selection,Xt):_s(fe.dom,yt,xn,Xt)},Kn=fe=>{var ge;const yt=fe.parentNode;fe.firstChild&&yt.insertBefore(fe.firstChild,fe),(ge=fe.parentNode)===null||ge===void 0||ge.removeChild(fe)},ar=(fe,ge)=>{const yt=[],_t=dt.toArray(fe.getBody().getElementsByTagName("span"));if(_t.length)for(let Xt=0;Xt<_t.length;Xt++){const xn=Ur(_t[Xt]);xn===null||!xn.length||xn===ge.toString()&&yt.push(_t[Xt])}return yt},Ee=(fe,ge,yt)=>{const _t=ge.get();let Xt=_t.index;const xn=fe.dom;yt?Xt+1===_t.count?Xt=0:Xt++:Xt-1===-1?Xt=_t.count-1:Xt--,xn.removeClass(ar(fe,_t.index),"mce-match-marker-selected");const _n=ar(fe,Xt);return _n.length?(xn.addClass(ar(fe,Xt),"mce-match-marker-selected"),fe.selection.scrollIntoView(_n[0]),Xt):-1},Ge=(fe,ge)=>{const yt=ge.parentNode;fe.remove(ge),yt&&fe.isEmpty(yt)&&fe.remove(yt)},Wt=(fe,ge)=>{const _t="("+fe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return ge?`(?:^|\\s|${xt()})`+_t+`(?=$|\\s|${xt()})`:_t},kn=(fe,ge,yt,_t,Xt,xn)=>{const _n=fe.selection,wn=Wt(yt,Xt),On=_n.isForward(),no={regex:new RegExp(wn,_t?"g":"gi"),matchIndex:1},ds=Cs(fe,ge,no,xn);if(j.browser.isSafari()&&_n.setRng(_n.getRng(),On),ds){const Hs=Ee(fe,ge,!0);ge.set({index:Hs,count:ds,text:yt,matchCase:_t,wholeWord:Xt,inSelection:xn})}return ds},Eo=(fe,ge)=>{const yt=Ee(fe,ge,!0);ge.set({...ge.get(),index:yt})},Xo=(fe,ge)=>{const yt=Ee(fe,ge,!1);ge.set({...ge.get(),index:yt})},wr=fe=>{const ge=Ur(fe);return ge!==null&&ge.length>0},Gs=(fe,ge,yt,_t,Xt)=>{const xn=ge.get(),_n=xn.index;let wn,On=_n;_t=_t!==!1;const no=fe.getBody(),ds=dt.grep(dt.toArray(no.getElementsByTagName("span")),wr);for(let Hs=0;Hs<ds.length;Hs++){const va=Ur(ds[Hs]);let Gr=wn=parseInt(va,10);if(Xt||Gr===xn.index){for(yt.length?(ds[Hs].innerText=yt,Kn(ds[Hs])):Ge(fe.dom,ds[Hs]);ds[++Hs];)if(Gr=parseInt(Ur(ds[Hs]),10),Gr===wn)Ge(fe.dom,ds[Hs]);else{Hs--;break}_t&&On--}else wn>_n&&ds[Hs].setAttribute("data-mce-index",String(wn-1))}return ge.set({...xn,count:Xt?0:xn.count-1,index:On}),_t?Eo(fe,ge):Xo(fe,ge),!Xt&&ge.get().count>0},cr=(fe,ge,yt)=>{let _t,Xt;const xn=ge.get(),_n=dt.toArray(fe.getBody().getElementsByTagName("span"));for(let wn=0;wn<_n.length;wn++){const On=Ur(_n[wn]);On!==null&&On.length&&(On===xn.index.toString()&&(_t||(_t=_n[wn].firstChild),Xt=_n[wn].firstChild),Kn(_n[wn]))}if(ge.set({...xn,index:-1,count:0,text:""}),_t&&Xt){const wn=fe.dom.createRng();return wn.setStart(_t,0),wn.setEnd(Xt,Xt.data.length),yt!==!1&&fe.selection.setRng(wn),wn}else return},de=(fe,ge)=>ge.get().count>1,re=(fe,ge)=>ge.get().count>1,We=(fe,ge)=>({done:wn=>cr(fe,ge,wn),find:(wn,On,no,ds=!1)=>kn(fe,ge,wn,On,no,ds),next:()=>Eo(fe,ge),prev:()=>Xo(fe,ge),replace:(wn,On,no)=>Gs(fe,ge,wn,On,no)}),Ye=fe=>{const ge=es(Ot.none()),yt=()=>ge.get().each(fe);return{clear:()=>{yt(),ge.set(Ot.none())},isSet:()=>ge.get().isSome(),get:()=>ge.get(),set:wn=>{yt(),ge.set(Ot.some(wn))}}},Sn=()=>{const fe=Ye(cn);return{...fe,on:yt=>fe.get().each(yt)}},Yn=(fe,ge)=>{const yt=Sn();fe.undoManager.add();const _t=dt.trim(fe.selection.getContent({format:"text"})),Xt=yo=>{yo.setEnabled("next",de(fe,ge)),yo.setEnabled("prev",re(fe,ge))},xn=yo=>{const os=yo.getData(),Us=ge.get();ge.set({...Us,matchCase:os.matchcase,wholeWord:os.wholewords,inSelection:os.inselection})},_n=(yo,os)=>{at(["replace","replaceall","prev","next"],la=>yo.setEnabled(la,!os))},wn=(yo,os)=>{os.redial(oc(yo,os.getData()))},On=(yo,os)=>{j.browser.isSafari()&&j.deviceType.isTouch()&&(os==="find"||os==="replace"||os==="replaceall")&&yo.focus(os)},no=yo=>{cr(fe,ge,!1),_n(yo,!0),Xt(yo)},ds=yo=>{const os=yo.getData(),Us=ge.get();if(!os.findtext.length){no(yo);return}if(Us.text===os.findtext&&Us.matchCase===os.matchcase&&Us.wholeWord===os.wholewords)Eo(fe,ge);else{const ka=kn(fe,ge,os.findtext,os.matchcase,os.wholewords,os.inselection);ka<=0&&wn(!0,yo),_n(yo,ka===0)}Xt(yo)},Hs=ge.get(),va={findtext:_t,replacetext:"",wholewords:Hs.wholeWord,matchcase:Hs.matchCase,inselection:Hs.inSelection},Gr=yo=>{const os=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return yo&&os.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),os},oc=(yo,os)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Gr(yo)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:os,onChange:(Us,ka)=>{yo&&wn(!1,Us),ka.name==="findtext"&&ge.get().count>0&&no(Us)},onAction:(Us,ka)=>{const la=Us.getData();switch(ka.name){case"find":ds(Us);break;case"replace":Gs(fe,ge,la.replacetext)?Xt(Us):no(Us);break;case"replaceall":Gs(fe,ge,la.replacetext,!0,!0),no(Us);break;case"prev":Xo(fe,ge),Xt(Us);break;case"next":Eo(fe,ge),Xt(Us);break;case"matchcase":case"wholewords":case"inselection":wn(!1,Us),xn(Us),no(Us);break}On(Us,ka.name)},onSubmit:Us=>{ds(Us),On(Us,"find")},onClose:()=>{fe.focus(),cr(fe,ge),fe.undoManager.add()}});yt.set(fe.windowManager.open(oc(!1,va),{inline:"toolbar"}))},xo=(fe,ge)=>{fe.addCommand("SearchReplace",()=>{Yn(fe,ge)})},Ks=(fe,ge)=>()=>{Yn(fe,ge)},ke=(fe,ge)=>{fe.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Ks(fe,ge),icon:"search"}),fe.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Ks(fe,ge),icon:"search"}),fe.shortcuts.add("Meta+F","",Ks(fe,ge))};var mo=()=>{Do.add("searchreplace",fe=>{const ge=es({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return xo(fe,ge),ke(fe,ge),We(fe,ge)})};mo()})();(function(){const es=cn=>{let jt=cn;return{get:()=>jt,set:ot=>{jt=ot}}};var Do=tinymce.util.Tools.resolve("tinymce.PluginManager");const So=(cn,jt)=>{cn.dispatch("VisualBlocks",{state:jt})},Ln=(cn,jt,It)=>{cn.dom.toggleClass(cn.getBody(),"mce-visualblocks"),It.set(!It.get()),So(cn,It.get())},uo=(cn,jt,It)=>{cn.addCommand("mceVisualBlocks",()=>{Ln(cn,jt,It)})},ho=cn=>jt=>jt.options.get(cn),Fn=cn=>{const jt=cn.options.register;jt("visualblocks_default_state",{processor:"boolean",default:!1})},nt=ho("visualblocks_default_state"),pn=(cn,jt,It)=>{cn.on("PreviewFormats AfterPreviewFormats",tn=>{It.get()&&cn.dom.toggleClass(cn.getBody(),"mce-visualblocks",tn.type==="afterpreviewformats")}),cn.on("init",()=>{nt(cn)&&Ln(cn,jt,It)})},vn=(cn,jt)=>It=>{It.setActive(jt.get());const tn=ot=>It.setActive(ot.state);return cn.on("VisualBlocks",tn),()=>cn.off("VisualBlocks",tn)},En=(cn,jt)=>{const It=()=>cn.execCommand("mceVisualBlocks");cn.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:It,onSetup:vn(cn,jt)}),cn.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:It,onSetup:vn(cn,jt)})};var _o=()=>{Do.add("visualblocks",(cn,jt)=>{Fn(cn);const It=es(!1);uo(cn,jt,It),En(cn,It),pn(cn,jt,It)})};_o()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(nt,pn)=>{nt.focus(),nt.undoManager.transact(()=>{nt.setContent(pn)}),nt.selection.setCursorLocation(),nt.nodeChanged()},So=nt=>nt.getContent({source_view:!0}),Ln=nt=>{const pn=So(nt);nt.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:pn},onSubmit:vn=>{Do(nt,vn.getData().code),vn.close()}})},uo=nt=>{nt.addCommand("mceCodeEditor",()=>{Ln(nt)})},ho=nt=>{const pn=()=>nt.execCommand("mceCodeEditor");nt.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:pn}),nt.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:pn})};var Fn=()=>{es.add("code",nt=>(uo(nt),ho(nt),{}))};Fn()})();(function(){const es=q=>{let ue=q;return{get:()=>ue,set:ln=>{ue=ln}}};var Do=tinymce.util.Tools.resolve("tinymce.PluginManager");const So=q=>({isFullscreen:()=>q.get()!==null}),Ln=(q,ue,Be)=>{var ht;return Be(q,ue.prototype)?!0:((ht=q.constructor)===null||ht===void 0?void 0:ht.name)===ue.name},uo=q=>{const ue=typeof q;return q===null?"null":ue==="object"&&Array.isArray(q)?"array":ue==="object"&&Ln(q,String,(Be,ht)=>ht.isPrototypeOf(Be))?"string":ue},ho=q=>ue=>uo(ue)===q,Fn=q=>ue=>typeof ue===q,nt=q=>ue=>q===ue,pn=ho("string"),vn=ho("array"),En=nt(null),_o=Fn("boolean"),cn=nt(void 0),jt=q=>q==null,It=q=>!jt(q),tn=Fn("function"),ot=Fn("number"),Ot=()=>{},xt=(q,ue)=>(...Be)=>q(ue.apply(null,Be)),j=(q,ue)=>Be=>q(ue(Be)),dt=q=>()=>q;function Mo(q,...ue){return(...Be)=>{const ht=ue.concat(Be);return q.apply(null,ht)}}const gt=dt(!1),U=dt(!0);class at{constructor(ue,Be){this.tag=ue,this.value=Be}static some(ue){return new at(!0,ue)}static none(){return at.singletonNone}fold(ue,Be){return this.tag?Be(this.value):ue()}isSome(){return this.tag}isNone(){return!this.tag}map(ue){return this.tag?at.some(ue(this.value)):at.none()}bind(ue){return this.tag?ue(this.value):at.none()}exists(ue){return this.tag&&ue(this.value)}forall(ue){return!this.tag||ue(this.value)}filter(ue){return!this.tag||ue(this.value)?this:at.none()}getOr(ue){return this.tag?this.value:ue}or(ue){return this.tag?this:ue}getOrThunk(ue){return this.tag?this.value:ue()}orThunk(ue){return this.tag?this:ue()}getOrDie(ue){if(this.tag)return this.value;throw new Error(ue??"Called getOrDie on None")}static from(ue){return It(ue)?at.some(ue):at.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ue){this.tag&&ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}at.singletonNone=new at(!1);const bn=q=>{const ue=es(at.none()),Be=()=>ue.get().each(q);return{clear:()=>{Be(),ue.set(at.none())},isSet:()=>ue.get().isSome(),get:()=>ue.get(),set:wa=>{Be(),ue.set(at.some(wa))}}},Zt=()=>bn(q=>q.unbind()),Pe=()=>{const q=bn(Ot);return{...q,on:Be=>q.get().each(Be)}},ie=(q,ue)=>{let Be=null;return{cancel:()=>{En(Be)||(clearTimeout(Be),Be=null)},throttle:(...Jo)=>{En(Be)&&(Be=setTimeout(()=>{Be=null,q.apply(null,Jo)},ue))}}},Ro=Array.prototype.push,Ce=(q,ue)=>{const Be=q.length,ht=new Array(Be);for(let ln=0;ln<Be;ln++){const Jo=q[ln];ht[ln]=ue(Jo,ln)}return ht},Oe=(q,ue)=>{for(let Be=0,ht=q.length;Be<ht;Be++){const ln=q[Be];ue(ln,Be)}},T=(q,ue)=>{const Be=[];for(let ht=0,ln=q.length;ht<ln;ht++){const Jo=q[ht];ue(Jo,ht)&&Be.push(Jo)}return Be},un=(q,ue,Be)=>{for(let ht=0,ln=q.length;ht<ln;ht++){const Jo=q[ht];if(ue(Jo,ht))return at.some(Jo);if(Be(Jo,ht))break}return at.none()},st=(q,ue)=>un(q,ue,gt),Bn=q=>{const ue=[];for(let Be=0,ht=q.length;Be<ht;++Be){if(!vn(q[Be]))throw new Error("Arr.flatten item "+Be+" was not an array, input: "+q);Ro.apply(ue,q[Be])}return ue},Yt=(q,ue)=>Bn(Ce(q,ue)),Xe=(q,ue)=>ue>=0&&ue<q.length?at.some(q[ue]):at.none(),fo=q=>Xe(q,0),Zo=(q,ue)=>{for(let Be=0;Be<q.length;Be++){const ht=ue(q[Be],Be);if(ht.isSome())return ht}return at.none()},wt=Object.keys,fn=(q,ue)=>{const Be=wt(q);for(let ht=0,ln=Be.length;ht<ln;ht++){const Jo=Be[ht],Cr=q[Jo];ue(Cr,Jo)}},De=(q,ue,Be=0,ht)=>{const ln=q.indexOf(ue,Be);return ln!==-1?cn(ht)?!0:ln+ue.length<=ht:!1},lt=q=>q.style!==void 0&&tn(q.style.getPropertyValue),F=(q,ue)=>{const ht=(ue||document).createElement("div");if(ht.innerHTML=q,!ht.hasChildNodes()||ht.childNodes.length>1){const ln="HTML does not have a single root node";throw console.error(ln,q),new Error(ln)}return ft(ht.childNodes[0])},qo=(q,ue)=>{const ht=(ue||document).createElement(q);return ft(ht)},Qn=(q,ue)=>{const ht=(ue||document).createTextNode(q);return ft(ht)},ft=q=>{if(q==null)throw new Error("Node cannot be null or undefined");return{dom:q}},on={fromHtml:F,fromTag:qo,fromText:Qn,fromDom:ft,fromPoint:(q,ue,Be)=>at.from(q.dom.elementFromPoint(ue,Be)).map(ft)};typeof window<"u"||Function("return this;")();const X=9,be=11,ve=1,ae=3,Me=q=>q.dom.nodeType,Fe=q=>ue=>Me(ue)===q,qe=Fe(ve),Ue=Fe(ae),Q=Fe(X),Se=Fe(be),Ie=(q,ue)=>{const Be=q.dom;if(Be.nodeType!==ve)return!1;{const ht=Be;if(ht.matches!==void 0)return ht.matches(ue);if(ht.msMatchesSelector!==void 0)return ht.msMatchesSelector(ue);if(ht.webkitMatchesSelector!==void 0)return ht.webkitMatchesSelector(ue);if(ht.mozMatchesSelector!==void 0)return ht.mozMatchesSelector(ue);throw new Error("Browser lacks native selectors")}},zt=q=>q.nodeType!==ve&&q.nodeType!==X&&q.nodeType!==be||q.childElementCount===0,$n=(q,ue)=>{const Be=ue===void 0?document:ue.dom;return zt(Be)?[]:Ce(Be.querySelectorAll(q),on.fromDom)},Dn=(q,ue)=>q.dom===ue.dom,Rn=q=>on.fromDom(q.dom.ownerDocument),An=q=>Q(q)?q:Rn(q),Po=q=>at.from(q.dom.parentNode).map(on.fromDom),qn=(q,ue)=>{const Be=tn(ue)?ue:gt;let ht=q.dom;const ln=[];for(;ht.parentNode!==null&&ht.parentNode!==void 0;){const Jo=ht.parentNode,Cr=on.fromDom(Jo);if(ln.push(Cr),Be(Cr)===!0)break;ht=Jo}return ln},Gn=q=>{const ue=Be=>T(Be,ht=>!Dn(q,ht));return Po(q).map(to).map(ue).getOr([])},to=q=>Ce(q.dom.childNodes,on.fromDom),mn=q=>Se(q)&&It(q.dom.host),bo=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode),as=dt(bo),Rs=bo?q=>on.fromDom(q.dom.getRootNode()):An,Ts=q=>{const ue=Rs(q);return mn(ue)?at.some(ue):at.none()},Yo=q=>on.fromDom(q.dom.host),oa=q=>{if(as()&&It(q.target)){const ue=on.fromDom(q.target);if(qe(ue)&&Tt(ue)&&q.composed&&q.composedPath){const Be=q.composedPath();if(Be)return fo(Be)}}return at.from(q.target)},Tt=q=>It(q.dom.shadowRoot),Lo=q=>{const ue=Ue(q)?q.dom.parentNode:q.dom;if(ue==null||ue.ownerDocument===null)return!1;const Be=ue.ownerDocument;return Ts(on.fromDom(ue)).fold(()=>Be.body.contains(ue),j(Lo,Yo))},kr=q=>{const ue=q.dom.body;if(ue==null)throw new Error("Body is not available yet");return on.fromDom(ue)},Vr=(q,ue,Be)=>{if(pn(Be)||_o(Be)||ot(Be))q.setAttribute(ue,Be+"");else throw console.error("Invalid call to Attribute.set. Key ",ue,":: Value ",Be,":: Element ",q),new Error("Attribute value was not simple")},qr=(q,ue,Be)=>{Vr(q.dom,ue,Be)},Xr=(q,ue)=>{const Be=q.dom.getAttribute(ue);return Be===null?void 0:Be},_s=(q,ue)=>{q.dom.removeAttribute(ue)},ia=(q,ue,Be)=>{if(!pn(Be))throw console.error("Invalid call to CSS.set. Property ",ue,":: Value ",Be,":: Element ",q),new Error("CSS value must be a string: "+Be);lt(q)&&q.style.setProperty(ue,Be)},Ur=(q,ue)=>{const Be=q.dom;fn(ue,(ht,ln)=>{ia(Be,ln,ht)})},Cs=(q,ue)=>{const Be=q.dom,ln=window.getComputedStyle(Be).getPropertyValue(ue);return ln===""&&!Lo(q)?Kn(Be,ue):ln},Kn=(q,ue)=>lt(q)?q.style.getPropertyValue(ue):"",ar=(q,ue,Be,ht,ln,Jo,Cr)=>({target:q,x:ue,y:Be,stop:ht,prevent:ln,kill:Jo,raw:Cr}),Ee=q=>{const ue=on.fromDom(oa(q).getOr(q.target)),Be=()=>q.stopPropagation(),ht=()=>q.preventDefault(),ln=xt(ht,Be);return ar(ue,q.clientX,q.clientY,Be,ht,ln,q)},Ge=(q,ue)=>Be=>{q(Be)&&ue(Ee(Be))},Wt=(q,ue,Be,ht,ln)=>{const Jo=Ge(Be,ht);return q.dom.addEventListener(ue,Jo,ln),{unbind:Mo(Eo,q,ue,Jo,ln)}},kn=(q,ue,Be,ht)=>Wt(q,ue,Be,ht,!1),Eo=(q,ue,Be,ht)=>{q.dom.removeEventListener(ue,Be,ht)},Xo=U,wr=(q,ue,Be)=>kn(q,ue,Xo,Be),Gs=q=>{let ue=!1,Be;return(...ht)=>(ue||(ue=!0,Be=q.apply(null,ht)),Be)},cr=(q,ue,Be,ht)=>{const ln=q.isiOS()&&/ipad/i.test(Be)===!0,Jo=q.isiOS()&&!ln,Cr=q.isiOS()||q.isAndroid(),wa=Cr||ht("(pointer:coarse)"),ts=ln||!Jo&&Cr&&ht("(min-device-width:768px)"),Kr=Jo||Cr&&!ts,Br=ue.isSafari()&&q.isiOS()&&/safari/i.test(Be)===!1,ra=!Kr&&!ts&&!Br;return{isiPad:dt(ln),isiPhone:dt(Jo),isTablet:dt(ts),isPhone:dt(Kr),isTouch:dt(wa),isAndroid:q.isAndroid,isiOS:q.isiOS,isWebView:dt(Br),isDesktop:dt(ra)}},de=(q,ue)=>{for(let Be=0;Be<q.length;Be++){const ht=q[Be];if(ht.test(ue))return ht}},re=(q,ue)=>{const Be=de(q,ue);if(!Be)return{major:0,minor:0};const ht=ln=>Number(ue.replace(Be,"$"+ln));return Sn(ht(1),ht(2))},We=(q,ue)=>{const Be=String(ue).toLowerCase();return q.length===0?Ye():re(q,Be)},Ye=()=>Sn(0,0),Sn=(q,ue)=>({major:q,minor:ue}),Yn={nu:Sn,detect:We,unknown:Ye},xo=(q,ue)=>Zo(ue.brands,Be=>{const ht=Be.brand.toLowerCase();return st(q,ln=>{var Jo;return ht===((Jo=ln.brand)===null||Jo===void 0?void 0:Jo.toLowerCase())}).map(ln=>({current:ln.name,version:Yn.nu(parseInt(Be.version,10),0)}))}),Ks=(q,ue)=>{const Be=String(ue).toLowerCase();return st(q,ht=>ht.search(Be))},ke=(q,ue)=>Ks(q,ue).map(Be=>{const ht=Yn.detect(Be.versionRegexes,ue);return{current:Be.name,version:ht}}),mo=(q,ue)=>Ks(q,ue).map(Be=>{const ht=Yn.detect(Be.versionRegexes,ue);return{current:Be.name,version:ht}}),fe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ge=q=>ue=>De(ue,q),yt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:q=>De(q,"edge/")&&De(q,"chrome")&&De(q,"safari")&&De(q,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fe],search:q=>De(q,"chrome")&&!De(q,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:q=>De(q,"msie")||De(q,"trident")},{name:"Opera",versionRegexes:[fe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ge("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ge("firefox")},{name:"Safari",versionRegexes:[fe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:q=>(De(q,"safari")||De(q,"mobile/"))&&De(q,"applewebkit")}],_t=[{name:"Windows",search:ge("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:q=>De(q,"iphone")||De(q,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ge("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ge("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ge("linux"),versionRegexes:[]},{name:"Solaris",search:ge("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ge("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ge("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Xt={browsers:dt(yt),oses:dt(_t)},xn="Edge",_n="Chromium",wn="IE",On="Opera",no="Firefox",ds="Safari",Hs=()=>va({current:void 0,version:Yn.unknown()}),va=q=>{const ue=q.current,Be=q.version,ht=ln=>()=>ue===ln;return{current:ue,version:Be,isEdge:ht(xn),isChromium:ht(_n),isIE:ht(wn),isOpera:ht(On),isFirefox:ht(no),isSafari:ht(ds)}},Gr={unknown:Hs,nu:va,edge:dt(xn),chromium:dt(_n),ie:dt(wn),opera:dt(On),firefox:dt(no),safari:dt(ds)},oc="Windows",yo="iOS",os="Android",Us="Linux",ka="macOS",la="Solaris",Jr="FreeBSD",js="ChromeOS",du=()=>mi({current:void 0,version:Yn.unknown()}),mi=q=>{const ue=q.current,Be=q.version,ht=ln=>()=>ue===ln;return{current:ue,version:Be,isWindows:ht(oc),isiOS:ht(yo),isAndroid:ht(os),isMacOS:ht(ka),isLinux:ht(Us),isSolaris:ht(la),isFreeBSD:ht(Jr),isChromeOS:ht(js)}},fs={unknown:du,nu:mi,windows:dt(oc),ios:dt(yo),android:dt(os),linux:dt(Us),macos:dt(ka),solaris:dt(la),freebsd:dt(Jr),chromeos:dt(js)},za={detect:(q,ue,Be)=>{const ht=Xt.browsers(),ln=Xt.oses(),Jo=ue.bind(ts=>xo(ht,ts)).orThunk(()=>ke(ht,q)).fold(Gr.unknown,Gr.nu),Cr=mo(ln,q).fold(fs.unknown,fs.nu),wa=cr(Cr,Jo,q,Be);return{browser:Jo,os:Cr,deviceType:wa}}},Mr=q=>window.matchMedia(q).matches;let Ki=Gs(()=>za.detect(navigator.userAgent,at.from(navigator.userAgentData),Mr));const sc=()=>Ki(),Da=(q,ue)=>({left:q,top:ue,translate:(ht,ln)=>Da(q+ht,ue+ln)}),Sc=Da,xc=q=>{const ue=q!==void 0?q.dom:document,Be=ue.body.scrollLeft||ue.documentElement.scrollLeft,ht=ue.body.scrollTop||ue.documentElement.scrollTop;return Sc(Be,ht)},Ic=q=>{const ue=q===void 0?window:q;return sc().browser.isFirefox()?at.none():at.from(ue.visualViewport)},Ni=(q,ue,Be,ht)=>({x:q,y:ue,width:Be,height:ht,right:q+Be,bottom:ue+ht}),Yi=q=>{const ue=q===void 0?window:q,Be=ue.document,ht=xc(on.fromDom(Be));return Ic(ue).fold(()=>{const ln=ue.document.documentElement,Jo=ln.clientWidth,Cr=ln.clientHeight;return Ni(ht.left,ht.top,Jo,Cr)},ln=>Ni(Math.max(ln.pageLeft,ht.left),Math.max(ln.pageTop,ht.top),ln.width,ln.height))},qa=(q,ue,Be)=>Ic(Be).map(ht=>{const ln=Jo=>ue(Ee(Jo));return ht.addEventListener(q,ln),{unbind:()=>ht.removeEventListener(q,ln)}}).getOrThunk(()=>({unbind:Ot}));var Kc=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),gi=tinymce.util.Tools.resolve("tinymce.Env");const Xi=(q,ue)=>{q.dispatch("FullscreenStateChanged",{state:ue}),q.dispatch("ResizeEditor")},pi=q=>ue=>ue.options.get(q),Z=q=>{const ue=q.options.register;ue("fullscreen_native",{processor:"boolean",default:!1})},pe=pi("fullscreen_native"),Ae=q=>{const ue=on.fromDom(q.getElement());return Ts(ue).map(Yo).getOrThunk(()=>kr(Rn(ue)))},Le=q=>q.fullscreenElement!==void 0?q.fullscreenElement:q.msFullscreenElement!==void 0?q.msFullscreenElement:q.webkitFullscreenElement!==void 0?q.webkitFullscreenElement:null,Rt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",eo=q=>{const ue=q.dom;ue.requestFullscreen?ue.requestFullscreen():ue.msRequestFullscreen?ue.msRequestFullscreen():ue.webkitRequestFullScreen&&ue.webkitRequestFullScreen()},ps=q=>{const ue=q.dom;ue.exitFullscreen?ue.exitFullscreen():ue.msExitFullscreen?ue.msExitFullscreen():ue.webkitCancelFullScreen&&ue.webkitCancelFullScreen()},Ys=q=>q.dom===Le(Rn(q).dom),$s=(q,ue,Be)=>T(qn(q,Be),ue),hr=(q,ue)=>T(Gn(q),ue),cs=q=>$n(q),_r=(q,ue,Be)=>$s(q,ht=>Ie(ht,ue),Be),Yc=(q,ue)=>hr(q,Be=>Ie(Be,ue)),hi="data-ephox-mobile-fullscreen-style",nn="display:none!important;",fu="position:absolute!important;",br="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",B="background-color:rgb(255,255,255)!important;",Y=gi.os.isAndroid(),se=q=>{const ue=Cs(q,"background-color");return ue!==void 0&&ue!==""?"background-color:"+ue+"!important":B},Ke=(q,ue,Be)=>{const ht=Kr=>Yc(Kr,"*:not(.tox-silver-sink)"),ln=Kr=>Br=>{const ra=Xr(Br,"style"),Ka=ra===void 0?"no-styles":ra.trim();Ka!==Kr&&(qr(Br,hi,Ka),Ur(Br,q.parseStyle(Kr)))},Jo=_r(ue,"*"),Cr=Yt(Jo,ht),wa=se(Be);Oe(Cr,ln(nn)),Oe(Jo,ln(fu+br+wa)),ln((Y===!0?"":fu)+br+wa)(ue)},en=q=>{const ue=cs("["+hi+"]");Oe(ue,Be=>{const ht=Xr(Be,hi);ht&&ht!=="no-styles"?Ur(Be,q.parseStyle(ht)):_s(Be,"style"),_s(Be,hi)})},Wo=Kc.DOM,Cn=()=>Yi(window),dr=q=>window.scrollTo(q.x,q.y),Et=Ic().fold(()=>({bind:Ot,unbind:Ot}),q=>{const ue=Pe(),Be=Zt(),ht=Zt(),ln=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},Jo=()=>{window.requestAnimationFrame(()=>{ue.on(Kr=>Ur(Kr,{top:q.offsetTop+"px",left:q.offsetLeft+"px",height:q.height+"px",width:q.width+"px"}))})},Cr=ie(()=>{ln(),Jo()},50);return{bind:Kr=>{ue.set(Kr),Cr.throttle(),Be.set(qa("resize",Cr.throttle)),ht.set(qa("scroll",Cr.throttle))},unbind:()=>{ue.on(()=>{Be.clear(),ht.clear()}),ue.clear()}}}),Ws=(q,ue)=>{const Be=document.body,ht=document.documentElement,ln=q.getContainer(),Jo=on.fromDom(ln),Cr=Ae(q),wa=ue.get(),ts=on.fromDom(q.getBody()),Kr=gi.deviceType.isTouch(),Br=ln.style,ra=q.iframeElement,Ka=ra==null?void 0:ra.style,$l=or=>{or(Be,"tox-fullscreen"),or(ht,"tox-fullscreen"),or(ln,"tox-fullscreen"),Ts(Jo).map(Ra=>Yo(Ra).dom).each(Ra=>{or(Ra,"tox-fullscreen"),or(Ra,"tox-shadowhost")})},Xs=()=>{Kr&&en(q.dom),$l(Wo.removeClass),Et.unbind(),at.from(ue.get()).each(or=>or.fullscreenChangeHandler.unbind())};if(wa)wa.fullscreenChangeHandler.unbind(),pe(q)&&Ys(Cr)&&ps(Rn(Cr)),Ka.width=wa.iframeWidth,Ka.height=wa.iframeHeight,Br.width=wa.containerWidth,Br.height=wa.containerHeight,Br.top=wa.containerTop,Br.left=wa.containerLeft,Xs(),dr(wa.scrollPos),ue.set(null),Xi(q,!1),q.off("remove",Xs);else{const or=wr(Rn(Cr),Rt(),ep=>{pe(q)&&!Ys(Cr)&&ue.get()!==null&&Ws(q,ue)}),Ra={scrollPos:Cn(),containerWidth:Br.width,containerHeight:Br.height,containerTop:Br.top,containerLeft:Br.left,iframeWidth:Ka.width,iframeHeight:Ka.height,fullscreenChangeHandler:or};Kr&&Ke(q.dom,Jo,ts),Ka.width=Ka.height="100%",Br.width=Br.height="",$l(Wo.addClass),Et.bind(Jo),q.on("remove",Xs),ue.set(Ra),pe(q)&&eo(Cr),Xi(q,!0)}},Ga=(q,ue)=>{q.addCommand("mceFullScreen",()=>{Ws(q,ue)})},zr=(q,ue)=>Be=>{Be.setActive(ue.get()!==null);const ht=ln=>Be.setActive(ln.state);return q.on("FullscreenStateChanged",ht),()=>q.off("FullscreenStateChanged",ht)},sa=(q,ue)=>{const Be=()=>q.execCommand("mceFullScreen");q.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Be,onSetup:zr(q,ue)}),q.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Be,onSetup:zr(q,ue)})};var Mi=()=>{Do.add("fullscreen",q=>{const ue=es(null);return q.inline||(Z(q),Ga(q,ue),sa(q,ue),q.addShortcut("Meta+Shift+F","","mceFullScreen")),So(ue)})};Mi()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=gt=>U=>U.options.get(gt),So=gt=>{const U=gt.options.register;U("insertdatetime_dateformat",{processor:"string",default:gt.translate("%Y-%m-%d")}),U("insertdatetime_timeformat",{processor:"string",default:gt.translate("%H:%M:%S")}),U("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),U("insertdatetime_element",{processor:"boolean",default:!1})},Ln=Do("insertdatetime_dateformat"),uo=Do("insertdatetime_timeformat"),ho=Do("insertdatetime_formats"),Fn=Do("insertdatetime_element"),nt=gt=>{const U=ho(gt);return U.length>0?U[0]:uo(gt)},pn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),vn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),En="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),_o="January February March April May June July August September October November December".split(" "),cn=(gt,U)=>{if(gt=""+gt,gt.length<U)for(let at=0;at<U-gt.length;at++)gt="0"+gt;return gt},jt=(gt,U,at=new Date)=>(U=U.replace("%D","%m/%d/%Y"),U=U.replace("%r","%I:%M:%S %p"),U=U.replace("%Y",""+at.getFullYear()),U=U.replace("%y",""+at.getYear()),U=U.replace("%m",cn(at.getMonth()+1,2)),U=U.replace("%d",cn(at.getDate(),2)),U=U.replace("%H",""+cn(at.getHours(),2)),U=U.replace("%M",""+cn(at.getMinutes(),2)),U=U.replace("%S",""+cn(at.getSeconds(),2)),U=U.replace("%I",""+((at.getHours()+11)%12+1)),U=U.replace("%p",at.getHours()<12?"AM":"PM"),U=U.replace("%B",""+gt.translate(_o[at.getMonth()])),U=U.replace("%b",""+gt.translate(En[at.getMonth()])),U=U.replace("%A",""+gt.translate(vn[at.getDay()])),U=U.replace("%a",""+gt.translate(pn[at.getDay()])),U=U.replace("%%","%"),U),It=(gt,U,at,bn)=>{const Zt=gt.dom.create("time",{datetime:at},bn);gt.dom.replace(Zt,U),gt.selection.select(Zt,!0),gt.selection.collapse(!1)},tn=(gt,U)=>{if(Fn(gt)){const at=jt(gt,U);let bn;/%[HMSIp]/.test(U)?bn=jt(gt,"%Y-%m-%dT%H:%M"):bn=jt(gt,"%Y-%m-%d");const Zt=gt.dom.getParent(gt.selection.getStart(),"time");Zt?It(gt,Zt,bn,at):gt.insertContent('<time datetime="'+bn+'">'+at+"</time>")}else gt.insertContent(jt(gt,U))},ot=gt=>{gt.addCommand("mceInsertDate",(U,at)=>{tn(gt,at??Ln(gt))}),gt.addCommand("mceInsertTime",(U,at)=>{tn(gt,at??uo(gt))})},Ot=gt=>{let U=gt;return{get:()=>U,set:Zt=>{U=Zt}}};var xt=tinymce.util.Tools.resolve("tinymce.util.Tools");const j=gt=>U=>{const at=()=>{U.setEnabled(gt.selection.isEditable())};return gt.on("NodeChange",at),at(),()=>{gt.off("NodeChange",at)}},dt=gt=>{const U=ho(gt),at=Ot(nt(gt)),bn=Pe=>gt.execCommand("mceInsertDate",!1,Pe);gt.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Pe=>Pe===at.get(),fetch:Pe=>{Pe(xt.map(U,ie=>({type:"choiceitem",text:jt(gt,ie),value:ie})))},onAction:Pe=>{bn(at.get())},onItemAction:(Pe,ie)=>{at.set(ie),bn(ie)},onSetup:j(gt)});const Zt=Pe=>()=>{at.set(Pe),bn(Pe)};gt.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>xt.map(U,Pe=>({type:"menuitem",text:jt(gt,Pe),onAction:Zt(Pe)})),onSetup:j(gt)})};var Mo=()=>{es.add("insertdatetime",gt=>{So(gt),ot(gt),dt(gt)})};Mo()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(de,re,We)=>{var Ye;return We(de,re.prototype)?!0:((Ye=de.constructor)===null||Ye===void 0?void 0:Ye.name)===re.name},So=de=>{const re=typeof de;return de===null?"null":re==="object"&&Array.isArray(de)?"array":re==="object"&&Do(de,String,(We,Ye)=>Ye.isPrototypeOf(We))?"string":re},Ln=de=>re=>So(re)===de,uo=Ln("string"),ho=Ln("object"),Fn=Ln("array"),nt=de=>de==null,pn=de=>!nt(de);class vn{constructor(re,We){this.tag=re,this.value=We}static some(re){return new vn(!0,re)}static none(){return vn.singletonNone}fold(re,We){return this.tag?We(this.value):re()}isSome(){return this.tag}isNone(){return!this.tag}map(re){return this.tag?vn.some(re(this.value)):vn.none()}bind(re){return this.tag?re(this.value):vn.none()}exists(re){return this.tag&&re(this.value)}forall(re){return!this.tag||re(this.value)}filter(re){return!this.tag||re(this.value)?this:vn.none()}getOr(re){return this.tag?this.value:re}or(re){return this.tag?this:re}getOrThunk(re){return this.tag?this.value:re()}orThunk(re){return this.tag?this:re()}getOrDie(re){if(this.tag)return this.value;throw new Error(re??"Called getOrDie on None")}static from(re){return pn(re)?vn.some(re):vn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(re){this.tag&&re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vn.singletonNone=new vn(!1);const En=Array.prototype.push,_o=(de,re)=>{for(let We=0,Ye=de.length;We<Ye;We++){const Sn=de[We];re(Sn,We)}},cn=de=>{const re=[];for(let We=0,Ye=de.length;We<Ye;++We){if(!Fn(de[We]))throw new Error("Arr.flatten item "+We+" was not an array, input: "+de);En.apply(re,de[We])}return re},jt=de=>{let re=de;return{get:()=>re,set:Sn=>{re=Sn}}},It=Object.keys,tn=Object.hasOwnProperty,ot=(de,re)=>{const We=It(de);for(let Ye=0,Sn=We.length;Ye<Sn;Ye++){const Yn=We[Ye],xo=de[Yn];re(xo,Yn)}},Ot=(de,re)=>xt(de,re)?vn.from(de[re]):vn.none(),xt=(de,re)=>tn.call(de,re),j=de=>re=>re.options.get(de),dt=de=>{const re=de.options.register;re("audio_template_callback",{processor:"function"}),re("video_template_callback",{processor:"function"}),re("iframe_template_callback",{processor:"function"}),re("media_live_embeds",{processor:"boolean",default:!0}),re("media_filter_html",{processor:"boolean",default:!0}),re("media_url_resolver",{processor:"function"}),re("media_alt_source",{processor:"boolean",default:!0}),re("media_poster",{processor:"boolean",default:!0}),re("media_dimensions",{processor:"boolean",default:!0})},Mo=j("audio_template_callback"),gt=j("video_template_callback"),U=j("iframe_template_callback"),at=j("media_live_embeds"),bn=j("media_filter_html"),Zt=j("media_url_resolver"),Pe=j("media_alt_source"),ie=j("media_poster"),Ro=j("media_dimensions");var Ce=tinymce.util.Tools.resolve("tinymce.util.Tools"),Oe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),T=tinymce.util.Tools.resolve("tinymce.html.DomParser");const un=Oe.DOM,st=de=>de.replace(/px$/,""),Bn=de=>{const re=de.attr("style"),We=re?un.parseStyle(re):{};return{type:"ephox-embed-iri",source:de.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:Ot(We,"max-width").map(st).getOr(""),height:Ot(We,"max-height").map(st).getOr("")}},Yt=(de,re)=>{let We={};const Sn=T({validate:!1,forced_root_block:!1},re).parse(de);for(let Yn=Sn;Yn;Yn=Yn.walk())if(Yn.type===1){const xo=Yn.name;if(Yn.attr("data-ephox-embed-iri")){We=Bn(Yn);break}else!We.source&&xo==="param"&&(We.source=Yn.attr("movie")),(xo==="iframe"||xo==="object"||xo==="embed"||xo==="video"||xo==="audio")&&(We.type||(We.type=xo),We=Ce.extend(Yn.attributes.map,We)),xo==="source"&&(We.source?We.altsource||(We.altsource=Yn.attr("src")):We.source=Yn.attr("src")),xo==="img"&&!We.poster&&(We.poster=Yn.attr("src"))}return We.source=We.source||We.src||"",We.altsource=We.altsource||"",We.poster=We.poster||"",We},Xe=de=>{var re;const We={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Ye=(re=de.toLowerCase().split(".").pop())!==null&&re!==void 0?re:"";return Ot(We,Ye).getOr("")};var fo=tinymce.util.Tools.resolve("tinymce.html.Node"),Zo=tinymce.util.Tools.resolve("tinymce.html.Serializer");const wt=(de,re={})=>T({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...re},de),fn=Oe.DOM,De=de=>/^[0-9.]+$/.test(de)?de+"px":de,lt=(de,re)=>{const We=re.attr("style"),Ye=We?fn.parseStyle(We):{};pn(de.width)&&(Ye["max-width"]=De(de.width)),pn(de.height)&&(Ye["max-height"]=De(de.height)),re.attr("style",fn.serializeStyle(Ye))},F=["source","altsource"],qo=(de,re,We,Ye)=>{let Sn=0,Yn=0;const xo=wt(Ye);xo.addNodeFilter("source",ke=>Sn=ke.length);const Ks=xo.parse(de);for(let ke=Ks;ke;ke=ke.walk())if(ke.type===1){const mo=ke.name;if(ke.attr("data-ephox-embed-iri")){lt(re,ke);break}else{switch(mo){case"video":case"object":case"embed":case"img":case"iframe":re.height!==void 0&&re.width!==void 0&&(ke.attr("width",re.width),ke.attr("height",re.height));break}if(We)switch(mo){case"video":ke.attr("poster",re.poster),ke.attr("src",null);for(let ge=Sn;ge<2;ge++)if(re[F[ge]]){const yt=new fo("source",1);yt.attr("src",re[F[ge]]),yt.attr("type",re[F[ge]+"mime"]||null),ke.append(yt)}break;case"iframe":ke.attr("src",re.source);break;case"object":const fe=ke.getAll("img").length>0;if(re.poster&&!fe){ke.attr("src",re.poster);const ge=new fo("img",1);ge.attr("src",re.poster),ge.attr("width",re.width),ge.attr("height",re.height),ke.append(ge)}break;case"source":if(Yn<2&&(ke.attr("src",re[F[Yn]]),ke.attr("type",re[F[Yn]+"mime"]||null),!re[F[Yn]])){ke.remove();continue}Yn++;break;case"img":re.poster||ke.remove();break}}}return Zo({},Ye).serialize(Ks)},Qn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],ft=de=>{const re=de.match(/^(https?:\/\/|www\.)(.+)$/i);return re&&re.length>1?re[1]==="www."?"https://":re[1]:"https://"},mt=(de,re)=>{const We=ft(re),Ye=de.regex.exec(re);let Sn=We+de.url;if(pn(Ye))for(let Yn=0;Yn<Ye.length;Yn++)Sn=Sn.replace("$"+Yn,()=>Ye[Yn]?Ye[Yn]:"");return Sn.replace(/\?$/,"")},on=de=>{const re=Qn.filter(We=>We.regex.test(de));return re.length>0?Ce.extend({},re[0],{url:mt(re[0],de)}):null},X=(de,re)=>{if(re)return re(de);{const We=de.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+de.source+'" width="'+de.width+'" height="'+de.height+'"'+We+"></iframe>"}},be=de=>{let re='<object data="'+de.source+'" width="'+de.width+'" height="'+de.height+'" type="application/x-shockwave-flash">';return de.poster&&(re+='<img src="'+de.poster+'" width="'+de.width+'" height="'+de.height+'" />'),re+="</object>",re},ve=(de,re)=>re?re(de):'<audio controls="controls" src="'+de.source+'">'+(de.altsource?`
<source src="`+de.altsource+'"'+(de.altsourcemime?' type="'+de.altsourcemime+'"':"")+` />
`:"")+"</audio>",ae=(de,re)=>re?re(de):'<video width="'+de.width+'" height="'+de.height+'"'+(de.poster?' poster="'+de.poster+'"':"")+` controls="controls">
<source src="`+de.source+'"'+(de.sourcemime?' type="'+de.sourcemime+'"':"")+` />
`+(de.altsource?'<source src="'+de.altsource+'"'+(de.altsourcemime?' type="'+de.altsourcemime+'"':"")+` />
`:"")+"</video>",Me=(de,re)=>{var We;const Ye=Ce.extend({},re);if(!Ye.source&&(Ce.extend(Ye,Yt((We=Ye.embed)!==null&&We!==void 0?We:"",de.schema)),!Ye.source))return"";Ye.altsource||(Ye.altsource=""),Ye.poster||(Ye.poster=""),Ye.source=de.convertURL(Ye.source,"source"),Ye.altsource=de.convertURL(Ye.altsource,"source"),Ye.sourcemime=Xe(Ye.source),Ye.altsourcemime=Xe(Ye.altsource),Ye.poster=de.convertURL(Ye.poster,"poster");const Sn=on(Ye.source);if(Sn&&(Ye.source=Sn.url,Ye.type=Sn.type,Ye.allowfullscreen=Sn.allowFullscreen,Ye.width=Ye.width||String(Sn.w),Ye.height=Ye.height||String(Sn.h)),Ye.embed)return qo(Ye.embed,Ye,!0,de.schema);{const Yn=Mo(de),xo=gt(de),Ks=U(de);return Ye.width=Ye.width||"300",Ye.height=Ye.height||"150",Ce.each(Ye,(ke,mo)=>{Ye[mo]=de.dom.encode(""+ke)}),Ye.type==="iframe"?X(Ye,Ks):Ye.sourcemime==="application/x-shockwave-flash"?be(Ye):Ye.sourcemime.indexOf("audio")!==-1?ve(Ye,Yn):ae(Ye,xo)}},Fe=de=>de.hasAttribute("data-mce-object")||de.hasAttribute("data-ephox-embed-iri"),qe=de=>{de.on("click keyup touchend",()=>{const re=de.selection.getNode();re&&de.dom.hasClass(re,"mce-preview-object")&&de.dom.getAttrib(re,"data-mce-selected")&&re.setAttribute("data-mce-selected","2")}),de.on("ObjectResized",re=>{const We=re.target;if(We.getAttribute("data-mce-object")){let Ye=We.getAttribute("data-mce-html");Ye&&(Ye=unescape(Ye),We.setAttribute("data-mce-html",escape(qo(Ye,{width:String(re.width),height:String(re.height)},!1,de.schema))))}})},Ue={},Q=(de,re,We)=>new Promise((Ye,Sn)=>{const Yn=xo=>(xo.html&&(Ue[de.source]=xo),Ye({url:de.source,html:xo.html?xo.html:re(de)}));Ue[de.source]?Yn(Ue[de.source]):We({url:de.source},Yn,Sn)}),Se=(de,re)=>Promise.resolve({html:re(de),url:de.source}),Ie=de=>re=>Me(de,re),zt=(de,re)=>{const We=Zt(de);return We?Q(re,Ie(de),We):Se(re,Ie(de))},$n=de=>xt(Ue,de),Dn=(de,re)=>Ot(re,de).bind(We=>Ot(We,"meta")),Rn=(de,re,We)=>Ye=>{const Sn=()=>Ot(de,Ye),Yn=()=>Ot(re,Ye),xo=mo=>Ot(mo,"value").bind(fe=>fe.length>0?vn.some(fe):vn.none()),Ks=()=>Sn().bind(mo=>ho(mo)?xo(mo).orThunk(Yn):Yn().orThunk(()=>vn.from(mo))),ke=()=>Yn().orThunk(()=>Sn().bind(mo=>ho(mo)?xo(mo):vn.from(mo)));return{[Ye]:(Ye===We?Ks():ke()).getOr("")}},An=(de,re)=>{const We={};return Ot(de,"dimensions").each(Ye=>{_o(["width","height"],Sn=>{Ot(re,Sn).orThunk(()=>Ot(Ye,Sn)).each(Yn=>We[Sn]=Yn)})}),We},Po=(de,re)=>{const We=re&&re!=="dimensions"?Dn(re,de).getOr({}):{},Ye=Rn(de,We,re);return{...Ye("source"),...Ye("altsource"),...Ye("poster"),...Ye("embed"),...An(de,We)}},qn=de=>{const re={...de,source:{value:Ot(de,"source").getOr("")},altsource:{value:Ot(de,"altsource").getOr("")},poster:{value:Ot(de,"poster").getOr("")}};return _o(["width","height"],We=>{Ot(de,We).each(Ye=>{const Sn=re.dimensions||{};Sn[We]=Ye,re.dimensions=Sn})}),re},Gn=de=>re=>{const We=re&&re.msg?"Media embed handler error: "+re.msg:"Media embed handler threw unknown error.";de.notificationManager.open({type:"error",text:We})},to=de=>{const re=de.selection.getNode(),We=Fe(re)?de.serializer.serialize(re,{selection:!0}):"",Ye=Yt(We,de.schema),Yn=(()=>{if(Rs(Ye.source,Ye.type)){const xo=de.dom.getRect(re);return{width:xo.w.toString().replace(/px$/,""),height:xo.h.toString().replace(/px$/,"")}}else return{}})();return{embed:We,...Ye,...Yn}},mn=(de,re)=>We=>{if(uo(We.url)&&We.url.trim().length>0){const Ye=We.html,Yn={...Yt(Ye,re.schema),source:We.url,embed:Ye};de.setData(qn(Yn))}},bo=(de,re)=>{const We=de.dom.select("*[data-mce-object]");for(let Ye=0;Ye<re.length;Ye++)for(let Sn=We.length-1;Sn>=0;Sn--)re[Ye]===We[Sn]&&We.splice(Sn,1);de.selection.select(We[0])},as=(de,re)=>{const We=de.dom.select("*[data-mce-object]");de.insertContent(re),bo(de,We),de.nodeChanged()},Rs=(de,re)=>pn(re)&&re==="ephox-embed-iri"&&pn(on(de)),Ts=(de,re)=>((Ye,Sn)=>Ye.width!==Sn.width||Ye.height!==Sn.height)(de,re)&&Rs(re.source,de.type),Yo=(de,re,We)=>{var Ye;re.embed=Ts(de,re)&&Ro(We)?Me(We,{...re,embed:""}):qo((Ye=re.embed)!==null&&Ye!==void 0?Ye:"",re,!1,We.schema),re.embed&&(de.source===re.source||$n(re.source))?as(We,re.embed):zt(We,re).then(Sn=>{as(We,Sn.html)}).catch(Gn(We))},oa=de=>{const re=to(de),We=jt(re),Ye=qn(re),Sn=(wn,On)=>{const no=Po(On.getData(),"source");wn.source!==no.source&&(mn(_n,de)({url:no.source,html:""}),zt(de,no).then(mn(_n,de)).catch(Gn(de)))},Yn=wn=>{var On;const no=Po(wn.getData()),ds=Yt((On=no.embed)!==null&&On!==void 0?On:"",de.schema);wn.setData(qn(ds))},xo=(wn,On,no)=>{const ds=Po(wn.getData(),On),Hs=Ts(no,ds)&&Ro(de)?{...ds,embed:""}:ds,va=Me(de,Hs);wn.setData(qn({...Hs,embed:va}))},Ks=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],ke=Ro(de)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],mo={title:"General",name:"general",items:cn([Ks,ke])},ge={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},yt=[];Pe(de)&&yt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ie(de)&&yt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const _t={title:"Advanced",name:"advanced",items:yt},Xt=[mo,ge];yt.length>0&&Xt.push(_t);const xn={type:"tabpanel",tabs:Xt},_n=de.windowManager.open({title:"Insert/Edit Media",size:"normal",body:xn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:wn=>{const On=Po(wn.getData());Yo(We.get(),On,de),wn.close()},onChange:(wn,On)=>{switch(On.name){case"source":Sn(We.get(),wn);break;case"embed":Yn(wn);break;case"dimensions":case"altsource":case"poster":xo(wn,On.name,We.get());break}We.set(Po(wn.getData()))},initialData:Ye})},Tt=de=>({showDialog:()=>{oa(de)}}),Lo=de=>{const re=()=>{oa(de)};de.addCommand("mceMedia",re)},kr=(de,re,We)=>re===""||de.length>=re.length&&de.substr(We,We+re.length)===re,Vr=(de,re)=>kr(de,re,0);var qr=tinymce.util.Tools.resolve("tinymce.Env");const Xr=de=>{const re=de.name;return re==="iframe"||re==="video"||re==="audio"},_s=(de,re,We,Ye=null)=>{const Sn=de.attr(We);return pn(Sn)?Sn:xt(re,We)?null:Ye},ia=(de,re,We)=>{const Ye=re.name==="img"||de.name==="video",Sn=Ye?"300":null,Yn=de.name==="audio"?"30":"150",xo=Ye?Yn:null;re.attr({width:_s(de,We,"width",Sn),height:_s(de,We,"height",xo)})},Ur=(de,re,We,Ye)=>{const Sn=wt(de.schema).parse(Ye,{context:re});for(;Sn.firstChild;)We.append(Sn.firstChild)},Cs=(de,re)=>{const We=re.name,Ye=new fo("img",1);return ar(de,re,Ye),ia(re,Ye,{}),Ye.attr({style:re.attr("style"),src:qr.transparentSrc,"data-mce-object":We,class:"mce-object mce-object-"+We}),Ye},Kn=(de,re)=>{var We;const Ye=re.name,Sn=new fo("span",1);Sn.attr({contentEditable:"false",style:re.attr("style"),"data-mce-object":Ye,class:"mce-preview-object mce-object-"+Ye}),ar(de,re,Sn);const Yn=de.dom.parseStyle((We=re.attr("style"))!==null&&We!==void 0?We:""),xo=new fo(Ye,1);if(ia(re,xo,Yn),xo.attr({src:re.attr("src"),style:re.attr("style"),class:re.attr("class")}),Ye==="iframe")xo.attr({allowfullscreen:re.attr("allowfullscreen"),frameborder:"0"});else{_o(["controls","crossorigin","currentTime","loop","muted","poster","preload"],fe=>{xo.attr(fe,re.attr(fe))});const mo=Sn.attr("data-mce-html");pn(mo)&&Ur(de,Ye,xo,unescape(mo))}const Ks=new fo("span",1);return Ks.attr("class","mce-shim"),Sn.append(xo),Sn.append(Ks),Sn},ar=(de,re,We)=>{var Ye;const Sn=(Ye=re.attributes)!==null&&Ye!==void 0?Ye:[];let Yn=Sn.length;for(;Yn--;){const mo=Sn[Yn].name;let fe=Sn[Yn].value;mo!=="width"&&mo!=="height"&&mo!=="style"&&!Vr(mo,"data-mce-")&&((mo==="data"||mo==="src")&&(fe=de.convertURL(fe,mo)),We.attr("data-mce-p-"+mo,fe))}const xo=Zo({inner:!0},de.schema),Ks=new fo("div",1);_o(re.children(),mo=>Ks.append(mo));const ke=xo.serialize(Ks);ke&&(We.attr("data-mce-html",escape(ke)),We.empty())},Ee=de=>{const re=de.attr("class");return uo(re)&&/\btiny-pageembed\b/.test(re)},Ge=de=>{let re=de;for(;re=re.parent;)if(re.attr("data-ephox-embed-iri")||Ee(re))return!0;return!1},Wt=de=>re=>{let We=re.length,Ye;for(;We--;)Ye=re[We],Ye.parent&&(Ye.parent.attr("data-mce-object")||(Xr(Ye)&&at(de)?Ge(Ye)||Ye.replace(Kn(de,Ye)):Ge(Ye)||Ye.replace(Cs(de,Ye))))},kn=(de,re,We)=>{const Ye=de.options.get,Sn=Ye("xss_sanitization"),Yn=bn(de);return wt(de.schema,{sanitize:Sn,validate:Yn}).parse(We,{context:re})},Eo=de=>{de.on("PreInit",()=>{const{schema:re,serializer:We,parser:Ye}=de,Sn=re.getBoolAttrs();_o("webkitallowfullscreen mozallowfullscreen".split(" "),Yn=>{Sn[Yn]={}}),ot({embed:["wmode"]},(Yn,xo)=>{const Ks=re.getElementRule(xo);Ks&&_o(Yn,ke=>{Ks.attributes[ke]={},Ks.attributesOrder.push(ke)})}),Ye.addNodeFilter("iframe,video,audio,object,embed",Wt(de)),We.addAttributeFilter("data-mce-object",(Yn,xo)=>{var Ks;let ke=Yn.length;for(;ke--;){const mo=Yn[ke];if(!mo.parent)continue;const fe=mo.attr(xo),ge=new fo(fe,1);if(fe!=="audio"){const xn=mo.attr("class");xn&&xn.indexOf("mce-preview-object")!==-1&&mo.firstChild?ge.attr({width:mo.firstChild.attr("width"),height:mo.firstChild.attr("height")}):ge.attr({width:mo.attr("width"),height:mo.attr("height")})}ge.attr({style:mo.attr("style")});const yt=(Ks=mo.attributes)!==null&&Ks!==void 0?Ks:[];let _t=yt.length;for(;_t--;){const xn=yt[_t].name;xn.indexOf("data-mce-p-")===0&&ge.attr(xn.substr(11),yt[_t].value)}const Xt=mo.attr("data-mce-html");if(Xt){const xn=kn(de,fe,unescape(Xt));_o(xn.children(),_n=>ge.append(_n))}mo.replace(ge)}})}),de.on("SetContent",()=>{const re=de.dom;_o(re.select("span.mce-preview-object"),We=>{re.select("span.mce-shim",We).length===0&&re.add(We,"span",{class:"mce-shim"})})})},Xo=de=>{de.on("ResolveName",re=>{let We;re.target.nodeType===1&&(We=re.target.getAttribute("data-mce-object"))&&(re.name=We)})},wr=de=>re=>{const We=()=>{re.setEnabled(de.selection.isEditable())};return de.on("NodeChange",We),We(),()=>{de.off("NodeChange",We)}},Gs=de=>{const re=()=>de.execCommand("mceMedia");de.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:re,onSetup:We=>{const Ye=de.selection;We.setActive(Fe(Ye.getNode()));const Sn=Ye.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",We.setActive).unbind,Yn=wr(de)(We);return()=>{Sn(),Yn()}}}),de.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:re,onSetup:wr(de)})};var cr=()=>{es.add("media",de=>(dt(de),Lo(de),Gs(de),Xo(de),Eo(de),qe(de),Tt(de)))};cr()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(w,S,L)=>{var G;return L(w,S.prototype)?!0:((G=w.constructor)===null||G===void 0?void 0:G.name)===S.name},So=w=>{const S=typeof w;return w===null?"null":S==="object"&&Array.isArray(w)?"array":S==="object"&&Do(w,String,(L,G)=>G.isPrototypeOf(L))?"string":S},Ln=w=>S=>So(S)===w,uo=w=>S=>typeof S===w,ho=w=>S=>w===S,Fn=Ln("string"),nt=Ln("array"),pn=uo("boolean"),vn=ho(void 0),En=w=>w==null,_o=w=>!En(w),cn=uo("function"),jt=uo("number"),It=()=>{},tn=(w,S)=>L=>w(S(L)),ot=w=>()=>w,Ot=w=>w,xt=(w,S)=>w===S;function j(w,...S){return(...L)=>{const G=S.concat(L);return w.apply(null,G)}}const dt=w=>{w()},Mo=ot(!1),gt=ot(!0);class U{constructor(S,L){this.tag=S,this.value=L}static some(S){return new U(!0,S)}static none(){return U.singletonNone}fold(S,L){return this.tag?L(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?U.some(S(this.value)):U.none()}bind(S){return this.tag?S(this.value):U.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:U.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return _o(S)?U.some(S):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const at=Object.keys,bn=Object.hasOwnProperty,Zt=(w,S)=>{const L=at(w);for(let G=0,we=L.length;G<we;G++){const Qe=L[G],Pt=w[Qe];S(Pt,Qe)}},Pe=w=>(S,L)=>{w[L]=S},ie=(w,S,L,G)=>{Zt(w,(we,Qe)=>{(S(we,Qe)?L:G)(we,Qe)})},Ro=(w,S)=>{const L={};return ie(w,S,Pe(L),It),L},Ce=(w,S)=>{const L=[];return Zt(w,(G,we)=>{L.push(S(G,we))}),L},Oe=w=>Ce(w,Ot),T=w=>at(w).length,un=(w,S)=>st(w,S)?U.from(w[S]):U.none(),st=(w,S)=>bn.call(w,S),Bn=(w,S)=>st(w,S)&&w[S]!==void 0&&w[S]!==null,Yt=w=>{for(const S in w)if(bn.call(w,S))return!1;return!0},Xe=Array.prototype.indexOf,fo=Array.prototype.push,Zo=(w,S)=>Xe.call(w,S),wt=(w,S)=>Zo(w,S)>-1,fn=(w,S)=>{for(let L=0,G=w.length;L<G;L++){const we=w[L];if(S(we,L))return!0}return!1},De=(w,S)=>{const L=[];for(let G=0;G<w;G++)L.push(S(G));return L},lt=(w,S)=>{const L=w.length,G=new Array(L);for(let we=0;we<L;we++){const Qe=w[we];G[we]=S(Qe,we)}return G},F=(w,S)=>{for(let L=0,G=w.length;L<G;L++){const we=w[L];S(we,L)}},qo=(w,S)=>{for(let L=w.length-1;L>=0;L--){const G=w[L];S(G,L)}},Qn=(w,S)=>{const L=[],G=[];for(let we=0,Qe=w.length;we<Qe;we++){const Pt=w[we];(S(Pt,we)?L:G).push(Pt)}return{pass:L,fail:G}},ft=(w,S)=>{const L=[];for(let G=0,we=w.length;G<we;G++){const Qe=w[G];S(Qe,G)&&L.push(Qe)}return L},mt=(w,S,L)=>(qo(w,(G,we)=>{L=S(L,G,we)}),L),on=(w,S,L)=>(F(w,(G,we)=>{L=S(L,G,we)}),L),X=(w,S,L)=>{for(let G=0,we=w.length;G<we;G++){const Qe=w[G];if(S(Qe,G))return U.some(Qe);if(L(Qe,G))break}return U.none()},be=(w,S)=>X(w,S,Mo),ve=w=>{const S=[];for(let L=0,G=w.length;L<G;++L){if(!nt(w[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+w);fo.apply(S,w[L])}return S},ae=(w,S)=>ve(lt(w,S)),Me=(w,S)=>{for(let L=0,G=w.length;L<G;++L){const we=w[L];if(S(we,L)!==!0)return!1}return!0},Fe=(w,S)=>{const L={};for(let G=0,we=w.length;G<we;G++){const Qe=w[G];L[String(Qe)]=S(Qe,G)}return L},qe=(w,S)=>S>=0&&S<w.length?U.some(w[S]):U.none(),Ue=w=>qe(w,0),Q=w=>qe(w,w.length-1),Se=(w,S)=>{for(let L=0;L<w.length;L++){const G=S(w[L],L);if(G.isSome())return G}return U.none()},Ie=8,zt=9,$n=11,Dn=1,Rn=3,An=(w,S)=>{const G=(S||document).createElement("div");if(G.innerHTML=w,!G.hasChildNodes()||G.childNodes.length>1){const we="HTML does not have a single root node";throw console.error(we,w),new Error(we)}return Gn(G.childNodes[0])},Po=(w,S)=>{const G=(S||document).createElement(w);return Gn(G)},qn=(w,S)=>{const G=(S||document).createTextNode(w);return Gn(G)},Gn=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},mn={fromHtml:An,fromTag:Po,fromText:qn,fromDom:Gn,fromPoint:(w,S,L)=>U.from(w.dom.elementFromPoint(S,L)).map(Gn)},bo=(w,S)=>{const L=w.dom;if(L.nodeType!==Dn)return!1;{const G=L;if(G.matches!==void 0)return G.matches(S);if(G.msMatchesSelector!==void 0)return G.msMatchesSelector(S);if(G.webkitMatchesSelector!==void 0)return G.webkitMatchesSelector(S);if(G.mozMatchesSelector!==void 0)return G.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},as=w=>w.nodeType!==Dn&&w.nodeType!==zt&&w.nodeType!==$n||w.childElementCount===0,Rs=(w,S)=>{const L=S===void 0?document:S.dom;return as(L)?[]:lt(L.querySelectorAll(w),mn.fromDom)},Ts=(w,S)=>{const L=S===void 0?document:S.dom;return as(L)?U.none():U.from(L.querySelector(w)).map(mn.fromDom)},Yo=(w,S)=>w.dom===S.dom,oa=bo;typeof window<"u"||Function("return this;")();const Tt=w=>w.dom.nodeName.toLowerCase(),Lo=w=>w.dom.nodeType,kr=w=>S=>Lo(S)===w,Vr=w=>Lo(w)===Ie||Tt(w)==="#comment",qr=kr(Dn),Xr=kr(Rn),_s=kr(zt),ia=kr($n),Ur=w=>S=>qr(S)&&Tt(S)===w,Cs=w=>mn.fromDom(w.dom.ownerDocument),Kn=w=>_s(w)?w:Cs(w),ar=w=>U.from(w.dom.parentNode).map(mn.fromDom),Ee=(w,S)=>{const L=cn(S)?S:Mo;let G=w.dom;const we=[];for(;G.parentNode!==null&&G.parentNode!==void 0;){const Qe=G.parentNode,Pt=mn.fromDom(Qe);if(we.push(Pt),L(Pt)===!0)break;G=Qe}return we},Ge=w=>U.from(w.dom.previousSibling).map(mn.fromDom),Wt=w=>U.from(w.dom.nextSibling).map(mn.fromDom),kn=w=>lt(w.dom.childNodes,mn.fromDom),Eo=(w,S)=>{const L=w.dom.childNodes;return U.from(L[S]).map(mn.fromDom)},Xo=w=>Eo(w,0),wr=w=>ia(w)&&_o(w.dom.host),cr=cn(Element.prototype.attachShadow)&&cn(Node.prototype.getRootNode)?w=>mn.fromDom(w.dom.getRootNode()):Kn,de=w=>{const S=cr(w);return wr(S)?U.some(S):U.none()},re=w=>mn.fromDom(w.dom.host),We=w=>{const S=Xr(w)?w.dom.parentNode:w.dom;if(S==null||S.ownerDocument===null)return!1;const L=S.ownerDocument;return de(mn.fromDom(S)).fold(()=>L.body.contains(S),tn(We,re))};var Ye=(w,S,L,G,we)=>w(L,G)?U.some(L):cn(we)&&we(L)?U.none():S(L,G,we);const Sn=(w,S,L)=>{let G=w.dom;const we=cn(L)?L:Mo;for(;G.parentNode;){G=G.parentNode;const Qe=mn.fromDom(G);if(S(Qe))return U.some(Qe);if(we(Qe))break}return U.none()},Yn=(w,S,L)=>Ye((we,Qe)=>Qe(we),Sn,w,S,L),xo=(w,S)=>{const L=we=>S(mn.fromDom(we));return be(w.dom.childNodes,L).map(mn.fromDom)},Ks=(w,S,L)=>Sn(w,G=>bo(G,S),L),ke=(w,S)=>xo(w,L=>bo(L,S)),mo=(w,S)=>Ts(S,w),fe=(w,S,L)=>Ye((we,Qe)=>bo(we,Qe),Ks,w,S,L),ge=w=>fe(w,"[contenteditable]"),yt=(w,S=!1)=>We(w)?w.dom.isContentEditable:ge(w).fold(ot(S),L=>_t(L)==="true"),_t=w=>w.dom.contentEditable,Xt=w=>w.nodeName.toLowerCase(),xn=w=>mn.fromDom(w.getBody()),_n=w=>S=>Yo(S,xn(w)),wn=w=>w?w.replace(/px$/,""):"",On=w=>/^\d+(\.\d+)?$/.test(w)?w+"px":w,no=w=>mn.fromDom(w.selection.getStart()),ds=w=>mn.fromDom(w.selection.getEnd()),Hs=w=>Yn(w,Ur("table")).forall(yt),va=(w,S)=>ft(kn(w),S),Gr=(w,S)=>{let L=[];return F(kn(w),G=>{S(G)&&(L=L.concat([G])),L=L.concat(Gr(G,S))}),L},oc=(w,S)=>va(w,L=>bo(L,S)),yo=(w,S)=>Rs(S,w),os=(w,S,L)=>{if(Fn(L)||pn(L)||jt(L))w.setAttribute(S,L+"");else throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",L,":: Element ",w),new Error("Attribute value was not simple")},Us=(w,S,L)=>{os(w.dom,S,L)},ka=(w,S)=>{const L=w.dom;Zt(S,(G,we)=>{os(L,we,G)})},la=(w,S)=>{const L=w.dom.getAttribute(S);return L===null?void 0:L},Jr=(w,S)=>U.from(la(w,S)),js=(w,S)=>{w.dom.removeAttribute(S)},du=w=>on(w.dom.attributes,(S,L)=>(S[L.name]=L.value,S),{}),mi=(w,S,L=xt)=>w.exists(G=>L(G,S)),fs=w=>{const S=[],L=G=>{S.push(G)};for(let G=0;G<w.length;G++)w[G].each(L);return S},Oa=(w,S,L)=>w.isSome()&&S.isSome()?U.some(L(w.getOrDie(),S.getOrDie())):U.none(),za=w=>w.bind(Ot),Mr=(w,S)=>w?U.some(S):U.none(),Ki=(w,S)=>w.substring(S),sc=(w,S,L)=>S===""||w.length>=S.length&&w.substr(L,L+S.length)===S,Da=(w,S)=>Sc(w,S)?Ki(w,S.length):w,Sc=(w,S)=>sc(w,S,0),Ic=(w=>S=>S.replace(w,""))(/^\s+|\s+$/g),Ni=w=>w.length>0,Yi=w=>!Ni(w),qa=(w,S=10)=>{const L=parseInt(w,S);return isNaN(L)?U.none():U.some(L)},Kc=w=>{const S=parseFloat(w);return isNaN(S)?U.none():U.some(S)},gi=w=>w.style!==void 0&&cn(w.style.getPropertyValue),Xi=(w,S,L)=>{if(!Fn(L))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",L,":: Element ",w),new Error("CSS value must be a string: "+L);gi(w)&&w.style.setProperty(S,L)},pi=(w,S)=>{gi(w)&&w.style.removeProperty(S)},Z=(w,S,L)=>{const G=w.dom;Xi(G,S,L)},pe=(w,S)=>{const L=w.dom,we=window.getComputedStyle(L).getPropertyValue(S);return we===""&&!We(w)?Ae(L,S):we},Ae=(w,S)=>gi(w)?w.style.getPropertyValue(S):"",Le=(w,S)=>{const L=w.dom,G=Ae(L,S);return U.from(G).filter(we=>we.length>0)},Rt=(w,S)=>{const L=w.dom;pi(L,S),mi(Jr(w,"style").map(Ic),"")&&js(w,"style")},eo=(w,S,L=0)=>Jr(w,S).map(G=>parseInt(G,10)).getOr(L),ps=(w,S)=>Ys(w,S,gt),Ys=(w,S,L)=>ae(kn(w),G=>bo(G,S)?L(G)?[G]:[]:Ys(G,S,L)),$s=["tfoot","thead","tbody","colgroup"],hr=w=>wt($s,w),cs=(w,S)=>({rows:w,columns:S}),_r=(w,S,L)=>({element:w,rowspan:S,colspan:L}),Yc=(w,S,L,G,we,Qe)=>({element:w,rowspan:S,colspan:L,row:G,column:we,isLocked:Qe}),hi=(w,S,L)=>({element:w,cells:S,section:L}),nn=(w,S,L,G)=>({startRow:w,startCol:S,finishRow:L,finishCol:G}),fu=(w,S,L)=>({element:w,colspan:S,column:L}),br=(w,S)=>({element:w,columns:S}),B=(w,S,L=Mo)=>{if(L(S))return U.none();if(wt(w,Tt(S)))return U.some(S);const G=we=>bo(we,"table")||L(we);return Ks(S,w.join(","),G)},Y=(w,S)=>B(["td","th"],w,S),se=w=>ps(w,"th,td"),Ke=w=>bo(w,"colgroup")?oc(w,"col"):ae(Cn(w),S=>oc(S,"col")),en=(w,S)=>fe(w,"table",S),Wo=w=>ps(w,"tr"),Cn=w=>en(w).fold(ot([]),S=>oc(S,"colgroup")),dr=(w,S)=>lt(w,L=>{if(Tt(L)==="colgroup"){const G=lt(Ke(L),we=>{const Qe=eo(we,"span",1);return _r(we,1,Qe)});return hi(L,G,"colgroup")}else{const G=lt(se(L),we=>{const Qe=eo(we,"rowspan",1),Pt=eo(we,"colspan",1);return _r(we,Qe,Pt)});return hi(L,G,S(L))}}),Et=w=>ar(w).map(S=>{const L=Tt(S);return hr(L)?L:"tbody"}).getOr("tbody"),Ws=w=>{const S=Wo(w),G=[...Cn(w),...S];return dr(G,Et)},Ga="data-snooker-locked-cols",zr=w=>Jr(w,Ga).bind(S=>U.from(S.match(/\d+/g))).map(S=>Fe(S,gt)),sa=(w,S)=>w+","+S,Mi=(w,S,L)=>U.from(w.access[sa(S,L)]),q=(w,S,L)=>{const G=ue(w,we=>L(S,we.element));return G.length>0?U.some(G[0]):U.none()},ue=(w,S)=>{const L=ae(w.all,G=>G.cells);return ft(L,S)},Be=w=>{const S={};let L=0;return F(w.cells,G=>{const we=G.colspan;De(we,Qe=>{const Pt=L+Qe;S[Pt]=fu(G.element,we,Pt)}),L+=we}),S},ht=w=>{const S={},L=[],we=Ue(w).map(ei=>ei.element).bind(en).bind(zr).getOr({});let Qe=0,Pt=0,qt=0;const{pass:vo,fail:Ao}=Qn(w,ei=>ei.section==="colgroup");F(Ao,ei=>{const nl=[];F(ei.cells,Sl=>{let Su=0;for(;S[sa(qt,Su)]!==void 0;)Su++;const Zu=Bn(we,Su.toString()),hf=Yc(Sl.element,Sl.rowspan,Sl.colspan,qt,Su,Zu);for(let _d=0;_d<Sl.colspan;_d++)for(let bf=0;bf<Sl.rowspan;bf++){const yf=qt+bf,da=Su+_d,ji=sa(yf,da);S[ji]=hf,Pt=Math.max(Pt,da+1)}nl.push(hf)}),Qe++,L.push(hi(ei.element,nl,ei.section)),qt++});const{columns:xr,colgroups:ks}=Q(vo).map(ei=>{const nl=Be(ei);return{colgroups:[br(ei.element,Oe(nl))],columns:nl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:cs(Qe,Pt),access:S,all:L,columns:xr,colgroups:ks}},Kr={fromTable:w=>{const S=Ws(w);return ht(S)},generate:ht,getAt:Mi,findItem:q,filterItems:ue,justCells:w=>ae(w.all,S=>S.cells),justColumns:w=>Oe(w.columns),hasColumns:w=>at(w.columns).length>0,getColumnAt:(w,S)=>U.from(w.columns[S])};var Br=tinymce.util.Tools.resolve("tinymce.util.Tools");const ra=(w,S,L)=>{const G=w.select("td,th",S);let we;for(let Qe=0;Qe<G.length;Qe++){const Pt=w.getStyle(G[Qe],L);if(vn(we)&&(we=Pt),we!==Pt)return""}return we},Ka=(w,S,L)=>{Br.each("left center right".split(" "),G=>{G!==L&&w.formatter.remove("align"+G,{},S)}),L&&w.formatter.apply("align"+L,{},S)},$l=(w,S,L)=>{Br.each("top middle bottom".split(" "),G=>{G!==L&&w.formatter.remove("valign"+G,{},S)}),L&&w.formatter.apply("valign"+L,{},S)},Xs=(w,S,L)=>{w.dispatch("TableModified",{...L,table:S})},or=(w,S)=>Kc(w).getOr(S),Ra=(w,S,L)=>or(pe(w,S),L),ep=(w,S,L,G)=>{const we=Ra(w,`padding-${L}`,0),Qe=Ra(w,`padding-${G}`,0),Pt=Ra(w,`border-${L}-width`,0),qt=Ra(w,`border-${G}-width`,0);return S-we-Qe-Pt-qt},Pr=(w,S)=>{const L=w.dom,G=L.getBoundingClientRect().width||L.offsetWidth;return S==="border-box"?G:ep(w,G,"left","right")},Ya=w=>Pr(w,"content-box");var tp=tinymce.util.Tools.resolve("tinymce.Env");const Vm="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Ji=De(5,w=>{const S=`${w+1}px`;return{title:S,value:S}}),md=lt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],w=>({title:w,value:w.toLowerCase()})),ir="100%",bi=w=>{var S;const L=w.dom,G=(S=L.getParent(w.selection.getStart(),L.isBlock))!==null&&S!==void 0?S:w.getBody();return Ya(mn.fromDom(G))+"px"},Fa=(w,S)=>nf(w)||!bl(w)?S:jm(w)?{...S,width:bi(w)}:{...S,width:ir},hl=(w,S)=>nf(w)||bl(w)?S:jm(w)?{...S,width:bi(w)}:{...S,width:ir},aa=w=>S=>S.options.get(w),Yr=w=>{const S=w.options.register;S("table_border_widths",{processor:"object[]",default:Ji}),S("table_border_styles",{processor:"object[]",default:md}),S("table_cell_advtab",{processor:"boolean",default:!0}),S("table_row_advtab",{processor:"boolean",default:!0}),S("table_advtab",{processor:"boolean",default:!0}),S("table_appearance_options",{processor:"boolean",default:!0}),S("table_grid",{processor:"boolean",default:!tp.deviceType.isTouch()}),S("table_cell_class_list",{processor:"object[]",default:[]}),S("table_row_class_list",{processor:"object[]",default:[]}),S("table_class_list",{processor:"object[]",default:[]}),S("table_toolbar",{processor:"string",default:Vm}),S("table_background_color_map",{processor:"object[]",default:[]}),S("table_border_color_map",{processor:"object[]",default:[]})},Bi=aa("table_sizing_mode"),gd=aa("table_border_widths"),Pi=aa("table_border_styles"),mu=aa("table_cell_advtab"),Il=aa("table_row_advtab"),Na=aa("table_advtab"),tf=aa("table_appearance_options"),bc=aa("table_grid"),bl=aa("table_style_by_css"),yl=aa("table_cell_class_list"),Lu=aa("table_row_class_list"),gu=aa("table_class_list"),Ll=aa("table_toolbar"),Um=aa("table_background_color_map"),Hl=aa("table_border_color_map"),jm=w=>Bi(w)==="fixed",nf=w=>Bi(w)==="responsive",Wm=w=>{const S=w.options,L=S.get("table_default_styles");return S.isSet("table_default_styles")?L:Fa(w,L)},Hu=w=>{const S=w.options,L=S.get("table_default_attributes");return S.isSet("table_default_attributes")?L:hl(w,L)},np=(w,S)=>S.column>=w.startCol&&S.column+S.colspan-1<=w.finishCol&&S.row>=w.startRow&&S.row+S.rowspan-1<=w.finishRow,le=(w,S)=>{let L=!0;const G=j(np,S);for(let we=S.startRow;we<=S.finishRow;we++)for(let Qe=S.startCol;Qe<=S.finishCol;Qe++)L=L&&Kr.getAt(w,we,Qe).exists(G);return L?U.some(S):U.none()},pu=(w,S)=>nn(Math.min(w.row,S.row),Math.min(w.column,S.column),Math.max(w.row+w.rowspan-1,S.row+S.rowspan-1),Math.max(w.column+w.colspan-1,S.column+S.colspan-1)),Fi=(w,S,L)=>{const G=Kr.findItem(w,S,Yo),we=Kr.findItem(w,L,Yo);return G.bind(Qe=>we.map(Pt=>pu(Qe,Pt)))},em=(w,S,L)=>Fi(w,S,L).bind(G=>le(w,G)),yy=(w,S,L)=>{const G=op(w);return em(G,S,L)},op=Kr.fromTable,Ns=(w,S)=>{ar(w).each(G=>{G.dom.insertBefore(S.dom,w.dom)})},$a=(w,S)=>{Wt(w).fold(()=>{ar(w).each(we=>{yi(we,S)})},G=>{Ns(G,S)})},Qi=(w,S)=>{Xo(w).fold(()=>{yi(w,S)},G=>{w.dom.insertBefore(S.dom,G.dom)})},yi=(w,S)=>{w.dom.appendChild(S.dom)},tm=(w,S)=>{Ns(w,S),yi(S,w)},hu=(w,S)=>{F(S,(L,G)=>{const we=G===0?w:S[G-1];$a(we,L)})},Lc=(w,S)=>{F(S,L=>{yi(w,L)})},pd=w=>{const S=w.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Zm=w=>{const S=kn(w);S.length>0&&hu(w,S),pd(w)},vi=((w,S)=>{const L=Qe=>{if(!w(Qe))throw new Error("Can only get "+S+" value of a "+S+" node");return G(Qe).getOr("")},G=Qe=>w(Qe)?U.from(Qe.dom.nodeValue):U.none();return{get:L,getOption:G,set:(Qe,Pt)=>{if(!w(Qe))throw new Error("Can only set raw "+S+" value of a "+S+" node");Qe.dom.nodeValue=Pt}}})(Xr,"text"),of=w=>vi.get(w),Gm=(w,S)=>vi.set(w,S);var Xc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ia=()=>{const w=Ao=>mn.fromDom(Ao.dom.cloneNode(!1)),S=Ao=>Kn(Ao).dom,L=Ao=>qr(Ao)?Tt(Ao)==="body"?!0:wt(Xc,Tt(Ao)):!1,G=Ao=>qr(Ao)?wt(["br","img","hr","input"],Tt(Ao)):!1,we=Ao=>qr(Ao)&&la(Ao,"contenteditable")==="false",Qe=(Ao,xr)=>Ao.dom.compareDocumentPosition(xr.dom),Pt=(Ao,xr)=>{const ks=du(Ao);ka(xr,ks)},qt=Ao=>{const xr=Tt(Ao);return wt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],xr)},vo=Ao=>qr(Ao)?Jr(Ao,"lang"):U.none();return{up:ot({selector:Ks,closest:fe,predicate:Sn,all:Ee}),down:ot({selector:yo,predicate:Gr}),styles:ot({get:pe,getRaw:Le,set:Z,remove:Rt}),attrs:ot({get:la,set:Us,remove:js,copyTo:Pt}),insert:ot({before:Ns,after:$a,afterAll:hu,append:yi,appendAll:Lc,prepend:Qi,wrap:tm}),remove:ot({unwrap:Zm,remove:pd}),create:ot({nu:mn.fromTag,clone:w,text:mn.fromText}),query:ot({comparePosition:Qe,prevSibling:Ge,nextSibling:Wt}),property:ot({children:kn,name:Tt,parent:ar,document:S,isText:Xr,isComment:Vr,isElement:qr,isSpecial:qt,getLanguage:vo,getText:of,setText:Gm,isBoundary:L,isEmptyTag:G,isNonEditable:we}),eq:Yo,is:oa}};const bu=(w,S,L,G)=>{const we=L[0],Qe=L.slice(1);return G(w,S,we,Qe)},hd=(w,S,L)=>L.length>0?bu(w,S,L,ki):U.none(),ki=(w,S,L,G)=>{const we=S(w,L);return mt(G,(Qe,Pt)=>{const qt=S(w,Pt);return Hc(w,Qe,qt)},we)},Hc=(w,S,L)=>S.bind(G=>L.filter(j(w.eq,G))),sf=hd,sp=Ia(),rf=(w,S)=>sf(sp,(L,G)=>w(G),S),Km=w=>Ks(w,"table"),af=(w,S)=>{const L=yo(w,S);return L.length>0?U.some(L):U.none()},$i=(w,S,L)=>mo(w,S).bind(G=>mo(w,L).bind(we=>rf(Km,[G,we]).map(Qe=>({first:G,last:we,table:Qe})))),rp=(w,S)=>af(w,S),vy=(w,S,L)=>$i(w,S,L).bind(G=>{const we=vo=>Yo(w,vo),Qe="thead,tfoot,tbody,table",Pt=Ks(G.first,Qe,we),qt=Ks(G.last,Qe,we);return Pt.bind(vo=>qt.bind(Ao=>Yo(vo,Ao)?yy(G.table,G.first,G.last):U.none()))}),ap=w=>lt(w,mn.fromDom),Ym="data-mce-selected",cf="td["+Ym+"],th["+Ym+"]",nm="data-mce-first-selected",bd="td["+nm+"],th["+nm+"]",yr="data-mce-last-selected",Fr="td["+yr+"],th["+yr+"]",Vc={selected:Ym,selectedSelector:cf,firstSelected:nm,firstSelectedSelector:bd,lastSelected:yr,lastSelectedSelector:Fr},Xm=w=>en(w).bind(S=>rp(S,Vc.firstSelectedSelector)).fold(ot(w),S=>S[0]),Jm=w=>(S,L)=>{const G=Tt(S),we=G==="col"||G==="colgroup"?Xm(S):S;return fe(we,w,L)},Xa=Jm("th,td,caption"),Vu=Jm("th,td"),Tc=w=>ap(w.model.table.getSelectedCells()),vl=(w,S)=>{const L=Vu(w),G=L.bind(we=>en(we)).map(we=>Wo(we));return Oa(L,G,(we,Qe)=>ft(Qe,Pt=>fn(ap(Pt.dom.cells),qt=>la(qt,S)==="1"||Yo(qt,we)))).getOr([])},om=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Fo=w=>({value:Qm(w)}),Uc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,yu=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,yd=w=>Uc.test(w)||yu.test(w),Qm=w=>Da(w,"#").toUpperCase(),x=w=>yd(w)?U.some({value:Qm(w)}):U.none(),R=w=>{const S=w.toString(16);return(S.length===1?"0"+S:S).toUpperCase()},H=w=>{const S=R(w.red)+R(w.green)+R(w.blue);return Fo(S)},ce=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,me=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Dt=(w,S,L,G)=>({red:w,green:S,blue:L,alpha:G}),co=(w,S,L,G)=>{const we=parseInt(w,10),Qe=parseInt(S,10),Pt=parseInt(L,10),qt=parseFloat(G);return Dt(we,Qe,Pt,qt)},Nn=w=>{if(w==="transparent")return U.some(Dt(0,0,0,0));const S=ce.exec(w);if(S!==null)return U.some(co(S[1],S[2],S[3],"1"));const L=me.exec(w);return L!==null?U.some(co(L[1],L[2],L[3],L[4])):U.none()},Xn=w=>x(w).orThunk(()=>Nn(w).map(H)).getOrThunk(()=>{const S=document.createElement("canvas");S.height=1,S.width=1;const L=S.getContext("2d");L.clearRect(0,0,S.width,S.height),L.fillStyle="#FFFFFF",L.fillStyle=w,L.fillRect(0,0,1,1);const G=L.getImageData(0,0,1,1).data,we=G[0],Qe=G[1],Pt=G[2],qt=G[3];return H(Dt(we,Qe,Pt,qt))}),io=w=>Nn(w).map(H).map(S=>"#"+S.value).getOr(w),Sr=w=>{let S=w;return{get:()=>S,set:we=>{S=we}}},Vs=w=>{const S=Sr(U.none()),L=()=>S.get().each(w);return{clear:()=>{L(),S.set(U.none())},isSet:()=>S.get().isSome(),get:()=>S.get(),set:qt=>{L(),S.set(U.some(qt))}}},Ii=()=>Vs(w=>w.unbind()),vd=(w,S,L)=>G=>{const we=Ii(),Qe=Yi(L),Pt=()=>{const qt=Tc(w),vo=Ao=>w.formatter.match(S,{value:L},Ao.dom,Qe);Qe?(G.setActive(!fn(qt,vo)),we.set(w.formatter.formatChanged(S,Ao=>G.setActive(!Ao),!0))):(G.setActive(Me(qt,vo)),we.set(w.formatter.formatChanged(S,G.setActive,!1,{value:L})))};return w.initialized?Pt():w.on("init",Pt),we.clear},sr=w=>Bn(w,"menu"),vu=w=>lt(w,S=>{const L=S.text||S.title||"";return sr(S)?{text:L,items:vu(S.menu)}:{text:L,value:S.value}}),Es=(w,S,L,G)=>lt(S,we=>{const Qe=we.text||we.title;return sr(we)?{type:"nestedmenuitem",text:Qe,getSubmenuItems:()=>Es(w,we.menu,L,G)}:{text:Qe,type:"togglemenuitem",onAction:()=>G(we.value),onSetup:vd(w,L,we.value)}}),Jc=(w,S)=>L=>{w.execCommand("mceTableApplyCellStyle",!1,{[S]:L})},lf=w=>ae(w,S=>sr(S)?[{...S,menu:lf(S.menu)}]:Ni(S.value)?[S]:[]),kd=(w,S,L,G)=>we=>we(Es(w,S,L,G)),Qo=(w,S,L)=>{const G=lt(S,we=>({text:we.title,value:"#"+Xn(we.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:G.length>0?G:void 0,allowCustomColors:!1},onAction:we=>{const Qe=we.value==="remove"?"":we.value;w.execCommand("mceTableApplyCellStyle",!1,{[L]:Qe})}}]},uf=w=>()=>{const L=w.queryCommandValue("mceTableRowType")==="header"?"body":"header";w.execCommand("mceTableRowType",!1,{type:L})},xh=w=>()=>{const L=w.queryCommandValue("mceTableColType")==="th"?"td":"th";w.execCommand("mceTableColType",!1,{type:L})},Th=w=>{const S=vu(yl(w));return S.length>0?U.some({name:"class",type:"listbox",label:"Class",items:S}):U.none()},y_=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:om}],ky=w=>y_.concat(Th(w).toArray()),cp=(w,S)=>{const G=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(vu(Pi(w)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:S==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(G):G}},eg={normal:(w,S)=>{const L=w.dom;return{setAttrib:(Pt,qt)=>{L.setAttrib(S,Pt,qt)},setStyle:(Pt,qt)=>{L.setStyle(S,Pt,qt)},setFormat:(Pt,qt)=>{qt===""?w.formatter.remove(Pt,{value:null},S,!0):w.formatter.apply(Pt,{value:qt},S)}}}},df=Ur("th"),sm=(w,S)=>w&&S?"sectionCells":w?"section":"cells",wy=w=>{const S=w.section==="thead",L=mi(kl(w.cells),"th");return w.section==="tfoot"?{type:"footer"}:S||L?{type:"header",subType:sm(S,L)}:{type:"body"}},kl=w=>{const S=ft(w,L=>df(L.element));return S.length===0?U.some("td"):S.length===w.length?U.some("th"):U.none()},Hv=w=>{const S=lt(w,we=>wy(we).type),L=wt(S,"header"),G=wt(S,"footer");if(!L&&!G)return U.some("body");{const we=wt(S,"body");return L&&!we&&!G?U.some("header"):!L&&!we&&G?U.some("footer"):U.none()}},rm=w=>{let S=!1,L;return(...G)=>(S||(S=!0,L=w.apply(null,G)),L)},el=(w,S)=>Se(w.all,L=>be(L.cells,G=>Yo(S,G.element))),Ah=(w,S,L)=>{const G=lt(S.selection,Qe=>Y(Qe).bind(Pt=>el(w,Pt)).filter(L)),we=fs(G);return Mr(we.length>0,we)},Oh=(w,S)=>S.mergable,zh=(w,S)=>S.unmergable,ip=(w,S)=>Ah(w,S,gt),Dh=(w,S)=>el(w,S).exists(L=>!L.isLocked),Rh=(w,S)=>Me(S,L=>Dh(w,L)),Nh=(w,S)=>Oh(w,S).filter(L=>Rh(w,L.cells)),La=(w,S)=>zh(w,S).filter(L=>Rh(w,L));({...{generate:w=>{if(!nt(w))throw new Error("cases must be an array");if(w.length===0)throw new Error("there must be at least one case");const S=[],L={};return F(w,(G,we)=>{const Qe=at(G);if(Qe.length!==1)throw new Error("one and only one name per case");const Pt=Qe[0],qt=G[Pt];if(L[Pt]!==void 0)throw new Error("duplicate key detected:"+Pt);if(Pt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!nt(qt))throw new Error("case arguments must be an array");S.push(Pt),L[Pt]=(...vo)=>{const Ao=vo.length;if(Ao!==qt.length)throw new Error("Wrong number of arguments to case "+Pt+". Expected "+qt.length+" ("+qt+"), got "+Ao);return{fold:(...ks)=>{if(ks.length!==w.length)throw new Error("Wrong number of arguments to fold. Expected "+w.length+", got "+ks.length);return ks[we].apply(null,vo)},match:ks=>{const Ps=at(ks);if(S.length!==Ps.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Ps.join(","));if(!Me(S,nl=>wt(Ps,nl)))throw new Error("Not all branches were specified when using match. Specified: "+Ps.join(", ")+`
Required: `+S.join(", "));return ks[Pt].apply(null,vo)},log:ks=>{console.log(ks,{constructors:S,constructor:Pt,params:vo})}}}}),L}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const gn=(w,S)=>{const L=Kr.fromTable(w);return ip(L,S).bind(we=>{const Qe=we[we.length-1],Pt=we[0].row,qt=Qe.row+Qe.rowspan,vo=L.all.slice(Pt,qt);return Hv(vo)}).getOr("")},ff=w=>Sc(w,"rgb")?io(w):w,wl=w=>{const S=mn.fromDom(w);return{borderwidth:Le(S,"border-width").getOr(""),borderstyle:Le(S,"border-style").getOr(""),bordercolor:Le(S,"border-color").map(ff).getOr(""),backgroundcolor:Le(S,"background-color").map(ff).getOr("")}},Uu=w=>{const S=w[0],L=w.slice(1);return F(L,G=>{F(at(S),we=>{Zt(G,(Qe,Pt)=>{const qt=S[we];qt!==""&&we===Pt&&qt!==Qe&&(S[we]="")})})}),S},Qc=(w,S,L,G)=>be(w,we=>!vn(L.formatter.matchNode(G,S+we))).getOr(""),am=j(Qc,["left","center","right"],"align"),wu=j(Qc,["top","middle","bottom"],"valign"),Ja=(w,S)=>{const L=Wm(w),G=Hu(w),we=()=>({borderstyle:un(L,"border-style").getOr(""),bordercolor:ff(un(L,"border-color").getOr("")),backgroundcolor:ff(un(L,"background-color").getOr(""))}),Qe={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Pt=()=>{const xr=L["border-width"];return bl(w)&&xr?{border:xr}:un(G,"border").fold(()=>({}),ks=>({border:ks}))},qt=S?we():{},vo=()=>{const xr=un(L,"border-spacing").or(un(G,"cellspacing")).fold(()=>({}),Ps=>({cellspacing:Ps})),ks=un(L,"border-padding").or(un(G,"cellpadding")).fold(()=>({}),Ps=>({cellpadding:Ps}));return{...xr,...ks}};return{...Qe,...L,...G,...qt,...Pt(),...vo()}},tl=w=>en(mn.fromDom(w)).map(S=>{const L={selection:ap(w.cells)};return gn(S,L)}).getOr(""),tg=(w,S,L)=>{const G=(qt,vo)=>{const Ao=Le(mn.fromDom(vo),"border-width");return bl(w)&&Ao.isSome()?Ao.getOr(""):qt.getAttrib(vo,"border")||ra(w.dom,vo,"border-width")||ra(w.dom,vo,"border")||""},we=w.dom,Qe=bl(w)?we.getStyle(S,"border-spacing")||we.getAttrib(S,"cellspacing"):we.getAttrib(S,"cellspacing")||we.getStyle(S,"border-spacing"),Pt=bl(w)?ra(we,S,"padding")||we.getAttrib(S,"cellpadding"):we.getAttrib(S,"cellpadding")||ra(we,S,"padding");return{width:we.getStyle(S,"width")||we.getAttrib(S,"width"),height:we.getStyle(S,"height")||we.getAttrib(S,"height"),cellspacing:Qe??"",cellpadding:Pt??"",border:G(we,S),caption:!!we.select("caption",S)[0],class:we.getAttrib(S,"class",""),align:am(w,S),...L?wl(S):{}}},lp=(w,S,L)=>{const G=w.dom;return{height:G.getStyle(S,"height")||G.getAttrib(S,"height"),class:G.getAttrib(S,"class",""),type:tl(S),align:am(w,S),...L?wl(S):{}}},Bt=(w,S,L,G)=>{const we=w.dom,Qe=G.getOr(S),Pt=(qt,vo)=>we.getStyle(qt,vo)||we.getAttrib(qt,vo);return{width:Pt(Qe,"width"),height:Pt(S,"height"),scope:we.getAttrib(S,"scope"),celltype:Xt(S),class:we.getAttrib(S,"class",""),halign:am(w,S),valign:wu(w,S),...L?wl(S):{}}},Mh=(w,S)=>{const L=Kr.fromTable(w),G=Kr.justCells(L),we=ft(G,Qe=>fn(S,Pt=>Yo(Qe.element,Pt)));return lt(we,Qe=>({element:Qe.element.dom,column:Kr.getColumnAt(L,Qe.column).map(Pt=>Pt.element.dom)}))},mf=(w,S,L,G)=>{G("scope")&&w.setAttrib("scope",L.scope),G("class")&&w.setAttrib("class",L.class),G("height")&&w.setStyle("height",On(L.height)),G("width")&&S.setStyle("width",On(L.width))},ju=(w,S,L)=>{L("backgroundcolor")&&w.setFormat("tablecellbackgroundcolor",S.backgroundcolor),L("bordercolor")&&w.setFormat("tablecellbordercolor",S.bordercolor),L("borderstyle")&&w.setFormat("tablecellborderstyle",S.borderstyle),L("borderwidth")&&w.setFormat("tablecellborderwidth",On(S.borderwidth))},_l=(w,S,L,G)=>{const we=S.length===1;F(S,Qe=>{const Pt=Qe.element,qt=we?gt:G,vo=eg.normal(w,Pt),Ao=Qe.column.map(xr=>eg.normal(w,xr)).getOr(vo);mf(vo,Ao,L,qt),mu(w)&&ju(vo,L,qt),G("halign")&&Ka(w,Pt,L.halign),G("valign")&&$l(w,Pt,L.valign)})},up=(w,S)=>{w.execCommand("mceTableCellType",!1,{type:S.celltype,no_events:!0})},Qr=(w,S,L,G)=>{const we=Ro(G,(Qe,Pt)=>L[Pt]!==Qe);T(we)>0&&S.length>=1&&en(S[0]).each(Qe=>{const Pt=Mh(Qe,S),qt=T(Ro(we,(Ao,xr)=>xr!=="scope"&&xr!=="celltype"))>0,vo=st(we,"celltype");(qt||st(we,"scope"))&&_l(w,Pt,G,j(st,we)),vo&&up(w,G),Xs(w,Qe.dom,{structure:vo,style:qt})})},jr=(w,S,L,G)=>{const we=G.getData();G.close(),w.undoManager.transact(()=>{Qr(w,S,L,we),w.focus()})},Qa=(w,S)=>{const L=en(S[0]).map(G=>lt(Mh(G,S),we=>Bt(w,we.element,mu(w),we.column)));return Uu(L.getOrDie())},As=w=>{const S=Tc(w);if(S.length===0)return;const L=Qa(w,S),G={type:"tabpanel",tabs:[{title:"General",name:"general",items:ky(w)},cp(w,"cell")]},we={type:"panel",items:[{type:"grid",columns:2,items:ky(w)}]};w.windowManager.open({title:"Cell Properties",size:"normal",body:mu(w)?G:we,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:L,onSubmit:j(jr,w,S,L)})},_u=w=>{const S=vu(Lu(w));return S.length>0?U.some({name:"class",type:"listbox",label:"Class",items:S}):U.none()},ac=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Cl=w=>ac.concat(_u(w).toArray()),cc=(w,S,L)=>{L("class")&&w.setAttrib("class",S.class),L("height")&&w.setStyle("height",On(S.height))},yc=(w,S,L)=>{L("backgroundcolor")&&w.setStyle("background-color",S.backgroundcolor),L("bordercolor")&&w.setStyle("border-color",S.bordercolor),L("borderstyle")&&w.setStyle("border-style",S.borderstyle)},dp=(w,S,L,G)=>{const Qe=S.length===1?gt:G;F(S,Pt=>{const qt=eg.normal(w,Pt);cc(qt,L,Qe),Il(w)&&yc(qt,L,Qe),G("align")&&Ka(w,Pt,L.align)})},vt=(w,S)=>{w.execCommand("mceTableRowType",!1,{type:S.type,no_events:!0})},fr=(w,S,L,G)=>{const we=Ro(G,(Qe,Pt)=>L[Pt]!==Qe);if(T(we)>0){const Qe=st(we,"type"),Pt=Qe?T(we)>1:!0;Pt&&dp(w,S,G,j(st,we)),Qe&&vt(w,G),en(mn.fromDom(S[0])).each(qt=>Xs(w,qt.dom,{structure:Qe,style:Pt}))}},Bh=(w,S,L,G)=>{const we=G.getData();G.close(),w.undoManager.transact(()=>{fr(w,S,L,we),w.focus()})},ua=w=>{const S=vl(no(w),Vc.selected);if(S.length===0)return;const L=lt(S,Pt=>lp(w,Pt.dom,Il(w))),G=Uu(L),we={type:"tabpanel",tabs:[{title:"General",name:"general",items:Cl(w)},cp(w,"row")]},Qe={type:"panel",items:[{type:"grid",columns:2,items:Cl(w)}]};w.windowManager.open({title:"Row Properties",size:"normal",body:Il(w)?we:Qe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:j(Bh,w,lt(S,Pt=>Pt.dom),G)})},wd=(w,S,L)=>{const G=L?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],we=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Qe=tf(w)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Pt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],qt=S.length>0?[{type:"listbox",name:"class",label:"Class",items:S}]:[];return G.concat(we).concat(Qe).concat(Pt).concat(qt)},fp=(w,S,L,G)=>{if(S.tagName==="TD"||S.tagName==="TH")Fn(L)&&_o(G)?w.setStyle(S,L,G):w.setStyles(S,L);else if(S.children)for(let we=0;we<S.children.length;we++)fp(w,S.children[we],L,G)},wi=(w,S,L,G)=>{const we=w.dom,Qe={},Pt={},qt=bl(w),vo=Na(w);if(vn(L.class)||(Qe.class=L.class),Pt.height=On(L.height),qt?Pt.width=On(L.width):we.getAttrib(S,"width")&&(Qe.width=wn(L.width)),qt?(Pt["border-width"]=On(L.border),Pt["border-spacing"]=On(L.cellspacing)):(Qe.border=L.border,Qe.cellpadding=L.cellpadding,Qe.cellspacing=L.cellspacing),qt&&S.children){const Ao={};if(G.border&&(Ao["border-width"]=On(L.border)),G.cellpadding&&(Ao.padding=On(L.cellpadding)),vo&&G.bordercolor&&(Ao["border-color"]=L.bordercolor),!Yt(Ao))for(let xr=0;xr<S.children.length;xr++)fp(we,S.children[xr],Ao)}if(vo){const Ao=L;Pt["background-color"]=Ao.backgroundcolor,Pt["border-color"]=Ao.bordercolor,Pt["border-style"]=Ao.borderstyle}we.setStyles(S,{...Wm(w),...Pt}),we.setAttribs(S,{...Hu(w),...Qe})},_y=(w,S,L,G)=>{const we=w.dom,Qe=G.getData(),Pt=Ro(Qe,(qt,vo)=>L[vo]!==qt);G.close(),Qe.class===""&&delete Qe.class,w.undoManager.transact(()=>{if(!S){const qt=qa(Qe.cols).getOr(1),vo=qa(Qe.rows).getOr(1);w.execCommand("mceInsertTable",!1,{rows:vo,columns:qt}),S=Vu(no(w),_n(w)).bind(Ao=>en(Ao,_n(w))).map(Ao=>Ao.dom).getOrDie()}if(T(Pt)>0){const qt={border:st(Pt,"border"),bordercolor:st(Pt,"bordercolor"),cellpadding:st(Pt,"cellpadding")};wi(w,S,Qe,qt);const vo=we.select("caption",S)[0];(vo&&!Qe.caption||!vo&&Qe.caption)&&w.execCommand("mceTableToggleCaption"),Ka(w,S,Qe.align)}if(w.focus(),w.addVisual(),T(Pt)>0){const qt=st(Pt,"caption"),vo=qt?T(Pt)>1:!0;Xs(w,S,{structure:qt,style:vo})}})},Wu=(w,S)=>{const L=w.dom;let G,we=Ja(w,Na(w));S?(we.cols="1",we.rows="1",Na(w)&&(we.borderstyle="",we.bordercolor="",we.backgroundcolor="")):(G=L.getParent(w.selection.getStart(),"table",w.getBody()),G?we=tg(w,G,Na(w)):Na(w)&&(we.borderstyle="",we.bordercolor="",we.backgroundcolor=""));const Qe=vu(gu(w));Qe.length>0&&we.class&&(we.class=we.class.replace(/\s*mce\-item\-table\s*/g,""));const Pt={type:"grid",columns:2,items:wd(w,Qe,S)},qt=()=>({type:"panel",items:[Pt]}),vo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Pt]},cp(w,"table")]}),Ao=Na(w)?vo():qt();w.windowManager.open({title:"Table Properties",size:"normal",body:Ao,onSubmit:j(_y,w,G,we),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:we})},Cy=w=>{const S=L=>{Hs(no(w))&&L()};Zt({mceTableProps:j(Wu,w,!1),mceTableRowProps:j(ua,w),mceTableCellProps:j(As,w),mceInsertTableDialog:j(Wu,w,!0)},(L,G)=>w.addCommand(G,()=>S(L)))},Li=(w,S)=>ke(w,S).isSome(),Is=Ot,Cu=w=>{const S=(G,we)=>Jr(G,we).exists(Qe=>parseInt(Qe,10)>1),L=G=>S(G,"rowspan")||S(G,"colspan");return w.length>0&&Me(w,L)?U.some(w):U.none()},gf=(w,S,L)=>S.length<=1?U.none():vy(w,L.firstSelectedSelector,L.lastSelectedSelector).map(G=>({bounds:G,cells:S})),vc=w=>({element:w,mergable:U.none(),unmergable:U.none(),selection:[w]}),Ph=(w,S,L)=>({element:L,mergable:gf(S,w,Vc),unmergable:Cu(w),selection:Is(w)}),pf=w=>{const S=Sr(U.none()),L=Sr([]);let G=U.none();const we=Ur("caption"),Qe=Ms=>G.forall(Zs=>!Zs[Ms]),Pt=()=>Xa(no(w),_n(w)),qt=()=>Xa(ds(w),_n(w)),vo=()=>Pt().bind(Ms=>za(Oa(en(Ms),qt().bind(en),(Zs,Va)=>Yo(Zs,Va)?we(Ms)?U.some(vc(Ms)):U.some(Ph(Tc(w),Zs,Ms)):U.none()))),Ao=Ms=>en(Ms.element).map(Va=>{const ti=Kr.fromTable(Va),$h=ip(ti,Ms).getOr([]),ic=on($h,(Ec,Cd)=>(Cd.isLocked&&(Ec.onAny=!0,Cd.column===0?Ec.onFirst=!0:Cd.column+Cd.colspan>=ti.grid.columns&&(Ec.onLast=!0)),Ec),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Nh(ti,Ms).isSome(),unmergeable:La(ti,Ms).isSome(),locked:ic}}),xr=()=>{S.set(rm(vo)()),G=S.get().bind(Ao),F(L.get(),dt)},ks=Ms=>(Ms(),L.set(L.get().concat([Ms])),()=>{L.set(ft(L.get(),Zs=>Zs!==Ms))}),Ps=(Ms,Zs)=>ks(()=>S.get().fold(()=>{Ms.setEnabled(!1)},Va=>{Ms.setEnabled(!Zs(Va)&&w.selection.isEditable())})),ei=(Ms,Zs,Va)=>ks(()=>S.get().fold(()=>{Ms.setEnabled(!1),Ms.setActive(!1)},ti=>{Ms.setEnabled(!Zs(ti)&&w.selection.isEditable()),Ms.setActive(Va(ti))})),nl=Ms=>G.exists(Zs=>Zs.locked[Ms]),Sl=Ms=>Ps(Ms,Zs=>!1),Su=Ms=>Ps(Ms,Zs=>we(Zs.element)),Zu=Ms=>Zs=>Ps(Zs,Va=>we(Va.element)||nl(Ms)),hf=Ms=>Zs=>Ps(Zs,Va=>we(Va.element)||Ms().isNone()),_d=(Ms,Zs)=>Va=>Ps(Va,ti=>we(ti.element)||Ms().isNone()||nl(Zs)),bf=Ms=>Ps(Ms,Zs=>Qe("mergeable")),yf=Ms=>Ps(Ms,Zs=>Qe("unmergeable")),da=Ms=>ei(Ms,Mo,Zs=>en(Zs.element,_n(w)).exists(ti=>Li(ti,"caption"))),ji=(Ms,Zs)=>Va=>ei(Va,ti=>we(ti.element),()=>w.queryCommandValue(Ms)===Zs),ng=ji("mceTableRowType","header"),vf=ji("mceTableColType","th");return w.on("NodeChange ExecCommand TableSelectorChange",xr),{onSetupTable:Sl,onSetupCellOrRow:Su,onSetupColumn:Zu,onSetupPasteable:hf,onSetupPasteableColumn:_d,onSetupMergeable:bf,onSetupUnmergeable:yf,resetTargets:xr,onSetupTableWithCaption:da,onSetupTableRowHeaders:ng,onSetupTableColumnHeaders:vf,targets:S.get}};var Sy=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const _a="x-tinymce/dom-table-",Hi=_a+"rows",$e=_a+"columns",jc=w=>{var S;const L=(S=Sy.read())!==null&&S!==void 0?S:[];return Se(L,G=>U.from(G.getType(w)))},_i=()=>jc(Hi),Vi=()=>jc($e),Ui=w=>S=>{const L=()=>{S.setEnabled(w.selection.isEditable())};return w.on("NodeChange",L),L(),()=>{w.off("NodeChange",L)}},Ca=(w,S)=>{w.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ui(w),fetch:qt=>qt("inserttable | cell row column | advtablesort | tableprops deletetable")});const L=qt=>()=>w.execCommand(qt),G=(qt,vo)=>{w.queryCommandSupported(vo.command)&&w.ui.registry.addButton(qt,{...vo,onAction:cn(vo.onAction)?vo.onAction:L(vo.command)})},we=(qt,vo)=>{w.queryCommandSupported(vo.command)&&w.ui.registry.addToggleButton(qt,{...vo,onAction:cn(vo.onAction)?vo.onAction:L(vo.command)})};G("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:S.onSetupTable}),G("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:S.onSetupTable}),G("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:S.onSetupCellOrRow}),G("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:S.onSetupMergeable}),G("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:S.onSetupUnmergeable}),G("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:S.onSetupCellOrRow}),G("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:S.onSetupCellOrRow}),G("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:S.onSetupCellOrRow}),G("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:S.onSetupCellOrRow}),G("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:S.onSetupColumn("onFirst")}),G("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:S.onSetupColumn("onLast")}),G("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:S.onSetupColumn("onAny")}),G("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:S.onSetupCellOrRow}),G("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:S.onSetupCellOrRow}),G("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:S.onSetupPasteable(_i)}),G("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:S.onSetupPasteable(_i)}),G("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:S.onSetupColumn("onAny")}),G("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:S.onSetupColumn("onAny")}),G("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:S.onSetupPasteableColumn(Vi,"onFirst")}),G("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:S.onSetupPasteableColumn(Vi,"onLast")}),G("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ui(w)});const Qe=lf(gu(w));Qe.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:kd(w,Qe,"tableclass",qt=>w.execCommand("mceTableToggleClass",!1,qt)),onSetup:S.onSetupTable});const Pt=lf(yl(w));Pt.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:kd(w,Pt,"tablecellclass",qt=>w.execCommand("mceTableCellToggleClass",!1,qt)),onSetup:S.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:kd(w,om,"tablecellverticalalign",Jc(w,"vertical-align")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:kd(w,gd(w),"tablecellborderwidth",Jc(w,"border-width")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:kd(w,Pi(w),"tablecellborderstyle",Jc(w,"border-style")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:qt=>qt(Qo(w,Um(w),"background-color")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:qt=>qt(Qo(w,Hl(w),"border-color")),onSetup:S.onSetupCellOrRow})),we("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:S.onSetupTableWithCaption}),we("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:uf(w),onSetup:S.onSetupTableRowHeaders}),we("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xh(w),onSetup:S.onSetupTableColumnHeaders})},Ha=w=>{const S=G=>w.dom.is(G,"table")&&w.getBody().contains(G)&&w.dom.isEditable(G.parentNode),L=Ll(w);L.length>0&&w.ui.registry.addContextToolbar("table",{predicate:S,items:L,scope:"node",position:"node"})},cm=w=>S=>{const L=()=>{S.setEnabled(w.selection.isEditable())};return w.on("NodeChange",L),L(),()=>{w.off("NodeChange",L)}},Ci=(w,S)=>{const L=ks=>()=>w.execCommand(ks),G=(ks,Ps)=>w.queryCommandSupported(Ps.command)?(w.ui.registry.addMenuItem(ks,{...Ps,onAction:cn(Ps.onAction)?Ps.onAction:L(Ps.command)}),!0):!1,we=(ks,Ps)=>{w.queryCommandSupported(Ps.command)&&w.ui.registry.addToggleMenuItem(ks,{...Ps,onAction:cn(Ps.onAction)?Ps.onAction:L(Ps.command)})},Qe=ks=>{w.execCommand("mceInsertTable",!1,{rows:ks.numRows,columns:ks.numColumns})},Pt=[G("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:S.onSetupCellOrRow}),G("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:S.onSetupCellOrRow}),G("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:S.onSetupCellOrRow}),G("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:S.onSetupCellOrRow}),G("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:S.onSetupCellOrRow}),G("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:S.onSetupCellOrRow}),G("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:S.onSetupPasteable(_i)}),G("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:S.onSetupPasteable(_i)})],qt=[G("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:S.onSetupColumn("onFirst")}),G("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:S.onSetupColumn("onLast")}),G("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:S.onSetupColumn("onAny")}),G("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:S.onSetupColumn("onAny")}),G("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:S.onSetupColumn("onAny")}),G("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:S.onSetupPasteableColumn(Vi,"onFirst")}),G("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:S.onSetupPasteableColumn(Vi,"onLast")})],vo=[G("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:S.onSetupCellOrRow}),G("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:S.onSetupMergeable}),G("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:S.onSetupUnmergeable})];bc(w)?w.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Qe}],onSetup:cm(w)}):w.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:L("mceInsertTableDialog"),onSetup:cm(w)}),w.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:L("mceInsertTableDialog"),onSetup:cm(w)}),G("tableprops",{text:"Table properties",onSetup:S.onSetupTable,command:"mceTableProps"}),G("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:S.onSetupTable,command:"mceTableDelete"}),wt(Pt,!0)&&w.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:ot("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),wt(qt,!0)&&w.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:ot("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),wt(vo,!0)&&w.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:ot("tablecellprops tablemergecells tablesplitcells")}),w.ui.registry.addContextMenu("table",{update:()=>(S.resetTargets(),S.targets().fold(ot(""),ks=>Tt(ks.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Ao=lf(gu(w));Ao.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Es(w,Ao,"tableclass",ks=>w.execCommand("mceTableToggleClass",!1,ks)),onSetup:S.onSetupTable});const xr=lf(yl(w));xr.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Es(w,xr,"tablecellclass",ks=>w.execCommand("mceTableCellToggleClass",!1,ks)),onSetup:S.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Es(w,om,"tablecellverticalalign",Jc(w,"vertical-align")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Es(w,gd(w),"tablecellborderwidth",Jc(w,"border-width")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Es(w,Pi(w),"tablecellborderstyle",Jc(w,"border-style")),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Qo(w,Um(w),"background-color"),onSetup:S.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Qo(w,Hl(w),"border-color"),onSetup:S.onSetupCellOrRow})),we("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:S.onSetupTableWithCaption}),we("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:uf(w),onSetup:S.onSetupTableRowHeaders}),we("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xh(w),onSetup:S.onSetupTableRowHeaders})},Fh=w=>{const S=pf(w);Yr(w),Cy(w),Ci(w,S),Ca(w,S),Ha(w)};var po=()=>{es.add("table",Fh)};po()})();(function(){const es=Ue=>{let Q=Ue;return{get:()=>Q,set:zt=>{Q=zt}}};var Do=tinymce.util.Tools.resolve("tinymce.PluginManager");let So=0;const Ln=Ue=>{const Se=new Date().getTime(),Ie=Math.floor(Math.random()*1e9);return So++,Ue+"_"+Ie+So+String(Se)},uo=Ue=>({addTab:Se=>{var Ie;const zt=(Ie=Se.name)!==null&&Ie!==void 0?Ie:Ln("tab-name"),$n=Ue.get();$n[zt]=Se,Ue.set($n)}}),ho=(Ue,Q)=>{Ue.addCommand("mceHelp",Q)},Fn=Ue=>Q=>Q.options.get(Ue),nt=Ue=>{const Q=Ue.options.register;Q("help_tabs",{processor:"array"})},pn=Fn("help_tabs"),vn=Fn("forced_plugins"),En=(Ue,Q)=>{Ue.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Q}),Ue.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Q})},_o=(Ue,Q,Se)=>{var Ie;return Se(Ue,Q.prototype)?!0:((Ie=Ue.constructor)===null||Ie===void 0?void 0:Ie.name)===Q.name},cn=Ue=>{const Q=typeof Ue;return Ue===null?"null":Q==="object"&&Array.isArray(Ue)?"array":Q==="object"&&_o(Ue,String,(Se,Ie)=>Ie.isPrototypeOf(Se))?"string":Q},jt=Ue=>Q=>cn(Q)===Ue,It=Ue=>Q=>typeof Q===Ue,tn=Ue=>Q=>Ue===Q,ot=jt("string"),Ot=tn(void 0),xt=Ue=>Ue==null,j=Ue=>!xt(Ue),dt=It("function"),gt=(Ue=>()=>Ue)(!1);class U{constructor(Q,Se){this.tag=Q,this.value=Se}static some(Q){return new U(!0,Q)}static none(){return U.singletonNone}fold(Q,Se){return this.tag?Se(this.value):Q()}isSome(){return this.tag}isNone(){return!this.tag}map(Q){return this.tag?U.some(Q(this.value)):U.none()}bind(Q){return this.tag?Q(this.value):U.none()}exists(Q){return this.tag&&Q(this.value)}forall(Q){return!this.tag||Q(this.value)}filter(Q){return!this.tag||Q(this.value)?this:U.none()}getOr(Q){return this.tag?this.value:Q}or(Q){return this.tag?this:Q}getOrThunk(Q){return this.tag?this.value:Q()}orThunk(Q){return this.tag?this:Q()}getOrDie(Q){if(this.tag)return this.value;throw new Error(Q??"Called getOrDie on None")}static from(Q){return j(Q)?U.some(Q):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Q){this.tag&&Q(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const at=Array.prototype.slice,bn=Array.prototype.indexOf,Zt=(Ue,Q)=>bn.call(Ue,Q),Pe=(Ue,Q)=>Zt(Ue,Q)>-1,ie=(Ue,Q)=>{const Se=Ue.length,Ie=new Array(Se);for(let zt=0;zt<Se;zt++){const $n=Ue[zt];Ie[zt]=Q($n,zt)}return Ie},Ro=(Ue,Q)=>{const Se=[];for(let Ie=0,zt=Ue.length;Ie<zt;Ie++){const $n=Ue[Ie];Q($n,Ie)&&Se.push($n)}return Se},Ce=(Ue,Q,Se)=>{for(let Ie=0,zt=Ue.length;Ie<zt;Ie++){const $n=Ue[Ie];if(Q($n,Ie))return U.some($n);if(Se($n,Ie))break}return U.none()},Oe=(Ue,Q)=>Ce(Ue,Q,gt),T=(Ue,Q)=>{const Se=at.call(Ue,0);return Se.sort(Q),Se},un=Object.keys,st=Object.hasOwnProperty,Bn=(Ue,Q)=>Yt(Ue,Q)?U.from(Ue[Q]):U.none(),Yt=(Ue,Q)=>st.call(Ue,Q),Xe=Ue=>{const Q=[],Se=Ie=>{Q.push(Ie)};for(let Ie=0;Ie<Ue.length;Ie++)Ue[Ie].each(Se);return Q};var fo=tinymce.util.Tools.resolve("tinymce.Resource"),Zo=tinymce.util.Tools.resolve("tinymce.util.I18n");const wt=(Ue,Q)=>fo.load(`tinymce.html-i18n.help-keynav.${Q}`,`${Ue}/js/i18n/keynav/${Q}.js`),fn=Ue=>wt(Ue,Zo.getCode()).catch(()=>wt(Ue,"en")),De=(Ue,Q)=>{Ue.on("init",()=>{fn(Q)})},lt=async Ue=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await fn(Ue)}]});var F=tinymce.util.Tools.resolve("tinymce.Env");const qo=Ue=>{const Q=F.os.isMacOS()||F.os.isiOS(),zt=Q?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},$n=Ue.split("+"),Dn=ie($n,Rn=>{const An=Rn.toLowerCase().trim();return Yt(zt,An)?zt[An]:Rn});return Q?Dn.join("").replace(/\s/,""):Dn.join("+")},Qn=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],ft=()=>{const Ue=ie(Qn,Se=>{const Ie=ie(Se.shortcuts,qo).join(" or ");return[Se.action,Ie]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Ue}]}},mt=ie([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Ue=>({...Ue,type:Ue.type||"opensource",slug:Ue.slug||Ue.key})),on=Ue=>{const Q=()=>{const Po=Ro(mt,({type:to})=>to==="premium"),qn=T(ie(Po,to=>to.name),(to,mn)=>to.localeCompare(mn)),Gn=ie(qn,to=>`<li>${to}</li>`).join("");return"<div><p><b>"+Zo.translate("Premium plugins:")+"</b></p><ul>"+Gn+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+Zo.translate("Learn more...")+"</a></li></ul></div>"},Se=Po=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Po.url}" target="_blank" rel="noopener">${Po.name}</a>`,Ie=(Po,qn)=>{const Gn=Po.plugins[qn].getMetadata;if(dt(Gn)){const to=Gn();return{name:to.name,html:Se(to)}}else return{name:qn,html:qn}},zt=(Po,qn)=>Oe(mt,Gn=>Gn.key===qn).fold(()=>Ie(Po,qn),Gn=>{const to=Gn.type==="premium"?`${Gn.name}*`:Gn.name,mn=Se({name:to,url:`https://www.tiny.cloud/docs/tinymce/6/${Gn.slug}/`});return{name:to,html:mn}}),$n=Po=>{const qn=un(Po.plugins),Gn=vn(Po);return Ot(Gn)?qn:Ro(qn,to=>!Pe(Gn,to))},Dn=Po=>{const qn=$n(Po),Gn=T(ie(qn,Rs=>zt(Po,Rs)),(Rs,Ts)=>Rs.name.localeCompare(Ts.name)),to=ie(Gn,Rs=>"<li>"+Rs.html+"</li>"),mn=to.length,bo=to.join("");return"<p><b>"+Zo.translate(["Plugins installed ({0}):",mn])+"</b></p><ul>"+bo+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Po=>Po==null?"":"<div>"+Dn(Po)+"</div>")(Ue),Q()].join("")}]}};var X=tinymce.util.Tools.resolve("tinymce.EditorManager");const be=()=>{const Se='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+((zt,$n)=>zt.indexOf("@")===0?"X.X.X":zt+"."+$n)(X.majorVersion,X.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+Zo.translate(["You are using {0}",Se])+"</p>",presets:"document"}]}},ve=(Ue,Q)=>{const Se={},Ie=ie(Ue,zt=>{var $n;if(ot(zt))return Yt(Q,zt)&&(Se[zt]=Q[zt]),zt;{const Dn=($n=zt.name)!==null&&$n!==void 0?$n:Ln("tab-name");return Se[Dn]=zt,Dn}});return{tabs:Se,names:Ie}},ae=Ue=>{const Q=un(Ue),Se=Q.indexOf("versions");return Se!==-1&&(Q.splice(Se,1),Q.push("versions")),{tabs:Ue,names:Q}},Me=async(Ue,Q,Se)=>{const Ie=ft(),zt=await lt(Se),$n=on(Ue),Dn=be(),Rn={[Ie.name]:Ie,[zt.name]:zt,[$n.name]:$n,[Dn.name]:Dn,...Q.get()};return U.from(pn(Ue)).fold(()=>ae(Rn),An=>ve(An,Rn))},Fe=(Ue,Q,Se)=>()=>{Me(Ue,Q,Se).then(({tabs:Ie,names:zt})=>{const $n=ie(zt,An=>Bn(Ie,An)),Rn={type:"tabpanel",tabs:Xe($n)};Ue.windowManager.open({title:"Help",size:"medium",body:Rn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var qe=()=>{Do.add("help",(Ue,Q)=>{const Se=es({}),Ie=uo(Se);nt(Ue);const zt=Fe(Ue,Se,Q);return En(Ue,zt),ho(Ue,zt),Ue.shortcuts.add("Alt+0","Open help dialog","mceHelp"),De(Ue,Q),Ie})};qe()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const So=(X=>be=>X===be)(null),Ln=X=>X,uo=(X,be)=>{const ve=X.length,ae=new Array(ve);for(let Me=0;Me<ve;Me++){const Fe=X[Me];ae[Me]=be(Fe,Me)}return ae},Fn={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},nt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},pn=[new RegExp(Fn.aletter),new RegExp(Fn.midnumlet),new RegExp(Fn.midletter),new RegExp(Fn.midnum),new RegExp(Fn.numeric),new RegExp(Fn.cr),new RegExp(Fn.lf),new RegExp(Fn.newline),new RegExp(Fn.extend),new RegExp(Fn.format),new RegExp(Fn.katakana),new RegExp(Fn.extendnumlet),new RegExp("@")],vn="",En=new RegExp("^"+Fn.punctuation+"$"),_o=/^\s+$/,cn=pn,jt=nt.OTHER,It=X=>{let be=jt;const ve=cn.length;for(let ae=0;ae<ve;++ae){const Me=cn[ae];if(Me&&Me.test(X)){be=ae;break}}return be},tn=X=>{const be={};return ve=>{if(be[ve])return be[ve];{const ae=X(ve);return be[ve]=ae,ae}}},ot=X=>{const be=tn(It);return uo(X,be)},Ot=(X,be)=>{const ve=X[be],ae=X[be+1];if(be<0||be>X.length-1&&be!==0||ve===nt.ALETTER&&ae===nt.ALETTER)return!1;const Me=X[be+2];if(ve===nt.ALETTER&&(ae===nt.MIDLETTER||ae===nt.MIDNUMLET||ae===nt.AT)&&Me===nt.ALETTER)return!1;const Fe=X[be-1];return(ve===nt.MIDLETTER||ve===nt.MIDNUMLET||ae===nt.AT)&&ae===nt.ALETTER&&Fe===nt.ALETTER||(ve===nt.NUMERIC||ve===nt.ALETTER)&&(ae===nt.NUMERIC||ae===nt.ALETTER)||(ve===nt.MIDNUM||ve===nt.MIDNUMLET)&&ae===nt.NUMERIC&&Fe===nt.NUMERIC||ve===nt.NUMERIC&&(ae===nt.MIDNUM||ae===nt.MIDNUMLET)&&Me===nt.NUMERIC||(ve===nt.EXTEND||ve===nt.FORMAT)&&(ae===nt.ALETTER||ae===nt.NUMERIC||ae===nt.KATAKANA||ae===nt.EXTEND||ae===nt.FORMAT)||(ae===nt.EXTEND||ae===nt.FORMAT&&(Me===nt.ALETTER||Me===nt.NUMERIC||Me===nt.KATAKANA||Me===nt.EXTEND||Me===nt.FORMAT))&&(ve===nt.ALETTER||ve===nt.NUMERIC||ve===nt.KATAKANA||ve===nt.EXTEND||ve===nt.FORMAT)||ve===nt.CR&&ae===nt.LF?!1:ve===nt.NEWLINE||ve===nt.CR||ve===nt.LF||ae===nt.NEWLINE||ae===nt.CR||ae===nt.LF?!0:!(ve===nt.KATAKANA&&ae===nt.KATAKANA||ae===nt.EXTENDNUMLET&&(ve===nt.ALETTER||ve===nt.NUMERIC||ve===nt.KATAKANA||ve===nt.EXTENDNUMLET)||ve===nt.EXTENDNUMLET&&(ae===nt.ALETTER||ae===nt.NUMERIC||ae===nt.KATAKANA)||ve===nt.AT)},xt=vn,j=_o,dt=En,Mo=X=>X==="http"||X==="https",gt=(X,be)=>{let ve;for(ve=be;ve<X.length&&!j.test(X[ve]);ve++);return ve},U=(X,be)=>{const ve=gt(X,be+1);return X.slice(be+1,ve).join(xt).substr(0,3)==="://"?ve:be},at=(X,be,ve,ae)=>{const Me=[],Fe=[];let qe=[];for(let Ue=0;Ue<ve.length;++Ue)if(qe.push(X[Ue]),Ot(ve,Ue)){const Q=be[Ue];if((ae.includeWhitespace||!j.test(Q))&&(ae.includePunctuation||!dt.test(Q))){const Se=Ue-qe.length+1,Ie=Ue+1,zt=be.slice(Se,Ie).join(xt);if(Mo(zt)){const $n=U(be,Ue),Dn=X.slice(Ie,$n);Array.prototype.push.apply(qe,Dn),Ue=$n}Me.push(qe),Fe.push({start:Se,end:Ie})}qe=[]}return{words:Me,indices:Fe}},bn=()=>({includeWhitespace:!1,includePunctuation:!1}),Zt=(X,be,ve)=>{ve={...bn(),...ve};const ae=uo(X,be),Me=ot(ae);return at(X,ae,Me,ve)},ie=(X,be,ve)=>Zt(X,be,ve).words,Ro=X=>X.replace(/\uFEFF/g,"");var Ce=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Oe=(X,be)=>{const ve=be.getBlockElements(),ae=be.getVoidElements(),Me=Se=>ve[Se.nodeName]||ae[Se.nodeName],Fe=[];let qe="";const Ue=new Ce(X,X);let Q;for(;Q=Ue.next();)Q.nodeType===3?qe+=Ro(Q.data):Me(Q)&&qe.length&&(Fe.push(qe),qe="");return qe.length&&Fe.push(qe),Fe},T=X=>X.replace(/\u200B/g,""),un=X=>X.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,st=(X,be)=>{const ve=T(Oe(X,be).join(`
`));return ie(ve.split(""),Ln).length},Bn=(X,be)=>{const ve=Oe(X,be).join("");return un(ve)},Yt=(X,be)=>{const ve=Oe(X,be).join("").replace(/\s/g,"");return un(ve)},Xe=(X,be)=>()=>be(X.getBody(),X.schema),fo=(X,be)=>()=>be(X.selection.getRng().cloneContents(),X.schema),Zo=X=>Xe(X,st),wt=X=>({body:{getWordCount:Zo(X),getCharacterCount:Xe(X,Bn),getCharacterCountWithoutSpaces:Xe(X,Yt)},selection:{getWordCount:fo(X,st),getCharacterCount:fo(X,Bn),getCharacterCountWithoutSpaces:fo(X,Yt)},getCount:Zo(X)}),fn=(X,be)=>{X.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(be.body.getWordCount()),String(be.selection.getWordCount())],["Characters (no spaces)",String(be.body.getCharacterCountWithoutSpaces()),String(be.selection.getCharacterCountWithoutSpaces())],["Characters",String(be.body.getCharacterCount()),String(be.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},De=(X,be)=>{X.addCommand("mceWordCount",()=>fn(X,be))},lt=(X,be)=>{let ve=null;return{cancel:()=>{So(ve)||(clearTimeout(ve),ve=null)},throttle:(...Fe)=>{So(ve)&&(ve=setTimeout(()=>{ve=null,X.apply(null,Fe)},be))}}};var F=tinymce.util.Tools.resolve("tinymce.util.Delay");const qo=(X,be)=>{X.dispatch("wordCountUpdate",{wordCount:{words:be.body.getWordCount(),characters:be.body.getCharacterCount(),charactersWithoutSpaces:be.body.getCharacterCountWithoutSpaces()}})},Qn=(X,be)=>{qo(X,be)},ft=(X,be,ve)=>{const ae=lt(()=>Qn(X,be),ve);X.on("init",()=>{Qn(X,be),F.setEditorTimeout(X,()=>{X.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ae.throttle)},0),X.on("remove",ae.cancel)})},mt=X=>{const be=()=>X.execCommand("mceWordCount");X.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:be}),X.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:be})};var on=(X=300)=>{es.add("wordcount",be=>{const ve=wt(be);return De(be,ve),mt(be),ft(be,ve,X),ve})};on()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager"),Do=tinymce.util.Tools.resolve("tinymce.Env");const So=It=>tn=>tn.options.get(It),Ln=It=>{const tn=It.options.register;tn("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),tn("pagebreak_split_block",{processor:"boolean",default:!1})},uo=So("pagebreak_separator"),ho=So("pagebreak_split_block"),Fn="mce-pagebreak",nt=It=>{const tn=`<img src="${Do.transparentSrc}" class="${Fn}" data-mce-resize="false" data-mce-placeholder />`;return It?`<p>${tn}</p>`:tn},pn=It=>{const tn=uo(It),ot=()=>ho(It),Ot=new RegExp(tn.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,xt=>"\\"+xt),"gi");It.on("BeforeSetContent",xt=>{xt.content=xt.content.replace(Ot,nt(ot()))}),It.on("PreInit",()=>{It.serializer.addNodeFilter("img",xt=>{let j=xt.length,dt,Mo;for(;j--;)if(dt=xt[j],Mo=dt.attr("class"),Mo&&Mo.indexOf(Fn)!==-1){const gt=dt.parent;if(gt&&It.schema.getBlockElements()[gt.name]&&ot()){gt.type=3,gt.value=tn,gt.raw=!0,dt.remove();continue}dt.type=3,dt.value=tn,dt.raw=!0}})})},vn=It=>{It.addCommand("mcePageBreak",()=>{It.insertContent(nt(ho(It)))})},En=It=>{It.on("ResolveName",tn=>{tn.target.nodeName==="IMG"&&It.dom.hasClass(tn.target,Fn)&&(tn.name="pagebreak")})},_o=It=>tn=>{const ot=()=>{tn.setEnabled(It.selection.isEditable())};return It.on("NodeChange",ot),ot(),()=>{It.off("NodeChange",ot)}},cn=It=>{const tn=()=>It.execCommand("mcePageBreak");It.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:tn,onSetup:_o(It)}),It.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:tn,onSetup:_o(It)})};var jt=()=>{es.add("pagebreak",It=>{Ln(It),vn(It),cn(It),pn(It),En(It)})};jt()})();(function(){const es=Ee=>{let Ge=Ee;return{get:()=>Ge,set:Eo=>{Ge=Eo}}};var Do=tinymce.util.Tools.resolve("tinymce.PluginManager");const So=Ee=>({isEnabled:()=>Ee.get()}),Ln=(Ee,Ge)=>Ee.dispatch("VisualChars",{state:Ge}),uo=(Ee,Ge,Wt)=>{var kn;return Wt(Ee,Ge.prototype)?!0:((kn=Ee.constructor)===null||kn===void 0?void 0:kn.name)===Ge.name},ho=Ee=>{const Ge=typeof Ee;return Ee===null?"null":Ge==="object"&&Array.isArray(Ee)?"array":Ge==="object"&&uo(Ee,String,(Wt,kn)=>kn.isPrototypeOf(Wt))?"string":Ge},Fn=Ee=>Ge=>ho(Ge)===Ee,nt=Ee=>Ge=>typeof Ge===Ee,pn=Ee=>Ge=>Ee===Ge,vn=Fn("string"),En=Fn("object"),_o=pn(null),cn=nt("boolean"),jt=Ee=>Ee==null,It=Ee=>!jt(Ee),tn=nt("number");class ot{constructor(Ge,Wt){this.tag=Ge,this.value=Wt}static some(Ge){return new ot(!0,Ge)}static none(){return ot.singletonNone}fold(Ge,Wt){return this.tag?Wt(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?ot.some(Ge(this.value)):ot.none()}bind(Ge){return this.tag?Ge(this.value):ot.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:ot.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return It(Ge)?ot.some(Ge):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Ot=(Ee,Ge)=>{const Wt=Ee.length,kn=new Array(Wt);for(let Eo=0;Eo<Wt;Eo++){const Xo=Ee[Eo];kn[Eo]=Ge(Xo,Eo)}return kn},xt=(Ee,Ge)=>{for(let Wt=0,kn=Ee.length;Wt<kn;Wt++){const Eo=Ee[Wt];Ge(Eo,Wt)}},j=(Ee,Ge)=>{const Wt=[];for(let kn=0,Eo=Ee.length;kn<Eo;kn++){const Xo=Ee[kn];Ge(Xo,kn)&&Wt.push(Xo)}return Wt},dt=Object.keys,Mo=(Ee,Ge)=>{const Wt=dt(Ee);for(let kn=0,Eo=Wt.length;kn<Eo;kn++){const Xo=Wt[kn],wr=Ee[Xo];Ge(wr,Xo)}},gt=typeof window<"u"?window:Function("return this;")(),U=(Ee,Ge)=>{let Wt=Ge??gt;for(let kn=0;kn<Ee.length&&Wt!==void 0&&Wt!==null;++kn)Wt=Wt[Ee[kn]];return Wt},at=(Ee,Ge)=>{const Wt=Ee.split(".");return U(Wt,Ge)},bn=(Ee,Ge)=>at(Ee,Ge),Zt=(Ee,Ge)=>{const Wt=bn(Ee,Ge);if(Wt==null)throw new Error(Ee+" not available on this browser");return Wt},Pe=Object.getPrototypeOf,ie=Ee=>Zt("HTMLElement",Ee),Ro=Ee=>{const Ge=at("ownerDocument.defaultView",Ee);return En(Ee)&&(ie(Ge).prototype.isPrototypeOf(Ee)||/^HTML\w*Element$/.test(Pe(Ee).constructor.name))},Ce=1,Oe=3,T=Ee=>Ee.dom.nodeType,un=Ee=>Ee.dom.nodeValue,st=Ee=>Ge=>T(Ge)===Ee,Bn=Ee=>Yt(Ee)&&Ro(Ee.dom),Yt=st(Ce),Xe=st(Oe),fo=(Ee,Ge,Wt)=>{if(vn(Wt)||cn(Wt)||tn(Wt))Ee.setAttribute(Ge,Wt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ge,":: Value ",Wt,":: Element ",Ee),new Error("Attribute value was not simple")},Zo=(Ee,Ge,Wt)=>{fo(Ee.dom,Ge,Wt)},wt=(Ee,Ge)=>{const Wt=Ee.dom.getAttribute(Ge);return Wt===null?void 0:Wt},fn=(Ee,Ge)=>{Ee.dom.removeAttribute(Ge)},De=(Ee,Ge)=>{const Wt=wt(Ee,Ge);return Wt===void 0||Wt===""?[]:Wt.split(" ")},lt=(Ee,Ge,Wt)=>{const Eo=De(Ee,Ge).concat([Wt]);return Zo(Ee,Ge,Eo.join(" ")),!0},F=(Ee,Ge,Wt)=>{const kn=j(De(Ee,Ge),Eo=>Eo!==Wt);return kn.length>0?Zo(Ee,Ge,kn.join(" ")):fn(Ee,Ge),!1},qo=Ee=>Ee.dom.classList!==void 0,Qn=Ee=>De(Ee,"class"),ft=(Ee,Ge)=>lt(Ee,"class",Ge),mt=(Ee,Ge)=>F(Ee,"class",Ge),on=(Ee,Ge)=>{qo(Ee)?Ee.dom.classList.add(Ge):ft(Ee,Ge)},X=Ee=>{(qo(Ee)?Ee.dom.classList:Qn(Ee)).length===0&&fn(Ee,"class")},be=(Ee,Ge)=>{qo(Ee)?Ee.dom.classList.remove(Ge):mt(Ee,Ge),X(Ee)},ve=(Ee,Ge)=>{const kn=(Ge||document).createElement("div");if(kn.innerHTML=Ee,!kn.hasChildNodes()||kn.childNodes.length>1){const Eo="HTML does not have a single root node";throw console.error(Eo,Ee),new Error(Eo)}return Fe(kn.childNodes[0])},ae=(Ee,Ge)=>{const kn=(Ge||document).createElement(Ee);return Fe(kn)},Me=(Ee,Ge)=>{const kn=(Ge||document).createTextNode(Ee);return Fe(kn)},Fe=Ee=>{if(Ee==null)throw new Error("Node cannot be null or undefined");return{dom:Ee}},Ue={fromHtml:ve,fromTag:ae,fromText:Me,fromDom:Fe,fromPoint:(Ee,Ge,Wt)=>ot.from(Ee.dom.elementFromPoint(Ge,Wt)).map(Fe)},Q={" ":"nbsp","­":"shy"},Se=(Ee,Ge)=>{let Wt="";return Mo(Ee,(kn,Eo)=>{Wt+=Eo}),new RegExp("["+Wt+"]",Ge?"g":"")},Ie=Ee=>{let Ge="";return Mo(Ee,Wt=>{Ge&&(Ge+=","),Ge+="span.mce-"+Wt}),Ge},zt=Se(Q),$n=Se(Q,!0),Dn=Ie(Q),Rn="mce-nbsp",An=Ee=>Ee.dom.contentEditable,Po=Ee=>'<span data-mce-bogus="1" class="mce-'+Q[Ee]+'">'+Ee+"</span>",qn=Ee=>Ee.nodeName.toLowerCase()==="span"&&Ee.classList.contains("mce-nbsp-wrap"),Gn=Ee=>{const Ge=un(Ee);return Xe(Ee)&&vn(Ge)&&zt.test(Ge)},to=Ee=>Bn(Ee)&&An(Ee)==="false",mn=(Ee,Ge)=>{if(Bn(Ee)&&!qn(Ee.dom)){const Wt=An(Ee);if(Wt==="true")return!0;if(Wt==="false")return!1}return Ge},bo=(Ee,Ge,Wt)=>{let kn=[];const Eo=Ee.dom,Xo=Ot(Eo.childNodes,Ue.fromDom),wr=Gs=>qn(Gs.dom)||!to(Gs);return xt(Xo,Gs=>{Wt&&wr(Gs)&&Ge(Gs)&&(kn=kn.concat([Gs])),kn=kn.concat(bo(Gs,Ge,mn(Gs,Wt)))}),kn},as=(Ee,Ge)=>{for(;Ee.parentNode;){if(Ee.parentNode===Ge)return Ge;Ee=Ee.parentNode}},Rs=Ee=>Ee.replace($n,Po),Ts=(Ee,Ge)=>{const Wt=Ee.dom,kn=bo(Ue.fromDom(Ge),Gn,Ee.dom.isEditable(Ge));xt(kn,Eo=>{var Xo;const wr=Eo.dom.parentNode;if(qn(wr))on(Ue.fromDom(wr),Rn);else{const Gs=Rs(Wt.encode((Xo=un(Eo))!==null&&Xo!==void 0?Xo:"")),cr=Wt.create("div",{},Gs);let de;for(;de=cr.lastChild;)Wt.insertAfter(de,Eo.dom);Ee.dom.remove(Eo.dom)}})},Yo=(Ee,Ge)=>{const Wt=Ee.dom.select(Dn,Ge);xt(Wt,kn=>{qn(kn)?be(Ue.fromDom(kn),Rn):Ee.dom.remove(kn,!0)})},oa=Ee=>{const Ge=Ee.getBody(),Wt=Ee.selection.getBookmark();let kn=as(Ee.selection.getNode(),Ge);kn=kn!==void 0?kn:Ge,Yo(Ee,kn),Ts(Ee,kn),Ee.selection.moveToBookmark(Wt)},Tt=(Ee,Ge)=>{Ln(Ee,Ge.get());const Wt=Ee.getBody();Ge.get()===!0?Ts(Ee,Wt):Yo(Ee,Wt)},Lo=(Ee,Ge)=>{Ge.set(!Ge.get());const Wt=Ee.selection.getBookmark();Tt(Ee,Ge),Ee.selection.moveToBookmark(Wt)},kr=(Ee,Ge)=>{Ee.addCommand("mceVisualChars",()=>{Lo(Ee,Ge)})},Vr=Ee=>Ge=>Ge.options.get(Ee),qr=Ee=>{const Ge=Ee.options.register;Ge("visualchars_default_state",{processor:"boolean",default:!1})},Xr=Vr("visualchars_default_state"),_s=(Ee,Ge)=>{Ee.on("init",()=>{Tt(Ee,Ge)})},ia=(Ee,Ge)=>{let Wt=null;return{cancel:()=>{_o(Wt)||(clearTimeout(Wt),Wt=null)},throttle:(...Xo)=>{_o(Wt)&&(Wt=setTimeout(()=>{Wt=null,Ee.apply(null,Xo)},Ge))}}},Ur=(Ee,Ge)=>{const Wt=ia(()=>{oa(Ee)},300);Ee.on("keydown",kn=>{Ge.get()===!0&&(kn.keyCode===13?oa(Ee):Wt.throttle())}),Ee.on("remove",Wt.cancel)},Cs=(Ee,Ge)=>Wt=>{Wt.setActive(Ge.get());const kn=Eo=>Wt.setActive(Eo.state);return Ee.on("VisualChars",kn),()=>Ee.off("VisualChars",kn)},Kn=(Ee,Ge)=>{const Wt=()=>Ee.execCommand("mceVisualChars");Ee.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:Wt,onSetup:Cs(Ee,Ge)}),Ee.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:Wt,onSetup:Cs(Ee,Ge)})};var ar=()=>{Do.add("visualchars",Ee=>{qr(Ee);const Ge=es(Xr(Ee));return kr(Ee,Ge),Kn(Ee,Ge),Ur(Ee,Ge),_s(Ee,Ge),So(Ge)})};ar()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(Q,Se,Ie)=>{var zt;return Ie(Q,Se.prototype)?!0:((zt=Q.constructor)===null||zt===void 0?void 0:zt.name)===Se.name},So=Q=>{const Se=typeof Q;return Q===null?"null":Se==="object"&&Array.isArray(Q)?"array":Se==="object"&&Do(Q,String,(Ie,zt)=>zt.isPrototypeOf(Ie))?"string":Se},Ln=Q=>Se=>So(Se)===Q,uo=Q=>Se=>typeof Se===Q,ho=Ln("string"),Fn=Ln("object"),nt=Ln("array"),pn=Q=>Q==null,vn=Q=>!pn(Q),En=uo("function"),_o=(Q,Se)=>{if(nt(Q)){for(let Ie=0,zt=Q.length;Ie<zt;++Ie)if(!Se(Q[Ie]))return!1;return!0}return!1},cn=Q=>()=>Q;function jt(Q,...Se){return(...Ie)=>{const zt=Se.concat(Ie);return Q.apply(null,zt)}}const It=cn(!1),tn=Q=>Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var ot=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ot=Q=>Se=>Se.options.get(Q),xt=Q=>{const Se=Q.options.register;Se("template_cdate_classes",{processor:"string",default:"cdate"}),Se("template_mdate_classes",{processor:"string",default:"mdate"}),Se("template_selected_content_classes",{processor:"string",default:"selcontent"}),Se("template_preview_replace_values",{processor:"object"}),Se("template_replace_values",{processor:"object"}),Se("templates",{processor:Ie=>ho(Ie)||_o(Ie,Fn)||En(Ie),default:[]}),Se("template_cdate_format",{processor:"string",default:Q.translate("%Y-%m-%d")}),Se("template_mdate_format",{processor:"string",default:Q.translate("%Y-%m-%d")})},j=Ot("template_cdate_classes"),dt=Ot("template_mdate_classes"),Mo=Ot("template_selected_content_classes"),gt=Ot("template_preview_replace_values"),U=Ot("template_replace_values"),at=Ot("templates"),bn=Ot("template_cdate_format"),Zt=Ot("template_mdate_format"),Pe=Ot("content_style"),ie=Ot("content_css_cors"),Ro=Ot("body_class"),Ce=(Q,Se)=>{if(Q=""+Q,Q.length<Se)for(let Ie=0;Ie<Se-Q.length;Ie++)Q="0"+Q;return Q},Oe=(Q,Se,Ie=new Date)=>{const zt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),$n="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Dn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Rn="January February March April May June July August September October November December".split(" ");return Se=Se.replace("%D","%m/%d/%Y"),Se=Se.replace("%r","%I:%M:%S %p"),Se=Se.replace("%Y",""+Ie.getFullYear()),Se=Se.replace("%y",""+Ie.getYear()),Se=Se.replace("%m",Ce(Ie.getMonth()+1,2)),Se=Se.replace("%d",Ce(Ie.getDate(),2)),Se=Se.replace("%H",""+Ce(Ie.getHours(),2)),Se=Se.replace("%M",""+Ce(Ie.getMinutes(),2)),Se=Se.replace("%S",""+Ce(Ie.getSeconds(),2)),Se=Se.replace("%I",""+((Ie.getHours()+11)%12+1)),Se=Se.replace("%p",Ie.getHours()<12?"AM":"PM"),Se=Se.replace("%B",""+Q.translate(Rn[Ie.getMonth()])),Se=Se.replace("%b",""+Q.translate(Dn[Ie.getMonth()])),Se=Se.replace("%A",""+Q.translate($n[Ie.getDay()])),Se=Se.replace("%a",""+Q.translate(zt[Ie.getDay()])),Se=Se.replace("%%","%"),Se};class T{constructor(Se,Ie){this.tag=Se,this.value=Ie}static some(Se){return new T(!0,Se)}static none(){return T.singletonNone}fold(Se,Ie){return this.tag?Ie(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?T.some(Se(this.value)):T.none()}bind(Se){return this.tag?Se(this.value):T.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:T.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return vn(Se)?T.some(Se):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const un=(Q,Se)=>{for(let Ie=0,zt=Q.length;Ie<zt;Ie++){const $n=Q[Ie];if(Se($n,Ie))return!0}return!1},st=(Q,Se)=>{const Ie=Q.length,zt=new Array(Ie);for(let $n=0;$n<Ie;$n++){const Dn=Q[$n];zt[$n]=Se(Dn,$n)}return zt},Bn=(Q,Se,Ie)=>{for(let zt=0,$n=Q.length;zt<$n;zt++){const Dn=Q[zt];if(Se(Dn,zt))return T.some(Dn);if(Ie(Dn,zt))break}return T.none()},Yt=(Q,Se)=>Bn(Q,Se,It),Xe=Object.hasOwnProperty,fo=(Q,Se)=>Zo(Q,Se)?T.from(Q[Se]):T.none(),Zo=(Q,Se)=>Xe.call(Q,Se);var wt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const fn={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},De=Q=>Q.replace(/["'<>&]/g,Se=>fo(fn,Se).getOr(Se)),lt=(Q,Se,Ie)=>un(Ie.split(/\s+/),zt=>Q.hasClass(Se,zt)),F=(Q,Se)=>wt({validate:!0},Q.schema).serialize(Q.parser.parse(Se,{insert:!0})),qo=(Q,Se)=>()=>{const Ie=at(Q);En(Ie)?Ie(Se):ho(Ie)?fetch(Ie).then(zt=>{zt.ok&&zt.json().then(Se)}):Se(Ie)},Qn=(Q,Se)=>(ot.each(Se,(Ie,zt)=>{En(Ie)&&(Ie=Ie(zt)),Q=Q.replace(new RegExp("\\{\\$"+tn(zt)+"\\}","g"),Ie)}),Q),ft=(Q,Se)=>{const Ie=Q.dom,zt=U(Q);ot.each(Ie.select("*",Se),$n=>{ot.each(zt,(Dn,Rn)=>{Ie.hasClass($n,Rn)&&En(Dn)&&Dn($n)})})},mt=(Q,Se,Ie)=>{const zt=Q.dom,$n=Q.selection.getContent();Ie=Qn(Ie,U(Q));let Dn=zt.create("div",{},F(Q,Ie));const Rn=zt.select(".mceTmpl",Dn);Rn&&Rn.length>0&&(Dn=zt.create("div"),Dn.appendChild(Rn[0].cloneNode(!0))),ot.each(zt.select("*",Dn),An=>{lt(zt,An,j(Q))&&(An.innerHTML=Oe(Q,bn(Q))),lt(zt,An,dt(Q))&&(An.innerHTML=Oe(Q,Zt(Q))),lt(zt,An,Mo(Q))&&(An.innerHTML=$n)}),ft(Q,Dn),Q.execCommand("mceInsertContent",!1,Dn.innerHTML),Q.addVisual()};var on=tinymce.util.Tools.resolve("tinymce.Env");const X=(Q,Se)=>{var Ie;let zt=F(Q,Se);if(Se.indexOf("<html>")===-1){let $n="";const Dn=(Ie=Pe(Q))!==null&&Ie!==void 0?Ie:"",Rn=ie(Q)?' crossorigin="anonymous"':"";ot.each(Q.contentCSS,bo=>{$n+='<link type="text/css" rel="stylesheet" href="'+Q.documentBaseURI.toAbsolute(bo)+'"'+Rn+">"}),Dn&&($n+='<style type="text/css">'+Dn+"</style>");const An=Ro(Q),Po=Q.dom.encode,Gn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(on.os.isMacOS()||on.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",to=Q.getBody().dir,mn=to?' dir="'+Po(to)+'"':"";zt='<!DOCTYPE html><html><head><base href="'+Po(Q.documentBaseURI.getURI())+'">'+$n+Gn+'</head><body class="'+Po(An)+'"'+mn+">"+zt+"</body></html>"}return Qn(zt,gt(Q))},be=(Q,Se)=>{const Ie=()=>{if(!Se||Se.length===0){const to=Q.translate("No templates defined.");return Q.notificationManager.open({text:to,type:"info"}),T.none()}return T.from(ot.map(Se,(to,mn)=>{const bo=as=>as.url!==void 0;return{selected:mn===0,text:to.title,value:{url:bo(to)?T.from(to.url):T.none(),content:bo(to)?T.none():T.from(to.content),description:to.description}}}))},zt=to=>st(to,mn=>({text:mn.text,value:mn.text})),$n=(to,mn)=>Yt(to,bo=>bo.text===mn),Dn=to=>{Q.windowManager.alert("Could not load the specified template.",()=>to.focus("template"))},Rn=to=>to.value.url.fold(()=>Promise.resolve(to.value.content.getOr("")),mn=>fetch(mn).then(bo=>bo.ok?bo.text():Promise.reject())),An=(to,mn)=>(bo,as)=>{if(as.name==="template"){const Rs=bo.getData().template;$n(to,Rs).each(Ts=>{bo.block("Loading..."),Rn(Ts).then(Yo=>{mn(bo,Ts,Yo)}).catch(()=>{mn(bo,Ts,""),bo.setEnabled("save",!1),Dn(bo)})})}},Po=to=>mn=>{const bo=mn.getData();$n(to,bo.template).each(as=>{Rn(as).then(Rs=>{Q.execCommand("mceInsertTemplate",!1,Rs),mn.close()}).catch(()=>{mn.setEnabled("save",!1),Dn(mn)})})},qn=to=>{const mn=zt(to),bo=(Ts,Yo)=>({title:"Insert Template",size:"large",body:{type:"panel",items:Ts},initialData:Yo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Po(to),onChange:An(to,as)}),as=(Ts,Yo,oa)=>{const Tt=X(Q,oa),Lo=[{type:"listbox",name:"template",label:"Templates",items:mn},{type:"htmlpanel",html:`<p aria-live="polite">${De(Yo.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],kr={template:Yo.text,preview:Tt};Ts.unblock(),Ts.redial(bo(Lo,kr)),Ts.focus("template")},Rs=Q.windowManager.open(bo([],{template:"",preview:""}));Rs.block("Loading..."),Rn(to[0]).then(Ts=>{as(Rs,to[0],Ts)}).catch(()=>{as(Rs,to[0],""),Rs.setEnabled("save",!1),Dn(Rs)})};Ie().each(qn)},ve=Q=>Se=>{be(Q,Se)},ae=Q=>{Q.addCommand("mceInsertTemplate",jt(mt,Q)),Q.addCommand("mceTemplate",qo(Q,ve(Q)))},Me=Q=>{Q.on("PreProcess",Se=>{const Ie=Q.dom,zt=Zt(Q);ot.each(Ie.select("div",Se.node),$n=>{Ie.hasClass($n,"mceTmpl")&&(ot.each(Ie.select("*",$n),Dn=>{lt(Ie,Dn,dt(Q))&&(Dn.innerHTML=Oe(Q,zt))}),ft(Q,$n))})})},Fe=Q=>Se=>{const Ie=()=>{Se.setEnabled(Q.selection.isEditable())};return Q.on("NodeChange",Ie),Ie(),()=>{Q.off("NodeChange",Ie)}},qe=Q=>{const Se=()=>Q.execCommand("mceTemplate");Q.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Fe(Q),onAction:Se}),Q.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Fe(Q),onAction:Se})};var Ue=()=>{es.add("template",Q=>{xt(Q),qe(Q),ae(Q),Me(Q)})};Ue()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=Ot=>xt=>typeof xt===Ot,So=Do("boolean"),Ln=Do("number"),uo=Ot=>xt=>xt.options.get(Ot),ho=Ot=>{const xt=Ot.options.register;xt("nonbreaking_force_tab",{processor:j=>So(j)?{value:j?3:0,valid:!0}:Ln(j)?{value:j,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),xt("nonbreaking_wrap",{processor:"boolean",default:!0})},Fn=uo("nonbreaking_force_tab"),nt=uo("nonbreaking_wrap"),pn=(Ot,xt)=>{let j="";for(let dt=0;dt<xt;dt++)j+=Ot;return j},vn=Ot=>Ot.plugins.visualchars?Ot.plugins.visualchars.isEnabled():!1,En=(Ot,xt)=>{const j=()=>vn(Ot)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",dt=()=>`<span class="${j()}" contenteditable="false">${pn("&nbsp;",xt)}</span>`,gt=nt(Ot)||Ot.plugins.visualchars?dt():pn("&nbsp;",xt);Ot.undoManager.transact(()=>Ot.insertContent(gt))},_o=Ot=>{Ot.addCommand("mceNonBreaking",()=>{En(Ot,1)})};var cn=tinymce.util.Tools.resolve("tinymce.util.VK");const jt=Ot=>{const xt=Fn(Ot);xt>0&&Ot.on("keydown",j=>{if(j.keyCode===cn.TAB&&!j.isDefaultPrevented()){if(j.shiftKey)return;j.preventDefault(),j.stopImmediatePropagation(),En(Ot,xt)}})},It=Ot=>xt=>{const j=()=>{xt.setEnabled(Ot.selection.isEditable())};return Ot.on("NodeChange",j),j(),()=>{Ot.off("NodeChange",j)}},tn=Ot=>{const xt=()=>Ot.execCommand("mceNonBreaking");Ot.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:xt,onSetup:It(Ot)}),Ot.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:xt,onSetup:It(Ot)})};var ot=()=>{es.add("nonbreaking",Ot=>{ho(Ot),_o(Ot),tn(Ot),jt(Ot)})};ot()})();(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=Me=>Fe=>Me===Fe,So=Do(null),Ln=Do(void 0),uo=Me=>Me==null,ho=Me=>!uo(Me),Fn=()=>{},pn=(Me=>()=>Me)(!1);class vn{constructor(Fe,qe){this.tag=Fe,this.value=qe}static some(Fe){return new vn(!0,Fe)}static none(){return vn.singletonNone}fold(Fe,qe){return this.tag?qe(this.value):Fe()}isSome(){return this.tag}isNone(){return!this.tag}map(Fe){return this.tag?vn.some(Fe(this.value)):vn.none()}bind(Fe){return this.tag?Fe(this.value):vn.none()}exists(Fe){return this.tag&&Fe(this.value)}forall(Fe){return!this.tag||Fe(this.value)}filter(Fe){return!this.tag||Fe(this.value)?this:vn.none()}getOr(Fe){return this.tag?this.value:Fe}or(Fe){return this.tag?this:Fe}getOrThunk(Fe){return this.tag?this.value:Fe()}orThunk(Fe){return this.tag?this:Fe()}getOrDie(Fe){if(this.tag)return this.value;throw new Error(Fe??"Called getOrDie on None")}static from(Fe){return ho(Fe)?vn.some(Fe):vn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Fe){this.tag&&Fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}vn.singletonNone=new vn(!1);const En=(Me,Fe)=>{for(let qe=0,Ue=Me.length;qe<Ue;qe++){const Q=Me[qe];if(Fe(Q,qe))return!0}return!1},_o=(Me,Fe)=>{const qe=Me.length,Ue=new Array(qe);for(let Q=0;Q<qe;Q++){const Se=Me[Q];Ue[Q]=Fe(Se,Q)}return Ue},cn=(Me,Fe)=>{for(let qe=0,Ue=Me.length;qe<Ue;qe++){const Q=Me[qe];Fe(Q,qe)}},jt=Me=>{let Fe=Me;return{get:()=>Fe,set:Q=>{Fe=Q}}},It=(Me,Fe)=>{let qe=null;const Ue=()=>{So(qe)||(clearTimeout(qe),qe=null)};return{cancel:Ue,throttle:(...Se)=>{Ue(),qe=setTimeout(()=>{qe=null,Me.apply(null,Se)},Fe)}}},tn=(Me,Fe)=>{Me.insertContent(Fe)},ot=Object.keys,Ot=Object.hasOwnProperty,xt=(Me,Fe)=>{const qe=ot(Me);for(let Ue=0,Q=qe.length;Ue<Q;Ue++){const Se=qe[Ue],Ie=Me[Se];Fe(Ie,Se)}},j=(Me,Fe)=>dt(Me,(qe,Ue)=>({k:Ue,v:Fe(qe,Ue)})),dt=(Me,Fe)=>{const qe={};return xt(Me,(Ue,Q)=>{const Se=Fe(Ue,Q);qe[Se.k]=Se.v}),qe},Mo=(Me,Fe)=>Ot.call(Me,Fe),at=(Me=>(...Fe)=>{if(Fe.length===0)throw new Error("Can't merge zero objects");const qe={};for(let Ue=0;Ue<Fe.length;Ue++){const Q=Fe[Ue];for(const Se in Q)Mo(Q,Se)&&(qe[Se]=Me(qe[Se],Q[Se]))}return qe})((Me,Fe)=>Fe),bn=Me=>{const Fe=jt(vn.none()),qe=()=>Fe.get().each(Me);return{clear:()=>{qe(),Fe.set(vn.none())},isSet:()=>Fe.get().isSome(),get:()=>Fe.get(),set:zt=>{qe(),Fe.set(vn.some(zt))}}},Zt=()=>{const Me=bn(Fn);return{...Me,on:qe=>Me.get().each(qe)}},Pe=(Me,Fe,qe)=>Fe===""||Me.length>=Fe.length&&Me.substr(qe,qe+Fe.length)===Fe,ie=(Me,Fe,qe=0,Ue)=>{const Q=Me.indexOf(Fe,qe);return Q!==-1?Ln(Ue)?!0:Q+Fe.length<=Ue:!1},Ro=(Me,Fe)=>Pe(Me,Fe,0);var Ce=tinymce.util.Tools.resolve("tinymce.Resource");const Oe="tinymce.plugins.emoticons",T=Me=>Fe=>Fe.options.get(Me),un=(Me,Fe)=>{const qe=Me.options.register;qe("emoticons_database",{processor:"string",default:"emojis"}),qe("emoticons_database_url",{processor:"string",default:`${Fe}/js/${st(Me)}${Me.suffix}.js`}),qe("emoticons_database_id",{processor:"string",default:Oe}),qe("emoticons_append",{processor:"object",default:{}}),qe("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},st=T("emoticons_database"),Bn=T("emoticons_database_url"),Yt=T("emoticons_database_id"),Xe=T("emoticons_append"),fo=T("emoticons_images_url"),Zo="All",wt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},fn=(Me,Fe)=>Mo(Me,Fe)?Me[Fe]:Fe,De=Me=>{const Fe=Xe(Me);return j(Fe,qe=>({keywords:[],category:"user",...qe}))},lt=(Me,Fe,qe)=>{const Ue=Zt(),Q=Zt(),Se=fo(Me),Ie=qn=>Ro(qn.char,"<img")?qn.char.replace(/src="([^"]+)"/,(Gn,to)=>`src="${Se}${to}"`):qn.char,zt=qn=>{const Gn={},to=[];xt(qn,(mn,bo)=>{const as={title:bo,keywords:mn.keywords,char:Ie(mn),category:fn(wt,mn.category)},Rs=Gn[as.category]!==void 0?Gn[as.category]:[];Gn[as.category]=Rs.concat([as]),to.push(as)}),Ue.set(Gn),Q.set(to)};Me.on("init",()=>{Ce.load(qe,Fe).then(qn=>{const Gn=De(Me);zt(at(qn,Gn))},qn=>{console.log(`Failed to load emojis: ${qn}`),Ue.set({}),Q.set([])})});const $n=qn=>qn===Zo?Dn():Ue.get().bind(Gn=>vn.from(Gn[qn])).getOr([]),Dn=()=>Q.get().getOr([]),Rn=()=>[Zo].concat(ot(Ue.get().getOr({}))),An=()=>Po()?Promise.resolve(!0):new Promise((qn,Gn)=>{let to=15;const mn=setInterval(()=>{Po()?(clearInterval(mn),qn(!0)):(to--,to<0&&(console.log("Could not load emojis from url: "+Fe),clearInterval(mn),Gn(!1)))},100)}),Po=()=>Ue.isSet()&&Q.isSet();return{listCategories:Rn,hasLoaded:Po,waitForLoad:An,listAll:Dn,listCategory:$n}},F=(Me,Fe)=>ie(Me.title.toLowerCase(),Fe)||En(Me.keywords,qe=>ie(qe.toLowerCase(),Fe)),qo=(Me,Fe,qe)=>{const Ue=[],Q=Fe.toLowerCase(),Se=qe.fold(()=>pn,Ie=>zt=>zt>=Ie);for(let Ie=0;Ie<Me.length&&!((Fe.length===0||F(Me[Ie],Q))&&(Ue.push({value:Me[Ie].char,text:Me[Ie].title,icon:Me[Ie].char}),Se(Ue.length)));Ie++);return Ue},Qn="pattern",ft=(Me,Fe)=>{const qe={pattern:"",results:qo(Fe.listAll(),"",vn.some(300))},Ue=jt(Zo),Q=Rn=>{const An=Rn.getData(),Po=Ue.get(),qn=Fe.listCategory(Po),Gn=qo(qn,An[Qn],Po===Zo?vn.some(300):vn.none());Rn.setData({results:Gn})},Se=It(Rn=>{Q(Rn)},200),Ie={label:"Search",type:"input",name:Qn},zt={type:"collection",name:"results"},$n=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:_o(Fe.listCategories(),An=>({title:An,name:An,items:[Ie,zt]}))},initialData:qe,onTabChange:(An,Po)=>{Ue.set(Po.newTabName),Se.throttle(An)},onChange:Se.throttle,onAction:(An,Po)=>{Po.name==="results"&&(tn(Me,Po.value),An.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Dn=Me.windowManager.open($n());Dn.focus(Qn),Fe.hasLoaded()||(Dn.block("Loading emojis..."),Fe.waitForLoad().then(()=>{Dn.redial($n()),Se.throttle(Dn),Dn.focus(Qn),Dn.unblock()}).catch(Rn=>{Dn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Dn.focus(Qn),Dn.unblock()}))},mt=(Me,Fe)=>{Me.addCommand("mceEmoticons",()=>ft(Me,Fe))},on=Me=>{Me.on("PreInit",()=>{Me.parser.addAttributeFilter("data-emoticon",Fe=>{cn(Fe,qe=>{qe.attr("data-mce-resize","false"),qe.attr("data-mce-placeholder","1")})})})},X=(Me,Fe)=>{Me.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(qe,Ue)=>Fe.waitForLoad().then(()=>{const Q=Fe.listAll();return qo(Q,qe,vn.some(Ue))}),onAction:(qe,Ue,Q)=>{Me.selection.setRng(Ue),Me.insertContent(Q),qe.hide()}})},be=Me=>Fe=>{const qe=()=>{Fe.setEnabled(Me.selection.isEditable())};return Me.on("NodeChange",qe),qe(),()=>{Me.off("NodeChange",qe)}},ve=Me=>{const Fe=()=>Me.execCommand("mceEmoticons");Me.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Fe,onSetup:be(Me)}),Me.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Fe,onSetup:be(Me)})};var ae=()=>{es.add("emoticons",(Me,Fe)=>{un(Me,Fe);const qe=Bn(Me),Ue=Yt(Me),Q=lt(Me,qe,Ue);mt(Me,Q),ve(Me),X(Me,Q),on(Me)})};ae()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var es=tinymce.util.Tools.resolve("tinymce.PluginManager");const Do=(ft,mt,on)=>{var X;return on(ft,mt.prototype)?!0:((X=ft.constructor)===null||X===void 0?void 0:X.name)===mt.name},So=ft=>{const mt=typeof ft;return ft===null?"null":mt==="object"&&Array.isArray(ft)?"array":mt==="object"&&Do(ft,String,(on,X)=>X.isPrototypeOf(on))?"string":mt},Ln=ft=>mt=>So(mt)===ft,uo=ft=>mt=>typeof mt===ft,ho=Ln("string"),Fn=uo("boolean"),nt=ft=>ft==null,pn=ft=>!nt(ft),vn=uo("function"),En=ft=>mt=>mt.options.get(ft),_o=ft=>{const mt=ft.options.register,on=ae=>Me=>{const Fe=Fn(Me)||ho(Me);return Fe?Fn(Me)?{value:Me?ae:"",valid:Fe}:{value:Me.trim(),valid:Fe}:{valid:!1,message:"Must be a boolean or string."}},X="bold italic | quicklink h2 h3 blockquote";mt("quickbars_selection_toolbar",{processor:on(X),default:X});const be="quickimage quicktable";mt("quickbars_insert_toolbar",{processor:on(be),default:be});const ve="alignleft aligncenter alignright";mt("quickbars_image_toolbar",{processor:on(ve),default:ve})},cn=En("quickbars_selection_toolbar"),jt=En("quickbars_insert_toolbar"),It=En("quickbars_image_toolbar");let tn=0;const ot=ft=>{const on=new Date().getTime(),X=Math.floor(Math.random()*1e9);return tn++,ft+"_"+X+tn+String(on)},Ot=(ft,mt,on)=>{ft.execCommand("mceInsertTable",!1,{rows:on,columns:mt})},xt=(ft,mt,on)=>{const X=ft.editorUpload.blobCache,be=X.create(ot("mceu"),on,mt);X.add(be),ft.insertContent(ft.dom.createHTML("img",{src:be.blobUri()}))},j=ft=>new Promise(mt=>{const on=new FileReader;on.onloadend=()=>{mt(on.result.split(",")[1])},on.readAsDataURL(ft)});var dt=tinymce.util.Tools.resolve("tinymce.util.Delay");const Mo=ft=>new Promise(mt=>{let on=!1;const X=document.createElement("input");X.type="file",X.accept="image/*",X.style.position="fixed",X.style.left="0",X.style.top="0",X.style.opacity="0.001",document.body.appendChild(X);const be=Me=>{var Fe;on||((Fe=X.parentNode)===null||Fe===void 0||Fe.removeChild(X),on=!0,mt(Me))},ve=Me=>{be(Array.prototype.slice.call(Me.target.files))};X.addEventListener("input",ve),X.addEventListener("change",ve);const ae=Me=>{const Fe=()=>{be([])};on||(Me.type==="focusin"?dt.setEditorTimeout(ft,Fe,1e3):Fe()),ft.off("focusin remove",ae)};ft.on("focusin remove",ae),X.click()}),gt=ft=>{ft.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Mo(ft).then(mt=>{if(mt.length>0){const on=mt[0];j(on).then(X=>{xt(ft,X,on)})}})}}),ft.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{Ot(ft,2,2)}})},at=(ft=>()=>ft)(!1);class bn{constructor(mt,on){this.tag=mt,this.value=on}static some(mt){return new bn(!0,mt)}static none(){return bn.singletonNone}fold(mt,on){return this.tag?on(this.value):mt()}isSome(){return this.tag}isNone(){return!this.tag}map(mt){return this.tag?bn.some(mt(this.value)):bn.none()}bind(mt){return this.tag?mt(this.value):bn.none()}exists(mt){return this.tag&&mt(this.value)}forall(mt){return!this.tag||mt(this.value)}filter(mt){return!this.tag||mt(this.value)?this:bn.none()}getOr(mt){return this.tag?this.value:mt}or(mt){return this.tag?this:mt}getOrThunk(mt){return this.tag?this.value:mt()}orThunk(mt){return this.tag?this:mt()}getOrDie(mt){if(this.tag)return this.value;throw new Error(mt??"Called getOrDie on None")}static from(mt){return pn(mt)?bn.some(mt):bn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(mt){this.tag&&mt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}bn.singletonNone=new bn(!1),typeof window<"u"||Function("return this;")();const Zt=1,Pe=ft=>ft.dom.nodeName.toLowerCase(),ie=(ft,mt)=>{const on=ft.dom;return on&&on.hasAttribute?on.hasAttribute(mt):!1};var Ro=(ft,mt,on,X,be)=>ft(on,X)?bn.some(on):vn(be)&&be(on)?bn.none():mt(on,X,be);const Ce=(ft,mt)=>{const X=(mt||document).createElement("div");if(X.innerHTML=ft,!X.hasChildNodes()||X.childNodes.length>1){const be="HTML does not have a single root node";throw console.error(be,ft),new Error(be)}return un(X.childNodes[0])},Oe=(ft,mt)=>{const X=(mt||document).createElement(ft);return un(X)},T=(ft,mt)=>{const X=(mt||document).createTextNode(ft);return un(X)},un=ft=>{if(ft==null)throw new Error("Node cannot be null or undefined");return{dom:ft}},Bn={fromHtml:Ce,fromTag:Oe,fromText:T,fromDom:un,fromPoint:(ft,mt,on)=>bn.from(ft.dom.elementFromPoint(mt,on)).map(un)},Yt=(ft,mt)=>{const on=ft.dom;if(on.nodeType!==Zt)return!1;{const X=on;if(X.matches!==void 0)return X.matches(mt);if(X.msMatchesSelector!==void 0)return X.msMatchesSelector(mt);if(X.webkitMatchesSelector!==void 0)return X.webkitMatchesSelector(mt);if(X.mozMatchesSelector!==void 0)return X.mozMatchesSelector(mt);throw new Error("Browser lacks native selectors")}},Xe=(ft,mt,on)=>{let X=ft.dom;const be=vn(on)?on:at;for(;X.parentNode;){X=X.parentNode;const ve=Bn.fromDom(X);if(mt(ve))return bn.some(ve);if(be(ve))break}return bn.none()},fo=(ft,mt,on)=>Ro((be,ve)=>ve(be),Xe,ft,mt,on),Zo=(ft,mt,on)=>fo(ft,mt,on).isSome(),wt=(ft,mt,on)=>Xe(ft,X=>Yt(X,mt),on),fn=(ft,mt,on)=>Ro((be,ve)=>Yt(be,ve),wt,ft,mt,on),De=ft=>{const mt=jt(ft);mt.length>0&&ft.ui.registry.addContextToolbar("quickblock",{predicate:on=>{const X=Bn.fromDom(on),be=ft.schema.getTextBlockElements(),ve=ae=>ae.dom===ft.getBody();return!ie(X,"data-mce-bogus")&&fn(X,'table,[data-mce-bogus="all"]',ve).fold(()=>Zo(X,ae=>Pe(ae)in be&&ft.dom.isEmpty(ae.dom),ve),at)},items:mt,position:"line",scope:"editor"})},lt=ft=>ft.dom.classList!==void 0,F=(ft,mt)=>lt(ft)&&ft.dom.classList.contains(mt),qo=ft=>{const mt=ae=>ft.dom.isEditable(ae),on=ae=>mt(ae.parentElement),X=ae=>{const Me=ae.nodeName==="FIGURE"&&/image/i.test(ae.className),Fe=ae.nodeName==="IMG"||Me,qe=F(Bn.fromDom(ae),"mce-pagebreak");return Fe&&on(ae)&&!qe},be=It(ft);be.length>0&&ft.ui.registry.addContextToolbar("imageselection",{predicate:X,items:be,position:"node"});const ve=cn(ft);ve.length>0&&ft.ui.registry.addContextToolbar("textselection",{predicate:ae=>!X(ae)&&!ft.selection.isCollapsed()&&mt(ae),items:ve,position:"selection",scope:"editor"})};var Qn=()=>{es.add("quickbars",ft=>{_o(ft),gt(ft),De(ft),qo(ft)})};Qn()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN",`<h1>开始键盘导航</h1>

<dl>
  <dt>聚焦于菜单栏</dt>
  <dd>Windows 或 Linux：Alt+F9</dd>
  <dd>macOS：&#x2325;F9</dd>
  <dt>聚焦于工具栏</dt>
  <dd>Windows 或 Linux：Alt+F10</dd>
  <dd>macOS：&#x2325;F10</dd>
  <dt>聚焦于页脚</dt>
  <dd>Windows 或 Linux：Alt+F11</dd>
  <dd>macOS：&#x2325;F11</dd>
  <dt>聚焦于上下文工具栏</dt>
  <dd>Windows、Linux 或 macOS：Ctrl+F9
</dl>

<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>

<h1>在 UI 部分之间导航</h1>

<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>

<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>

<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：

<ol>
  <li>菜单栏</li>
  <li>每个工具栏组</li>
  <li>边栏</li>
  <li>页脚中的元素路径</li>
  <li>页脚中的字数切换按钮</li>
  <li>页脚中的品牌链接</li>
  <li>页脚中的编辑器调整大小图柄</li>
</ol>

<p>如果不存在某个 UI 部分，则跳过它。</p>

<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。

<h1>在 UI 部分内导航</h1>

<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>

<p><strong>左</strong>和<strong>右</strong>箭头键</p>

<ul>
  <li>在菜单栏中的菜单之间移动。</li>
  <li>打开菜单中的子菜单。</li>
  <li>在工具栏组中的按钮之间移动。</li>
  <li>在页脚的元素路径中的各项之间移动。</li>
</ul>

<p><strong>下</strong>和<strong>上</strong>箭头键

<ul>
  <li>在菜单中的菜单项之间移动。</li>
  <li>在工具栏弹出菜单中的各项之间移动。</li>
</ul>

<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>

<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。

<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>

<h1>执行菜单项或工具栏按钮</h1>

<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。

<h1>在非标签页式对话框中导航</h1>

<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>

<h1>在标签页式对话框中导航</h1>

<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>

<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.de",`<h1>Grundlagen der Tastaturnavigation</h1>

<dl>
  <dt>Fokus auf Menüleiste</dt>
  <dd>Windows oder Linux: ALT+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Fokus auf Symbolleiste</dt>
  <dd>Windows oder Linux: ALT+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Fokus auf Fußzeile</dt>
  <dd>Windows oder Linux: ALT+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Fokus auf kontextbezogene Symbolleiste</dt>
  <dd>Windows, Linux oder macOS: STRG+F9
</dl>

<p>Die Navigation beginnt beim ersten Benutzeroberflächenelement, welches hervorgehoben ist. Falls sich das erste Element im Pfad der Fußzeile befindet,
  ist es unterstrichen.</p>

<h1>Zwischen Abschnitten der Benutzeroberfläche navigieren</h1>

<p>Um von einem Abschnitt der Benutzeroberfläche zum nächsten zu wechseln, drücken Sie <strong>TAB</strong>.</p>

<p>Um von einem Abschnitt der Benutzeroberfläche zum vorherigen zu wechseln, drücken Sie <strong>UMSCHALT+TAB</strong>.</p>

<p>Die Abschnitte der Benutzeroberfläche haben folgende <strong>TAB</strong>-Reihenfolge:

<ol>
  <li>Menüleiste</li>
  <li>Einzelne Gruppen der Symbolleiste</li>
  <li>Randleiste</li>
  <li>Elementpfad in der Fußzeile</li>
  <li>Umschaltfläche „Wörter zählen“ in der Fußzeile</li>
  <li>Branding-Link in der Fußzeile</li>
  <li>Editor-Ziehpunkt zur Größenänderung in der Fußzeile</li>
</ol>

<p>Falls ein Abschnitt der Benutzeroberflächen nicht vorhanden ist, wird er übersprungen.</p>

<p>Wenn in der Fußzeile die Tastaturnavigation fokussiert ist und keine Randleiste angezeigt wird, wechselt der Fokus durch Drücken von <strong>UMSCHALT+TAB</strong>
  zur ersten Gruppe der Symbolleiste, nicht zur letzten.

<h1>Innerhalb von Abschnitten der Benutzeroberfläche navigieren</h1>

<p>Um von einem Element der Benutzeroberfläche zum nächsten zu wechseln, drücken Sie die entsprechende <strong>Pfeiltaste</strong>.</p>

<p>Die Pfeiltasten <strong>Links</strong> und <strong>Rechts</strong></p>

<ul>
  <li>wechseln zwischen Menüs in der Menüleiste.</li>
  <li>öffnen das Untermenü eines Menüs.</li>
  <li>wechseln zwischen Schaltflächen in einer Gruppe der Symbolleiste.</li>
  <li>wechseln zwischen Elementen im Elementpfad der Fußzeile.</li>
</ul>

<p>Die Pfeiltasten <strong>Abwärts</strong> und <strong>Aufwärts</strong>

<ul>
  <li>wechseln zwischen Menüelementen in einem Menü.</li>
  <li>wechseln zwischen Elementen in einem Popupmenü der Symbolleiste.</li>
</ul>

<p>Die <strong>Pfeiltasten</strong> rotieren innerhalb des fokussierten Abschnitts der Benutzeroberfläche.</p>

<p>Um ein geöffnetes Menü, ein geöffnetes Untermenü oder ein geöffnetes Popupmenü zu schließen, drücken Sie die <strong>ESC</strong>-Taste.

<p>Wenn sich der aktuelle Fokus ganz oben in einem bestimmten Abschnitt der Benutzeroberfläche befindet, wird durch Drücken der <strong>ESC</strong>-Taste auch
  die Tastaturnavigation beendet.</p>

<h1>Ein Menüelement oder eine Symbolleistenschaltfläche ausführen</h1>

<p>Wenn das gewünschte Menüelement oder die gewünschte Symbolleistenschaltfläche hervorgehoben ist, drücken Sie <strong>Zurück</strong>, <strong>Eingabe</strong>
  oder die <strong>Leertaste</strong>, um das Element auszuführen.

<h1>In Dialogfeldern ohne Registerkarten navigieren</h1>

<p>In Dialogfeldern ohne Registerkarten ist beim Öffnen eines Dialogfelds die erste interaktive Komponente fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten eines Dialogfelds, indem Sie <strong>TAB</strong> oder <strong>UMSCHALT+TAB</strong> drücken.</p>

<h1>In Dialogfeldern mit Registerkarten navigieren</h1>

<p>In Dialogfeldern mit Registerkarten ist beim Öffnen eines Dialogfelds die erste Schaltfläche eines Registerkartenmenüs fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten auf dieser Registerkarte des Dialogfelds, indem Sie <strong>TAB</strong> oder
  <strong>UMSCHALT+TAB</strong> drücken.</p>

<p>Wechseln Sie zu einer anderen Registerkarte des Dialogfelds, indem Sie den Fokus auf das Registerkartenmenü legen und dann die entsprechende <strong>Pfeiltaste</strong>
  drücken, um durch die verfügbaren Registerkarten zu rotieren.</p>
`);var Sq=function(es){bq(Do,es);function Do(){var So=es!==null&&es.apply(this,arguments)||this;return So.unmounted=!1,So.editorInitialized=!1,So.elementRef=kW.createRef(),So}return Do.prototype.componentDidMount=function(){return yq(this,void 0,void 0,function(){var So,Ln,uo,ho,Fn=this;return vq(this,function(nt){switch(nt.label){case 0:return So=this.props.locale,Ln=this.props.config||{},uo=Ln.onLoaded,ho=kq(Ln,["onLoaded"]),this.config=QZ(QZ({inline:!1,skin:!1,content_css:!1,height:400,language:!So||So==="zh-CN"?"zh_CN":"en",branding:!1,plugins:["advlist","autolink","autoresize","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","nonbreaking","table","emoticons","template","help","quickbars"],toolbar:"undo redo | blocks | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | preview media | fontfamily fontsize forecolor backcolor emoticons | print help",quickbars_selection_toolbar:"bold italic | link h2 h3 blockquote",quickbars_insert_toolbar:"quickimage quicktable",menu:{file:{title:"File",items:"newdocument restoredraft | preview | print "},edit:{title:"Edit",items:"undo redo | cut copy paste | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontsize align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},paste_data_images:!0,content_style:"[data-mce-bogus] video {display:none;}"},ho),{target:this.elementRef.current,readOnly:this.props.disabled,promotion:!1,setup:function(pn){Fn.editor=pn,pn.on("init",function(vn){Fn.editorInitialized=!0,Fn.initEditor(vn,pn)})}}),[4,uo==null?void 0:uo(MB)];case 1:return nt.sent(),this.unmounted||MB.init(this.config),[2]}})})},Do.prototype.componentDidUpdate=function(So){var Ln,uo=this.props;uo.model!==So.model&&uo.model!==this.currentContent&&this.editorInitialized&&((Ln=this.editor)===null||Ln===void 0||Ln.setContent(uo.model||""))},Do.prototype.componentWillUnmount=function(){MB.remove(this.editor),this.unmounted=!0},Do.prototype.initEditor=function(So,Ln){var uo=this,ho=this.props,Fn=ho.model,nt=ho.onModelChange,pn=ho.outputFormat,vn=ho.onFocus,En=ho.onBlur,_o=Fn||"";Ln.setContent(_o),nt&&Ln.on("change keyup setcontent",function(cn){var jt=Ln.getContent({format:pn});jt!==uo.currentContent&&(uo.currentContent=jt,nt(jt))}),vn&&Ln.on("focus",vn),En&&Ln.on("blur",En)},Do.prototype.render=function(){return kW.createElement("textarea",{ref:this.elementRef})},Do.defaultProps={outputFormat:"html"},Do}(kW.Component);MB.addI18n("zh_CN",{Redo:"重做",Undo:"撤销",Cut:"剪切",Copy:"复制",Paste:"粘贴","Select all":"全选","New document":"新文件",Ok:"确定",Cancel:"取消","Visual aids":"网格线",Bold:"粗体",Italic:"斜体",Underline:"下划线",Strikethrough:"删除线",Superscript:"上标",Subscript:"下标","Clear formatting":"清除格式","Align left":"左边对齐","Align center":"中间对齐","Align right":"右边对齐",Justify:"两端对齐","Bullet list":"项目符号","Numbered list":"编号列表","Decrease indent":"减少缩进","Increase indent":"增加缩进",Close:"关闭",Formats:"格式","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"你的浏览器不支持打开剪贴板，请使用Ctrl+X/C/V等快捷键。",Headers:"标题","Header 1":"标题1","Header 2":"标题2","Header 3":"标题3","Header 4":"标题4","Header 5":"标题5","Header 6":"标题6",Headings:"标题","Heading 1":"标题1","Heading 2":"标题2","Heading 3":"标题3","Heading 4":"标题4","Heading 5":"标题5","Heading 6":"标题6",Preformatted:"预先格式化的",Div:"Div",Pre:"Pre",Code:"代码",Paragraph:"段落",Blockquote:"引文区块",Inline:"文本",Blocks:"基块","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"当前为纯文本粘贴模式，再次点击可以回到普通粘贴模式。",Fonts:"字体","Font Sizes":"字号",Class:"类型","Browse for an image":"浏览图像",OR:"或","Drop an image here":"拖放一张图像至此",Upload:"上传",Block:"块",Align:"对齐",Default:"默认",Circle:"空心圆",Disc:"实心圆",Square:"方块","Lower Alpha":"小写英文字母","Lower Greek":"小写希腊字母","Lower Roman":"小写罗马字母","Upper Alpha":"大写英文字母","Upper Roman":"大写罗马字母","Anchor...":"锚点...",Name:"名称",Id:"标识符","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"标识符应该以字母开头，后跟字母、数字、破折号、点、冒号或下划线。","You have unsaved changes are you sure you want to navigate away?":"你还有文档尚未保存，确定要离开？","Restore last draft":"恢复上次的草稿","Special character...":"特殊字符...","Source code":"源代码","Insert/Edit code sample":"插入/编辑代码示例",Language:"语言","Code sample...":"示例代码...","Color Picker":"选色器",R:"R",G:"G",B:"B","Left to right":"从左到右","Right to left":"从右到左","Emoticons...":"表情符号...","Metadata and Document Properties":"元数据和文档属性",Title:"标题",Keywords:"关键词",Description:"描述",Robots:"机器人",Author:"作者",Encoding:"编码",Fullscreen:"全屏",Action:"操作",Shortcut:"快捷键",Help:"帮助",Address:"地址","Focus to menubar":"移动焦点到菜单栏","Focus to toolbar":"移动焦点到工具栏","Focus to element path":"移动焦点到元素路径","Focus to contextual toolbar":"移动焦点到上下文菜单","Insert link (if link plugin activated)":"插入链接 (如果链接插件已激活)","Save (if save plugin activated)":"保存(如果保存插件已激活)","Find (if searchreplace plugin activated)":"查找(如果查找替换插件已激活)","Plugins installed ({0}):":"已安装插件 ({0}):","Premium plugins:":"优秀插件：","Learn more...":"了解更多...","You are using {0}":"你正在使用 {0}",Plugins:"插件","Handy Shortcuts":"快捷键","Horizontal line":"水平分割线","Insert/edit image":"插入/编辑图片","Image description":"图片描述",Source:"地址",Dimensions:"大小","Constrain proportions":"保持纵横比",General:"普通",Advanced:"高级",Style:"样式","Vertical space":"垂直边距","Horizontal space":"水平边距",Border:"边框","Insert image":"插入图片","Image...":"图片...","Image list":"图片列表","Rotate counterclockwise":"逆时针旋转","Rotate clockwise":"顺时针旋转","Flip vertically":"垂直翻转","Flip horizontally":"水平翻转","Edit image":"编辑图片","Image options":"图片选项","Zoom in":"放大","Zoom out":"缩小",Crop:"裁剪",Resize:"调整大小",Orientation:"方向",Brightness:"亮度",Sharpen:"锐化",Contrast:"对比度","Color levels":"颜色层次",Gamma:"伽马值",Invert:"反转",Apply:"应用",Back:"后退","Insert date/time":"插入日期/时间","Date/time":"日期/时间","Insert/Edit Link":"插入/编辑链接","Insert/edit link":"插入/编辑链接","Text to display":"显示文字",Url:"地址","Open link in...":"链接打开位置...","Current window":"当前窗口",None:"无","New window":"在新窗口打开","Remove link":"删除链接",Anchors:"锚点","Link...":"链接...","Paste or type a link":"粘贴或输入链接","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"你所填写的URL地址为邮件地址，需要加上mailto:前缀吗？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"你所填写的URL地址属于外部链接，需要加上http://:前缀吗？","Link list":"链接列表","Insert video":"插入视频","Insert/edit video":"插入/编辑视频","Insert/edit media":"插入/编辑媒体","Alternative source":"镜像","Alternative source URL":"替代来源网址","Media poster (Image URL)":"封面(图片地址)","Paste your embed code below:":"将内嵌代码粘贴在下面:",Embed:"内嵌","Media...":"多媒体...","Nonbreaking space":"不间断空格","Page break":"分页符","Paste as text":"粘贴为文本",Preview:"预览","Print...":"打印...",Save:"保存",Find:"查找","Replace with":"替换为",Replace:"替换","Replace all":"全部替换",Previous:"上一个",Next:"下一个","Find and replace...":"查找并替换...","Could not find the specified string.":"未找到搜索内容.","Match case":"区分大小写","Find whole words only":"全字匹配","Spell check":"拼写检查",Ignore:"忽略","Ignore all":"全部忽略",Finish:"完成","Add to Dictionary":"添加到字典","Insert table":"插入表格","Table properties":"表格属性","Delete table":"删除表格",Cell:"单元格",Row:"行",Column:"列","Cell properties":"单元格属性","Merge cells":"合并单元格","Split cell":"拆分单元格","Insert row before":"在上方插入","Insert row after":"在下方插入","Delete row":"删除行","Row properties":"行属性","Cut row":"剪切行","Copy row":"复制行","Paste row before":"粘贴到上方","Paste row after":"粘贴到下方","Insert column before":"在左侧插入","Insert column after":"在右侧插入","Delete column":"删除列",Cols:"列",Rows:"行",Width:"宽",Height:"高","Cell spacing":"单元格外间距","Cell padding":"单元格内边距","Show caption":"显示标题",Left:"左对齐",Center:"居中",Right:"右对齐","Cell type":"单元格类型",Scope:"范围",Alignment:"对齐方式","H Align":"水平对齐","V Align":"垂直对齐",Top:"顶部对齐",Middle:"垂直居中",Bottom:"底部对齐","Header cell":"表头单元格","Row group":"行组","Column group":"列组","Row type":"行类型",Header:"表头",Body:"表体",Footer:"表尾","Border color":"边框颜色","Insert template...":"插入模板...",Templates:"模板",Template:"模板","Text color":"文字颜色","Background color":"背景色","Custom...":"自定义...","Custom color":"自定义颜色","No color":"无","Remove color":"移除颜色","Table of Contents":"内容列表","Show blocks":"显示区块边框","Show invisible characters":"显示不可见字符","Word count":"字数",Count:"计数",Document:"文档",Selection:"选择",Words:"单词","Words: {0}":"字数：{0}","{0} words":"{0} 字",File:"文件",Edit:"编辑",Insert:"插入",View:"视图",Format:"格式",Table:"表格",Tools:"工具","Powered by {0}":"由{0}驱动","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"在编辑区按ALT-F9打开菜单，按ALT-F10打开工具栏，按ALT-0查看帮助","Image title":"图片标题","Border width":"边框宽度","Border style":"边框样式",Error:"错误",Warn:"警告",Valid:"有效","To open the popup, press Shift+Enter":"按Shitf+Enter键打开对话框","Rich Text Area. Press ALT-0 for help.":"编辑区。按Alt+0键打开帮助。","System Font":"系统字体","Failed to upload image: {0}":"图片上传失败: {0}","Failed to load plugin: {0} from url {1}":"插件加载失败: {0} 来自链接 {1}","Failed to load plugin url: {0}":"插件加载失败 链接: {0}","Failed to initialize plugin: {0}":"插件初始化失败: {0}",example:"示例",Search:"搜索",All:"全部",Currency:"货币",Text:"文字",Quotations:"引用",Mathematical:"数学","Extended Latin":"拉丁语扩充",Symbols:"符号",Arrows:"箭头","User Defined":"自定义","dollar sign":"美元符号","currency sign":"货币符号","euro-currency sign":"欧元符号","colon sign":"冒号","cruzeiro sign":"克鲁赛罗币符号","french franc sign":"法郎符号","lira sign":"里拉符号","mill sign":"密尔符号","naira sign":"奈拉符号","peseta sign":"比塞塔符号","rupee sign":"卢比符号","won sign":"韩元符号","new sheqel sign":"新谢克尔符号","dong sign":"越南盾符号","kip sign":"老挝基普符号","tugrik sign":"图格里克符号","drachma sign":"德拉克马符号","german penny symbol":"德国便士符号","peso sign":"比索符号","guarani sign":"瓜拉尼符号","austral sign":"澳元符号","hryvnia sign":"格里夫尼亚符号","cedi sign":"塞地符号","livre tournois sign":"里弗弗尔符号","spesmilo sign":"spesmilo符号","tenge sign":"坚戈符号","indian rupee sign":"印度卢比","turkish lira sign":"土耳其里拉","nordic mark sign":"北欧马克","manat sign":"马纳特符号","ruble sign":"卢布符号","yen character":"日元字样","yuan character":"人民币元字样","yuan character, in hong kong and taiwan":"元字样（港台地区）","yen/yuan character variant one":"元字样（大写）","Loading emoticons...":"加载表情符号...","Could not load emoticons":"不能加载表情符号",People:"人类","Animals and Nature":"动物和自然","Food and Drink":"食物和饮品",Activity:"活动","Travel and Places":"旅游和地点",Objects:"物件",Flags:"旗帜",Characters:"字符","Characters (no spaces)":"字符(无空格)","{0} characters":"{0} 个字符","Error: Form submit field collision.":"错误: 表单提交字段冲突。","Error: No form element found.":"错误: 没有表单控件。",Update:"更新","Color swatch":"颜色样本",Turquoise:"青绿色",Green:"绿色",Blue:"蓝色",Purple:"紫色","Navy Blue":"海军蓝","Dark Turquoise":"深蓝绿色","Dark Green":"深绿色","Medium Blue":"中蓝色","Medium Purple":"中紫色","Midnight Blue":"深蓝色",Yellow:"黄色",Orange:"橙色",Red:"红色","Light Gray":"浅灰色",Gray:"灰色","Dark Yellow":"暗黄色","Dark Orange":"深橙色","Dark Red":"深红色","Medium Gray":"中灰色","Dark Gray":"深灰色","Light Green":"浅绿色","Light Yellow":"浅黄色","Light Red":"浅红色","Light Purple":"浅紫色","Light Blue":"浅蓝色","Dark Purple":"深紫色","Dark Blue":"深蓝色",Black:"黑色",White:"白色","Switch to or from fullscreen mode":"切换全屏模式","Open help dialog":"打开帮助对话框",history:"历史",styles:"样式",formatting:"格式化",alignment:"对齐",indentation:"缩进","permanent pen":"记号笔",comments:"备注","Format Painter":"格式刷","Insert/edit iframe":"插入/编辑框架",Capitalization:"大写",lowercase:"小写",UPPERCASE:"大写","Title Case":"首字母大写","Permanent Pen Properties":"永久笔属性","Permanent pen properties...":"永久笔属性...",Font:"字体",Size:"字号","More...":"更多...","Spellcheck Language":"拼写检查语言","Select...":"选择...",Preferences:"首选项",Yes:"是",No:"否","Keyboard Navigation":"键盘指引",Version:"版本",Anchor:"锚点","Special character":"特殊符号","Code sample":"代码示例",Color:"颜色",Emoticons:"表情","Document properties":"文档属性",Image:"图片","Insert link":"插入链接",Target:"打开方式",Link:"链接",Poster:"封面",Media:"媒体",Print:"打印",Prev:"上一个","Find and replace":"查找和替换","Whole words":"全字匹配",Spellcheck:"拼写检查",Caption:"标题","Insert template":"插入模板"});export{Sq as default};
